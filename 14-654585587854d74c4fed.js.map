{"version":3,"sources":["webpack:///./node_modules/core-js/internals/use-symbol-as-uid.js","webpack:///./node_modules/core-js/internals/native-promise-constructor.js","webpack:///./node_modules/grid-engine/dist/GridEngine.esm.min.js","webpack:///./node_modules/react-redux/node_modules/react-is/index.js","webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./node_modules/core-js/internals/object-keys.js","webpack:///./node_modules/core-js/internals/is-array.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/react-xarrows/lib/index.js","webpack:///./node_modules/core-js/internals/new-promise-capability.js","webpack:///./node_modules/core-js/internals/function-bind-context.js","webpack:///./node_modules/@mdi/react/Icon.js","webpack:///./node_modules/react-redux/node_modules/react-is/cjs/react-is.production.min.js","webpack:///./node_modules/core-js/internals/html.js","webpack:///./src/game/helpers/creditsSceneContent.ts","webpack:///./node_modules/core-js/internals/object-define-properties.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./node_modules/core-js/internals/add-to-unscopables.js","webpack:///./node_modules/core-js/internals/species-constructor.js","webpack:///./node_modules/core-js/internals/native-symbol.js","webpack:///./node_modules/classnames/index.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/phaser-animated-tiles-phaser3.5/src/plugin/main.js","webpack:///./node_modules/core-js/modules/es.array.flat-map.js","webpack:///(webpack)/buildin/module.js","webpack:///./node_modules/core-js/internals/array-species-create.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/core-js/modules/es.array.unscopables.flat-map.js","webpack:///./node_modules/core-js/internals/object-create.js","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/react-simple-typewriter/dist/index.js","webpack:///./src/game/types/cmsContent.ts","webpack:///./src/game/constants.ts","webpack:///./node_modules/immer/dist/immer.esm.js","webpack:///./node_modules/reselect/es/index.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack:///./node_modules/redux/es/redux.js","webpack:///./node_modules/@reduxjs/toolkit/node_modules/redux-thunk/es/index.js","webpack:///./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js","webpack:///./src/game/redux/overlaySlice.ts","webpack:///./node_modules/react-redux/es/components/Context.js","webpack:///./node_modules/react-redux/es/utils/batch.js","webpack:///./node_modules/react-redux/es/utils/Subscription.js","webpack:///./node_modules/react-redux/es/utils/useIsomorphicLayoutEffect.js","webpack:///./node_modules/react-redux/es/components/Provider.js","webpack:///./node_modules/react-redux/es/hooks/useReduxContext.js","webpack:///./node_modules/react-redux/es/hooks/useStore.js","webpack:///./node_modules/react-redux/es/hooks/useDispatch.js","webpack:///./node_modules/react-redux/es/hooks/useSelector.js","webpack:///./node_modules/react-redux/es/index.js","webpack:///./src/game/types/overlayContent.ts","webpack:///./src/game/helpers/combineCss.ts","webpack:///./src/game/redux/gameCmsSlice.ts","webpack:///./src/game/helpers/customHooks.tsx","webpack:///./src/game/GameOverlay/Diploma.tsx","webpack:///./src/game/GameOverlay/inventory/InventoryItemDisplay.tsx","webpack:///./src/game/GameOverlay/inventory/InventoryItemTooltip.tsx","webpack:///./src/game/GameOverlay/inventory/InventoryItem.tsx","webpack:///./src/game/helpers/solutions.ts","webpack:///./src/game/GameOverlay/inventory/helpers.ts","webpack:///./src/game/types/levelTwo.ts","webpack:///./src/game/GameOverlay/inventory/Inventory.tsx","webpack:///./src/game/GameOverlay/quests/ActiveQuestItem.tsx","webpack:///./src/game/GameOverlay/quests/QuestLogList.tsx","webpack:///./src/game/GameOverlay/quests/QuestLog.tsx","webpack:///./src/game/GameOverlay/quests/filterQuests.ts","webpack:///./src/game/GameOverlay/SimpleText.tsx","webpack:///./src/game/GameOverlay/talentTree/TalentNode.tsx","webpack:///./src/game/GameOverlay/talentTree/TechTalentTree.tsx","webpack:///./src/game/helpers/constructTechTree.ts","webpack:///./src/game/GameOverlay/contentMapping.tsx","webpack:///./node_modules/uuid/dist/esm-browser/rng.js","webpack:///./src/game/helpers/fireColor.ts","webpack:///./src/game/helpers/getAssetSource.ts","webpack:///./src/game/assetDefinitions/sprites.ts","webpack:///./src/game/types/SceneConfig.ts","webpack:///./src/game/scenes/CharacterSelectScene.ts","webpack:///./src/game/scenes/CreditsScene.ts","webpack:///./src/game/helpers/gameDimensions.ts","webpack:///./src/game/dialog/plugin.ts","webpack:///./node_modules/uuid/dist/esm-browser/regex.js","webpack:///./node_modules/uuid/dist/esm-browser/stringify.js","webpack:///./node_modules/uuid/dist/esm-browser/validate.js","webpack:///./node_modules/uuid/dist/esm-browser/v4.js","webpack:///./src/game/types/levelThree.ts","webpack:///./src/game/cast/levelFour.ts","webpack:///./src/game/redux/levelThreeSlice.ts","webpack:///./src/game/redux/store.ts","webpack:///./src/game/helpers/createAnimation.ts","webpack:///./src/game/helpers/generateJavascriptFramework.ts","webpack:///./src/game/assetDefinitions/tiles.ts","webpack:///./src/game/helpers/localStorage.ts","webpack:///./node_modules/sweetalert2/src/utils/utils.js","webpack:///./node_modules/sweetalert2/src/utils/params.js","webpack:///./node_modules/sweetalert2/src/utils/classes.js","webpack:///./node_modules/sweetalert2/src/utils/dom/getters.js","webpack:///./node_modules/sweetalert2/src/utils/dom/domUtils.js","webpack:///./node_modules/sweetalert2/src/utils/isNodeEnv.js","webpack:///./node_modules/sweetalert2/src/globalState.js","webpack:///./node_modules/sweetalert2/src/constants.js","webpack:///./node_modules/sweetalert2/src/utils/dom/init.js","webpack:///./node_modules/sweetalert2/src/utils/dom/parseHtmlToContainer.js","webpack:///./node_modules/sweetalert2/src/utils/dom/animationEndEvent.js","webpack:///./node_modules/sweetalert2/src/utils/dom/renderers/renderActions.js","webpack:///./node_modules/sweetalert2/src/utils/dom/renderers/renderContainer.js","webpack:///./node_modules/sweetalert2/src/privateProps.js","webpack:///./node_modules/sweetalert2/src/utils/dom/renderers/renderInput.js","webpack:///./node_modules/sweetalert2/src/utils/dom/renderers/renderContent.js","webpack:///./node_modules/sweetalert2/src/utils/dom/renderers/renderIcon.js","webpack:///./node_modules/sweetalert2/src/utils/dom/renderers/renderProgressSteps.js","webpack:///./node_modules/sweetalert2/src/utils/dom/renderers/renderPopup.js","webpack:///./node_modules/sweetalert2/src/utils/dom/renderers/render.js","webpack:///./node_modules/sweetalert2/src/utils/dom/renderers/renderImage.js","webpack:///./node_modules/sweetalert2/src/utils/dom/renderers/renderTitle.js","webpack:///./node_modules/sweetalert2/src/utils/dom/renderers/renderCloseButton.js","webpack:///./node_modules/sweetalert2/src/utils/dom/renderers/renderFooter.js","webpack:///./node_modules/sweetalert2/src/utils/DismissReason.js","webpack:///./node_modules/sweetalert2/src/utils/aria.js","webpack:///./node_modules/sweetalert2/src/utils/getTemplateParams.js","webpack:///./node_modules/sweetalert2/src/utils/defaultInputValidators.js","webpack:///./node_modules/sweetalert2/src/utils/setParameters.js","webpack:///./node_modules/sweetalert2/src/utils/Timer.js","webpack:///./node_modules/sweetalert2/src/utils/scrollbarFix.js","webpack:///./node_modules/sweetalert2/src/utils/dom/measureScrollbar.js","webpack:///./node_modules/sweetalert2/src/utils/iosFix.js","webpack:///./node_modules/sweetalert2/src/utils/openPopup.js","webpack:///./node_modules/sweetalert2/src/staticMethods/showLoading.js","webpack:///./node_modules/sweetalert2/src/utils/dom/inputUtils.js","webpack:///./node_modules/sweetalert2/src/instanceMethods/hideLoading.js","webpack:///./node_modules/sweetalert2/src/instanceMethods/getInput.js","webpack:///./node_modules/sweetalert2/src/privateMethods.js","webpack:///./node_modules/sweetalert2/src/staticMethods/dom.js","webpack:///./node_modules/sweetalert2/src/keydown-handler.js","webpack:///./node_modules/sweetalert2/src/instanceMethods/close.js","webpack:///./node_modules/sweetalert2/src/instanceMethods/enable-disable-elements.js","webpack:///./node_modules/sweetalert2/src/instanceMethods/validation-message.js","webpack:///./node_modules/sweetalert2/src/instanceMethods/progress-steps.js","webpack:///./node_modules/sweetalert2/src/instanceMethods/update.js","webpack:///./node_modules/sweetalert2/src/instanceMethods/_destroy.js","webpack:///./node_modules/sweetalert2/src/buttons-handlers.js","webpack:///./node_modules/sweetalert2/src/popup-click-handler.js","webpack:///./node_modules/sweetalert2/src/staticMethods/argsToParams.js","webpack:///./node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","webpack:///./node_modules/@babel/runtime/helpers/esm/construct.js","webpack:///./node_modules/sweetalert2/src/staticMethods/fire.js","webpack:///./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/get.js","webpack:///./node_modules/@babel/runtime/helpers/esm/superPropBase.js","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack:///./node_modules/sweetalert2/src/staticMethods/mixin.js","webpack:///./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack:///./node_modules/sweetalert2/src/staticMethods/timer.js","webpack:///./node_modules/sweetalert2/src/staticMethods/bindClickHandler.js","webpack:///./node_modules/sweetalert2/src/SweetAlert.js","webpack:///./node_modules/sweetalert2/src/sweetalert2.js","webpack:///./src/game/types/interactions.ts","webpack:///./src/game/helpers/sweetAlerts.ts","webpack:///./src/game/scenes/LevelFour.ts","webpack:///./src/game/ui/events.ts","webpack:///./src/game/scenes/LevelScene.ts","webpack:///./src/game/cast/levelOne.ts","webpack:///./src/game/scenes/LevelOne.ts","webpack:///./src/game/cast/levelThree.ts","webpack:///./src/game/scenes/LevelThree.ts","webpack:///./src/game/cast/levelTwo.ts","webpack:///./src/game/helpers/time.ts","webpack:///./src/game/scenes/LevelTwo.ts","webpack:///./src/game/helpers/randomEnum.ts","webpack:///./src/game/assetDefinitions/images.ts","webpack:///./src/game/characterSelect/characterSelector.ts","webpack:///./src/game/ui/eventEmitter.ts","webpack:///./src/game/scenes/LoadingScene.ts","webpack:///./src/game/mcDialog/config.ts","webpack:///./src/game/mcDialog/plugin.ts","webpack:///./src/game/PhaserTooltip/phaserTooltip.js","webpack:///./src/game/ui/hud/config.ts","webpack:///./src/game/ui/hud/shared/config.ts","webpack:///./src/game/ui/hud/basicText/config.ts","webpack:///./src/game/helpers/mergeWithDefault.ts","webpack:///./src/game/ui/hud/basicText/basicTextUi.ts","webpack:///./src/game/ui/hud/battleText/config.ts","webpack:///./src/game/ui/hud/battleText/BattleTextUI.ts","webpack:///./src/game/ui/hud/healthBar/config.ts","webpack:///./src/game/ui/hud/healthBar/HealthBar.ts","webpack:///./src/game/types/callback.ts","webpack:///./src/game/ui/hud/unlockedFeatures/config.ts","webpack:///./src/game/ui/hud/unlockedFeatures/UnlockedFeatures.ts","webpack:///./src/game/ui/hud/hud.ts","webpack:///./src/game/scenes/UIScene.ts","webpack:///./src/game/config.ts","webpack:///./src/game/GameContext.tsx","webpack:///./src/helpers/useWindowSize.ts","webpack:///./src/game/GameOverlay/GameOverlayComponent.tsx","webpack:///./src/game/GameComponent.tsx","webpack:///./src/game/GameApp.tsx","webpack:///./node_modules/core-js/internals/flatten-into-array.js","webpack:///./node_modules/core-js/modules/es.promise.finally.js","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/core-js/internals/well-known-symbol.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./node_modules/lodash.clonedeep/index.js","webpack:///./node_modules/core-js/internals/promise-resolve.js"],"names":["NATIVE_SYMBOL","module","exports","Symbol","sham","iterator","global","Promise","_createForOfIteratorHelper","o","allowArrayLike","it","Array","isArray","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","from","test","_unsupportedIterableToArray","length","i","F","s","done","value","e","_e2","f","TypeError","err","normalCompletion","didErr","step","next","_e3","return","arr","len","arr2","t","or","create","It","defineProperty","nr","defineProperties","sr","getOwnPropertyDescriptor","ar","getOwnPropertyDescriptors","hr","getOwnPropertyNames","te","getOwnPropertySymbols","pr","getPrototypeOf","re","hasOwnProperty","lr","propertyIsEnumerable","ee","enumerable","configurable","writable","L","_step","_iterator","$","Se","Mr","ct","ie","oe","ne","se","ae","he","pe","le","ce","pt","At","ue","me","fe","_z","de","ge","ve","ye","xe","be","Te","Pe","lt","self","this","r","__esModule","define","setPrototypeOf","__proto__","String","assign","arguments","h","indexOf","l","a","Reflect","decorate","m","metadata","d","c","S","v","throw","then","apply","label","sent","trys","ops","pop","push","get","error","concat","asyncIterator","u","R","M","V","resolve","shift","raw","default","has","set","x","key","config","ht","DONT_BLOCK","BLOCK_TWO_TILES","BLOCK_ONE_TILE_AHEAD","BLOCK_ONE_TILE_BEHIND","b","lift","fr","_Ce$default","_step2","_iterator2","_loop","ur","mr","A","__extends","_e","__assign","__rest","__decorate","__param","__metadata","__awaiter","ut","__generator","G","__exportStar","__createBinding","__values","D","__read","E","__spread","__spreadArrays","__spreadArray","mt","__await","Oe","__asyncGenerator","De","__asyncDelegator","__asyncValues","ft","__makeTemplateObject","__importStar","__importDefault","__classPrivateFieldGet","__classPrivateFieldSet","dt","gt","Error","stack","vt","message","map","join","errors","tt","splice","Y","initialTeardown","closed","_parentage","_teardowns","unsubscribe","remove","Ee","add","_hasParent","_addParent","includes","_removeParent","EMPTY","kt","yt","w","X","setTimeout","_setTimeout","delegate","clearTimeout","_clearTimeout","_x","xt","W","we","Nt","kind","U","K","errorThrown","Me","et","isStopped","destination","dr","Ut","Wt","Re","_next","Le","_error","complete","_complete","bind","Gt","Fe","q","observable","bt","Ie","reduce","y","_subscribe","source","operator","subscribe","gr","vr","_trySubscribe","forEach","Ae","pipe","toPromise","Tt","Pt","St","Ct","_t","Ot","getReader","read","releaseLock","Dt","C","xr","br","Tr","ke","Pr","Sr","Cr","catch","P","onFinalize","Ge","We","schedule","Ne","Ue","_","Et","wt","Lt","ze","Be","je","He","Ve","$e","Ye","B","Bt","Xe","_r","Ke","qe","Ze","g","observers","hasError","thrownError","Qe","_throwIfClosed","_checkFinalizedStatuses","_innerSubscribe","asObservable","Je","Z","tr","H","p","Math","abs","sqrt","I","NONE","LEFT","UP_LEFT","UP","UP_RIGHT","RIGHT","DOWN_RIGHT","DOWN","DOWN_LEFT","jt","k","_up$down$left$right$n","ZERO","j","FOUR","EIGHT","Q","STOP","CLOSEST_REACHABLE","RETRY","T","vec2str","max","clone","multiply","Vt","manhattanDistance","equal","subtract","$t","chebyshevDistance","rt","zt","shortestPathBfs","path","returnPath","previous","closestToTarget","position","layer","Map","Set","distance","node","dist","pos2Str","_s$shift","shortestDistance","_step3","_iterator3","reverse","Rt","backoffMs","maxRetries","onFinished","retries","elapsed","shouldRetry","WAIT","Yt","SUCCESS","NO_PATH_FOUND_MAX_RETRIES_EXCEEDED","PATH_BLOCKED_MAX_RETRIES_EXCEEDED","PATH_BLOCKED","NO_PATH_FOUND","PATH_BLOCKED_WAIT_TIMEOUT","MOVEMENT_TERMINATED","ot","_this","undefined","character","tilemap","targetPos","posOnPath","stopped","getNeighbours","distanceUtils","neighbours","filter","isBlocking","getTransition","isInRange","collidesWithTiles","getCollisionGroups","hasBlockingChar","noPathFoundStrategy","pathBlockedStrategy","noPathFoundRetryable","noPathFoundRetryBackoffMs","noPathFoundMaxRetries","stop","pathBlockedRetryable","pathBlockedRetryBackoffMs","pathBlockedMaxRetries","pathBlockedWaitTimeoutMs","finished$","setCharacter","_this2","reset","pathBlockedWaitElapsed","calcShortestPath","autoMovementSet","_this3","noPathFound","retry","updatePosOnPath","nextTileOnPath","getNextTilePos","applyPathBlockedStrategy","hasArrived","existsDistToTarget","turnTowardsTarget","moveCharOnPath","getMaxRetries","_this4","getDir","move","shortestPath","getTilePos","result","description","resultToReason","turnTowards","distOffset","getShortestPath","_t$getShortestPath","direction","Xt","_this5","gridTilemap","charToFollow","numberOfDirections","updateTarget","positionChangeStarted","_ref","enterTile","enterLayer","targetMovement","update","nt","st","J","_this$directionToFram","sprite","walkingAnimationMapping","characterIndex","lastFootLeft","directionToFrameRow","_isEnabled","setStandingFrameDuringWalk","setWalkingFrame","_setStandingFrame","isCurrentFrameStanding","framesOfDirection","setFrame","rightFoot","leftFoot","standing","Number","frame","getFramesForAnimationMapping","getFramesForCharIndex","fallbackDirection","texture","width","FRAMES_CHAR_ROW","floor","FRAMES_CHAR_COL","at","padStart","pow","Kt","tint","alpha","scale","active","alphaBottomLeft","alphaBottomRight","alphaTopLeft","alphaTopRight","angle","qt","id","movementDirection","tileSizePixelsWalked","_nextTilePos","_tilePos","movementStarted$","movementStopped$","directionChanged$","positionChangeStarted$","positionChangeFinished$","tilePositionSet$","autoMovementSet$","lastMovementImpulse","facingDirection","container","speed","collidesWithTilesInternal","customOffset","offsetX","offsetY","charLayer","layerOverlaySprite","collisionGroups","initLayerOverlaySprite","_setSprite","movement","animation","setCharacterIndex","setWalkingAnimationMapping","isMoving","nextTilePos","fire","tilePos","setPosition","tilePosToPixelPos","getOffset","updateZindex","isBlockingDirection","setStandingFrame","startMoving","updateCharacterPosition","copyOverImportantProperties","tilePosInDirection","hasBlockingTile","_up$down$left$right$n2","rr","delete","clear","setOrigin","setIsEnabled","getTileWidth","displayWidth","displayHeight","getTileHeight","getSpeedPerDelta","getDistToNextTile","moveCharacterSprite","shouldContinueMoving","getProportionWalked","stopMoving","getTileDistance","scalarMult","copyOver","setDepth","gameObject","getDepthOfCharLayer","getTransitionLayer","getPaddedPixelDepth","shiftPad","updateTilePos","toMapDirection","divide","isNaN","speedPixelsPerSecond","getPosition","updateCharacterFrame","hasWalkedHalfATile","modulo","_ref2","_ref3","exitTile","exitLayer","setCrop","height","Zt","tilePosToCharacters","positionChangeStartedSubs","tilePosSetSubs","positionChangeFinishedSubs","posToString","size","some","addPositionChangeSub","addPositionChangeFinishedSub","addTilePosSetSub","getId","_this6","tilePositionSet","_this7","characterCollisionStrategy","_this8","positionChangeFinished","Qt","N","O","characters","charBlockCache","charLayerDepths","transitions","setLayerDepths","setTilePosition","getLowestCharLayer","addCharacter","removeCharacter","values","hasNoTile","_this9","getCollisionRelevantLayers","isLayerBlockingAt","_ref4","_ref5","_this10","hasTileAt","isCharBlockingAt","layers","tilemapLayer","tileWidth","tileHeight","isIsometric","getTileSize","_left$upLeft$up$upR","er","orientation","Phaser","Tilemaps","Orientation","ISOMETRIC","ONE_WAY_COLLIDE_PROP_PREFIX","getTileAt","Boolean","properties","collisionTilePropertyName","_this11","index","_ref6","isCharLayer","_ref7","_this12","getCharLayerIndexes","findIndex","getLayerProp","CHAR_LAYER_PROP_NAME","prevIndex","charLayerIndex","_this$findPrevAndChar","findPrevAndCharLayer","_this13","find","hasLayerProp","ALWAYS_TOP_PROP_NAME","_this14","isLayerAlwaysOnTop","HEIGHT_SHIFT_PROP_NAME","createHeightShiftLayers","destroy","copyLayer","Z_INDEX_PADDING","createBlankLayer","tileset","putTileAt","data","Mt","random","Jt","_this15","delay","radius","delayLeft","initialRow","initialCol","randomizeStepSize","stepsWalked","currentMovementDirection","shouldContinueWalkingCurrentDirection","getFreeRandomDirection","stepSize","isWithinRadius","_this16","getDirections","getDist","getFreeDirections","getRandomInt","ir","REMOVED","ADDED","Ft","scene","isCreated","sys","events","once","boot","on","gridCharacters","charRemoved$","charAdded$","initGuard","unknownCharGuard","setTransition","setConfigDefaults","addCharacters","moveChar","setMovement","assembleMoveToConfig","targetLayer","finishedObs","charId","setSpeed","_step4","_iterator4","_step4$value","_this17","layerOverlay","collides","createCharacter","startPosition","movementStopped","takeUntilCharRemoved","movementStarted","directionChanged","_step5","_iterator5","keys","getFacingDirection","getFacingPosition","getSprite","setSprite","setCollisionGroups","action","Ht","_this18","console","warn","_classCallCheck","instance","Constructor","internalObjectKeys","enumBugKeys","classof","arg","subClass","superClass","factory","__WEBPACK_EXTERNAL_MODULE_react__","__WEBPACK_EXTERNAL_MODULE_lodash__","__WEBPACK_EXTERNAL_MODULE_prop_types__","__webpack_modules__","__unused_webpack_module","__webpack_exports__","__webpack_require__","_bzFunction","p1","p2","p3","p4","_buzzierMinSols","bz","k2","__setModuleDefault","mod","to","il","react_1","useXarrowProps_1","Xwrapper_1","propTypes_1","GetPosition_1","Xarrow","log","props","_a","mainRef","useRef","svgRef","lineRef","headRef","tailRef","lineDrawAnimRef","lineDashAnimRef","headOpacityAnimRef","_b","current","useContext","XarrowContext","xProps","propsRefs","labels","lineColor","headColor","tailColor","strokeWidth","showHead","showTail","dashness","headShape","tailShape","showXarrow","animateDrawing","zIndex","passProps","arrowBodyProps","arrowHeadProps","arrowTailProps","SVGcanvasProps","divContainerProps","divContainerStyle","SVGcanvasStyle","_debug","shouldUpdatePosition","_c","useState","drawAnimEnded","setDrawAnimEnded","setRender","forceRerender","cx0","cy0","cw","ch","x1","y1","x2","y2","dx","dy","absDx","absDy","cpx1","cpy1","cpx2","cpy2","headOrient","tailOrient","arrowHeadOffset","arrowTailOffset","headOffset","excRight","excLeft","excUp","excDown","startPoints","endPoints","mainDivPos","xSign","ySign","lineLength","fHeadSize","fTailSize","arrowPath","labelStartPos","labelMiddlePos","labelEndPos","setSt","useLayoutEffect","pos","xOffsetHead","yOffsetHead","xOffsetTail","yOffsetTail","dashoffset","strokeLen","nonStrokeLen","animDirection","dashArray","animRepeatCount","animStartValue","animEndValue","prevSt","getTotalLength","useEffect","cleanMonitorDOMchanges","window","addEventListener","handleDrawAmimEnd","beginElement","handleDrawAmimBegin","style","opacity","removeEventListener","monitorDOMchanges","createElement","Fragment","ref","left","top","pointerEvents","border","overflow","stroke","strokeDasharray","fill","attributeName","dur","repeatCount","transform","svgElem","begin","cx","cy","start","middle","display","end","background","borderRadius","propTypes","nmd","calcAnchors","anchors","anchorPos","anchor","right","bottom","offset","prop_types_1","constants_1","pAnchorPositionType","oneOf","cAnchorEdge","pAnchorCustomPositionType","exact","isRequired","number","_pAnchorType","oneOfType","pAnchorType","arrayOf","pRefType","string","any","_pLabelType","element","pLabelsType","pSvgEdgeShapeType","arrowShapes","pSvgElemType","pSvgEdgeType","offsetForward","XarrowPropTypes","startAnchor","endAnchor","color","bool","headSize","tailSize","cPaths","curveness","gridBreak","object","_extendSVGcanvas","_cpx1Offset","_cpy1Offset","_cpx2Offset","_cpy2Offset","utils_1","lodash_1","parseAnchor","anchorChoice2","anchorChoice","an","autosAncs","flatMap","anchorObj","anchorName","anchorChoiceCustom","parseEdgeShape","svgEdge","cArrowShapes","withUpdate","propVal","updateRef","noParse","userProp","noParseWithUpdatePos","updatePos","parseNumWithUpdatePos","parsePropsFuncs","getElementByPropGiven","parsedLabel","isValidElement","parseLabels","resGridBreak","xStr2absRelative","relative","parseGridBreak","animDashSpeed","dashStroke","dashNone","parseDashness","propsDeps","propName","_i","defaultProps","initialParsedProps","propsRef","entries","name_1","val","parseGivenProps","initialValVars","startPos","endPos","useDeepCompareMemoize","isEqual","useDeepCompareEffect","callback","dependencies","userProps","refs","setPropsRefs","curProps","_loop_1","valVars","setValVars","getElemPos","anchors_1","index_1","buzzier_1","_d","_f","getShortestLine","chosenStart","chosenEnd","startAnchorPosition","endAnchorPosition","startPoint","pick","endPoint","getSvgPos","min","_g","tailOffset","xHeadOffset","yHeadOffset","xTailOffset","yTailOffset","_headOffset","_tailOffset","cu","_calc","headAngel","atan","cos","sin","PI","tailAngel","curvesPossibilities","hh","vv","hv","vh","selectedCurviness","replace","_h","buzzierMinSols","xSol1","xSol2","_j","ySol1","ySol2","bzx","bzFunction","bzy","factorDpathStr","document","getElementById","factor","split","str","sp","absLen","percentLen","parseFloat","sPoints","ePoints","closestPair","minDist","Infinity","ep","elem","getBoundingClientRect","xarrowElemX","xarrowElemY","xarrowStyle","getComputedStyle","XelemContext","createContext","updateRefCount","XelemProvider","children","instanceCount","Provider","updateXarrow","cSvgElems","arrow1","heart","circle","useXarrow","Xwrapper","Xarrow_1","useXarrow_1","__webpack_module_cache__","moduleId","cachedModule","loaded","definition","obj","prop","toStringTag","paths","aFunction","PromiseCapability","reject","promise","$$resolve","$$reject","fn","that","_l","forwardRef","title","horizontal","vertical","rotate","spin","z","Children","inStack","cloneElement","viewBox","role","displayName","className","_u","transformOrigin","for","$$typeof","type","ContextConsumer","ContextProvider","Element","ForwardRef","Lazy","Memo","Portal","Profiler","StrictMode","Suspense","isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isElement","isForwardRef","isFragment","isLazy","isMemo","isPortal","isProfiler","isStrictMode","isSuspense","isValidElementType","typeOf","getBuiltIn","introMessage","guideCredits","link","assetCredits","DESCRIPTORS","definePropertyModule","anObject","objectKeys","Properties","_getPrototypeOf","_slicedToArray","_arr","_n","_s","unsupportedIterableToArray","__webpack_amd_options__","wellKnownSymbol","UNSCOPABLES","ArrayPrototype","SPECIES","defaultConstructor","fails","hasOwn","classNames","classes","argType","inner","_defineProperties","target","descriptor","protoProps","staticProps","_createClass","_assertThisInitialized","_inherits","_possibleConstructorReturn","_createSuper","Derived","hasNativeReflectConstruct","construct","Proxy","Date","_isNativeReflectConstruct","Super","NewTarget","AnimatedTiles","_Phaser$Plugins$Scene","_super","pluginManager","animatedTiles","rate","activeLayer","followTimeScale","settings","isBooted","eventEmitter","systems","postUpdate","shutdown","getAnimatedTiles","gid","loopThrough","animatedTile","mapIndex","mapAnimData","tileAnimData","layerIndex","scope","updateLayer","tiles","time","delta","globalElapsedTime","timeScale","elapsedTime","currentIndex","currentFrame","oldTileId","frames","tileid","newIndex","duration","tilesToRemove","tileId","tile","tilesets","tileData","parseInt","animatedTileData","firstgid","frameData","tileRow","chkX","_y","chkY","Plugins","ScenePlugin","register","PluginManager","flattenIntoArray","toObject","toLength","arraySpeciesCreate","proto","callbackfn","sourceLen","webpackPolyfill","deprecate","isObject","originalArray","_typeof","assertThisInitialized","addToUnscopables","activeXDocument","hiddenKeys","html","documentCreateElement","sharedKey","IE_PROTO","EmptyConstructor","scriptTag","content","LT","NullProtoObject","domain","ActiveXObject","iframeDocument","iframe","write","close","temp","parentWindow","NullProtoObjectViaActiveX","appendChild","src","contentWindow","open","_o","insertAt","head","getElementsByTagName","firstChild","insertBefore","styleSheet","cssText","createTextNode","cursorStyle","jsx","mainSpeed","payload","text","substring","words","loop","typeSpeed","deleteSpeed","delaySpeed","onLoopDone","onType","useReducer","useCallback","count","Cursor","Typewriter","cursor","jsxs","useTypewriter","GameCmsContent","aboutContent","technologyContent","technologyTree","experiencesContent","featuredContent","otherContent","INVENTORY_PHASER_EVENT_KEY","toLocaleLowerCase","QUESTS_PHASER_EVENT_KEY","TALENTS_PHASER_EVENT_KEY","PLUGIN_KEYS","DEFAULT_PORTAL_TEXT","Function","nn","rn","freeze","isFrozen","tn","en","revocable","revoke","proxy","ownKeys","deleteProperty","produce","produceWithPatches","useProxies","setUseProxies","autoFreeze","setAutoFreeze","createDraft","finishDraft","applyPatches","op","enumerableOnly","symbols","sym","_objectSpread2","formatProdErrorMessage","code","$$observable","randomString","ActionTypes","INIT","REPLACE","PROBE_UNKNOWN_ACTION","isPlainObject","reducer","preloadedState","enhancer","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","getState","listener","isSubscribed","dispatch","listeners","replaceReducer","nextReducer","outerSubscribe","observer","observeState","combineReducers","reducers","reducerKeys","finalReducers","shapeAssertionError","finalReducerKeys","assertReducerShape","state","hasChanged","nextState","_key","previousStateForKey","nextStateForKey","compose","_len","funcs","applyMiddleware","middlewares","createStore","store","_dispatch","middlewareAPI","chain","middleware","createThunkMiddleware","extraArgument","withExtraArgument","_extendStatics","__","__defProp","__getOwnPropSymbols","__hasOwnProp","__propIsEnum","__defNormalProp","__spreadValues","composeWithDevTools","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","__REDUX_DEVTOOLS_EXTENSION__","baseProto","MiddlewareArray","args","species","prepend","curryGetDefaultMiddleware","options","thunk","middlewareArray","immutableCheck","serializableCheck","getDefaultMiddleware","createAction","prepareAction","actionCreator","prepared","meta","match","executeReducerBuilderCallback","builderCallback","defaultCaseReducer","actionsMap","actionMatchers","builder","addCase","typeOrActionCreator","addMatcher","matcher","addDefaultCase","createSlice","_reducer","initialState","reducerNames","sliceCaseReducersByName","sliceCaseReducersByType","actionCreators","buildReducer","extraReducers","finalCaseReducers","mapOrBuilderCallback","getInitialState","finalActionMatchers","finalDefaultCaseReducer","frozenInitialState_1","caseReducers","cr","previousState","caseReducer","draft","createReducer","reducerName","prepareCallback","maybeReducerWithPrepare","prepare","actions","alm","contentKey","pausedScene","unlockedFeatures","inventory","questLog","talentTree","overlaySlice","overlayOpened","overlayClosed","updateUnlockedFeatures","overlayActions","overlayReducer","selectOverlayState","overlay","overlaySelectors","ReactReduxContext","createListenerCollection","batch","first","last","notify","prev","nullListeners","createSubscription","parentSub","handleChangeWrapper","subscription","onStateChange","trySubscribe","addNestedSub","notifyNestedSubs","tryUnsubscribe","getListeners","useIsomorphicLayoutEffect","context","contextValue","Context","createStoreHook","useReduxContext","createDispatchHook","useStore","useDispatch","refEquality","createSelectorHook","selector","equalityFn","_useReduxContext","selectedState","contextSub","forceRender","latestSubscriptionCallbackError","latestSelector","latestStoreState","latestSelectedState","storeState","newSelectedState","checkForUpdates","newStoreState","_newSelectedState","useSelectorWithStoreAndSubscription","newBatch","OverlayContentKey","combineCss","base","addition","selectedTalentTree","selectedQuestTab","selectedQuest","selectedProject","gameCmsSlice","dataLoaded","cloneDeep","selectedTalentTreeChanged","selectedQuestTabChanged","selectedQuestChanged","selectedProjectChanged","selectGameCmsState","gameCms","selectGameCmsData","gameCmsActions","gameCmsReducer","gameCmsSelectors","useVisibleTimeout","visible","setVisible","timeout","diplomaContent","UF","school","degree","year","UNF","container_cn","visible_container_cn","image_cn","content_cn","school_content_cn","type_content_cn","degree_content_cn","year_content_cn","Diploma","contentIsVisible","useSelector","title_cn","title_container_cn","title_text_cn","title_button_cn","tags_cn","InventoryItemDisplay","project","handleClose","isEpic","onClick","stopPropagation","techTags","children_cn","InventoryItemTooltip","item","hidden","handleMouseOver","handleHide","onMouseOver","onMouseLeave","rare_cn","epic_cn","occupied_cn","InventoryItem","handleClick","event","isSelected","iconColor","iconName","getRandomSolution","solutions","shuffleArray","array","copy","FireColor","FireNumber","inner_container_cn","items_container_cn","Inventory","featuredProjects","otherProjects","inventoryProjects","useMemo","items","titleUrl","url","repositoryUrl","combineProjectArrays","COLUMN_COUNT","handleDeselectProject","detail_cn","item_cn","subtitle_cn","employer_cn","objectives_container_cn","objectives_title_cn","objectives_items_cn","item_divider_cn","rewards_container_cn","rewards_title_cn","empty_cn","ActiveQuestItem","subtitle","employer","startDate","diff","isActive","endDate","getTime","round","calcXp","list_cn","list_item_cn","active_list_item_cn","QuestLogList","activeQuest","selectedExperience","handleSelectQuest","header_cn","header_item_cn","header_item_active_cn","pane_container_cn","HeaderItem","QuestLog","activeTab","filteredQuests","setFilteredQuests","identifiedQuests","quest","quests","tab","filterCallback","filterQuests","handleTabClick","selectorByKey","BIO","SimpleText","currentContentKey","node_cn","active_node_cn","active_selected_cn","inactive_selected_cn","points_cn","TalentNode","selected","points","total","shifted_cn","visible_cn","selector_cn","next_selector_cn","row_cn","info_cn","visible_info_cn","info_header_cn","info_header_title_cn","info_header_points_cn","info_content_cn","TechTalentTree","selectedTreeIndex","selectedNode","setSelectedNode","treeIsVisible","infoIsVisible","setInfoIsVisible","tree","input","parent","assemble","child","constructTechTree","talentTrees","rows","createNodes","rowNum","createRows","handleNextTree","handlePrevTree","handleSelectNode","disabled","mdiArrowLeftThick","mdiArrowRightThick","row","arrowColor","nodeProps","overlayContentMapping","lead","component","SKILLS","unlockedKey","EXPERIENCES","PROJECTS","LevelTwoProgress","_createProgress","completed","getRandomValues","PillarThreeState","_createFire","fires","GREEN","characterId","BLUE","WHITE","PURPLE","ONE","TWO","THREE","getFireColorName","colorName","getTileSource","filename","getTileMapSource","getTileSetSource","getSpriteSource","getImageSource","createPlayerSpriteDefinition","frameWidth","frameHeight","infoKey","playerCharacterOptions","xion","irabel","zaya","orryn","playerCharacterInformation","gregSpriteDefinition","greyCatSpriteDefinition","whiteCatSpriteDefinition","skeletonOneSpriteDefinition","skeletonTwoSpriteDefinition","goblinSpriteDefinition","soldierSpriteDefinition","beetleSpriteDefinition","acidBlobSpriteDefinition","slimeSpriteDefinition","purplePortalSpriteDefinition","fantasyIconsSpriteDefinition","createFireSprite","fireSpriteDefinitions","levelthreeFireColumnDefinition","frameCount","frameRate","levelThreeFireExplosionDefinition","levelThreeFireBarrierDefinition","SceneConfig","uiEmitter","characterSelector","CharacterSelectScene","_options","_selectedIndex","_characterSprite","_characterTitleText","_characterDescriptionText","_characterSelector","_uiEmitter","_setHeaderContainer","_setAvatarContainers","_setButtons","containerWidth","cameras","main","lineHeight","containerHeight","fontFamily","fontSize","screenWidth","boxWidth","graphics","lineStyle","strokeRect","boxHeight","setInteractive","useHandCursor","_handleOptionSelect","_confirmButton","_setCharacterTitle","_setCharacterSprite","_setCharacterDescription","screenHeight","randomButton","_handleRandomClick","_handleConfirmClick","wordWrap","align","spriteKey","setScale","setDisplaySize","_makeCharacterSelection","setPlayerDefinition","Scene","CreditsScene","_showScrollingText","_scrollingPaused","_setScrollingTextContainer","_setIntroText","_setLinks","delayedCall","_startTextScroll","_moveScrollingText","screenDimension","_getScreenDimension","_createCreditsText","_scrollingTextContainer","_introText","_handleRestartGameClick","_handleGoHomeClick","_handleGoToCreditsClick","setY","_handleCreditsHover","hovering","location","reload","href","origin","_getGuideCredits","_getAssetCredits","getGameWidth","game","getGameHeight","getMaxSquareScreenDimension","divisibleBy","DialogPlugin","borderThickness","borderColor","borderAlpha","windowAlpha","windowColor","windowHeight","padding","depth","closeBtnColor","closeBtnFontSize","eventCounter","scaledTextSize","init","setOptions","_createWindow","updateDimensions","toggleWindow","newValue","closeBtn","_onClose","setText","animate","dialog","timedEvent","_setText","addEvent","_animateText","callbackScope","gameSize","_getGameWidth","_getGameHeight","_calculateWindowDimensions","rectWidth","rectHeight","_createInnerWindow","fillStyle","fillRect","_createOuterWindow","_createCloseModalButton","closeButton","make","font","scrollFactor","setColor","_createCloseModalButtonBorder","useAdvancedWrap","gameWidth","gameHeight","setScrollFactor","rnds8","Uint8Array","rng","crypto","msCrypto","uuid","byteToHex","substr","toLowerCase","PotionType","LevelThreeDifficulty","LevelThreeFireType","buf","rnds","levelFourLayers","configure","level","setCollisionByExclusion","physics","world","bounds","collider","player","enemies","food","objectives","invisibleInteractions","ii","rectangle","exitPortal","handleLavaCollision","slime","textureKey","damage","beetle","acidBlob","getLevelFourAnimationMap","walk","repeat","idle","createEnemyId","uuidv4","levelFourEnemies","levelFourFoods","levelFourObjectives","levelFourInvisibleInteractions","handlerKey","levelFourExitPortal","orbs","1","2","3","health","difficulty","EASY","activeFires","COLUMN","EXPLOSION","standingInFire","playerIsDead","lastDamageTimestamp","levelThreeSlice","healthChanged","changeHealth","orbCollected","activeFiresChanged","standingInFireChanged","levelRestarted","enemiesChanged","difficultyChanged","selectLevelThreeState","levelThree","levelThreeActions","levelThreeSelectors","currHealth","changeValue","rootReducer","curriedGetDefaultMiddleware","devTools","enhancers","finalMiddleware","middlewareEnhancer","finalCompose","trace","storeEnhancers","configureStore","storeDispatch","createAnimation","anims","generateFrameNumbers","names","generateJavascriptFrameworks","addToResult","levelOneMapDefinition","animatedLayer","levelTwoMapDefinition","characterLayer","lower","upper","toUpper","levelThreeMapDefinition","levelFourMapDefinition","loadAllSavedData","localStorage","getItem","JSON","parse","setItem","stringify","loadUnlockedFeatures","capitalizeFirstLetter","charAt","toUpperCase","toArray","nodeList","previousWarnOnceMessages","warnAboutDeprecation","deprecatedParam","useInstead","callIfFunction","hasToPromiseFn","asPromise","isPromise","defaultParams","titleText","footer","icon","iconHtml","template","toast","showClass","popup","backdrop","hideClass","customClass","heightAuto","allowOutsideClick","allowEscapeKey","allowEnterKey","stopKeydownPropagation","keydownListenerCapture","showConfirmButton","showDenyButton","showCancelButton","preConfirm","preDeny","confirmButtonText","confirmButtonAriaLabel","confirmButtonColor","denyButtonText","denyButtonAriaLabel","denyButtonColor","cancelButtonText","cancelButtonAriaLabel","cancelButtonColor","buttonsStyling","reverseButtons","focusConfirm","focusDeny","focusCancel","returnFocus","showCloseButton","closeButtonHtml","closeButtonAriaLabel","loaderHtml","showLoaderOnConfirm","showLoaderOnDeny","imageUrl","imageWidth","imageHeight","imageAlt","timer","timerProgressBar","inputPlaceholder","inputLabel","inputValue","inputOptions","inputAutoTrim","inputAttributes","inputValidator","returnInputValueOnDeny","validationMessage","grow","progressSteps","currentProgressStep","progressStepsDistance","willOpen","didOpen","didRender","willClose","didClose","didDestroy","scrollbarPadding","updatableParams","deprecatedParams","toastIncompatibleParams","isValidParameter","paramName","isUpdatableParameter","isDeprecatedParameter","param","params","swalClasses","iconTypes","body","querySelector","elementBySelector","selectorString","elementByClass","image","confirm","deny","loader","cancel","focusableElementsWithTabindex","querySelectorAll","sort","tabindexA","getAttribute","tabindexB","otherFocusableElements","el","uniqueArray","hasClass","shown","isLoading","hasAttribute","states","previousBodyPadding","textContent","parsed","DOMParser","parseFromString","childNodes","classList","contains","addClass","inputType","checkbox","radio","range","focusInput","focus","toggleClass","condition","removeClass","applyNumericalStyle","property","removeProperty","show","hide","setStyle","toggle","offsetWidth","offsetHeight","getClientRects","isScrollable","scrollHeight","clientHeight","hasCssAnimation","animDuration","getPropertyValue","transDuration","transition","isNodeEnv","scrollX","scrollY","restoreFocusTimeout","previousActiveElement","scrollTo","sweetHTML","file","select","textarea","currentInstance","resetValidationMessage","oldContainer","oldContainerExisted","documentElement","rangeOutput","targetElement","setAttribute","rtl","oninput","onchange","nextSibling","youtubeId","navigator","language","host","noWar","paddingTop","HTMLElement","jquery","handleJqueryElem","cloneNode","animationEndEvent","testEl","transEndEventNames","WebkitAnimation","confirmButton","denyButton","cancelButton","renderButton","styled","backgroundColor","handleButtonsStyling","renderButtons","button","buttonType","handleBackdropParam","center","handlePositionParam","growClass","handleGrowParam","awaitingPromise","WeakMap","innerParams","domCache","inputTypes","renderInputType","inputContainer","attr","attributes","attrName","removeAttribute","removeAttributes","setInputPlaceholder","placeholder","prependTo","labelClass","innerText","insertAdjacentElement","inputClass","email","password","tel","rangeInput","checkboxContainer","checked","initialPopupWidth","MutationObserver","textareaWidth","marginLeft","marginRight","observe","attributeFilter","htmlContainer","privateProps","rerender","iconType","popupBackgroundColor","successIconParts","question","warning","info","progressStepsContainer","stepEl","lineEl","modal","DismissReason","esc","swalStringParams","templateContent","innerHTML","getSwalImage","getSwalIcon","option","optionValue","optionName","getSwalStringParams","paramNames","tag","trim","allowedElements","tagName","allowedAttributes","attribute","setParameters","defaultInputValidators","setDefaultInputValidators","validateCustomTargetElement","Timer","remaining","running","started","innerHeight","paddingRight","scrollDiv","scrollbarWidth","clientWidth","removeChild","ua","userAgent","iOS","webkit","paddingBottom","preventTouchMove","ontouchstart","ontouchmove","preventDefault","isStylus","isZoom","touches","touchType","initialBodyOverflow","overflowY","activeElement","swalOpenAnimationFinished","MSStream","platform","maxTouchPoints","iosfix","scrollTop","setProperty","buttonToReplace","parentNode","loading","getCheckboxValue","getRadioValue","getFileValue","files","processInputOptions","populateInputOptions","formatInputOptions","hideLoading","getInput","renderOption","optionLabel","inputOption","optgroup","radioValue","radioLabel","radioInput","radioLabelElement","radios","valueFormatted","getElementsByClassName","swalPromiseResolve","swalPromiseReject","click","removeKeydownHandler","globalState","keydownTarget","keydownHandlerAdded","keydownHandler","capture","increment","focusableElements","arrowKeysNextButton","arrowKeysPreviousButton","dismissWith","isComposing","keyCode","outerHTML","btnIndex","shiftKey","sibling","buttonToFocus","HTMLButtonElement","removePopupAndResetState","triggerDidCloseAndDispose","resolveValue","prepareResolveValue","privateMethods","isAwaitingPromise","isDismissed","rejectPromise","_destroy","isConfirmed","isDenied","animationIsSupported","swalCloseEventFinishedCallback","setButtonsDisabled","buttons","setInputDisabled","enableButtons","disableButtons","enableInput","disableInput","showValidationMessage","inputerror","validUpdatableParams","updatedParams","deferDisposalTimer","unsetWeakMaps","getInputValue","checkValidity","preDenyValue","closePopup","rejectWith","succeedWith","preConfirmValue","onclick","isAnyButtonShown","ignoreOutsideClick","handleModalMousedown","onmousedown","onmouseup","handleContainerMousedown","isJqueryElement","Parent","Class","Swal","receiver","desc","mixin","mixinParams","MixinSwal","priorityMixinParams","getTimerLeft","timerProgressBarWidth","timerProgressBarPercent","increase","isRunning","bodyClickListenerAdded","clickHandlers","bindClickHandler","bodyClickListener","SweetAlert","outerParams","argsToParams","_main","userParams","onFulfilled","onFinally","finally","dismiss","templateParams","getTemplateParams","blurActiveElement","blur","_currentInstance","version","PortalType","default_settings","showAlert","showConfirm","confirmCallback","postCallback","LevelFour","_map","_playerHealth","_invulnerable","_damageOverride","_introMessageOverride","_centerMessageVisible","_completedObjectiveCount","_completedObjectiveOverride","uiEventEmitter","_setMap","_setPlayer","_setExitPortal","_setEnemies","_setFood","_setObjectives","_setInvisibleInteractions","_addMapTilesets","_createMapLayers","_setCursors","_setWasd","_setUIKeybinds","_setCamera","_createAnimations","_initializeHUD","_showIntroText","_handlePlayerMovement","_moveEnemy","_loadUnlockedFeatures","emit","_getObjectiveText","createOverlay","talents","_mapDefinition","tileToWorldXY","getPlayerDefinition","setCollideWorldBounds","setSize","setImmovable","setFlipX","lfe","enable","mapBounds","tileToWorldX","dealDamage","lff","_handleStarModeFoodCollision","_handleHealingFoodCollision","lfo","_handleObjectiveCollision","lfii","_handleInvisibleInteraction","defintion","ts","addTilesetImage","createLayer","definedLayer","_cursors","keyboard","createCursorKeys","_wasd","addKeys","_unlockedFeatures","setBounds","widthInPixels","heightInPixels","startFollow","setZoom","playerDefinitionKey","animationMap","animationKey","isDown","setVelocityX","play","flipX","up","onFloor","setVelocityY","pause","_changeHealth","restoreHealth","newHealth","_handleDeath","setAlpha","restart","_toggleStarMode","_removeFood","_removeObjective","messageText","_enableExitPortal","_handleLadderCollision","newPos","_movePlayer","setX","resume","_handleLevelComplete","fade","LevelScene","dialogDisabled","playerCharacter","facingCharacter","cast","mapDefinition","levelNumber","doors","facingDoor","portals","facingPortal","facingItem","isDev","process","isMovementPaused","speedModifier","setCharacters","_createPlayerCharacter","npcs","_createNpcCharacters","setCamera","setFollowOffset","setRoundPixels","setItems","createdItems","_createItems","setPortals","setDoors","setMap","addedMap","tilesetNames","_setGridEngineMap","setCharacterLayerTransitions","gridEngine","fromLayer","toLayer","useGridPlayerControls","cursors","wasd","startingSpeed","moved","Direction","down","_handleDoorCollision","_handlePortalCollision","setFacing","tileRect","_createTileRectangle","bottomCenterTextValue","Geom","Intersects","RectangleToRectangle","getBounds","friendlyName","addHudBottomCenterText","removeHudBottomCenterText","attachKeyboardListener","handleInteraction","handleUIKeybinds","_handleCharacterInteraction","_handleItemInteraction","handleCloseDialog","createNewDialog","force","resumeMovement","seconds","moveRandomly","pauseMovement","stopMovement","turnCharacterTowardsPlayer","newDir","_createGridEngineCharacters","_createGridEngineItems","startingX","startingY","_getItemId","handler","door","coordinate","inactive","inactiveDialog","inactiveMoveDir","flash","face","portal","SCENE","sleep","run","resetFX","COORDINATE","Rectangle","SCALE","toggleMovement","updateHudUnlockedFeatures","removeItem","coordinates","removeIndex","itemToRemove","setSpeedModifier","amount","resetBackgroundColor","setBackgroundColor","loadLevelSavedData","sceneKey","save","saveLevelData","catInteraction","LevelOne","initialCharacterMovement","greg","khufu","dre","moveTo","RANDOM_MOVEMENT_DELAY","orbMap","primary","all","handleGuideInteraction","handlePotionConsume","MINI_HEALTH","SPEED","HEALTH","handleOrbCollection","handleLevelSkip","levelThreeDifficultySettingsMap","healthPotions","mini","normal","speedMod","speedDuration","enemy","damageMod","critsEnabled","followEnabled","damageModifier","NORMAL","HEROIC","LEGENDARY","NIGHTMARE","levelThreeFireColumnLocations","levelThreeFireExplosionLocations","levelThreeFireBarrierLocations","levelThreeEnemiesDefinition","locations","LevelThree","_justHitByEnemy","_setBackground","_setFireBarriers","_setFireColumns","_setFireExplosions","_setFireCollisionListeners","_initializeEnemyCharacters","_showStarterDialog","_handlePlayerEnemyMovement","taken","_takeHealthPotion","_takeSpeedPotion","removeTileAt","orb","_updateOrbText","_unlockStairs","potionHealthValue","_displayBuff","currentHealth","_displayDebuff","firstStairActive","secondStairActive","updatedDoors","animKey","_createDamagingFireAnimation","animationLengthMs","_onFireAnimationStart","_onFireAnimationRepeat","_createPassiveFireAnimation","animationLength","_isStandingInActiveFire","_dealFireDamage","frameConfig","repeatDelay","_dealDamage","isCrit","currTime","prevTime","steppedOn","_restartLevel","_createEnemyGridEngineCharacters","enemiesDefinition","randomCharacterNumber","enemyIds","enemyPositions","playerPos","enemyPos","_isCharacterAdjacent","isAbove","isBelow","isLeft","isRight","_onConfirmSkip","newDifficulty","currDifficulty","_onDifficultyChangeConfirmed","cameraFade","_showDifficultyText","prevValue","currKey","handleGregInteraction","handleAngelInteraction","showNextFire","pillar","handlePillarThreeInteraction","handlePillarOneInteraction","handlePillarTwoInteraction","handlePillarOneItemInteraction","hint","handleSkipButton","fireStartLocations","pillarTwoSolutions","answer","angelMessages","0","convertSecondsToTimeString","toISOString","LevelTwo","_timerElapsed","_initializeFireState","_createPillarOneSolution","_createPillarTwoSolution","_createPillarThreeSolution","mcDialog","_initializeCharacterMovement","_timerInterval","_addTimerInterval","_handleMcDialogStatus","num","puzzleFireState","_makeFires","_changeActiveFire","newColor","currColor","currPuzzleFire","newPuzzleFire","progress","nextColor","_isPuzzleFireSolved","_completePillar","solution","fire1","fire2","fire3","fire4","anEnum","enumValues","active1","active2","active3","active4","_activatePillar","layerName","list","go","itemName","pillarOneState","isFound","skip","_isLevelComplete","_completeLevel","_getNumCompletedPillars","skipped","_addPillarTrackerHudText","_saveTime","_displayRecord","_activatePortal","numComplete","pillarTwoState","isComplete","_createMultipleChoiceDialog","handlePillarTwoAnswerChoice","_removeMultipleChoiceDialog","setQuestionText","setOptionsText","setOnSelect","newTime","_initializeCurrentRecord","_onSkip","coffeeCupImageDefinition","tunaRollImageDefinition","pizzaPartyImageDefinition","javascriptPixelImageDefinition","CharacterSelector","_selectedPlayerDefinition","_createDefaultCharacter","_defaultPlayerDefinition","getInstance","UIEventEmitter","Events","EventEmitter","spriteDefinitions","tileDefinitions","imageDefinitions","LoadingScene","preload","load","_updateProgress","_removeProgress","_setBaseLoadUrl","_loadSprites","_loadTiles","_loadImages","_showLogoIntro","_startFirstScene","progressBox","progressText","progressBar","baseURL","spritesheet","tilemapTiledJSON","tsKey","tsSource","launch","defaultMcDialogConfig","answerLimit","answerFontSize","McDialogPlugin","optionsText","optionsRect","optionsRectIdLookup","_scaledTextSize","questionText","closeBtnText","setConfig","_toggleVisibility","dialogText","_setQuestionText","_makeOptionsText","_getWindowYPosition","currentRect","textObject","windowDimensions","optionRects","_calculateOptionDimensions","_createOptionWindow","_getOptionWidth","_getOptionHeight","leftOptionX","rightOptionX","rowOneY","rowTwoY","func","PhaserTooltip","sticks","_pointerTotal","tooltipCollection","off","hideTooltip","tweens","isTweening","killTweensOf","tween","targets","ease","onComplete","showTooltip","bringToTop","createTooltip","createLabel","hasBackground","createBackground","rect","centerX","centerY","getTarget","getHeight","getPadding","paddingLeft","textColor","fontStyle","hasShadow","shadowColor","shadowStroke","shadowFill","setShadow","_width","_height","fillRectShape","graphic","showLabel","defaultBasicTextConfig","margin","fontColor","defaultTopTextConfig","defaultCenterTextConfig","paddingX","paddingY","defaultBuffTextConfig","defaultDebuffTextConfig","defaultFeatureTextConfig","getPaddingX","defaultFeatureSpriteConfig","hoverText","defaultHpBarConfig","lowColor","mediumColor","highColor","barHeight","DEFAULT_CONFIG","texts","bottomCenter","topLeft","topCenter","hp","buffs","debuffs","bars","sprites","featured","maxHealth","defaultBasicTextUIConfig","mergeWithDefault","defaultObject","providedObject","BasicTextUI","_texts","topLeftPrimary","topLeftSecondary","updateBottomCenterText","_updateText","updateTopCenterText","updateCenterText","updateTopLeftText","secondary","_setTopLeftSecondaryText","_removeTopLeftSecondaryText","_removeTopLeftPrimaryText","_setTextDisplay","_setBottomCenterTextDisplay","_setCenterTextDisplay","_setTopCenterTextDisplay","_setTopLeftTextDisplay","_scene","centerXY","xPrimary","yPrimary","textKey","_removeText","worldView","_config","defaultBattleTextUIConfig","BattleTextUI","_buffs","buff","_debuffs","debuff","addBuffText","_addBuffDebuffText","addDebuffText","_setDisplay","fadeScrollDuration","newText","_createBuffDebuffTextDisplay","newTextIndex","_fadeScrollBuffDebuffText","_removeBuffDebuffText","_fadeScrollText","_fadeOutText","_scrollDownText","defaultHealthBarUIConfig","bar","HealthBarUI","_label","_value","_barValue","_barBackground","updateBar","_setBarValue","updateValueText","_setValueText","_removeValueText","updateHealth","_setLabelDisplay","_setValueDisplay","_setBarDisplay","labelConfig","barConfig","valueConfig","_setBarGraphics","_setBarBackground","barWidth","barColor","UI_DEPTH","noop","defaultUnlockedFeatureUIConfig","inventoryText","inventorySprite","questsText","questsSprite","talentsText","talentsSprite","inactiveSpriteFrame","UnlockedFeaturesUI","_sprites","_callbacks","features","callbacks","_update","_setSpriteDisplay","callbackKey","activeKey","inactiveKey","_addTooltip","phaserTooltip","updatedCallbacks","updatedInventoryCallback","updatedQuestsCallback","updatedTalentsCallback","inventoryOperation","_enableFeature","_disableFeature","questsOperation","talentsOperation","activeSpriteKey","inactiveSpriteKey","newCallback","disableInteractive","HUD","_basicText","_healthBar","_battleText","enableBasicText","disableBasicText","enableHealthBar","disableHealthBar","enableUnlockedFeatures","disableUnlockedFeatures","enableBattleText","disableBattleText","UIScene","_uiEventEmitter","_registerEvents","_initializeHUDHandler","hud","_shutdownHandler","_updateTopLeftText","_updateTopCenterText","_updateUnlockedFeaturesHandler","_updateHealth","_addBuffText","_addDebuffText","_updateCenterText","_updateBottomCenterText","startingDimensions","innerWidth","gameConfig","CANVAS","arcade","debug","gravity","render","antialiasGL","pixelArt","autoFocus","audio","disableWebAudio","plugins","plugin","GridEngine","mapping","AnimatedTilesPlugin","GameContext","useGameContext","GameContextProvider","useLocation","setGame","gameRef","dimension","setDimension","windowSize","setWindowSize","handleResize","useWindowSize","windowWidth","phaserGame","Game","removeScenePlugin","handleResizeEvent","sizeDimension","resize","canvasEl","backdrop_cn","message_cn","message_container_cn","message_container_close_button_cn","message_container_close_button_container_cn","message_content_container_cn","GameOverlayComponent","handleInnerClick","handleKeyDown","unlocked","mdiClose","GameComponent","isOverlayOpen","GameApp","cmsContent","original","mapper","thisArg","targetIndex","sourceIndex","mapFn","IS_PURE","NativePromise","speciesConstructor","promiseResolve","redefine","real","forced","isFunction","_defineProperty","shared","uid","USE_SYMBOL_AS_UID","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","argsTag","funcTag","genTag","mapTag","setTag","reFlags","reIsHostCtor","reIsUint","cloneableTags","freeGlobal","freeSelf","root","freeExports","nodeType","freeModule","moduleExports","addMapEntry","pair","addSetEntry","arrayReduce","iteratee","accumulator","initAccum","isHostObject","mapToArray","overArg","setToArray","arrayProto","funcProto","objectProto","coreJsData","maskSrcKey","exec","funcToString","objectToString","reIsNative","RegExp","Buffer","getPrototype","objectCreate","nativeGetSymbols","nativeIsBuffer","isBuffer","nativeKeys","DataView","getNative","nativeCreate","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","valueOf","Hash","entry","ListCache","MapCache","Stack","__data__","arrayLikeKeys","inherited","isObjectLike","isArrayLike","isArrayLikeObject","isArguments","baseTimes","skipIndexes","isIndex","assignValue","objValue","eq","assocIndexOf","baseClone","isDeep","isFull","customizer","isArr","initCloneArray","copyArray","getTag","isFunc","buffer","cloneBuffer","isPrototype","initCloneObject","copyObject","getSymbols","copySymbols","baseAssign","cloneFunc","Ctor","cloneArrayBuffer","dataView","byteOffset","byteLength","cloneDataView","typedArray","cloneTypedArray","cloneMap","regexp","lastIndex","cloneRegExp","cloneSet","symbol","initCloneByTag","stacked","keysFunc","symbolsFunc","arrayPush","baseGetAllKeys","getAllKeys","arrayEach","subValue","baseIsNative","arrayBuffer","getMapData","getValue","cache","pairs","LARGE_ARRAY_SIZE","other","ArrayBuffer","ctorString","isLength","baseKeys","newPromiseCapability","promiseCapability"],"mappings":"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","file":"14-654585587854d74c4fed.js","sourcesContent":["var NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  // eslint-disable-next-line no-undef\n  && !Symbol.sham\n  // eslint-disable-next-line no-undef\n  && typeof Symbol.iterator == 'symbol';\n","var global = require('../internals/global');\n\nmodule.exports = global.Promise;\n","import \"core-js/modules/es.array.reduce.js\";\nimport _slicedToArray from \"G:/Documents/Code/gmmurray.github.io/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _toConsumableArray from \"G:/Documents/Code/gmmurray.github.io/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"G:/Documents/Code/gmmurray.github.io/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"G:/Documents/Code/gmmurray.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"G:/Documents/Code/gmmurray.github.io/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar or = Object.create;\nvar It = Object.defineProperty,\n    nr = Object.defineProperties,\n    sr = Object.getOwnPropertyDescriptor,\n    ar = Object.getOwnPropertyDescriptors,\n    hr = Object.getOwnPropertyNames,\n    te = Object.getOwnPropertySymbols,\n    pr = Object.getPrototypeOf,\n    re = Object.prototype.hasOwnProperty,\n    lr = Object.prototype.propertyIsEnumerable;\n\nvar ee = function ee(i, t, e) {\n  return t in i ? It(i, t, {\n    enumerable: !0,\n    configurable: !0,\n    writable: !0,\n    value: e\n  }) : i[t] = e;\n},\n    L = function L(i, t) {\n  for (var e in t || (t = {})) {\n    re.call(t, e) && ee(i, e, t[e]);\n  }\n\n  if (te) {\n    var _iterator = _createForOfIteratorHelper(te(t)),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var e = _step.value;\n        lr.call(t, e) && ee(i, e, t[e]);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  }\n\n  return i;\n},\n    $ = function $(i, t) {\n  return nr(i, ar(t));\n};\n\nvar cr = function cr(i, t) {\n  return function () {\n    return t || i((t = {\n      exports: {}\n    }).exports, t), t.exports;\n  };\n};\n\nvar ur = function ur(i, t, e, r) {\n  if (t && typeof t == \"object\" || typeof t == \"function\") {\n    var _iterator2 = _createForOfIteratorHelper(hr(t)),\n        _step2;\n\n    try {\n      var _loop = function _loop() {\n        var o = _step2.value;\n        !re.call(i, o) && o !== e && It(i, o, {\n          get: function get() {\n            return t[o];\n          },\n          enumerable: !(r = sr(t, o)) || r.enumerable\n        });\n      };\n\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        _loop();\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n  }\n\n  return i;\n};\n\nvar mr = function mr(i, t, e) {\n  return e = i != null ? or(pr(i)) : {}, ur(t || !i || !i.__esModule ? It(e, \"default\", {\n    value: i,\n    enumerable: !0\n  }) : e, i);\n};\n\nvar Se = cr(function (Mr, ct) {\n  var ie, oe, ne, se, ae, he, pe, le, ce, pt, At, ue, me, fe, _z, de, ge, ve, ye, xe, be, Te, Pe, lt;\n\n  (function (i) {\n    var t = typeof global == \"object\" ? global : typeof self == \"object\" ? self : typeof this == \"object\" ? this : {};\n    typeof define == \"function\" && define.amd ? define(\"tslib\", [\"exports\"], function (r) {\n      i(e(t, e(r)));\n    }) : typeof ct == \"object\" && typeof ct.exports == \"object\" ? i(e(t, e(ct.exports))) : i(e(t));\n\n    function e(r, o) {\n      return r !== t && (typeof Object.create == \"function\" ? Object.defineProperty(r, \"__esModule\", {\n        value: !0\n      }) : r.__esModule = !0), function (n, s) {\n        return r[n] = o ? o(n, s) : s;\n      };\n    }\n  })(function (i) {\n    var t = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (r, o) {\n      r.__proto__ = o;\n    } || function (r, o) {\n      for (var n in o) {\n        Object.prototype.hasOwnProperty.call(o, n) && (r[n] = o[n]);\n      }\n    };\n\n    ie = function ie(r, o) {\n      if (typeof o != \"function\" && o !== null) throw new TypeError(\"Class extends value \" + String(o) + \" is not a constructor or null\");\n      t(r, o);\n\n      function n() {\n        this.constructor = r;\n      }\n\n      r.prototype = o === null ? Object.create(o) : (n.prototype = o.prototype, new n());\n    }, oe = Object.assign || function (r) {\n      for (var o, n = 1, s = arguments.length; n < s; n++) {\n        o = arguments[n];\n\n        for (var h in o) {\n          Object.prototype.hasOwnProperty.call(o, h) && (r[h] = o[h]);\n        }\n      }\n\n      return r;\n    }, ne = function ne(r, o) {\n      var n = {};\n\n      for (var s in r) {\n        Object.prototype.hasOwnProperty.call(r, s) && o.indexOf(s) < 0 && (n[s] = r[s]);\n      }\n\n      if (r != null && typeof Object.getOwnPropertySymbols == \"function\") for (var h = 0, s = Object.getOwnPropertySymbols(r); h < s.length; h++) {\n        o.indexOf(s[h]) < 0 && Object.prototype.propertyIsEnumerable.call(r, s[h]) && (n[s[h]] = r[s[h]]);\n      }\n      return n;\n    }, se = function se(r, o, n, s) {\n      var h = arguments.length,\n          a = h < 3 ? o : s === null ? s = Object.getOwnPropertyDescriptor(o, n) : s,\n          l;\n      if (typeof Reflect == \"object\" && typeof Reflect.decorate == \"function\") a = Reflect.decorate(r, o, n, s);else for (var m = r.length - 1; m >= 0; m--) {\n        (l = r[m]) && (a = (h < 3 ? l(a) : h > 3 ? l(o, n, a) : l(o, n)) || a);\n      }\n      return h > 3 && a && Object.defineProperty(o, n, a), a;\n    }, ae = function ae(r, o) {\n      return function (n, s) {\n        o(n, s, r);\n      };\n    }, he = function he(r, o) {\n      if (typeof Reflect == \"object\" && typeof Reflect.metadata == \"function\") return Reflect.metadata(r, o);\n    }, pe = function pe(r, o, n, s) {\n      function h(a) {\n        return a instanceof n ? a : new n(function (l) {\n          l(a);\n        });\n      }\n\n      return new (n || (n = Promise))(function (a, l) {\n        function m(d) {\n          try {\n            c(s.next(d));\n          } catch (S) {\n            l(S);\n          }\n        }\n\n        function v(d) {\n          try {\n            c(s.throw(d));\n          } catch (S) {\n            l(S);\n          }\n        }\n\n        function c(d) {\n          d.done ? a(d.value) : h(d.value).then(m, v);\n        }\n\n        c((s = s.apply(r, o || [])).next());\n      });\n    }, le = function le(r, o) {\n      var n = {\n        label: 0,\n        sent: function sent() {\n          if (a[0] & 1) throw a[1];\n          return a[1];\n        },\n        trys: [],\n        ops: []\n      },\n          s,\n          h,\n          a,\n          l;\n      return l = {\n        next: m(0),\n        throw: m(1),\n        return: m(2)\n      }, typeof Symbol == \"function\" && (l[Symbol.iterator] = function () {\n        return this;\n      }), l;\n\n      function m(c) {\n        return function (d) {\n          return v([c, d]);\n        };\n      }\n\n      function v(c) {\n        if (s) throw new TypeError(\"Generator is already executing.\");\n\n        for (; n;) {\n          try {\n            if (s = 1, h && (a = c[0] & 2 ? h.return : c[0] ? h.throw || ((a = h.return) && a.call(h), 0) : h.next) && !(a = a.call(h, c[1])).done) return a;\n\n            switch (h = 0, a && (c = [c[0] & 2, a.value]), c[0]) {\n              case 0:\n              case 1:\n                a = c;\n                break;\n\n              case 4:\n                return n.label++, {\n                  value: c[1],\n                  done: !1\n                };\n\n              case 5:\n                n.label++, h = c[1], c = [0];\n                continue;\n\n              case 7:\n                c = n.ops.pop(), n.trys.pop();\n                continue;\n\n              default:\n                if (a = n.trys, !(a = a.length > 0 && a[a.length - 1]) && (c[0] === 6 || c[0] === 2)) {\n                  n = 0;\n                  continue;\n                }\n\n                if (c[0] === 3 && (!a || c[1] > a[0] && c[1] < a[3])) {\n                  n.label = c[1];\n                  break;\n                }\n\n                if (c[0] === 6 && n.label < a[1]) {\n                  n.label = a[1], a = c;\n                  break;\n                }\n\n                if (a && n.label < a[2]) {\n                  n.label = a[2], n.ops.push(c);\n                  break;\n                }\n\n                a[2] && n.ops.pop(), n.trys.pop();\n                continue;\n            }\n\n            c = o.call(r, n);\n          } catch (d) {\n            c = [6, d], h = 0;\n          } finally {\n            s = a = 0;\n          }\n        }\n\n        if (c[0] & 5) throw c[1];\n        return {\n          value: c[0] ? c[1] : void 0,\n          done: !0\n        };\n      }\n    }, ce = function ce(r, o) {\n      for (var n in r) {\n        n !== \"default\" && !Object.prototype.hasOwnProperty.call(o, n) && lt(o, r, n);\n      }\n    }, lt = Object.create ? function (r, o, n, s) {\n      s === void 0 && (s = n), Object.defineProperty(r, s, {\n        enumerable: !0,\n        get: function get() {\n          return o[n];\n        }\n      });\n    } : function (r, o, n, s) {\n      s === void 0 && (s = n), r[s] = o[n];\n    }, pt = function pt(r) {\n      var o = typeof Symbol == \"function\" && Symbol.iterator,\n          n = o && r[o],\n          s = 0;\n      if (n) return n.call(r);\n      if (r && typeof r.length == \"number\") return {\n        next: function next() {\n          return r && s >= r.length && (r = void 0), {\n            value: r && r[s++],\n            done: !r\n          };\n        }\n      };\n      throw new TypeError(o ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n    }, At = function At(r, o) {\n      var n = typeof Symbol == \"function\" && r[Symbol.iterator];\n      if (!n) return r;\n      var s = n.call(r),\n          h,\n          a = [],\n          l;\n\n      try {\n        for (; (o === void 0 || o-- > 0) && !(h = s.next()).done;) {\n          a.push(h.value);\n        }\n      } catch (m) {\n        l = {\n          error: m\n        };\n      } finally {\n        try {\n          h && !h.done && (n = s.return) && n.call(s);\n        } finally {\n          if (l) throw l.error;\n        }\n      }\n\n      return a;\n    }, ue = function ue() {\n      for (var r = [], o = 0; o < arguments.length; o++) {\n        r = r.concat(At(arguments[o]));\n      }\n\n      return r;\n    }, me = function me() {\n      for (var r = 0, o = 0, n = arguments.length; o < n; o++) {\n        r += arguments[o].length;\n      }\n\n      for (var s = Array(r), h = 0, o = 0; o < n; o++) {\n        for (var a = arguments[o], l = 0, m = a.length; l < m; l++, h++) {\n          s[h] = a[l];\n        }\n      }\n\n      return s;\n    }, fe = function fe(r, o) {\n      for (var n = 0, s = o.length, h = r.length; n < s; n++, h++) {\n        r[h] = o[n];\n      }\n\n      return r;\n    }, _z = function z(r) {\n      return this instanceof _z ? (this.v = r, this) : new _z(r);\n    }, de = function de(r, o, n) {\n      if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n      var s = n.apply(r, o || []),\n          h,\n          a = [];\n      return h = {}, l(\"next\"), l(\"throw\"), l(\"return\"), h[Symbol.asyncIterator] = function () {\n        return this;\n      }, h;\n\n      function l(u) {\n        s[u] && (h[u] = function (R) {\n          return new Promise(function (M, V) {\n            a.push([u, R, M, V]) > 1 || m(u, R);\n          });\n        });\n      }\n\n      function m(u, R) {\n        try {\n          v(s[u](R));\n        } catch (M) {\n          S(a[0][3], M);\n        }\n      }\n\n      function v(u) {\n        u.value instanceof _z ? Promise.resolve(u.value.v).then(c, d) : S(a[0][2], u);\n      }\n\n      function c(u) {\n        m(\"next\", u);\n      }\n\n      function d(u) {\n        m(\"throw\", u);\n      }\n\n      function S(u, R) {\n        u(R), a.shift(), a.length && m(a[0][0], a[0][1]);\n      }\n    }, ge = function ge(r) {\n      var o, n;\n      return o = {}, s(\"next\"), s(\"throw\", function (h) {\n        throw h;\n      }), s(\"return\"), o[Symbol.iterator] = function () {\n        return this;\n      }, o;\n\n      function s(h, a) {\n        o[h] = r[h] ? function (l) {\n          return (n = !n) ? {\n            value: _z(r[h](l)),\n            done: h === \"return\"\n          } : a ? a(l) : l;\n        } : a;\n      }\n    }, ve = function ve(r) {\n      if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n      var o = r[Symbol.asyncIterator],\n          n;\n      return o ? o.call(r) : (r = typeof pt == \"function\" ? pt(r) : r[Symbol.iterator](), n = {}, s(\"next\"), s(\"throw\"), s(\"return\"), n[Symbol.asyncIterator] = function () {\n        return this;\n      }, n);\n\n      function s(a) {\n        n[a] = r[a] && function (l) {\n          return new Promise(function (m, v) {\n            l = r[a](l), h(m, v, l.done, l.value);\n          });\n        };\n      }\n\n      function h(a, l, m, v) {\n        Promise.resolve(v).then(function (c) {\n          a({\n            value: c,\n            done: m\n          });\n        }, l);\n      }\n    }, ye = function ye(r, o) {\n      return Object.defineProperty ? Object.defineProperty(r, \"raw\", {\n        value: o\n      }) : r.raw = o, r;\n    };\n    var e = Object.create ? function (r, o) {\n      Object.defineProperty(r, \"default\", {\n        enumerable: !0,\n        value: o\n      });\n    } : function (r, o) {\n      r.default = o;\n    };\n    xe = function xe(r) {\n      if (r && r.__esModule) return r;\n      var o = {};\n      if (r != null) for (var n in r) {\n        n !== \"default\" && Object.prototype.hasOwnProperty.call(r, n) && lt(o, r, n);\n      }\n      return e(o, r), o;\n    }, be = function be(r) {\n      return r && r.__esModule ? r : {\n        default: r\n      };\n    }, Te = function Te(r, o) {\n      if (!o.has(r)) throw new TypeError(\"attempted to get private field on non-instance\");\n      return o.get(r);\n    }, Pe = function Pe(r, o, n) {\n      if (!o.has(r)) throw new TypeError(\"attempted to set private field on non-instance\");\n      return o.set(r, n), n;\n    }, i(\"__extends\", ie), i(\"__assign\", oe), i(\"__rest\", ne), i(\"__decorate\", se), i(\"__param\", ae), i(\"__metadata\", he), i(\"__awaiter\", pe), i(\"__generator\", le), i(\"__exportStar\", ce), i(\"__createBinding\", lt), i(\"__values\", pt), i(\"__read\", At), i(\"__spread\", ue), i(\"__spreadArrays\", me), i(\"__spreadArray\", fe), i(\"__await\", _z), i(\"__asyncGenerator\", de), i(\"__asyncDelegator\", ge), i(\"__asyncValues\", ve), i(\"__makeTemplateObject\", ye), i(\"__importStar\", xe), i(\"__importDefault\", be), i(\"__classPrivateFieldGet\", Te), i(\"__classPrivateFieldSet\", Pe);\n  });\n});\n\nvar x = /*#__PURE__*/function () {\n  function x() {\n    _classCallCheck(this, x);\n  }\n\n  _createClass(x, null, [{\n    key: \"get\",\n    value: function get() {\n      return x.config;\n    }\n  }, {\n    key: \"set\",\n    value: function set(t) {\n      x.config = t;\n    }\n  }]);\n\n  return x;\n}();\n\nvar ht = function (o) {\n  return o.DONT_BLOCK = \"DONT_BLOCK\", o.BLOCK_TWO_TILES = \"BLOCK_TWO_TILES\", o.BLOCK_ONE_TILE_AHEAD = \"BLOCK_ONE_TILE_AHEAD\", o.BLOCK_ONE_TILE_BEHIND = \"BLOCK_ONE_TILE_BEHIND\", o;\n}(ht || {});\n\nfunction f(i) {\n  return typeof i == \"function\";\n}\n\nfunction fr(i) {\n  return f(i == null ? void 0 : i.lift);\n}\n\nfunction b(i) {\n  return function (t) {\n    if (fr(t)) return t.lift(function (e) {\n      try {\n        return i(e, this);\n      } catch (r) {\n        this.error(r);\n      }\n    });\n    throw new TypeError(\"Unable to lift unknown Observable type\");\n  };\n}\n\nvar Ce = mr(Se(), 1),\n    _Ce$default = Ce.default,\n    A = _Ce$default.__extends,\n    Fr = _Ce$default.__assign,\n    Ir = _Ce$default.__rest,\n    Ar = _Ce$default.__decorate,\n    kr = _Ce$default.__param,\n    Nr = _Ce$default.__metadata,\n    _e = _Ce$default.__awaiter,\n    ut = _Ce$default.__generator,\n    Gr = _Ce$default.__exportStar,\n    Wr = _Ce$default.__createBinding,\n    G = _Ce$default.__values,\n    D = _Ce$default.__read,\n    Ur = _Ce$default.__spread,\n    Br = _Ce$default.__spreadArrays,\n    E = _Ce$default.__spreadArray,\n    mt = _Ce$default.__await,\n    Oe = _Ce$default.__asyncGenerator,\n    Hr = _Ce$default.__asyncDelegator,\n    De = _Ce$default.__asyncValues,\n    jr = _Ce$default.__makeTemplateObject,\n    Vr = _Ce$default.__importStar,\n    $r = _Ce$default.__importDefault,\n    zr = _Ce$default.__classPrivateFieldGet,\n    Yr = _Ce$default.__classPrivateFieldSet;\n\nvar ft = function ft(i) {\n  return i && typeof i.length == \"number\" && typeof i != \"function\";\n};\n\nfunction dt(i) {\n  return f(i == null ? void 0 : i.then);\n}\n\nfunction gt(i) {\n  var t = function t(r) {\n    Error.call(r), r.stack = new Error().stack;\n  },\n      e = i(t);\n\n  return e.prototype = Object.create(Error.prototype), e.prototype.constructor = e, e;\n}\n\nvar vt = gt(function (i) {\n  return function (e) {\n    i(this), this.message = e ? e.length + \" errors occurred during unsubscription:\\n\" + e.map(function (r, o) {\n      return o + 1 + \") \" + r.toString();\n    }).join(\"\\n  \") : \"\", this.name = \"UnsubscriptionError\", this.errors = e;\n  };\n});\n\nfunction tt(i, t) {\n  if (i) {\n    var e = i.indexOf(t);\n    0 <= e && i.splice(e, 1);\n  }\n}\n\nvar Y = function () {\n  function i(t) {\n    this.initialTeardown = t, this.closed = !1, this._parentage = null, this._teardowns = null;\n  }\n\n  return i.prototype.unsubscribe = function () {\n    var t, e, r, o, n;\n\n    if (!this.closed) {\n      this.closed = !0;\n      var s = this._parentage;\n      if (s) if (this._parentage = null, Array.isArray(s)) try {\n        for (var h = G(s), a = h.next(); !a.done; a = h.next()) {\n          var l = a.value;\n          l.remove(this);\n        }\n      } catch (u) {\n        t = {\n          error: u\n        };\n      } finally {\n        try {\n          a && !a.done && (e = h.return) && e.call(h);\n        } finally {\n          if (t) throw t.error;\n        }\n      } else s.remove(this);\n      var m = this.initialTeardown;\n      if (f(m)) try {\n        m();\n      } catch (u) {\n        n = u instanceof vt ? u.errors : [u];\n      }\n      var v = this._teardowns;\n\n      if (v) {\n        this._teardowns = null;\n\n        try {\n          for (var c = G(v), d = c.next(); !d.done; d = c.next()) {\n            var S = d.value;\n\n            try {\n              Ee(S);\n            } catch (u) {\n              n = n != null ? n : [], u instanceof vt ? n = E(E([], D(n), !1), D(u.errors), !1) : n.push(u);\n            }\n          }\n        } catch (u) {\n          r = {\n            error: u\n          };\n        } finally {\n          try {\n            d && !d.done && (o = c.return) && o.call(c);\n          } finally {\n            if (r) throw r.error;\n          }\n        }\n      }\n\n      if (n) throw new vt(n);\n    }\n  }, i.prototype.add = function (t) {\n    var e;\n    if (t && t !== this) if (this.closed) Ee(t);else {\n      if (t instanceof i) {\n        if (t.closed || t._hasParent(this)) return;\n\n        t._addParent(this);\n      }\n\n      (this._teardowns = (e = this._teardowns) !== null && e !== void 0 ? e : []).push(t);\n    }\n  }, i.prototype._hasParent = function (t) {\n    var e = this._parentage;\n    return e === t || Array.isArray(e) && e.includes(t);\n  }, i.prototype._addParent = function (t) {\n    var e = this._parentage;\n    this._parentage = Array.isArray(e) ? (e.push(t), e) : e ? [e, t] : t;\n  }, i.prototype._removeParent = function (t) {\n    var e = this._parentage;\n    e === t ? this._parentage = null : Array.isArray(e) && tt(e, t);\n  }, i.prototype.remove = function (t) {\n    var e = this._teardowns;\n    e && tt(e, t), t instanceof i && t._removeParent(this);\n  }, i.EMPTY = function () {\n    var t = new i();\n    return t.closed = !0, t;\n  }(), i;\n}();\n\nvar kt = Y.EMPTY;\n\nfunction yt(i) {\n  return i instanceof Y || i && \"closed\" in i && f(i.remove) && f(i.add) && f(i.unsubscribe);\n}\n\nfunction Ee(i) {\n  f(i) ? i() : i.unsubscribe();\n}\n\nvar w = {\n  onUnhandledError: null,\n  onStoppedNotification: null,\n  Promise: void 0,\n  useDeprecatedSynchronousErrorHandling: !1,\n  useDeprecatedNextContext: !1\n};\nvar X = {\n  setTimeout: function (_setTimeout) {\n    function setTimeout() {\n      return _setTimeout.apply(this, arguments);\n    }\n\n    setTimeout.toString = function () {\n      return _setTimeout.toString();\n    };\n\n    return setTimeout;\n  }(function () {\n    for (var i = [], t = 0; t < arguments.length; t++) {\n      i[t] = arguments[t];\n    }\n\n    var e = X.delegate;\n    return ((e == null ? void 0 : e.setTimeout) || setTimeout).apply(void 0, E([], D(i), !1));\n  }),\n  clearTimeout: function (_clearTimeout) {\n    function clearTimeout(_x) {\n      return _clearTimeout.apply(this, arguments);\n    }\n\n    clearTimeout.toString = function () {\n      return _clearTimeout.toString();\n    };\n\n    return clearTimeout;\n  }(function (i) {\n    var t = X.delegate;\n    return ((t == null ? void 0 : t.clearTimeout) || clearTimeout)(i);\n  }),\n  delegate: void 0\n};\n\nfunction xt(i) {\n  X.setTimeout(function () {\n    var t = w.onUnhandledError;\n    if (t) t(i);else throw i;\n  });\n}\n\nfunction W() {}\n\nvar we = function () {\n  return Nt(\"C\", void 0, void 0);\n}();\n\nfunction Le(i) {\n  return Nt(\"E\", void 0, i);\n}\n\nfunction Re(i) {\n  return Nt(\"N\", i, void 0);\n}\n\nfunction Nt(i, t, e) {\n  return {\n    kind: i,\n    value: t,\n    error: e\n  };\n}\n\nvar U = null;\n\nfunction K(i) {\n  if (w.useDeprecatedSynchronousErrorHandling) {\n    var t = !U;\n\n    if (t && (U = {\n      errorThrown: !1,\n      error: null\n    }), i(), t) {\n      var e = U,\n          r = e.errorThrown,\n          o = e.error;\n      if (U = null, r) throw o;\n    }\n  } else i();\n}\n\nfunction Me(i) {\n  w.useDeprecatedSynchronousErrorHandling && U && (U.errorThrown = !0, U.error = i);\n}\n\nvar et = function (i) {\n  A(t, i);\n\n  function t(e) {\n    var r = i.call(this) || this;\n    return r.isStopped = !1, e ? (r.destination = e, yt(e) && e.add(r)) : r.destination = dr, r;\n  }\n\n  return t.create = function (e, r, o) {\n    return new Ut(e, r, o);\n  }, t.prototype.next = function (e) {\n    this.isStopped ? Wt(Re(e), this) : this._next(e);\n  }, t.prototype.error = function (e) {\n    this.isStopped ? Wt(Le(e), this) : (this.isStopped = !0, this._error(e));\n  }, t.prototype.complete = function () {\n    this.isStopped ? Wt(we, this) : (this.isStopped = !0, this._complete());\n  }, t.prototype.unsubscribe = function () {\n    this.closed || (this.isStopped = !0, i.prototype.unsubscribe.call(this), this.destination = null);\n  }, t.prototype._next = function (e) {\n    this.destination.next(e);\n  }, t.prototype._error = function (e) {\n    try {\n      this.destination.error(e);\n    } finally {\n      this.unsubscribe();\n    }\n  }, t.prototype._complete = function () {\n    try {\n      this.destination.complete();\n    } finally {\n      this.unsubscribe();\n    }\n  }, t;\n}(Y);\n\nvar Ut = function (i) {\n  A(t, i);\n\n  function t(e, r, o) {\n    var n = i.call(this) || this,\n        s;\n    if (f(e)) s = e;else if (e) {\n      s = e.next, r = e.error, o = e.complete;\n      var h;\n      n && w.useDeprecatedNextContext ? (h = Object.create(e), h.unsubscribe = function () {\n        return n.unsubscribe();\n      }) : h = e, s = s == null ? void 0 : s.bind(h), r = r == null ? void 0 : r.bind(h), o = o == null ? void 0 : o.bind(h);\n    }\n    return n.destination = {\n      next: s ? Gt(s, n) : W,\n      error: Gt(r != null ? r : Fe, n),\n      complete: o ? Gt(o, n) : W\n    }, n;\n  }\n\n  return t;\n}(et);\n\nfunction Gt(i, t) {\n  return function () {\n    for (var e = [], r = 0; r < arguments.length; r++) {\n      e[r] = arguments[r];\n    }\n\n    try {\n      i.apply(void 0, E([], D(e), !1));\n    } catch (o) {\n      w.useDeprecatedSynchronousErrorHandling ? Me(o) : xt(o);\n    }\n  };\n}\n\nfunction Fe(i) {\n  throw i;\n}\n\nfunction Wt(i, t) {\n  var e = w.onStoppedNotification;\n  e && X.setTimeout(function () {\n    return e(i, t);\n  });\n}\n\nvar dr = {\n  closed: !0,\n  next: W,\n  error: Fe,\n  complete: W\n};\n\nvar q = function () {\n  return typeof Symbol == \"function\" && Symbol.observable || \"@@observable\";\n}();\n\nfunction bt(i) {\n  return i;\n}\n\nfunction Ie(i) {\n  return i.length === 0 ? bt : i.length === 1 ? i[0] : function (e) {\n    return i.reduce(function (r, o) {\n      return o(r);\n    }, e);\n  };\n}\n\nvar y = function () {\n  function i(t) {\n    t && (this._subscribe = t);\n  }\n\n  return i.prototype.lift = function (t) {\n    var e = new i();\n    return e.source = this, e.operator = t, e;\n  }, i.prototype.subscribe = function (t, e, r) {\n    var o = this,\n        n = vr(t) ? t : new Ut(t, e, r);\n    return K(function () {\n      var s = o,\n          h = s.operator,\n          a = s.source;\n      n.add(h ? h.call(n, a) : a ? o._subscribe(n) : o._trySubscribe(n));\n    }), n;\n  }, i.prototype._trySubscribe = function (t) {\n    try {\n      return this._subscribe(t);\n    } catch (e) {\n      t.error(e);\n    }\n  }, i.prototype.forEach = function (t, e) {\n    var r = this;\n    return e = Ae(e), new e(function (o, n) {\n      var s;\n      s = r.subscribe(function (h) {\n        try {\n          t(h);\n        } catch (a) {\n          n(a), s == null || s.unsubscribe();\n        }\n      }, n, o);\n    });\n  }, i.prototype._subscribe = function (t) {\n    var e;\n    return (e = this.source) === null || e === void 0 ? void 0 : e.subscribe(t);\n  }, i.prototype[q] = function () {\n    return this;\n  }, i.prototype.pipe = function () {\n    for (var t = [], e = 0; e < arguments.length; e++) {\n      t[e] = arguments[e];\n    }\n\n    return Ie(t)(this);\n  }, i.prototype.toPromise = function (t) {\n    var e = this;\n    return t = Ae(t), new t(function (r, o) {\n      var n;\n      e.subscribe(function (s) {\n        return n = s;\n      }, function (s) {\n        return o(s);\n      }, function () {\n        return r(n);\n      });\n    });\n  }, i.create = function (t) {\n    return new i(t);\n  }, i;\n}();\n\nfunction Ae(i) {\n  var t;\n  return (t = i != null ? i : w.Promise) !== null && t !== void 0 ? t : Promise;\n}\n\nfunction gr(i) {\n  return i && f(i.next) && f(i.error) && f(i.complete);\n}\n\nfunction vr(i) {\n  return i && i instanceof et || gr(i) && yt(i);\n}\n\nfunction Tt(i) {\n  return f(i[q]);\n}\n\nfunction Pt(i) {\n  return Symbol.asyncIterator && f(i == null ? void 0 : i[Symbol.asyncIterator]);\n}\n\nfunction St(i) {\n  return new TypeError(\"You provided \" + (i !== null && typeof i == \"object\" ? \"an invalid object\" : \"'\" + i + \"'\") + \" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.\");\n}\n\nfunction yr() {\n  return typeof Symbol != \"function\" || !Symbol.iterator ? \"@@iterator\" : Symbol.iterator;\n}\n\nvar Ct = yr();\n\nfunction _t(i) {\n  return f(i == null ? void 0 : i[Ct]);\n}\n\nfunction Ot(i) {\n  return Oe(this, arguments, function () {\n    var e, r, o, n;\n    return ut(this, function (s) {\n      switch (s.label) {\n        case 0:\n          e = i.getReader(), s.label = 1;\n\n        case 1:\n          s.trys.push([1,, 9, 10]), s.label = 2;\n\n        case 2:\n          return [4, mt(e.read())];\n\n        case 3:\n          return r = s.sent(), o = r.value, n = r.done, n ? [4, mt(void 0)] : [3, 5];\n\n        case 4:\n          return [2, s.sent()];\n\n        case 5:\n          return [4, mt(o)];\n\n        case 6:\n          return [4, s.sent()];\n\n        case 7:\n          return s.sent(), [3, 2];\n\n        case 8:\n          return [3, 10];\n\n        case 9:\n          return e.releaseLock(), [7];\n\n        case 10:\n          return [2];\n      }\n    });\n  });\n}\n\nfunction Dt(i) {\n  return f(i == null ? void 0 : i.getReader);\n}\n\nfunction C(i) {\n  if (i instanceof y) return i;\n\n  if (i != null) {\n    if (Tt(i)) return xr(i);\n    if (ft(i)) return br(i);\n    if (dt(i)) return Tr(i);\n    if (Pt(i)) return ke(i);\n    if (_t(i)) return Pr(i);\n    if (Dt(i)) return Sr(i);\n  }\n\n  throw St(i);\n}\n\nfunction xr(i) {\n  return new y(function (t) {\n    var e = i[q]();\n    if (f(e.subscribe)) return e.subscribe(t);\n    throw new TypeError(\"Provided object does not correctly implement Symbol.observable\");\n  });\n}\n\nfunction br(i) {\n  return new y(function (t) {\n    for (var e = 0; e < i.length && !t.closed; e++) {\n      t.next(i[e]);\n    }\n\n    t.complete();\n  });\n}\n\nfunction Tr(i) {\n  return new y(function (t) {\n    i.then(function (e) {\n      t.closed || (t.next(e), t.complete());\n    }, function (e) {\n      return t.error(e);\n    }).then(null, xt);\n  });\n}\n\nfunction Pr(i) {\n  return new y(function (t) {\n    var e, r;\n\n    try {\n      for (var o = G(i), n = o.next(); !n.done; n = o.next()) {\n        var s = n.value;\n        if (t.next(s), t.closed) return;\n      }\n    } catch (h) {\n      e = {\n        error: h\n      };\n    } finally {\n      try {\n        n && !n.done && (r = o.return) && r.call(o);\n      } finally {\n        if (e) throw e.error;\n      }\n    }\n\n    t.complete();\n  });\n}\n\nfunction ke(i) {\n  return new y(function (t) {\n    Cr(i, t).catch(function (e) {\n      return t.error(e);\n    });\n  });\n}\n\nfunction Sr(i) {\n  return ke(Ot(i));\n}\n\nfunction Cr(i, t) {\n  var e, r, o, n;\n  return _e(this, void 0, void 0, function () {\n    var s, h;\n    return ut(this, function (a) {\n      switch (a.label) {\n        case 0:\n          a.trys.push([0, 5, 6, 11]), e = De(i), a.label = 1;\n\n        case 1:\n          return [4, e.next()];\n\n        case 2:\n          if (r = a.sent(), !!r.done) return [3, 4];\n          if (s = r.value, t.next(s), t.closed) return [2];\n          a.label = 3;\n\n        case 3:\n          return [3, 1];\n\n        case 4:\n          return [3, 11];\n\n        case 5:\n          return h = a.sent(), o = {\n            error: h\n          }, [3, 11];\n\n        case 6:\n          return a.trys.push([6,, 9, 10]), r && !r.done && (n = e.return) ? [4, n.call(e)] : [3, 8];\n\n        case 7:\n          a.sent(), a.label = 8;\n\n        case 8:\n          return [3, 10];\n\n        case 9:\n          if (o) throw o.error;\n          return [7];\n\n        case 10:\n          return [7];\n\n        case 11:\n          return t.complete(), [2];\n      }\n    });\n  });\n}\n\nvar P = function (i) {\n  A(t, i);\n\n  function t(e, r, o, n, s) {\n    var h = i.call(this, e) || this;\n    return h.onFinalize = s, h._next = r ? function (a) {\n      try {\n        r(a);\n      } catch (l) {\n        e.error(l);\n      }\n    } : i.prototype._next, h._error = n ? function (a) {\n      try {\n        n(a);\n      } catch (l) {\n        e.error(l);\n      } finally {\n        this.unsubscribe();\n      }\n    } : i.prototype._error, h._complete = o ? function () {\n      try {\n        o();\n      } catch (a) {\n        e.error(a);\n      } finally {\n        this.unsubscribe();\n      }\n    } : i.prototype._complete, h;\n  }\n\n  return t.prototype.unsubscribe = function () {\n    var e,\n        r = this.closed;\n    i.prototype.unsubscribe.call(this), !r && ((e = this.onFinalize) === null || e === void 0 || e.call(this));\n  }, t;\n}(et);\n\nfunction Ne(i) {\n  return i && f(i.schedule);\n}\n\nfunction Ge(i) {\n  return i[i.length - 1];\n}\n\nfunction We(i) {\n  return Ne(Ge(i)) ? i.pop() : void 0;\n}\n\nfunction Ue(i, t) {\n  return typeof Ge(i) == \"number\" ? i.pop() : t;\n}\n\nfunction _(i, t, e, r, o) {\n  r === void 0 && (r = 0), o === void 0 && (o = !1);\n  var n = t.schedule(function () {\n    e(), o ? i.add(this.schedule(null, r)) : this.unsubscribe();\n  }, r);\n  if (i.add(n), !o) return n;\n}\n\nfunction Et(i, t) {\n  return t === void 0 && (t = 0), b(function (e, r) {\n    e.subscribe(new P(r, function (o) {\n      return _(r, i, function () {\n        return r.next(o);\n      }, t);\n    }, function () {\n      return _(r, i, function () {\n        return r.complete();\n      }, t);\n    }, function (o) {\n      return _(r, i, function () {\n        return r.error(o);\n      }, t);\n    }));\n  });\n}\n\nfunction wt(i, t) {\n  return t === void 0 && (t = 0), b(function (e, r) {\n    r.add(i.schedule(function () {\n      return e.subscribe(r);\n    }, t));\n  });\n}\n\nfunction Be(i, t) {\n  return C(i).pipe(wt(t), Et(t));\n}\n\nfunction He(i, t) {\n  return C(i).pipe(wt(t), Et(t));\n}\n\nfunction je(i, t) {\n  return new y(function (e) {\n    var r = 0;\n    return t.schedule(function () {\n      r === i.length ? e.complete() : (e.next(i[r++]), e.closed || this.schedule());\n    });\n  });\n}\n\nfunction Ve(i, t) {\n  return new y(function (e) {\n    var r;\n    return _(e, t, function () {\n      r = i[Ct](), _(e, t, function () {\n        var o, n, s;\n\n        try {\n          o = r.next(), n = o.value, s = o.done;\n        } catch (h) {\n          e.error(h);\n          return;\n        }\n\n        s ? e.complete() : e.next(n);\n      }, 0, !0);\n    }), function () {\n      return f(r == null ? void 0 : r.return) && r.return();\n    };\n  });\n}\n\nfunction Lt(i, t) {\n  if (!i) throw new Error(\"Iterable cannot be null\");\n  return new y(function (e) {\n    _(e, t, function () {\n      var r = i[Symbol.asyncIterator]();\n\n      _(e, t, function () {\n        r.next().then(function (o) {\n          o.done ? e.complete() : e.next(o.value);\n        });\n      }, 0, !0);\n    });\n  });\n}\n\nfunction $e(i, t) {\n  return Lt(Ot(i), t);\n}\n\nfunction ze(i, t) {\n  if (i != null) {\n    if (Tt(i)) return Be(i, t);\n    if (ft(i)) return je(i, t);\n    if (dt(i)) return He(i, t);\n    if (Pt(i)) return Lt(i, t);\n    if (_t(i)) return Ve(i, t);\n    if (Dt(i)) return $e(i, t);\n  }\n\n  throw St(i);\n}\n\nfunction Ye(i, t) {\n  return t ? ze(i, t) : C(i);\n}\n\nfunction B(i, t) {\n  return b(function (e, r) {\n    var o = 0;\n    e.subscribe(new P(r, function (n) {\n      r.next(i.call(t, n, o++));\n    }));\n  });\n}\n\nfunction Xe(i, t, e, r, o, n, s, h) {\n  var a = [],\n      l = 0,\n      m = 0,\n      v = !1,\n      c = function c() {\n    v && !a.length && !l && t.complete();\n  },\n      d = function d(u) {\n    return l < r ? S(u) : a.push(u);\n  },\n      S = function S(u) {\n    n && t.next(u), l++;\n    var R = !1;\n    C(e(u, m++)).subscribe(new P(t, function (M) {\n      o == null || o(M), n ? d(M) : t.next(M);\n    }, function () {\n      R = !0;\n    }, void 0, function () {\n      if (R) try {\n        l--;\n\n        for (var M = function M() {\n          var V = a.shift();\n          s ? _(t, s, function () {\n            return S(V);\n          }) : S(V);\n        }; a.length && l < r;) {\n          M();\n        }\n\n        c();\n      } catch (V) {\n        t.error(V);\n      }\n    }));\n  };\n\n  return i.subscribe(new P(t, d, function () {\n    v = !0, c();\n  })), function () {\n    h == null || h();\n  };\n}\n\nfunction Bt(i, t, e) {\n  return e === void 0 && (e = 1 / 0), f(t) ? Bt(function (r, o) {\n    return B(function (n, s) {\n      return t(r, n, o, s);\n    })(C(i(r, o)));\n  }, e) : (typeof t == \"number\" && (e = t), b(function (r, o) {\n    return Xe(r, o, i, e);\n  }));\n}\n\nvar _r = Array.isArray;\n\nfunction Ke(i) {\n  return i.length === 1 && _r(i[0]) ? i[0] : i;\n}\n\nfunction qe(i) {\n  return i === void 0 && (i = 1 / 0), Bt(bt, i);\n}\n\nvar Ze = gt(function (i) {\n  return function () {\n    i(this), this.name = \"ObjectUnsubscribedError\", this.message = \"object unsubscribed\";\n  };\n});\n\nvar g = function (i) {\n  A(t, i);\n\n  function t() {\n    var e = i.call(this) || this;\n    return e.closed = !1, e.observers = [], e.isStopped = !1, e.hasError = !1, e.thrownError = null, e;\n  }\n\n  return t.prototype.lift = function (e) {\n    var r = new Qe(this, this);\n    return r.operator = e, r;\n  }, t.prototype._throwIfClosed = function () {\n    if (this.closed) throw new Ze();\n  }, t.prototype.next = function (e) {\n    var r = this;\n    K(function () {\n      var o, n;\n\n      if (r._throwIfClosed(), !r.isStopped) {\n        var s = r.observers.slice();\n\n        try {\n          for (var h = G(s), a = h.next(); !a.done; a = h.next()) {\n            var l = a.value;\n            l.next(e);\n          }\n        } catch (m) {\n          o = {\n            error: m\n          };\n        } finally {\n          try {\n            a && !a.done && (n = h.return) && n.call(h);\n          } finally {\n            if (o) throw o.error;\n          }\n        }\n      }\n    });\n  }, t.prototype.error = function (e) {\n    var r = this;\n    K(function () {\n      if (r._throwIfClosed(), !r.isStopped) {\n        r.hasError = r.isStopped = !0, r.thrownError = e;\n\n        for (var o = r.observers; o.length;) {\n          o.shift().error(e);\n        }\n      }\n    });\n  }, t.prototype.complete = function () {\n    var e = this;\n    K(function () {\n      if (e._throwIfClosed(), !e.isStopped) {\n        e.isStopped = !0;\n\n        for (var r = e.observers; r.length;) {\n          r.shift().complete();\n        }\n      }\n    });\n  }, t.prototype.unsubscribe = function () {\n    this.isStopped = this.closed = !0, this.observers = null;\n  }, Object.defineProperty(t.prototype, \"observed\", {\n    get: function get() {\n      var e;\n      return ((e = this.observers) === null || e === void 0 ? void 0 : e.length) > 0;\n    },\n    enumerable: !1,\n    configurable: !0\n  }), t.prototype._trySubscribe = function (e) {\n    return this._throwIfClosed(), i.prototype._trySubscribe.call(this, e);\n  }, t.prototype._subscribe = function (e) {\n    return this._throwIfClosed(), this._checkFinalizedStatuses(e), this._innerSubscribe(e);\n  }, t.prototype._innerSubscribe = function (e) {\n    var r = this,\n        o = r.hasError,\n        n = r.isStopped,\n        s = r.observers;\n    return o || n ? kt : (s.push(e), new Y(function () {\n      return tt(s, e);\n    }));\n  }, t.prototype._checkFinalizedStatuses = function (e) {\n    var r = this,\n        o = r.hasError,\n        n = r.thrownError,\n        s = r.isStopped;\n    o ? e.error(n) : s && e.complete();\n  }, t.prototype.asObservable = function () {\n    var e = new y();\n    return e.source = this, e;\n  }, t.create = function (e, r) {\n    return new Qe(e, r);\n  }, t;\n}(y);\n\nvar Qe = function (i) {\n  A(t, i);\n\n  function t(e, r) {\n    var o = i.call(this) || this;\n    return o.destination = e, o.source = r, o;\n  }\n\n  return t.prototype.next = function (e) {\n    var r, o;\n    (o = (r = this.destination) === null || r === void 0 ? void 0 : r.next) === null || o === void 0 || o.call(r, e);\n  }, t.prototype.error = function (e) {\n    var r, o;\n    (o = (r = this.destination) === null || r === void 0 ? void 0 : r.error) === null || o === void 0 || o.call(r, e);\n  }, t.prototype.complete = function () {\n    var e, r;\n    (r = (e = this.destination) === null || e === void 0 ? void 0 : e.complete) === null || r === void 0 || r.call(e);\n  }, t.prototype._subscribe = function (e) {\n    var r, o;\n    return (o = (r = this.source) === null || r === void 0 ? void 0 : r.subscribe(e)) !== null && o !== void 0 ? o : kt;\n  }, t;\n}(g);\n\nvar Je = new y(function (i) {\n  return i.complete();\n});\n\nfunction Z(i) {\n  return i <= 0 ? function () {\n    return Je;\n  } : b(function (t, e) {\n    var r = 0;\n    t.subscribe(new P(e, function (o) {\n      ++r <= i && (e.next(o), i <= r && e.complete());\n    }));\n  });\n}\n\nfunction F(i, t) {\n  return b(function (e, r) {\n    var o = 0;\n    e.subscribe(new P(r, function (n) {\n      return i.call(t, n, o++) && r.next(n);\n    }));\n  });\n}\n\nfunction tr() {\n  for (var i = [], t = 0; t < arguments.length; t++) {\n    i[t] = arguments[t];\n  }\n\n  var e = We(i),\n      r = Ue(i, 1 / 0);\n  return i = Ke(i), b(function (o, n) {\n    qe(r)(Ye(E([o], D(i), !1), e)).subscribe(n);\n  });\n}\n\nfunction Ht() {\n  for (var i = [], t = 0; t < arguments.length; t++) {\n    i[t] = arguments[t];\n  }\n\n  return tr.apply(void 0, E([], D(i), !1));\n}\n\nfunction H(i) {\n  return b(function (t, e) {\n    C(i).subscribe(new P(e, function () {\n      return e.complete();\n    }, W)), !e.closed && t.subscribe(e);\n  });\n}\n\nvar p = /*#__PURE__*/function () {\n  function p(t, e) {\n    _classCallCheck(this, p);\n\n    typeof t == \"number\" ? (this.x = t, this.y = e || 0) : (this.x = t.x, this.y = t.y);\n  }\n\n  _createClass(p, [{\n    key: \"clone\",\n    value: function clone() {\n      return new p(this.x, this.y);\n    }\n  }, {\n    key: \"add\",\n    value: function add(t) {\n      return new p(this.x + t.x, this.y + t.y);\n    }\n  }, {\n    key: \"multiply\",\n    value: function multiply(t) {\n      return new p(this.x * t.x, this.y * t.y);\n    }\n  }, {\n    key: \"divide\",\n    value: function divide(t) {\n      return new p(this.x / t.x, this.y / t.y);\n    }\n  }, {\n    key: \"subtract\",\n    value: function subtract(t) {\n      return new p(this.x - t.x, this.y - t.y);\n    }\n  }, {\n    key: \"equals\",\n    value: function equals(t) {\n      return this.x === t.x && this.y === t.y;\n    }\n  }, {\n    key: \"abs\",\n    value: function abs() {\n      return new p(Math.abs(this.x), Math.abs(this.y));\n    }\n  }, {\n    key: \"length\",\n    value: function length() {\n      return Math.sqrt(this.x * this.x + this.y * this.y);\n    }\n  }, {\n    key: \"modulo\",\n    value: function modulo(t) {\n      return new p(this.x % t.x, this.y % t.y);\n    }\n  }, {\n    key: \"scalarModulo\",\n    value: function scalarModulo(t) {\n      return new p(this.x % t, this.y % t);\n    }\n  }, {\n    key: \"scalarMult\",\n    value: function scalarMult(t) {\n      return new p(this.x * t, this.y * t);\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      return \"\".concat(this.x, \"#\").concat(this.y);\n    }\n  }], [{\n    key: \"ZERO\",\n    get: function get() {\n      return new p(0, 0);\n    }\n  }, {\n    key: \"ONE\",\n    get: function get() {\n      return new p(1, 1);\n    }\n  }, {\n    key: \"UP\",\n    get: function get() {\n      return new p(0, -1);\n    }\n  }, {\n    key: \"DOWN\",\n    get: function get() {\n      return new p(0, 1);\n    }\n  }, {\n    key: \"LEFT\",\n    get: function get() {\n      return new p(-1, 0);\n    }\n  }, {\n    key: \"RIGHT\",\n    get: function get() {\n      return new p(1, 0);\n    }\n  }, {\n    key: \"UP_LEFT\",\n    get: function get() {\n      return new p(-1, -1);\n    }\n  }, {\n    key: \"UP_RIGHT\",\n    get: function get() {\n      return new p(1, -1);\n    }\n  }, {\n    key: \"DOWN_RIGHT\",\n    get: function get() {\n      return new p(1, 1);\n    }\n  }, {\n    key: \"DOWN_LEFT\",\n    get: function get() {\n      return new p(-1, 1);\n    }\n  }]);\n\n  return p;\n}();\n\nvar I = function (l) {\n  return l.NONE = \"none\", l.LEFT = \"left\", l.UP_LEFT = \"up-left\", l.UP = \"up\", l.UP_RIGHT = \"up-right\", l.RIGHT = \"right\", l.DOWN_RIGHT = \"down-right\", l.DOWN = \"down\", l.DOWN_LEFT = \"down-left\", l;\n}(I || {});\n\nfunction jt(i) {\n  return [\"down-left\", \"down-right\", \"up-right\", \"up-left\"].includes(i);\n}\n\nfunction er(i) {\n  var _left$upLeft$up$upR;\n\n  return (_left$upLeft$up$upR = {}, _defineProperty(_left$upLeft$up$upR, \"left\", \"down-left\"), _defineProperty(_left$upLeft$up$upR, \"up-left\", \"left\"), _defineProperty(_left$upLeft$up$upR, \"up\", \"up-left\"), _defineProperty(_left$upLeft$up$upR, \"up-right\", \"up\"), _defineProperty(_left$upLeft$up$upR, \"right\", \"up-right\"), _defineProperty(_left$upLeft$up$upR, \"down-right\", \"right\"), _defineProperty(_left$upLeft$up$upR, \"down\", \"down-right\"), _defineProperty(_left$upLeft$up$upR, \"down-left\", \"down\"), _defineProperty(_left$upLeft$up$upR, \"none\", \"none\"), _left$upLeft$up$upR)[i];\n}\n\nfunction k(i) {\n  var _up$down$left$right$n;\n\n  return (_up$down$left$right$n = {}, _defineProperty(_up$down$left$right$n, \"up\", p.UP), _defineProperty(_up$down$left$right$n, \"down\", p.DOWN), _defineProperty(_up$down$left$right$n, \"left\", p.LEFT), _defineProperty(_up$down$left$right$n, \"right\", p.RIGHT), _defineProperty(_up$down$left$right$n, \"none\", p.ZERO), _defineProperty(_up$down$left$right$n, \"up-left\", p.UP_LEFT), _defineProperty(_up$down$left$right$n, \"up-right\", p.UP_RIGHT), _defineProperty(_up$down$left$right$n, \"down-right\", p.DOWN_RIGHT), _defineProperty(_up$down$left$right$n, \"down-left\", p.DOWN_LEFT), _up$down$left$right$n)[i];\n}\n\nfunction rr(i) {\n  var _up$down$left$right$n2;\n\n  return (_up$down$left$right$n2 = {}, _defineProperty(_up$down$left$right$n2, \"up\", \"down\"), _defineProperty(_up$down$left$right$n2, \"down\", \"up\"), _defineProperty(_up$down$left$right$n2, \"left\", \"right\"), _defineProperty(_up$down$left$right$n2, \"right\", \"left\"), _defineProperty(_up$down$left$right$n2, \"none\", \"none\"), _defineProperty(_up$down$left$right$n2, \"up-left\", \"down-right\"), _defineProperty(_up$down$left$right$n2, \"up-right\", \"down-left\"), _defineProperty(_up$down$left$right$n2, \"down-right\", \"up-left\"), _defineProperty(_up$down$left$right$n2, \"down-left\", \"up-right\"), _up$down$left$right$n2)[i];\n}\n\nvar j = function (e) {\n  return e[e.FOUR = 4] = \"FOUR\", e[e.EIGHT = 8] = \"EIGHT\", e;\n}(j || {});\n\nvar Q = function (r) {\n  return r.STOP = \"STOP\", r.CLOSEST_REACHABLE = \"CLOSEST_REACHABLE\", r.RETRY = \"RETRY\", r;\n}(Q || {});\n\nvar T = /*#__PURE__*/function () {\n  function T() {\n    _classCallCheck(this, T);\n  }\n\n  _createClass(T, null, [{\n    key: \"vec2str\",\n    value: function vec2str(t) {\n      return \"\".concat(t.x, \"#\").concat(t.y);\n    }\n  }, {\n    key: \"equal\",\n    value: function equal(t, e) {\n      return T.vec2str(t) == T.vec2str(e);\n    }\n  }, {\n    key: \"manhattanDistance\",\n    value: function manhattanDistance(t, e) {\n      var r = Math.abs(t.x - e.x),\n          o = Math.abs(t.y - e.y);\n      return r + o;\n    }\n  }, {\n    key: \"chebyshevDistance\",\n    value: function chebyshevDistance(t, e) {\n      var r = Math.abs(t.x - e.x),\n          o = Math.abs(t.y - e.y);\n      return Math.max(r, o);\n    }\n  }, {\n    key: \"scalarMult\",\n    value: function scalarMult(t, e) {\n      return t.clone().multiply(new p(e, e));\n    }\n  }]);\n\n  return T;\n}();\n\nvar Vt = /*#__PURE__*/function () {\n  function Vt() {\n    _classCallCheck(this, Vt);\n  }\n\n  _createClass(Vt, [{\n    key: \"distance\",\n    value: function distance(t, e) {\n      return T.manhattanDistance(t, e);\n    }\n  }, {\n    key: \"direction\",\n    value: function direction(t, e) {\n      if (T.equal(t, e)) return \"none\";\n      var r = t.clone().subtract(e);\n      return Math.abs(r.x) > Math.abs(r.y) ? r.x > 0 ? \"left\" : \"right\" : r.y > 0 ? \"up\" : \"down\";\n    }\n  }, {\n    key: \"neighbours\",\n    value: function neighbours(t) {\n      return [new p(t.x, t.y + 1), new p(t.x + 1, t.y), new p(t.x - 1, t.y), new p(t.x, t.y - 1)];\n    }\n  }, {\n    key: \"getDirections\",\n    value: function getDirections() {\n      return [\"up\", \"right\", \"down\", \"left\"];\n    }\n  }]);\n\n  return Vt;\n}();\n\nvar $t = /*#__PURE__*/function () {\n  function $t() {\n    _classCallCheck(this, $t);\n  }\n\n  _createClass($t, [{\n    key: \"distance\",\n    value: function distance(t, e) {\n      return T.chebyshevDistance(t, e);\n    }\n  }, {\n    key: \"neighbours\",\n    value: function neighbours(t) {\n      var e = [new p(t.x, t.y + 1), new p(t.x + 1, t.y), new p(t.x - 1, t.y), new p(t.x, t.y - 1)],\n          r = [new p(t.x + 1, t.y + 1), new p(t.x + 1, t.y - 1), new p(t.x - 1, t.y + 1), new p(t.x - 1, t.y - 1)];\n      return [].concat(e, r);\n    }\n  }, {\n    key: \"direction\",\n    value: function direction(t, e) {\n      return e.x > t.x ? e.y > t.y ? \"down-right\" : e.y < t.y ? \"up-right\" : \"right\" : e.x < t.x ? e.y > t.y ? \"down-left\" : e.y < t.y ? \"up-left\" : \"left\" : e.y < t.y ? \"up\" : e.y > t.y ? \"down\" : \"none\";\n    }\n  }, {\n    key: \"getDirections\",\n    value: function getDirections() {\n      return [\"up\", \"right\", \"down\", \"left\", \"down-left\", \"down-right\", \"up-right\", \"up-left\"];\n    }\n  }]);\n\n  return $t;\n}();\n\nvar rt = /*#__PURE__*/function () {\n  function rt() {\n    _classCallCheck(this, rt);\n  }\n\n  _createClass(rt, null, [{\n    key: \"create\",\n    value: function create(t) {\n      switch (t) {\n        case 4:\n          return new Vt();\n\n        case 8:\n          return new $t();\n      }\n    }\n  }]);\n\n  return rt;\n}();\n\nvar zt = /*#__PURE__*/function () {\n  function zt() {\n    _classCallCheck(this, zt);\n  }\n\n  _createClass(zt, [{\n    key: \"getShortestPath\",\n    value: function getShortestPath(t, e, r) {\n      var o = this.shortestPathBfs(t, e, r);\n      return {\n        path: this.returnPath(o.previous, t, e),\n        closestToTarget: o.closestToTarget\n      };\n    }\n  }, {\n    key: \"distance\",\n    value: function distance(t, e) {\n      return T.manhattanDistance(t.position, e.position);\n    }\n  }, {\n    key: \"pos2Str\",\n    value: function pos2Str(t) {\n      return \"\".concat(t.position.toString(), \"#\").concat(t.layer);\n    }\n  }, {\n    key: \"equal\",\n    value: function equal(t, e) {\n      return T.equal(t.position, e.position) ? t.layer === e.layer : !1;\n    }\n  }, {\n    key: \"shortestPathBfs\",\n    value: function shortestPathBfs(t, e, r) {\n      var o = new Map(),\n          n = new Set(),\n          s = [],\n          h = t,\n          a = this.distance(t, e);\n\n      for (s.push({\n        node: t,\n        dist: 0\n      }), n.add(this.pos2Str(t)); s.length > 0;) {\n        var _s$shift = s.shift(),\n            l = _s$shift.node,\n            m = _s$shift.dist,\n            v = this.distance(l, e);\n\n        if (v < a && (a = v, h = l), this.equal(l, e)) return {\n          shortestDistance: m,\n          previous: o,\n          closestToTarget: h\n        };\n\n        var _iterator3 = _createForOfIteratorHelper(r(l)),\n            _step3;\n\n        try {\n          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n            var c = _step3.value;\n            n.has(this.pos2Str(c)) || (o.set(this.pos2Str(c), l), s.push({\n              node: c,\n              dist: m + 1\n            }), n.add(this.pos2Str(c)));\n          }\n        } catch (err) {\n          _iterator3.e(err);\n        } finally {\n          _iterator3.f();\n        }\n      }\n\n      return {\n        shortestDistance: -1,\n        previous: o,\n        closestToTarget: h\n      };\n    }\n  }, {\n    key: \"returnPath\",\n    value: function returnPath(t, e, r) {\n      var o = [],\n          n = r;\n\n      for (o.push(n); !this.equal(n, e);) {\n        if (n = t.get(this.pos2Str(n)), !n) return [];\n        o.push(n);\n      }\n\n      return o.reverse();\n    }\n  }]);\n\n  return zt;\n}();\n\nvar Rt = /*#__PURE__*/function () {\n  function Rt(t, e, r) {\n    _classCallCheck(this, Rt);\n\n    this.backoffMs = t;\n    this.maxRetries = e;\n    this.onFinished = r;\n    this.retries = 0;\n    this.elapsed = 0;\n  }\n\n  _createClass(Rt, [{\n    key: \"retry\",\n    value: function retry(t, e) {\n      this.shouldRetry() ? (this.elapsed += t, this.elapsed >= this.backoffMs && (this.elapsed = 0, this.retries++, e())) : this.onFinished();\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.retries = 0, this.elapsed = 0;\n    }\n  }, {\n    key: \"getMaxRetries\",\n    value: function getMaxRetries() {\n      return this.maxRetries;\n    }\n  }, {\n    key: \"shouldRetry\",\n    value: function shouldRetry() {\n      return this.maxRetries === -1 || this.retries < this.maxRetries;\n    }\n  }]);\n\n  return Rt;\n}();\n\nvar it = function (r) {\n  return r.WAIT = \"WAIT\", r.RETRY = \"RETRY\", r.STOP = \"STOP\", r;\n}(it || {});\n\nvar Yt = function (h) {\n  return h.SUCCESS = \"SUCCESS\", h.NO_PATH_FOUND_MAX_RETRIES_EXCEEDED = \"NO_PATH_FOUND_MAX_RETRIES_EXCEEDED\", h.PATH_BLOCKED_MAX_RETRIES_EXCEEDED = \"PATH_BLOCKED_MAX_RETRIES_EXCEEDED\", h.PATH_BLOCKED = \"PATH_BLOCKED\", h.NO_PATH_FOUND = \"NO_PATH_FOUND\", h.PATH_BLOCKED_WAIT_TIMEOUT = \"PATH_BLOCKED_WAIT_TIMEOUT\", h.MOVEMENT_TERMINATED = \"MOVEMENT_TERMINATED\", h;\n}(Yt || {}),\n    ot = /*#__PURE__*/function () {\n  function ot(t, e, r) {\n    var _this = this;\n\n    var o = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 4;\n    var n = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n    var s = arguments.length > 5 ? arguments[5] : undefined;\n\n    _classCallCheck(this, ot);\n\n    this.character = t;\n    this.tilemap = e;\n    this.targetPos = r;\n    this.distance = n;\n    this.posOnPath = 0;\n    this.stopped = !1;\n\n    this.getNeighbours = function (t) {\n      return _this.distanceUtils.neighbours(t.position).filter(function (o) {\n        return !_this.isBlocking(o, t.layer);\n      }).map(function (o) {\n        var n = _this.tilemap.getTransition(o, t.layer);\n\n        return {\n          position: o,\n          layer: n || t.layer\n        };\n      });\n    };\n\n    this.isBlocking = function (t, e) {\n      var r;\n      return !t || !_this.tilemap.isInRange(t) ? !0 : (r = _this.character) != null && r.collidesWithTiles() ? _this.tilemap.isBlocking(e, t, _this.character.getCollisionGroups()) : _this.tilemap.hasBlockingChar(t, e, _this.character.getCollisionGroups());\n    };\n\n    this.noPathFoundStrategy = (s == null ? void 0 : s.noPathFoundStrategy) || \"STOP\", this.pathBlockedStrategy = (s == null ? void 0 : s.pathBlockedStrategy) || \"WAIT\", this.noPathFoundRetryable = new Rt((s == null ? void 0 : s.noPathFoundRetryBackoffMs) || 200, (s == null ? void 0 : s.noPathFoundMaxRetries) || -1, function () {\n      _this.stop(\"NO_PATH_FOUND_MAX_RETRIES_EXCEEDED\");\n    }), this.pathBlockedRetryable = new Rt((s == null ? void 0 : s.pathBlockedRetryBackoffMs) || 200, (s == null ? void 0 : s.pathBlockedMaxRetries) || -1, function () {\n      _this.stop(\"PATH_BLOCKED_MAX_RETRIES_EXCEEDED\");\n    }), this.distanceUtils = rt.create(o), this.pathBlockedWaitTimeoutMs = (s == null ? void 0 : s.pathBlockedWaitTimeoutMs) || -1, this.finished$ = new g(), this.setCharacter(t);\n  }\n\n  _createClass(ot, [{\n    key: \"setPathBlockedStrategy\",\n    value: function setPathBlockedStrategy(t) {\n      this.pathBlockedStrategy = t;\n    }\n  }, {\n    key: \"getPathBlockedStrategy\",\n    value: function getPathBlockedStrategy() {\n      return this.pathBlockedStrategy;\n    }\n  }, {\n    key: \"setCharacter\",\n    value: function setCharacter(t) {\n      var _this2 = this;\n\n      this.character = t, this.noPathFoundRetryable.reset(), this.pathBlockedRetryable.reset(), this.pathBlockedWaitElapsed = 0, this.calcShortestPath(), this.character.autoMovementSet().pipe(Z(1), F(function (e) {\n        return e !== _this2;\n      })).subscribe(function () {\n        _this2.stop(\"MOVEMENT_TERMINATED\");\n      });\n    }\n  }, {\n    key: \"update\",\n    value: function update(t) {\n      var _this3 = this;\n\n      var e, r, o, n;\n      this.stopped || (this.noPathFound() && (this.noPathFoundStrategy === \"RETRY\" ? this.noPathFoundRetryable.retry(t, function () {\n        return _this3.calcShortestPath();\n      }) : this.noPathFoundStrategy === \"STOP\" && this.stop(\"NO_PATH_FOUND\")), this.updatePosOnPath(), this.isBlocking((e = this.nextTileOnPath()) == null ? void 0 : e.position, (r = this.character) == null ? void 0 : r.getNextTilePos().layer) ? this.applyPathBlockedStrategy(t) : this.pathBlockedWaitElapsed = 0, this.hasArrived() ? (this.stop(\"SUCCESS\"), this.existsDistToTarget() && this.turnTowardsTarget()) : this.isBlocking((o = this.nextTileOnPath()) == null ? void 0 : o.position, (n = this.character) == null ? void 0 : n.getNextTilePos().layer) || this.moveCharOnPath());\n    }\n  }, {\n    key: \"finishedObs\",\n    value: function finishedObs() {\n      return this.finished$;\n    }\n  }, {\n    key: \"resultToReason\",\n    value: function resultToReason(t) {\n      switch (t) {\n        case \"SUCCESS\":\n          return \"Successfully arrived.\";\n\n        case \"MOVEMENT_TERMINATED\":\n          return \"Movement of character has been replaced before destination was reached.\";\n\n        case \"PATH_BLOCKED\":\n          return \"PathBlockedStrategy STOP: Path blocked.\";\n\n        case \"NO_PATH_FOUND_MAX_RETRIES_EXCEEDED\":\n          return \"NoPathFoundStrategy RETRY: Maximum retries of \".concat(this.noPathFoundRetryable.getMaxRetries(), \" exceeded.\");\n\n        case \"NO_PATH_FOUND\":\n          return \"NoPathFoundStrategy STOP: No path found.\";\n\n        case \"PATH_BLOCKED_MAX_RETRIES_EXCEEDED\":\n          return \"PathBlockedStrategy RETRY: Maximum retries of \".concat(this.pathBlockedRetryable.getMaxRetries(), \" exceeded.\");\n\n        case \"PATH_BLOCKED_WAIT_TIMEOUT\":\n          return \"PathBlockedStrategy WAIT: Wait timeout of \".concat(this.pathBlockedWaitTimeoutMs, \"ms exceeded.\");\n      }\n    }\n  }, {\n    key: \"applyPathBlockedStrategy\",\n    value: function applyPathBlockedStrategy(t) {\n      var _this4 = this;\n\n      this.pathBlockedStrategy === \"RETRY\" ? this.pathBlockedRetryable.retry(t, function () {\n        return _this4.calcShortestPath();\n      }) : this.pathBlockedStrategy === \"STOP\" ? this.stop(\"PATH_BLOCKED\") : this.pathBlockedStrategy === \"WAIT\" && this.pathBlockedWaitTimeoutMs > -1 && (this.pathBlockedWaitElapsed += t, this.pathBlockedWaitElapsed >= this.pathBlockedWaitTimeoutMs && this.stop(\"PATH_BLOCKED_WAIT_TIMEOUT\"));\n    }\n  }, {\n    key: \"moveCharOnPath\",\n    value: function moveCharOnPath() {\n      var t = this.getDir(this.character.getNextTilePos().position, this.nextTileOnPath().position);\n      this.character.move(t);\n    }\n  }, {\n    key: \"nextTileOnPath\",\n    value: function nextTileOnPath() {\n      return this.shortestPath[this.posOnPath + 1];\n    }\n  }, {\n    key: \"stop\",\n    value: function stop(t) {\n      this.finished$.next({\n        position: this.character.getTilePos().position,\n        result: t,\n        description: this.resultToReason(t),\n        layer: this.character.getTilePos().layer\n      }), this.finished$.complete(), this.stopped = !0;\n    }\n  }, {\n    key: \"turnTowardsTarget\",\n    value: function turnTowardsTarget() {\n      var t = this.shortestPath[this.posOnPath + 1],\n          e = this.getDir(this.character.getNextTilePos().position, t.position);\n      this.character.turnTowards(e);\n    }\n  }, {\n    key: \"existsDistToTarget\",\n    value: function existsDistToTarget() {\n      return this.posOnPath < this.shortestPath.length - 1;\n    }\n  }, {\n    key: \"hasArrived\",\n    value: function hasArrived() {\n      return !this.noPathFound() && this.posOnPath + Math.max(0, this.distance - this.distOffset) >= this.shortestPath.length - 1;\n    }\n  }, {\n    key: \"updatePosOnPath\",\n    value: function updatePosOnPath() {\n      var t = this.shortestPath[this.posOnPath];\n\n      for (; this.posOnPath < this.shortestPath.length - 1 && (this.character.getNextTilePos().position.x != t.position.x || this.character.getNextTilePos().position.y != t.position.y);) {\n        this.posOnPath++, t = this.shortestPath[this.posOnPath];\n      }\n    }\n  }, {\n    key: \"noPathFound\",\n    value: function noPathFound() {\n      return this.shortestPath.length === 0;\n    }\n  }, {\n    key: \"calcShortestPath\",\n    value: function calcShortestPath() {\n      var t = this.getShortestPath();\n      this.posOnPath = 0, this.shortestPath = t.path, this.distOffset = t.distOffset;\n    }\n  }, {\n    key: \"getShortestPath\",\n    value: function getShortestPath() {\n      var t = new zt(),\n          _t$getShortestPath = t.getShortestPath(this.character.getNextTilePos(), this.targetPos, this.getNeighbours),\n          e = _t$getShortestPath.path,\n          r = _t$getShortestPath.closestToTarget;\n\n      if (e.length == 0 && this.noPathFoundStrategy === \"CLOSEST_REACHABLE\") {\n        var n = t.getShortestPath(this.character.getNextTilePos(), r, this.getNeighbours).path,\n            s = this.distanceUtils.distance(r.position, this.targetPos.position);\n        return {\n          path: n,\n          distOffset: s\n        };\n      }\n\n      return {\n        path: e,\n        distOffset: 0\n      };\n    }\n  }, {\n    key: \"getDir\",\n    value: function getDir(t, e) {\n      return this.distanceUtils.direction(t, e);\n    }\n  }]);\n\n  return ot;\n}();\n\nvar Xt = /*#__PURE__*/function () {\n  function Xt(t, e, r) {\n    var _this5 = this;\n\n    var o = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 4;\n    var n = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n    var s = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : \"STOP\";\n\n    _classCallCheck(this, Xt);\n\n    this.character = t;\n    this.gridTilemap = e;\n    this.charToFollow = r;\n    this.numberOfDirections = o;\n    this.distance = n;\n    this.noPathFoundStrategy = s;\n    this.character = t, this.updateTarget(this.charToFollow.getTilePos().position, this.charToFollow.getTilePos().layer), this.charToFollow.positionChangeStarted().pipe(H(this.character.autoMovementSet().pipe(F(function (h) {\n      return h !== _this5;\n    })))).subscribe(function (_ref) {\n      var h = _ref.enterTile,\n          a = _ref.enterLayer;\n\n      _this5.updateTarget(h, a);\n    });\n  }\n\n  _createClass(Xt, [{\n    key: \"update\",\n    value: function update(t) {\n      var e;\n      (e = this.targetMovement) == null || e.update(t);\n    }\n  }, {\n    key: \"updateTarget\",\n    value: function updateTarget(t, e) {\n      this.targetMovement = new ot(this.character, this.gridTilemap, {\n        position: new p(t),\n        layer: e\n      }, this.numberOfDirections, this.distance + 1, {\n        noPathFoundStrategy: this.noPathFoundStrategy\n      });\n    }\n  }]);\n\n  return Xt;\n}();\n\nvar nt = /*#__PURE__*/function () {\n  function nt() {\n    _classCallCheck(this, nt);\n  }\n\n  _createClass(nt, null, [{\n    key: \"copyOver\",\n    value: function copyOver(t, e) {\n      e.position.x = t.position.x, e.position.y = t.position.y, e.layer = t.layer;\n    }\n  }, {\n    key: \"clone\",\n    value: function clone(t) {\n      return {\n        position: t.position.clone(),\n        layer: t.layer\n      };\n    }\n  }]);\n\n  return nt;\n}();\n\nvar J = /*#__PURE__*/function () {\n  function J(t, e, r) {\n    var _this$directionToFram;\n\n    _classCallCheck(this, J);\n\n    this.sprite = t;\n    this.walkingAnimationMapping = e;\n    this.characterIndex = r;\n    this.lastFootLeft = !1;\n    this.directionToFrameRow = (_this$directionToFram = {}, _defineProperty(_this$directionToFram, \"down\", 0), _defineProperty(_this$directionToFram, \"down-left\", 1), _defineProperty(_this$directionToFram, \"down-right\", 2), _defineProperty(_this$directionToFram, \"left\", 1), _defineProperty(_this$directionToFram, \"right\", 2), _defineProperty(_this$directionToFram, \"up\", 3), _defineProperty(_this$directionToFram, \"up-left\", 1), _defineProperty(_this$directionToFram, \"up-right\", 2), _this$directionToFram);\n    this._isEnabled = !0;\n  }\n\n  _createClass(J, [{\n    key: \"setIsEnabled\",\n    value: function setIsEnabled(t) {\n      this._isEnabled = t;\n    }\n  }, {\n    key: \"isEnabled\",\n    value: function isEnabled() {\n      return this._isEnabled;\n    }\n  }, {\n    key: \"updateCharacterFrame\",\n    value: function updateCharacterFrame(t, e) {\n      this._isEnabled && (e ? this.setStandingFrameDuringWalk(t) : this.setWalkingFrame(t));\n    }\n  }, {\n    key: \"setStandingFrame\",\n    value: function setStandingFrame(t) {\n      this._isEnabled && this._setStandingFrame(t);\n    }\n  }, {\n    key: \"setWalkingAnimationMapping\",\n    value: function setWalkingAnimationMapping(t) {\n      this.walkingAnimationMapping = t, this._isEnabled = this.walkingAnimationMapping !== void 0;\n    }\n  }, {\n    key: \"setCharacterIndex\",\n    value: function setCharacterIndex(t) {\n      this.characterIndex = t, this._isEnabled = this.characterIndex !== -1;\n    }\n  }, {\n    key: \"getWalkingAnimationMapping\",\n    value: function getWalkingAnimationMapping() {\n      return this.walkingAnimationMapping;\n    }\n  }, {\n    key: \"getCharacterIndex\",\n    value: function getCharacterIndex() {\n      return this.characterIndex;\n    }\n  }, {\n    key: \"setStandingFrameDuringWalk\",\n    value: function setStandingFrameDuringWalk(t) {\n      this.isCurrentFrameStanding(t) || (this.lastFootLeft = !this.lastFootLeft), this._setStandingFrame(t);\n    }\n  }, {\n    key: \"setWalkingFrame\",\n    value: function setWalkingFrame(t) {\n      var e = this.framesOfDirection(t);\n      this.sprite.setFrame(this.lastFootLeft ? e.rightFoot : e.leftFoot);\n    }\n  }, {\n    key: \"_setStandingFrame\",\n    value: function _setStandingFrame(t) {\n      this.sprite.setFrame(this.framesOfDirection(t).standing);\n    }\n  }, {\n    key: \"isCurrentFrameStanding\",\n    value: function isCurrentFrameStanding(t) {\n      return Number(this.sprite.frame.name) == this.framesOfDirection(t).standing;\n    }\n  }, {\n    key: \"framesOfDirection\",\n    value: function framesOfDirection(t) {\n      return this.walkingAnimationMapping ? this.getFramesForAnimationMapping(t) : this.getFramesForCharIndex(t);\n    }\n  }, {\n    key: \"getFramesForAnimationMapping\",\n    value: function getFramesForAnimationMapping(t) {\n      return this.walkingAnimationMapping[t] || this.walkingAnimationMapping[this.fallbackDirection(t)];\n    }\n  }, {\n    key: \"fallbackDirection\",\n    value: function fallbackDirection(t) {\n      switch (t) {\n        case \"down-left\":\n          return \"left\";\n\n        case \"down-right\":\n          return \"right\";\n\n        case \"up-left\":\n          return \"left\";\n\n        case \"up-right\":\n          return \"right\";\n      }\n\n      return t;\n    }\n  }, {\n    key: \"getFramesForCharIndex\",\n    value: function getFramesForCharIndex(t) {\n      var e = this.sprite.texture.source[0].width / this.sprite.width / J.FRAMES_CHAR_ROW,\n          r = Math.floor(this.characterIndex / e),\n          o = this.characterIndex % e,\n          n = e * J.FRAMES_CHAR_ROW,\n          s = J.FRAMES_CHAR_ROW * o,\n          h = this.directionToFrameRow[t] + r * J.FRAMES_CHAR_COL,\n          a = s + h * n;\n      return {\n        rightFoot: a,\n        standing: a + 1,\n        leftFoot: a + 2\n      };\n    }\n  }]);\n\n  return J;\n}(),\n    st = J;\n\nst.FRAMES_CHAR_ROW = 3, st.FRAMES_CHAR_COL = 4;\n\nvar at = /*#__PURE__*/function () {\n  function at() {\n    _classCallCheck(this, at);\n  }\n\n  _createClass(at, null, [{\n    key: \"shiftPad\",\n    value: function shiftPad(t, e) {\n      var r = Math.floor(t),\n          n = \"\".concat(r).padStart(e, \"0\").length;\n      return r / Math.pow(10, n);\n    }\n  }]);\n\n  return at;\n}();\n\nvar Kt = /*#__PURE__*/function () {\n  function Kt() {\n    _classCallCheck(this, Kt);\n  }\n\n  _createClass(Kt, null, [{\n    key: \"copyOverImportantProperties\",\n    value: function copyOverImportantProperties(t, e) {\n      e.x = t.x, e.y = t.y, e.tint = t.tint, e.alpha = t.alpha, e.scale = t.scale, e.setFrame(t.frame.name), e.active = t.active, e.alphaBottomLeft = t.alphaBottomLeft, e.alphaBottomRight = t.alphaBottomRight, e.alphaTopLeft = t.alphaTopLeft, e.alphaTopRight = t.alphaTopRight, e.angle = t.angle;\n    }\n  }]);\n\n  return Kt;\n}();\n\nvar qt = /*#__PURE__*/function () {\n  function qt(t, e) {\n    _classCallCheck(this, qt);\n\n    this.id = t;\n    this.movementDirection = \"none\";\n    this.tileSizePixelsWalked = p.ZERO;\n    this._nextTilePos = {\n      position: new p(0, 0),\n      layer: void 0\n    };\n    this._tilePos = {\n      position: new p(0, 0),\n      layer: void 0\n    };\n    this.movementStarted$ = new g();\n    this.movementStopped$ = new g();\n    this.directionChanged$ = new g();\n    this.positionChangeStarted$ = new g();\n    this.positionChangeFinished$ = new g();\n    this.tilePositionSet$ = new g();\n    this.autoMovementSet$ = new g();\n    this.lastMovementImpulse = \"none\";\n    this.facingDirection = \"down\";\n    this.characterIndex = -1;\n    typeof e.walkingAnimationMapping == \"number\" ? this.characterIndex = e.walkingAnimationMapping : this.walkingAnimationMapping = e.walkingAnimationMapping, this.container = e.container, this.tilemap = e.tilemap, this.speed = e.speed, this.collidesWithTilesInternal = e.collidesWithTiles, this.customOffset = new p(e.offsetX || 0, e.offsetY || 0), this._tilePos.layer = e.charLayer, this.sprite = e.sprite, this.layerOverlaySprite = e.layerOverlaySprite, this.collisionGroups = new Set(e.collisionGroups || []), this.layerOverlaySprite && this.initLayerOverlaySprite(), this._setSprite(this.sprite);\n  }\n\n  _createClass(qt, [{\n    key: \"getId\",\n    value: function getId() {\n      return this.id;\n    }\n  }, {\n    key: \"getSpeed\",\n    value: function getSpeed() {\n      return this.speed;\n    }\n  }, {\n    key: \"setSpeed\",\n    value: function setSpeed(t) {\n      this.speed = t;\n    }\n  }, {\n    key: \"getSprite\",\n    value: function getSprite() {\n      return this.sprite;\n    }\n  }, {\n    key: \"setSprite\",\n    value: function setSprite(t) {\n      this._setSprite(t);\n    }\n  }, {\n    key: \"setMovement\",\n    value: function setMovement(t) {\n      this.autoMovementSet$.next(t), this.movement = t;\n    }\n  }, {\n    key: \"getMovement\",\n    value: function getMovement() {\n      return this.movement;\n    }\n  }, {\n    key: \"collidesWithTiles\",\n    value: function collidesWithTiles() {\n      return this.collidesWithTilesInternal;\n    }\n  }, {\n    key: \"setWalkingAnimationMapping\",\n    value: function setWalkingAnimationMapping(t) {\n      typeof t == \"number\" ? this.animation.setCharacterIndex(t) : this.animation.setWalkingAnimationMapping(t);\n    }\n  }, {\n    key: \"setTilePosition\",\n    value: function setTilePosition(t) {\n      this.isMoving() && this.movementStopped$.next(this.movementDirection), this.tilePositionSet$.next(L({}, t)), this.nextTilePos = t, this.fire(this.positionChangeStarted$, this.tilePos, this.nextTilePos), this.fire(this.positionChangeFinished$, this.tilePos, this.nextTilePos), this.movementDirection = \"none\", this.lastMovementImpulse = \"none\", this.tilePos = t, this.setPosition(this.tilemap.tilePosToPixelPos(t.position).add(this.getOffset()).add(this.customOffset)), this.updateZindex();\n    }\n  }, {\n    key: \"getTilePos\",\n    value: function getTilePos() {\n      return this.tilePos;\n    }\n  }, {\n    key: \"getNextTilePos\",\n    value: function getNextTilePos() {\n      return this.nextTilePos;\n    }\n  }, {\n    key: \"move\",\n    value: function move(t) {\n      this.lastMovementImpulse = t, t != \"none\" && (this.isMoving() || (this.isBlockingDirection(t) ? (this.facingDirection = t, this.animation.setStandingFrame(t), this.directionChanged$.next(t)) : this.startMoving(t)));\n    }\n  }, {\n    key: \"update\",\n    value: function update(t) {\n      var e, r, o;\n      (e = this.movement) == null || e.update(t), this.isMoving() && (this.updateCharacterPosition(t), this.updateZindex()), this.lastMovementImpulse = \"none\", this.layerOverlaySprite && (Kt.copyOverImportantProperties(this.sprite, this.layerOverlaySprite), this.layerOverlaySprite.x = this.sprite.x + (((r = this.container) == null ? void 0 : r.x) || 0), this.layerOverlaySprite.y = this.sprite.y + (((o = this.container) == null ? void 0 : o.y) || 0));\n    }\n  }, {\n    key: \"getMovementDirection\",\n    value: function getMovementDirection() {\n      return this.movementDirection;\n    }\n  }, {\n    key: \"isBlockingDirection\",\n    value: function isBlockingDirection(t) {\n      if (t == \"none\") return !1;\n      var e = this.tilePosInDirection(t),\n          r = this.tilemap.getTransition(e, this.nextTilePos.layer) || this.nextTilePos.layer;\n      return this.collidesWithTilesInternal && this.tilemap.hasBlockingTile(r, e, rr(t)) ? !0 : this.tilemap.hasBlockingChar(e, r, this.getCollisionGroups());\n    }\n  }, {\n    key: \"isMoving\",\n    value: function isMoving() {\n      return this.movementDirection != \"none\";\n    }\n  }, {\n    key: \"turnTowards\",\n    value: function turnTowards(t) {\n      this.isMoving() || t != \"none\" && (this.facingDirection = t, this.animation.setStandingFrame(t));\n    }\n  }, {\n    key: \"getFacingDirection\",\n    value: function getFacingDirection() {\n      return this.facingDirection;\n    }\n  }, {\n    key: \"getFacingPosition\",\n    value: function getFacingPosition() {\n      return this._tilePos.position.add(k(this.facingDirection));\n    }\n  }, {\n    key: \"addCollisionGroup\",\n    value: function addCollisionGroup(t) {\n      this.collisionGroups.add(t);\n    }\n  }, {\n    key: \"setCollisionGroups\",\n    value: function setCollisionGroups(t) {\n      this.collisionGroups = new Set(t);\n    }\n  }, {\n    key: \"getCollisionGroups\",\n    value: function getCollisionGroups() {\n      return Array.from(this.collisionGroups);\n    }\n  }, {\n    key: \"hasCollisionGroup\",\n    value: function hasCollisionGroup(t) {\n      return this.collisionGroups.has(t);\n    }\n  }, {\n    key: \"removeCollisionGroup\",\n    value: function removeCollisionGroup(t) {\n      this.collisionGroups.delete(t);\n    }\n  }, {\n    key: \"removeAllCollisionGroups\",\n    value: function removeAllCollisionGroups() {\n      this.collisionGroups.clear();\n    }\n  }, {\n    key: \"movementStarted\",\n    value: function movementStarted() {\n      return this.movementStarted$;\n    }\n  }, {\n    key: \"movementStopped\",\n    value: function movementStopped() {\n      return this.movementStopped$;\n    }\n  }, {\n    key: \"directionChanged\",\n    value: function directionChanged() {\n      return this.directionChanged$;\n    }\n  }, {\n    key: \"tilePositionSet\",\n    value: function tilePositionSet() {\n      return this.tilePositionSet$;\n    }\n  }, {\n    key: \"positionChangeStarted\",\n    value: function positionChangeStarted() {\n      return this.positionChangeStarted$;\n    }\n  }, {\n    key: \"positionChangeFinished\",\n    value: function positionChangeFinished() {\n      return this.positionChangeFinished$;\n    }\n  }, {\n    key: \"autoMovementSet\",\n    value: function autoMovementSet() {\n      return this.autoMovementSet$;\n    }\n  }, {\n    key: \"_setSprite\",\n    value: function _setSprite(t) {\n      t.setOrigin(0, 0), t.x = this.sprite.x, t.y = this.sprite.y, this.sprite = t, this.animation = new st(this.sprite, this.walkingAnimationMapping, this.characterIndex), this.animation.setIsEnabled(this.walkingAnimationMapping !== void 0 || this.characterIndex !== -1), this.animation.setStandingFrame(\"down\"), this.updateZindex();\n    }\n  }, {\n    key: \"getOffset\",\n    value: function getOffset() {\n      var t = this.tilemap.getTileWidth() / 2 - Math.floor(this.sprite.displayWidth / 2),\n          e = -this.sprite.displayHeight + this.tilemap.getTileHeight();\n      return new p(t, e);\n    }\n  }, {\n    key: \"updateCharacterPosition\",\n    value: function updateCharacterPosition(t) {\n      var e = this.getSpeedPerDelta(t),\n          r = this.getDistToNextTile(),\n          o = r.length() <= e.length(),\n          n = o ? r : e;\n      this.moveCharacterSprite(n), o && (this.shouldContinueMoving() ? (this.fire(this.positionChangeFinished$, this.tilePos, this.nextTilePos), this.startMoving(this.lastMovementImpulse), this.updateCharacterPosition(t * this.getProportionWalked(e, r))) : this.stopMoving());\n    }\n  }, {\n    key: \"speedPixelsPerSecond\",\n    value: function speedPixelsPerSecond(t) {\n      return k(t).abs().multiply(this.tilemap.getTileDistance(t)).scalarMult(this.speed);\n    }\n  }, {\n    key: \"nextTilePos\",\n    get: function get() {\n      return {\n        position: this._nextTilePos.position.clone(),\n        layer: this._nextTilePos.layer\n      };\n    },\n    set: function set(t) {\n      nt.copyOver(t, this._nextTilePos);\n    }\n  }, {\n    key: \"tilePos\",\n    get: function get() {\n      return nt.clone(this._tilePos);\n    },\n    set: function set(t) {\n      nt.copyOver(t, this._tilePos);\n    }\n  }, {\n    key: \"gameObject\",\n    value: function gameObject() {\n      return this.container || this.sprite;\n    }\n  }, {\n    key: \"updateZindex\",\n    value: function updateZindex() {\n      if (this.setDepth(this.gameObject(), this.nextTilePos), this.layerOverlaySprite) {\n        var t = new p($(L({}, this.nextTilePos.position), {\n          y: this.nextTilePos.position.y - 1\n        }));\n        this.setDepth(this.layerOverlaySprite, {\n          position: t,\n          layer: this.nextTilePos.layer\n        });\n      }\n    }\n  }, {\n    key: \"setDepth\",\n    value: function setDepth(t, e) {\n      t.setDepth(this.tilemap.getDepthOfCharLayer(this.getTransitionLayer(e)) + this.getPaddedPixelDepth());\n    }\n  }, {\n    key: \"getPaddedPixelDepth\",\n    value: function getPaddedPixelDepth() {\n      return at.shiftPad(this.gameObject().y + this.gameObject().displayHeight, 7);\n    }\n  }, {\n    key: \"getTransitionLayer\",\n    value: function getTransitionLayer(t) {\n      return this.tilemap.getTransition(t.position, t.layer) || t.layer;\n    }\n  }, {\n    key: \"setPosition\",\n    value: function setPosition(t) {\n      this.gameObject().x = t.x, this.gameObject().y = t.y;\n    }\n  }, {\n    key: \"getPosition\",\n    value: function getPosition() {\n      return new p(this.gameObject().x, this.gameObject().y);\n    }\n  }, {\n    key: \"startMoving\",\n    value: function startMoving(t) {\n      t !== \"none\" && (t != this.movementDirection && this.movementStarted$.next(t), this.movementDirection = t, this.facingDirection = t, this.updateTilePos());\n    }\n  }, {\n    key: \"updateTilePos\",\n    value: function updateTilePos() {\n      this.tilePos = this.nextTilePos;\n      var t = this.tilePosInDirection(this.movementDirection),\n          r = this.tilemap.getTransition(t, this.tilePos.layer) || this.tilePos.layer;\n      this.nextTilePos = {\n        position: t,\n        layer: r\n      }, this.fire(this.positionChangeStarted$, this.tilePos, this.nextTilePos);\n    }\n  }, {\n    key: \"tilePosInDirection\",\n    value: function tilePosInDirection(t) {\n      return this.nextTilePos.position.add(k(this.tilemap.toMapDirection(t)));\n    }\n  }, {\n    key: \"getDistToNextTile\",\n    value: function getDistToNextTile() {\n      return this.tilemap.getTileDistance(this.movementDirection).subtract(this.tileSizePixelsWalked).multiply(k(this.movementDirection));\n    }\n  }, {\n    key: \"getProportionWalked\",\n    value: function getProportionWalked(t, e) {\n      var o = t.subtract(e).divide(t);\n      return isNaN(o.x) && (o.x = 0), Math.max(Math.abs(o.x), Math.abs(o.y));\n    }\n  }, {\n    key: \"shouldContinueMoving\",\n    value: function shouldContinueMoving() {\n      return this.lastMovementImpulse !== \"none\" && !this.isBlockingDirection(this.lastMovementImpulse);\n    }\n  }, {\n    key: \"getSpeedPerDelta\",\n    value: function getSpeedPerDelta(t) {\n      var e = t / 1e3;\n      return this.speedPixelsPerSecond(this.movementDirection).scalarMult(e).multiply(k(this.movementDirection));\n    }\n  }, {\n    key: \"moveCharacterSprite\",\n    value: function moveCharacterSprite(t) {\n      var e = this.getPosition().add(t);\n      this.setPosition(e), this.tileSizePixelsWalked = this.tileSizePixelsWalked.add(t.abs()), this.animation.updateCharacterFrame(this.movementDirection, this.hasWalkedHalfATile()), this.tileSizePixelsWalked = this.tileSizePixelsWalked.modulo(this.tilemap.getTileDistance(this.movementDirection));\n    }\n  }, {\n    key: \"stopMoving\",\n    value: function stopMoving() {\n      if (this.movementDirection === \"none\") return;\n      var t = this.tilePos,\n          e = this.nextTilePos,\n          r = this.movementDirection;\n      this.tilePos = this.nextTilePos, this.movementDirection = \"none\", this.movementStopped$.next(r), this.fire(this.positionChangeFinished$, t, e);\n    }\n  }, {\n    key: \"hasWalkedHalfATile\",\n    value: function hasWalkedHalfATile() {\n      return this.tileSizePixelsWalked.x > this.tilemap.getTileDistance(this.movementDirection).x / 2 || this.tileSizePixelsWalked.y > this.tilemap.getTileDistance(this.movementDirection).y / 2;\n    }\n  }, {\n    key: \"fire\",\n    value: function fire(t, _ref2, _ref3) {\n      var e = _ref2.position,\n          r = _ref2.layer;\n      var o = _ref3.position,\n          n = _ref3.layer;\n      t.next({\n        exitTile: e,\n        enterTile: o,\n        exitLayer: r,\n        enterLayer: n\n      });\n    }\n  }, {\n    key: \"initLayerOverlaySprite\",\n    value: function initLayerOverlaySprite() {\n      this.layerOverlaySprite.scale = this.sprite.scale;\n      var t = this.tilemap.getTileHeight() / this.layerOverlaySprite.scale;\n      this.layerOverlaySprite.setCrop(0, 0, this.layerOverlaySprite.displayWidth, this.sprite.height - t), this.layerOverlaySprite.setOrigin(0, 0);\n    }\n  }]);\n\n  return qt;\n}();\n\nvar Zt = /*#__PURE__*/function () {\n  function Zt() {\n    _classCallCheck(this, Zt);\n\n    this.tilePosToCharacters = new Map();\n    this.positionChangeStartedSubs = new Map();\n    this.tilePosSetSubs = new Map();\n    this.positionChangeFinishedSubs = new Map();\n  }\n\n  _createClass(Zt, [{\n    key: \"isCharBlockingAt\",\n    value: function isCharBlockingAt(t, e, r) {\n      var o = this.posToString(t, e);\n      return this.tilePosToCharacters.has(o) && this.tilePosToCharacters.get(o).size > 0 && _toConsumableArray(this.tilePosToCharacters.get(o)).some(function (n) {\n        return n.getCollisionGroups().some(function (s) {\n          return r.includes(s);\n        });\n      });\n    }\n  }, {\n    key: \"addCharacter\",\n    value: function addCharacter(t) {\n      this.add(this.posToString(t.getTilePos().position, t.getTilePos().layer), t), this.add(this.posToString(t.getNextTilePos().position, t.getNextTilePos().layer), t), this.addPositionChangeSub(t), this.addPositionChangeFinishedSub(t), this.addTilePosSetSub(t);\n    }\n  }, {\n    key: \"removeCharacter\",\n    value: function removeCharacter(t) {\n      var e = t.getId();\n      this.positionChangeStartedSubs.get(e).unsubscribe(), this.positionChangeFinishedSubs.get(e).unsubscribe(), this.tilePosSetSubs.get(e).unsubscribe(), this.tilePosToCharacters.get(this.posToString(t.getTilePos().position, t.getTilePos().layer)).delete(t), this.tilePosToCharacters.get(this.posToString(t.getNextTilePos().position, t.getNextTilePos().layer)).delete(t);\n    }\n  }, {\n    key: \"add\",\n    value: function add(t, e) {\n      this.tilePosToCharacters.has(t) || this.tilePosToCharacters.set(t, new Set()), this.tilePosToCharacters.get(t).add(e);\n    }\n  }, {\n    key: \"addTilePosSetSub\",\n    value: function addTilePosSetSub(t) {\n      var _this6 = this;\n\n      var e = t.tilePositionSet().subscribe(function (r) {\n        _this6.tilePosToCharacters.get(_this6.posToString(t.getNextTilePos().position, t.getNextTilePos().layer)).delete(t);\n      });\n      this.tilePosSetSubs.set(t.getId(), e);\n    }\n  }, {\n    key: \"addPositionChangeSub\",\n    value: function addPositionChangeSub(t) {\n      var _this7 = this;\n\n      var e = t.positionChangeStarted().subscribe(function (r) {\n        x.get().characterCollisionStrategy === \"BLOCK_ONE_TILE_AHEAD\" && _this7.tilePosToCharacters.get(_this7.posToString(r.exitTile, r.exitLayer)).delete(t), _this7.add(_this7.posToString(r.enterTile, r.enterLayer), t);\n      });\n      this.positionChangeStartedSubs.set(t.getId(), e);\n    }\n  }, {\n    key: \"addPositionChangeFinishedSub\",\n    value: function addPositionChangeFinishedSub(t) {\n      var _this8 = this;\n\n      var e = t.positionChangeFinished().subscribe(function (r) {\n        _this8.tilePosToCharacters.get(_this8.posToString(r.exitTile, r.exitLayer)).delete(t);\n      });\n      this.positionChangeFinishedSubs.set(t.getId(), e);\n    }\n  }, {\n    key: \"posToString\",\n    value: function posToString(t, e) {\n      return \"\".concat(t.x, \"#\").concat(t.y, \"#\").concat(e);\n    }\n  }]);\n\n  return Zt;\n}();\n\nvar Qt = /*#__PURE__*/function () {\n  function Qt(t, e, r, o) {\n    _classCallCheck(this, Qt);\n\n    this.x = t;\n    this.y = e;\n    this.width = r;\n    this.height = o;\n  }\n\n  _createClass(Qt, [{\n    key: \"getX\",\n    value: function getX() {\n      return this.x;\n    }\n  }, {\n    key: \"getY\",\n    value: function getY() {\n      return this.y;\n    }\n  }, {\n    key: \"getWidth\",\n    value: function getWidth() {\n      return this.width;\n    }\n  }, {\n    key: \"getHeight\",\n    value: function getHeight() {\n      return this.height;\n    }\n  }, {\n    key: \"isInRange\",\n    value: function isInRange(t) {\n      return t.x >= this.x && t.x < this.x + this.width && t.y >= this.y && t.y < this.y + this.height;\n    }\n  }]);\n\n  return Qt;\n}();\n\nvar O = /*#__PURE__*/function () {\n  function O(t) {\n    _classCallCheck(this, O);\n\n    this.tilemap = t;\n    this.characters = new Map();\n    this.charBlockCache = new Zt();\n    this.charLayerDepths = new Map();\n    this.transitions = new Map();\n    this.setLayerDepths();\n  }\n\n  _createClass(O, [{\n    key: \"addCharacter\",\n    value: function addCharacter(t) {\n      this.characters.set(t.getId(), t), t.getNextTilePos().layer === void 0 && t.setTilePosition($(L({}, t.getNextTilePos()), {\n        layer: this.getLowestCharLayer()\n      })), this.charBlockCache.addCharacter(t);\n    }\n  }, {\n    key: \"removeCharacter\",\n    value: function removeCharacter(t) {\n      this.charBlockCache.removeCharacter(this.characters.get(t)), this.characters.delete(t);\n    }\n  }, {\n    key: \"getCharacters\",\n    value: function getCharacters() {\n      return _toConsumableArray(this.characters.values());\n    }\n  }, {\n    key: \"isBlocking\",\n    value: function isBlocking(t, e, r, o) {\n      return this.hasNoTile(e, t) || this.hasBlockingTile(t, e, o) || this.hasBlockingChar(e, t, r);\n    }\n  }, {\n    key: \"hasBlockingTile\",\n    value: function hasBlockingTile(t, e, r) {\n      var _this9 = this;\n\n      return this.hasNoTile(e, t) ? !0 : this.getCollisionRelevantLayers(t).some(function (o) {\n        return _this9.isLayerBlockingAt(o, e, r);\n      });\n    }\n  }, {\n    key: \"getTransition\",\n    value: function getTransition(t, e) {\n      var r = this.transitions.get(t.toString());\n      if (r) return r.get(e);\n    }\n  }, {\n    key: \"setTransition\",\n    value: function setTransition(t, e, r) {\n      this.transitions.has(t.toString()) || this.transitions.set(t.toString(), new Map()), this.transitions.get(t.toString()).set(e, r);\n    }\n  }, {\n    key: \"getTransitions\",\n    value: function getTransitions() {\n      return new Map(_toConsumableArray(this.transitions).map(function (_ref4) {\n        var _ref5 = _slicedToArray(_ref4, 2),\n            t = _ref5[0],\n            e = _ref5[1];\n\n        return [t, new Map(e)];\n      }));\n    }\n  }, {\n    key: \"hasNoTile\",\n    value: function hasNoTile(t, e) {\n      var _this10 = this;\n\n      return !this.getCollisionRelevantLayers(e).some(function (r) {\n        return _this10.tilemap.hasTileAt(t.x, t.y, r.name);\n      });\n    }\n  }, {\n    key: \"hasBlockingChar\",\n    value: function hasBlockingChar(t, e, r) {\n      return this.charBlockCache.isCharBlockingAt(t, e, r);\n    }\n  }, {\n    key: \"getTileWidth\",\n    value: function getTileWidth() {\n      var t = this.tilemap.layers[0].tilemapLayer.scale;\n      return this.tilemap.tileWidth * t;\n    }\n  }, {\n    key: \"getTileHeight\",\n    value: function getTileHeight() {\n      var t = this.tilemap.layers[0].tilemapLayer.scale;\n      return this.tilemap.tileHeight * t;\n    }\n  }, {\n    key: \"getDepthOfCharLayer\",\n    value: function getDepthOfCharLayer(t) {\n      return this.charLayerDepths.get(t) || 0;\n    }\n  }, {\n    key: \"isInRange\",\n    value: function isInRange(t) {\n      return new Qt(0, 0, this.tilemap.width, this.tilemap.height).isInRange(t);\n    }\n  }, {\n    key: \"getTileSize\",\n    value: function getTileSize() {\n      return new p(this.getTileWidth(), this.getTileHeight());\n    }\n  }, {\n    key: \"tilePosToPixelPos\",\n    value: function tilePosToPixelPos(t) {\n      return this.isIsometric() ? T.scalarMult(this.getTileSize(), .5).multiply(new p(t.x - t.y, t.x + t.y)) : t.clone().multiply(this.getTileSize());\n    }\n  }, {\n    key: \"getTileDistance\",\n    value: function getTileDistance(t) {\n      if (this.isIsometric()) switch (t) {\n        case \"down-left\":\n        case \"down-right\":\n        case \"up-left\":\n        case \"up-right\":\n          return T.scalarMult(this.getTileSize(), .5);\n\n        default:\n          return this.getTileSize();\n      }\n      return this.getTileSize();\n    }\n  }, {\n    key: \"toMapDirection\",\n    value: function toMapDirection(t) {\n      return this.isIsometric() ? er(t) : t;\n    }\n  }, {\n    key: \"isIsometric\",\n    value: function isIsometric() {\n      return this.tilemap.orientation == Phaser.Tilemaps.Orientation.ISOMETRIC.toString();\n    }\n  }, {\n    key: \"isLayerBlockingAt\",\n    value: function isLayerBlockingAt(t, e, r) {\n      var o = O.ONE_WAY_COLLIDE_PROP_PREFIX + r,\n          n = this.tilemap.getTileAt(e.x, e.y, !1, t.name);\n      return Boolean((n == null ? void 0 : n.properties) && (n.properties[x.get().collisionTilePropertyName] || n.properties[o]));\n    }\n  }, {\n    key: \"getCharLayerIndexes\",\n    value: function getCharLayerIndexes() {\n      var _this11 = this;\n\n      return this.tilemap.layers.map(function (t, e) {\n        return {\n          layer: t,\n          index: e\n        };\n      }).filter(function (_ref6) {\n        var t = _ref6.layer;\n        return _this11.isCharLayer(t);\n      }).map(function (_ref7) {\n        var t = _ref7.index;\n        return t;\n      });\n    }\n  }, {\n    key: \"findPrevAndCharLayer\",\n    value: function findPrevAndCharLayer(t) {\n      var _this12 = this;\n\n      var e = this.getCharLayerIndexes(),\n          r = e.findIndex(function (o) {\n        return _this12.getLayerProp(_this12.tilemap.layers[o], O.CHAR_LAYER_PROP_NAME) == t;\n      });\n      return r == 0 ? {\n        prevIndex: -1,\n        charLayerIndex: e[r]\n      } : {\n        prevIndex: e[r - 1],\n        charLayerIndex: e[r]\n      };\n    }\n  }, {\n    key: \"getCollisionRelevantLayers\",\n    value: function getCollisionRelevantLayers(t) {\n      if (!t) return this.tilemap.layers;\n\n      var _this$findPrevAndChar = this.findPrevAndCharLayer(t),\n          e = _this$findPrevAndChar.prevIndex,\n          r = _this$findPrevAndChar.charLayerIndex;\n\n      return this.tilemap.layers.slice(e + 1, r + 1);\n    }\n  }, {\n    key: \"getLowestCharLayer\",\n    value: function getLowestCharLayer() {\n      var _this13 = this;\n\n      var t = this.tilemap.layers.find(function (e) {\n        return _this13.hasLayerProp(e, O.CHAR_LAYER_PROP_NAME);\n      });\n      if (t) return this.getLayerProp(t, O.CHAR_LAYER_PROP_NAME);\n    }\n  }, {\n    key: \"getLayerProp\",\n    value: function getLayerProp(t, e) {\n      var o = t.properties.find(function (n) {\n        return n.name == e;\n      });\n      return o == null ? void 0 : o.value;\n    }\n  }, {\n    key: \"hasLayerProp\",\n    value: function hasLayerProp(t, e) {\n      return this.getLayerProp(t, e) != null;\n    }\n  }, {\n    key: \"isLayerAlwaysOnTop\",\n    value: function isLayerAlwaysOnTop(t) {\n      return this.hasLayerProp(t, O.ALWAYS_TOP_PROP_NAME);\n    }\n  }, {\n    key: \"isCharLayer\",\n    value: function isCharLayer(t) {\n      return this.hasLayerProp(t, O.CHAR_LAYER_PROP_NAME);\n    }\n  }, {\n    key: \"setLayerDepths\",\n    value: function setLayerDepths() {\n      var _this14 = this;\n\n      var t = [],\n          e = -1,\n          r = this.tilemap.layers.filter(function (n) {\n        return _this14.isLayerAlwaysOnTop(n);\n      }),\n          o = this.tilemap.layers.filter(function (n) {\n        return !_this14.isLayerAlwaysOnTop(n);\n      });\n      o.forEach(function (n) {\n        _this14.hasLayerProp(n, O.HEIGHT_SHIFT_PROP_NAME) ? (_this14.createHeightShiftLayers(n, e), t.push(n.tilemapLayer)) : _this14.setDepth(n, ++e);\n      }), o.forEach(function (n) {\n        _this14.isCharLayer(n) || _this14.charLayerDepths.set(void 0, e);\n      }), r.forEach(function (n, s) {\n        n.tilemapLayer.setDepth(s + 1 + e);\n      }), t.forEach(function (n) {\n        return n.destroy();\n      });\n    }\n  }, {\n    key: \"setDepth\",\n    value: function setDepth(t, e) {\n      t.tilemapLayer.setDepth(e), this.isCharLayer(t) && this.charLayerDepths.set(this.getLayerProp(t, O.CHAR_LAYER_PROP_NAME), e);\n    }\n  }, {\n    key: \"createHeightShiftLayers\",\n    value: function createHeightShiftLayers(t, e) {\n      var r = this.getLayerProp(t, O.HEIGHT_SHIFT_PROP_NAME),\n          o = 1;\n\n      for (var n = 0; n < t.height; n++) {\n        var s = this.copyLayer(t, n);\n        s.scale = t.tilemapLayer.scale, s.setDepth(e + at.shiftPad((n + r) * this.getTileHeight() + o, O.Z_INDEX_PADDING));\n      }\n    }\n  }, {\n    key: \"copyLayer\",\n    value: function copyLayer(t, e) {\n      var r = this.tilemap.createBlankLayer(\"\".concat(t.name, \"#\").concat(e), t.tilemapLayer.tileset);\n\n      for (var o = 0; o < t.width; o++) {\n        r.putTileAt(t.data[e][o], o, e);\n      }\n\n      return r;\n    }\n  }]);\n\n  return O;\n}(),\n    N = O;\n\nN.ALWAYS_TOP_PROP_NAME = \"ge_alwaysTop\", N.CHAR_LAYER_PROP_NAME = \"ge_charLayer\", N.HEIGHT_SHIFT_PROP_NAME = \"ge_heightShift\", N.ONE_WAY_COLLIDE_PROP_PREFIX = \"ge_collide_\", N.Z_INDEX_PADDING = 7;\n\nvar Mt = /*#__PURE__*/function () {\n  function Mt() {\n    _classCallCheck(this, Mt);\n  }\n\n  _createClass(Mt, null, [{\n    key: \"getRandomInt\",\n    value: function getRandomInt(t) {\n      return Math.floor(Math.random() * Math.floor(t));\n    }\n  }]);\n\n  return Mt;\n}();\n\nvar Jt = /*#__PURE__*/function () {\n  function Jt(t) {\n    var _this15 = this;\n\n    var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 4;\n    var r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    var o = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : -1;\n\n    _classCallCheck(this, Jt);\n\n    this.character = t;\n    this.delay = r;\n    this.radius = o;\n    this.delayLeft = this.delay, this.initialRow = t.getNextTilePos().position.y, this.initialCol = t.getNextTilePos().position.x, this.randomizeStepSize(), this.stepsWalked = 0, this.currentMovementDirection = \"none\", this.character.positionChangeStarted().pipe(H(this.character.autoMovementSet())).subscribe(function () {\n      _this15.stepsWalked++;\n    }), this.distanceUtils = rt.create(e);\n  }\n\n  _createClass(Jt, [{\n    key: \"update\",\n    value: function update(t) {\n      if (this.shouldContinueWalkingCurrentDirection()) this.character.move(this.currentMovementDirection);else if (this.delayLeft -= t, this.delayLeft <= 0) {\n        this.delayLeft = this.delay;\n        var e = this.getFreeRandomDirection();\n        this.stepsWalked = 0, this.character.move(e), this.currentMovementDirection = e, this.randomizeStepSize();\n      }\n    }\n  }, {\n    key: \"shouldContinueWalkingCurrentDirection\",\n    value: function shouldContinueWalkingCurrentDirection() {\n      return this.stepsWalked < this.stepSize && this.currentMovementDirection !== \"none\" && !this.character.isBlockingDirection(this.currentMovementDirection) && this.isWithinRadius(this.currentMovementDirection);\n    }\n  }, {\n    key: \"getFreeDirections\",\n    value: function getFreeDirections() {\n      var _this16 = this;\n\n      return this.distanceUtils.getDirections().filter(function (e) {\n        return !_this16.character.isBlockingDirection(e);\n      }).filter(function (e) {\n        return _this16.isWithinRadius(e);\n      });\n    }\n  }, {\n    key: \"isWithinRadius\",\n    value: function isWithinRadius(t) {\n      return this.radius == -1 ? !0 : this.getDist(t) <= this.radius;\n    }\n  }, {\n    key: \"getDist\",\n    value: function getDist(t) {\n      return this.distanceUtils.distance(this.character.getNextTilePos().position.add(k(t)), new p(this.initialCol, this.initialRow));\n    }\n  }, {\n    key: \"getFreeRandomDirection\",\n    value: function getFreeRandomDirection() {\n      var t = this.getFreeDirections();\n      return t.length == 0 ? \"none\" : t[Mt.getRandomInt(t.length)];\n    }\n  }, {\n    key: \"randomizeStepSize\",\n    value: function randomizeStepSize() {\n      this.stepSize = Mt.getRandomInt(this.radius) + 1;\n    }\n  }]);\n\n  return Jt;\n}();\n\nvar ir = function (e) {\n  return e.REMOVED = \"REMOVED\", e.ADDED = \"ADDED\", e;\n}(ir || {}),\n    Ft = /*#__PURE__*/function () {\n  function Ft(t) {\n    _classCallCheck(this, Ft);\n\n    this.scene = t;\n    this.isCreated = !1;\n    this.scene.sys.events.once(\"boot\", this.boot, this);\n  }\n\n  _createClass(Ft, [{\n    key: \"boot\",\n    value: function boot() {\n      this.scene.sys.events.on(\"update\", this.update, this), this.scene.sys.events.on(\"destroy\", this.destroy, this);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.scene = void 0, this.gridCharacters = void 0, this.gridTilemap = void 0, this.movementStarted$ = void 0, this.movementStopped$ = void 0, this.directionChanged$ = void 0, this.positionChangeStarted$ = void 0, this.positionChangeFinished$ = void 0, this.charRemoved$ = void 0, this.charAdded$ = void 0;\n    }\n  }, {\n    key: \"getCharLayer\",\n    value: function getCharLayer(t) {\n      return this.initGuard(), this.unknownCharGuard(t), this.gridCharacters.get(t).getTilePos().layer;\n    }\n  }, {\n    key: \"getTransition\",\n    value: function getTransition(t, e) {\n      return this.initGuard(), this.gridTilemap.getTransition(new p(t), e);\n    }\n  }, {\n    key: \"setTransition\",\n    value: function setTransition(t, e, r) {\n      return this.initGuard(), this.gridTilemap.setTransition(new p(t), e, r);\n    }\n  }, {\n    key: \"create\",\n    value: function create(t, e) {\n      this.isCreated = !0, this.gridCharacters = new Map();\n      var r = this.setConfigDefaults(e);\n      x.set(r), this.movementStopped$ = new g(), this.movementStarted$ = new g(), this.directionChanged$ = new g(), this.positionChangeStarted$ = new g(), this.positionChangeFinished$ = new g(), this.charRemoved$ = new g(), this.charAdded$ = new g(), this.gridTilemap = new N(t), this.addCharacters();\n    }\n  }, {\n    key: \"getPosition\",\n    value: function getPosition(t) {\n      return this.initGuard(), this.unknownCharGuard(t), this.gridCharacters.get(t).getTilePos().position;\n    }\n  }, {\n    key: \"move\",\n    value: function move(t, e) {\n      this.moveChar(t, e);\n    }\n  }, {\n    key: \"moveRandomly\",\n    value: function moveRandomly(t) {\n      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : -1;\n      this.initGuard(), this.unknownCharGuard(t);\n      var o = new Jt(this.gridCharacters.get(t), x.get().numberOfDirections, e, r);\n      this.gridCharacters.get(t).setMovement(o);\n    }\n  }, {\n    key: \"moveTo\",\n    value: function moveTo(t, e, r) {\n      var o = this.assembleMoveToConfig(r);\n      this.initGuard(), this.unknownCharGuard(t);\n      var n = new ot(this.gridCharacters.get(t), this.gridTilemap, {\n        position: new p(e),\n        layer: (r == null ? void 0 : r.targetLayer) || this.gridCharacters.get(t).getNextTilePos().layer\n      }, x.get().numberOfDirections, 0, o);\n      return this.gridCharacters.get(t).setMovement(n), n.finishedObs().pipe(Z(1), B(function (s) {\n        return {\n          charId: t,\n          position: s.position,\n          result: s.result,\n          description: s.description,\n          layer: s.layer\n        };\n      }));\n    }\n  }, {\n    key: \"stopMovement\",\n    value: function stopMovement(t) {\n      this.initGuard(), this.unknownCharGuard(t), this.gridCharacters.get(t).setMovement(void 0);\n    }\n  }, {\n    key: \"setSpeed\",\n    value: function setSpeed(t, e) {\n      this.initGuard(), this.unknownCharGuard(t), this.gridCharacters.get(t).setSpeed(e);\n    }\n  }, {\n    key: \"setWalkingAnimationMapping\",\n    value: function setWalkingAnimationMapping(t, e) {\n      this.initGuard(), this.unknownCharGuard(t), this.gridCharacters.get(t).setWalkingAnimationMapping(e);\n    }\n  }, {\n    key: \"update\",\n    value: function update(t, e) {\n      if (this.isCreated && this.gridCharacters) {\n        var _iterator4 = _createForOfIteratorHelper(this.gridCharacters),\n            _step4;\n\n        try {\n          for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n            var _step4$value = _slicedToArray(_step4.value, 2),\n                r = _step4$value[0],\n                o = _step4$value[1];\n\n            o.update(e);\n          }\n        } catch (err) {\n          _iterator4.e(err);\n        } finally {\n          _iterator4.f();\n        }\n      }\n    }\n  }, {\n    key: \"addCharacter\",\n    value: function addCharacter(t) {\n      var _this17 = this;\n\n      this.initGuard();\n      var e = x.get().layerOverlay ? this.scene.add.sprite(0, 0, t.sprite.texture) : void 0,\n          r = {\n        sprite: t.sprite,\n        layerOverlaySprite: e,\n        speed: t.speed || 4,\n        tilemap: this.gridTilemap,\n        walkingAnimationMapping: t.walkingAnimationMapping,\n        container: t.container,\n        offsetX: t.offsetX,\n        offsetY: t.offsetY,\n        collidesWithTiles: !0,\n        collisionGroups: [\"geDefault\"],\n        charLayer: t.charLayer\n      };\n      typeof t.collides == \"boolean\" ? t.collides === !1 && (r.collidesWithTiles = !1, r.collisionGroups = []) : t.collides !== void 0 && (t.collides.collidesWithTiles === !1 && (r.collidesWithTiles = !1), t.collides.collisionGroups && (r.collisionGroups = t.collides.collisionGroups));\n      var o = this.createCharacter(t.id, r);\n      t.facingDirection && o.turnTowards(t.facingDirection), this.gridCharacters.set(t.id, o);\n      var n = t.startPosition ? new p(t.startPosition) : new p(0, 0);\n      o.setTilePosition({\n        position: n,\n        layer: o.getTilePos().layer\n      }), this.gridTilemap.addCharacter(o), o.movementStopped().pipe(this.takeUntilCharRemoved(o.getId())).subscribe(function (s) {\n        _this17.movementStopped$.next({\n          charId: o.getId(),\n          direction: s\n        });\n      }), o.movementStarted().pipe(this.takeUntilCharRemoved(o.getId())).subscribe(function (s) {\n        _this17.movementStarted$.next({\n          charId: o.getId(),\n          direction: s\n        });\n      }), o.directionChanged().pipe(this.takeUntilCharRemoved(o.getId())).subscribe(function (s) {\n        _this17.directionChanged$.next({\n          charId: o.getId(),\n          direction: s\n        });\n      }), o.positionChangeStarted().pipe(this.takeUntilCharRemoved(o.getId())).subscribe(function (s) {\n        _this17.positionChangeStarted$.next(L({\n          charId: o.getId()\n        }, s));\n      }), o.positionChangeFinished().pipe(this.takeUntilCharRemoved(o.getId())).subscribe(function (s) {\n        _this17.positionChangeFinished$.next(L({\n          charId: o.getId()\n        }, s));\n      }), this.charAdded$.next(t.id);\n    }\n  }, {\n    key: \"hasCharacter\",\n    value: function hasCharacter(t) {\n      return this.initGuard(), this.gridCharacters.has(t);\n    }\n  }, {\n    key: \"removeCharacter\",\n    value: function removeCharacter(t) {\n      this.initGuard(), this.unknownCharGuard(t), this.gridTilemap.removeCharacter(t), this.gridCharacters.delete(t), this.charRemoved$.next(t);\n    }\n  }, {\n    key: \"removeAllCharacters\",\n    value: function removeAllCharacters() {\n      this.initGuard();\n\n      var _iterator5 = _createForOfIteratorHelper(this.gridCharacters.keys()),\n          _step5;\n\n      try {\n        for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n          var t = _step5.value;\n          this.removeCharacter(t);\n        }\n      } catch (err) {\n        _iterator5.e(err);\n      } finally {\n        _iterator5.f();\n      }\n    }\n  }, {\n    key: \"getAllCharacters\",\n    value: function getAllCharacters() {\n      return this.initGuard(), _toConsumableArray(this.gridCharacters.keys());\n    }\n  }, {\n    key: \"follow\",\n    value: function follow(t, e) {\n      var r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      var o = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : !1;\n      this.initGuard(), this.unknownCharGuard(t), this.unknownCharGuard(e);\n      var n = new Xt(this.gridCharacters.get(t), this.gridTilemap, this.gridCharacters.get(e), x.get().numberOfDirections, r, o ? \"CLOSEST_REACHABLE\" : \"STOP\");\n      this.gridCharacters.get(t).setMovement(n);\n    }\n  }, {\n    key: \"isMoving\",\n    value: function isMoving(t) {\n      return this.initGuard(), this.unknownCharGuard(t), this.gridCharacters.get(t).isMoving();\n    }\n  }, {\n    key: \"getFacingDirection\",\n    value: function getFacingDirection(t) {\n      return this.initGuard(), this.unknownCharGuard(t), this.gridCharacters.get(t).getFacingDirection();\n    }\n  }, {\n    key: \"getFacingPosition\",\n    value: function getFacingPosition(t) {\n      this.initGuard(), this.unknownCharGuard(t);\n      var e = this.gridCharacters.get(t).getFacingPosition();\n      return {\n        x: e.x,\n        y: e.y\n      };\n    }\n  }, {\n    key: \"turnTowards\",\n    value: function turnTowards(t, e) {\n      return this.initGuard(), this.unknownCharGuard(t), this.gridCharacters.get(t).turnTowards(e);\n    }\n  }, {\n    key: \"setPosition\",\n    value: function setPosition(t, e, r) {\n      this.initGuard(), this.unknownCharGuard(t), r || this.gridCharacters.get(t).setTilePosition({\n        position: new p(e),\n        layer: this.gridCharacters.get(t).getTilePos().layer\n      }), this.gridCharacters.get(t).setTilePosition({\n        position: new p(e),\n        layer: r\n      });\n    }\n  }, {\n    key: \"getSprite\",\n    value: function getSprite(t) {\n      return this.initGuard(), this.unknownCharGuard(t), this.gridCharacters.get(t).getSprite();\n    }\n  }, {\n    key: \"setSprite\",\n    value: function setSprite(t, e) {\n      this.initGuard(), this.unknownCharGuard(t), e.setOrigin(0, 0), this.gridCharacters.get(t).setSprite(e);\n    }\n  }, {\n    key: \"isBlocked\",\n    value: function isBlocked(t, e) {\n      var r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [\"geDefault\"];\n      return this.initGuard(), this.gridTilemap.isBlocking(e, new p(t), r);\n    }\n  }, {\n    key: \"isTileBlocked\",\n    value: function isTileBlocked(t, e) {\n      return this.initGuard(), this.gridTilemap.hasBlockingTile(e, new p(t));\n    }\n  }, {\n    key: \"getCollisionGroups\",\n    value: function getCollisionGroups(t) {\n      return this.initGuard(), this.unknownCharGuard(t), this.gridCharacters.get(t).getCollisionGroups();\n    }\n  }, {\n    key: \"setCollisionGroups\",\n    value: function setCollisionGroups(t, e) {\n      this.initGuard(), this.unknownCharGuard(t), this.gridCharacters.get(t).setCollisionGroups(e);\n    }\n  }, {\n    key: \"steppedOn\",\n    value: function steppedOn(t, e, r) {\n      return this.positionChangeFinished().pipe(F(function (o) {\n        return t.includes(o.charId) && e.some(function (n) {\n          return n.x === o.enterTile.x && n.y === o.enterTile.y;\n        }) && (r === void 0 || r.includes(o.enterLayer));\n      }));\n    }\n  }, {\n    key: \"characterShifted\",\n    value: function characterShifted() {\n      return this.charAdded$.pipe(B(function (t) {\n        return {\n          charId: t,\n          action: \"ADDED\"\n        };\n      }), Ht(this.charRemoved$.pipe(B(function (t) {\n        return {\n          charId: t,\n          action: \"REMOVED\"\n        };\n      }))));\n    }\n  }, {\n    key: \"movementStarted\",\n    value: function movementStarted() {\n      return this.movementStarted$;\n    }\n  }, {\n    key: \"movementStopped\",\n    value: function movementStopped() {\n      return this.movementStopped$;\n    }\n  }, {\n    key: \"directionChanged\",\n    value: function directionChanged() {\n      return this.directionChanged$;\n    }\n  }, {\n    key: \"positionChangeStarted\",\n    value: function positionChangeStarted() {\n      return this.positionChangeStarted$;\n    }\n  }, {\n    key: \"positionChangeFinished\",\n    value: function positionChangeFinished() {\n      return this.positionChangeFinished$;\n    }\n  }, {\n    key: \"setConfigDefaults\",\n    value: function setConfigDefaults(t) {\n      return L({\n        collisionTilePropertyName: \"ge_collide\",\n        numberOfDirections: 4,\n        characterCollisionStrategy: \"BLOCK_TWO_TILES\",\n        layerOverlay: !1\n      }, t);\n    }\n  }, {\n    key: \"takeUntilCharRemoved\",\n    value: function takeUntilCharRemoved(t) {\n      return H(this.charRemoved$.pipe(F(function (e) {\n        return e == t;\n      })));\n    }\n  }, {\n    key: \"initGuard\",\n    value: function initGuard() {\n      if (!this.isCreated) throw new Error(\"Plugin not initialized. You need to call create() first.\");\n    }\n  }, {\n    key: \"unknownCharGuard\",\n    value: function unknownCharGuard(t) {\n      if (!this.gridCharacters.has(t)) throw new Error(\"Character unknown: \".concat(t));\n    }\n  }, {\n    key: \"createCharacter\",\n    value: function createCharacter(t, e) {\n      return new qt(t, e);\n    }\n  }, {\n    key: \"addCharacters\",\n    value: function addCharacters() {\n      var _this18 = this;\n\n      x.get().characters.forEach(function (t) {\n        return _this18.addCharacter(t);\n      });\n    }\n  }, {\n    key: \"moveChar\",\n    value: function moveChar(t, e) {\n      if (this.initGuard(), this.unknownCharGuard(t), x.get().numberOfDirections === 4) {\n        if (!this.gridTilemap.isIsometric() && jt(e)) {\n          console.warn(\"GridEngine: Character '\".concat(t, \"' can't be moved '\").concat(e, \"' in 4 direction mode.\"));\n          return;\n        } else if (this.gridTilemap.isIsometric() && !jt(e)) {\n          console.warn(\"GridEngine: Character '\".concat(t, \"' can't be moved '\").concat(e, \"' in 4 direction isometric mode.\"));\n          return;\n        }\n      }\n\n      this.gridCharacters.get(t).move(e);\n    }\n  }, {\n    key: \"assembleMoveToConfig\",\n    value: function assembleMoveToConfig(t) {\n      var e = $(L({}, t), {\n        noPathFoundStrategy: \"STOP\",\n        pathBlockedStrategy: \"WAIT\"\n      });\n      return t != null && t.noPathFoundStrategy && (Object.values(Q).includes(t.noPathFoundStrategy) ? e.noPathFoundStrategy = t.noPathFoundStrategy : console.warn(\"GridEngine: Unknown NoPathFoundStrategy '\".concat(t.noPathFoundStrategy, \"'. Falling back to '\", \"STOP\", \"'\"))), t != null && t.pathBlockedStrategy && (Object.values(it).includes(t.pathBlockedStrategy) ? e.pathBlockedStrategy = t.pathBlockedStrategy : console.warn(\"GridEngine: Unknown PathBlockedStrategy '\".concat(t.pathBlockedStrategy, \"'. Falling back to '\", \"WAIT\", \"'\"))), e;\n    }\n  }]);\n\n  return Ft;\n}();\n\nvar rh = Ft;\nexport { ir as CharacterShiftAction, ht as CollisionStrategy, I as Direction, Ft as GridEngine, Yt as MoveToResult, Q as NoPathFoundStrategy, j as NumberOfDirections, it as PathBlockedStrategy, rh as default };\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","require(\"core-js/modules/es.array.flat-map.js\");\n\nrequire(\"core-js/modules/es.array.unscopables.flat-map.js\");\n\n(function webpackUniversalModuleDefinition(root, factory) {\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = factory(require(\"react\"), require(\"lodash\"), require(\"prop-types\"));else if (typeof define === 'function' && define.amd) define(\"reactXarrow\", [\"react\", \"lodash\", \"prop-types\"], factory);else if (typeof exports === 'object') exports[\"reactXarrow\"] = factory(require(\"react\"), require(\"lodash\"), require(\"prop-types\"));else root[\"reactXarrow\"] = factory(root[\"react\"], root[\"lodash\"], root[\"prop-types\"]);\n})(this, function (__WEBPACK_EXTERNAL_MODULE_react__, __WEBPACK_EXTERNAL_MODULE_lodash__, __WEBPACK_EXTERNAL_MODULE_prop_types__) {\n  return (\n    /******/\n    function () {\n      // webpackBootstrap\n\n      /******/\n      \"use strict\";\n      /******/\n\n      var __webpack_modules__ = {\n        /***/\n        \"./src/Xarrow/utils/buzzier.js\":\n        /*!*************************************!*\\\n          !*** ./src/Xarrow/utils/buzzier.js ***!\n          \\*************************************/\n\n        /***/\n        function srcXarrowUtilsBuzzierJs(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n          __webpack_require__.r(__webpack_exports__);\n          /* harmony export */\n\n\n          __webpack_require__.d(__webpack_exports__, {\n            /* harmony export */\n            \"bzFunction\": function bzFunction() {\n              return (\n                /* binding */\n                _bzFunction\n              );\n            },\n\n            /* harmony export */\n            \"buzzierMinSols\": function buzzierMinSols() {\n              return (\n                /* binding */\n                _buzzierMinSols\n              );\n            }\n            /* harmony export */\n\n          }); // Buzier curve calculations\n\n          /**\r\n           * returns buzzier curve function with 2 controls points\r\n           * bzCurve with 2 control points function(4 points total):  bz = (1t)^3*p1 + 3(1t)^2*t*p2 +3(1t)*t^2*p3 + t^3*p4\r\n           */\n\n\n          var _bzFunction = function bzFunction(p1, p2, p3, p4) {\n            return function (t) {\n              return Math.pow(1 - t, 3) * p1 + 3 * Math.pow(1 - t, 2) * t * p2 + 3 * (1 - t) * Math.pow(t, 2) * p3 + Math.pow(t, 3) * p4;\n            };\n          };\n          /**\r\n           * returns 2 solutions from extram points for buzzier curve with 2 controls points\r\n           */\n\n\n          var _buzzierMinSols = function buzzierMinSols(p1, p2, p3, p4) {\n            var bz = _bzFunction(p1, p2, p3, p4); // dt(bz) = -3 p1 (1 - t)^2 + 3 p2 (1 - t)^2 - 6 p2 (1 - t) t + 6 p3 (1 - t) t - 3 p3 t^2 + 3 p4 t^2\n            // when p1=(x1,y1),p2=(cpx1,cpy1),p3=(cpx2,cpy2),p4=(x2,y2)\n            // then extrema points is when dt(bz) = 0\n            // solutions =>  t = ((-6 p1 + 12 p2 - 6 p3)  sqrt((6 p1 - 12 p2 + 6 p3)^2 - 4 (3 p2 - 3 p1) (-3 p1 + 9 p2 - 9 p3 + 3 p4)))/(2 (-3 p1 + 9 p2 - 9 p3 + 3 p4))  when (p1 + 3 p3!=3 p2 + p4)\n            // if we mark A=(-6 p1 + 12 p2 - 6 p3) and B=(6 p1 - 12 p2 + 6 p3)^2 - 4 (3 p2 - 3 p1) (-3 p1 + 9 p2 - 9 p3 + 3 p4)) and C =(2 (-3 p1 + 9 p2 - 9 p3 + 3 p4) then\n            // tSol = A  sqrt(B)\n            // then solution we want is: bz(tSol)\n\n\n            var A = -6 * p1 + 12 * p2 - 6 * p3;\n            var B = Math.pow(-6 * p1 + 12 * p2 - 6 * p3, 2) - 4 * (3 * p2 - 3 * p1) * (-3 * p1 + 9 * p2 - 9 * p3 + 3 * p4);\n            var C = 2 * (-3 * p1 + 9 * p2 - 9 * p3 + 3 * p4);\n            var sol1 = bz((A + Math.sqrt(B)) / C);\n            var sol2 = bz((A - Math.sqrt(B)) / C);\n            return [sol1, sol2];\n          };\n          /***/\n\n        },\n\n        /***/\n        \"./src/Xarrow/Xarrow.tsx\":\n        /*!*******************************!*\\\n          !*** ./src/Xarrow/Xarrow.tsx ***!\n          \\*******************************/\n\n        /***/\n        function srcXarrowXarrowTsx(__unused_webpack_module, exports, __webpack_require__) {\n          var __assign = this && this.__assign || function () {\n            __assign = Object.assign || function (t) {\n              for (var s, i = 1, n = arguments.length; i < n; i++) {\n                s = arguments[i];\n\n                for (var p in s) {\n                  if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n              }\n\n              return t;\n            };\n\n            return __assign.apply(this, arguments);\n          };\n\n          var __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n            if (k2 === undefined) k2 = k;\n            Object.defineProperty(o, k2, {\n              enumerable: true,\n              get: function get() {\n                return m[k];\n              }\n            });\n          } : function (o, m, k, k2) {\n            if (k2 === undefined) k2 = k;\n            o[k2] = m[k];\n          });\n\n          var __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n            Object.defineProperty(o, \"default\", {\n              enumerable: true,\n              value: v\n            });\n          } : function (o, v) {\n            o[\"default\"] = v;\n          });\n\n          var __importStar = this && this.__importStar || function (mod) {\n            if (mod && mod.__esModule) return mod;\n            var result = {};\n            if (mod != null) for (var k in mod) {\n              if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n            }\n\n            __setModuleDefault(result, mod);\n\n            return result;\n          };\n\n          var __spreadArray = this && this.__spreadArray || function (to, from) {\n            for (var i = 0, il = from.length, j = to.length; i < il; i++, j++) {\n              to[j] = from[i];\n            }\n\n            return to;\n          };\n\n          var __importDefault = this && this.__importDefault || function (mod) {\n            return mod && mod.__esModule ? mod : {\n              \"default\": mod\n            };\n          };\n\n          Object.defineProperty(exports, \"__esModule\", {\n            value: true\n          });\n\n          var react_1 = __importStar(__webpack_require__(\n          /*! react */\n          \"react\"));\n\n          var useXarrowProps_1 = __importDefault(__webpack_require__(\n          /*! ./useXarrowProps */\n          \"./src/Xarrow/useXarrowProps.ts\"));\n\n          var Xwrapper_1 = __webpack_require__(\n          /*! ../Xwrapper */\n          \"./src/Xwrapper.tsx\");\n\n          var propTypes_1 = __importDefault(__webpack_require__(\n          /*! ./propTypes */\n          \"./src/Xarrow/propTypes.ts\"));\n\n          var GetPosition_1 = __webpack_require__(\n          /*! ./utils/GetPosition */\n          \"./src/Xarrow/utils/GetPosition.tsx\");\n\n          var log = console.log;\n\n          var Xarrow = function Xarrow(props) {\n            // log('xarrow update');\n            var _a;\n\n            var mainRef = react_1.useRef({\n              svgRef: react_1.useRef(null),\n              lineRef: react_1.useRef(null),\n              headRef: react_1.useRef(null),\n              tailRef: react_1.useRef(null),\n              lineDrawAnimRef: react_1.useRef(null),\n              lineDashAnimRef: react_1.useRef(null),\n              headOpacityAnimRef: react_1.useRef(null)\n            });\n            var _b = mainRef.current,\n                svgRef = _b.svgRef,\n                lineRef = _b.lineRef,\n                headRef = _b.headRef,\n                tailRef = _b.tailRef,\n                lineDrawAnimRef = _b.lineDrawAnimRef,\n                lineDashAnimRef = _b.lineDashAnimRef,\n                headOpacityAnimRef = _b.headOpacityAnimRef;\n            react_1.useContext(Xwrapper_1.XarrowContext);\n            var xProps = useXarrowProps_1.default(props, mainRef.current);\n            var propsRefs = xProps[0];\n            var labels = propsRefs.labels,\n                lineColor = propsRefs.lineColor,\n                headColor = propsRefs.headColor,\n                tailColor = propsRefs.tailColor,\n                strokeWidth = propsRefs.strokeWidth,\n                showHead = propsRefs.showHead,\n                showTail = propsRefs.showTail,\n                dashness = propsRefs.dashness,\n                headShape = propsRefs.headShape,\n                tailShape = propsRefs.tailShape,\n                showXarrow = propsRefs.showXarrow,\n                animateDrawing = propsRefs.animateDrawing,\n                zIndex = propsRefs.zIndex,\n                passProps = propsRefs.passProps,\n                arrowBodyProps = propsRefs.arrowBodyProps,\n                arrowHeadProps = propsRefs.arrowHeadProps,\n                arrowTailProps = propsRefs.arrowTailProps,\n                SVGcanvasProps = propsRefs.SVGcanvasProps,\n                divContainerProps = propsRefs.divContainerProps,\n                divContainerStyle = propsRefs.divContainerStyle,\n                SVGcanvasStyle = propsRefs.SVGcanvasStyle,\n                _debug = propsRefs._debug,\n                shouldUpdatePosition = propsRefs.shouldUpdatePosition;\n            animateDrawing = props.animateDrawing;\n\n            var _c = react_1.useState(!animateDrawing),\n                drawAnimEnded = _c[0],\n                setDrawAnimEnded = _c[1];\n\n            var _d = react_1.useState({}),\n                setRender = _d[1];\n\n            var forceRerender = function forceRerender() {\n              return setRender({});\n            };\n\n            var _e = react_1.useState({\n              //initial state\n              cx0: 0,\n              cy0: 0,\n              cw: 0,\n              ch: 0,\n              x1: 0,\n              y1: 0,\n              x2: 0,\n              y2: 0,\n              dx: 0,\n              dy: 0,\n              absDx: 0,\n              absDy: 0,\n              cpx1: 0,\n              cpy1: 0,\n              cpx2: 0,\n              cpy2: 0,\n              headOrient: 0,\n              tailOrient: 0,\n              arrowHeadOffset: {\n                x: 0,\n                y: 0\n              },\n              arrowTailOffset: {\n                x: 0,\n                y: 0\n              },\n              headOffset: 0,\n              excRight: 0,\n              excLeft: 0,\n              excUp: 0,\n              excDown: 0,\n              startPoints: [],\n              endPoints: [],\n              mainDivPos: {\n                x: 0,\n                y: 0\n              },\n              xSign: 1,\n              ySign: 1,\n              lineLength: 0,\n              fHeadSize: 1,\n              fTailSize: 1,\n              arrowPath: \"\",\n              labelStartPos: {\n                x: 0,\n                y: 0\n              },\n              labelMiddlePos: {\n                x: 0,\n                y: 0\n              },\n              labelEndPos: {\n                x: 0,\n                y: 0\n              }\n            }),\n                st = _e[0],\n                setSt = _e[1];\n            /**\r\n             * The Main logic of path calculation for the arrow.\r\n             * calculate new path, adjusting canvas, and set state based on given properties.\r\n             * */\n\n\n            react_1.useLayoutEffect(function () {\n              if (shouldUpdatePosition.current) {\n                // log('xarrow getPosition');\n                var pos = GetPosition_1.getPosition(xProps, mainRef); // log('pos', pos);\n\n                setSt(pos);\n                shouldUpdatePosition.current = false;\n              }\n            }); // log('st', st);\n\n            var xOffsetHead = st.x2 - st.arrowHeadOffset.x;\n            var yOffsetHead = st.y2 - st.arrowHeadOffset.y;\n            var xOffsetTail = st.x1 - st.arrowTailOffset.x;\n            var yOffsetTail = st.y1 - st.arrowTailOffset.y;\n            var dashoffset = dashness.strokeLen + dashness.nonStrokeLen;\n            var animDirection = 1;\n\n            if (dashness.animation < 0) {\n              dashness.animation *= -1;\n              animDirection = -1;\n            }\n\n            var dashArray,\n                animation,\n                animRepeatCount,\n                animStartValue,\n                animEndValue = 0;\n\n            if (animateDrawing && drawAnimEnded == false) {\n              if (typeof animateDrawing === 'boolean') animateDrawing = 1;\n              animation = animateDrawing + 's';\n              dashArray = st.lineLength;\n              animStartValue = st.lineLength;\n              animRepeatCount = 1;\n\n              if (animateDrawing < 0) {\n                _a = [animEndValue, animStartValue], animStartValue = _a[0], animEndValue = _a[1];\n                animation = animateDrawing * -1 + 's';\n              }\n            } else {\n              dashArray = dashness.strokeLen + \" \" + dashness.nonStrokeLen;\n              animation = 1 / dashness.animation + \"s\";\n              animStartValue = dashoffset * animDirection;\n              animRepeatCount = 'indefinite';\n              animEndValue = 0;\n            } // handle draw animation\n\n\n            react_1.useLayoutEffect(function () {\n              if (lineRef.current) setSt(function (prevSt) {\n                var _a, _b;\n\n                return __assign(__assign({}, prevSt), {\n                  lineLength: (_b = (_a = lineRef.current) === null || _a === void 0 ? void 0 : _a.getTotalLength()) !== null && _b !== void 0 ? _b : 0\n                });\n              });\n            }, [lineRef.current]); // set all props on first render\n\n            react_1.useEffect(function () {\n              var monitorDOMchanges = function monitorDOMchanges() {\n                window.addEventListener('resize', forceRerender);\n\n                var handleDrawAmimEnd = function handleDrawAmimEnd() {\n                  var _a, _b;\n\n                  setDrawAnimEnded(true); // @ts-ignore\n\n                  (_a = headOpacityAnimRef.current) === null || _a === void 0 ? void 0 : _a.beginElement(); // @ts-ignore\n\n                  (_b = lineDashAnimRef.current) === null || _b === void 0 ? void 0 : _b.beginElement();\n                };\n\n                var handleDrawAmimBegin = function handleDrawAmimBegin() {\n                  return headRef.current.style.opacity = '0';\n                };\n\n                if (lineDrawAnimRef.current && headRef.current) {\n                  lineDrawAnimRef.current.addEventListener('endEvent', handleDrawAmimEnd);\n                  lineDrawAnimRef.current.addEventListener('beginEvent', handleDrawAmimBegin);\n                }\n\n                return function () {\n                  window.removeEventListener('resize', forceRerender);\n\n                  if (lineDrawAnimRef.current) {\n                    lineDrawAnimRef.current.removeEventListener('endEvent', handleDrawAmimEnd);\n                    if (headRef.current) lineDrawAnimRef.current.removeEventListener('beginEvent', handleDrawAmimBegin);\n                  }\n                };\n              };\n\n              var cleanMonitorDOMchanges = monitorDOMchanges();\n              return function () {\n                setDrawAnimEnded(false);\n                cleanMonitorDOMchanges();\n              };\n            }, [showXarrow]); //todo: could make some advanced generic typescript inferring. for example get type from headShape.elem:T and\n            // tailShape.elem:K force the type for passProps,arrowHeadProps,arrowTailProps property. for now `as any` is used to\n            // avoid typescript conflicts\n            // so todo- fix all the `passProps as any` assertions\n\n            return react_1.default.createElement(\"div\", __assign({}, divContainerProps, {\n              style: __assign({\n                position: 'absolute',\n                zIndex: zIndex\n              }, divContainerStyle)\n            }), showXarrow ? react_1.default.createElement(react_1.default.Fragment, null, react_1.default.createElement(\"svg\", __assign({\n              ref: svgRef,\n              width: st.cw,\n              height: st.ch,\n              style: __assign({\n                position: 'absolute',\n                left: st.cx0,\n                top: st.cy0,\n                pointerEvents: 'none',\n                border: _debug ? '1px dashed yellow' : null\n              }, SVGcanvasStyle),\n              overflow: \"auto\"\n            }, SVGcanvasProps), react_1.default.createElement(\"path\", __assign({\n              ref: lineRef,\n              d: st.arrowPath,\n              stroke: lineColor,\n              strokeDasharray: dashArray,\n              // strokeDasharray={'0 0'}\n              strokeWidth: strokeWidth,\n              fill: \"transparent\",\n              pointerEvents: \"visibleStroke\"\n            }, passProps, arrowBodyProps), react_1.default.createElement(react_1.default.Fragment, null, drawAnimEnded ? react_1.default.createElement(react_1.default.Fragment, null, dashness.animation ? react_1.default.createElement(\"animate\", {\n              ref: lineDashAnimRef,\n              attributeName: \"stroke-dashoffset\",\n              values: dashoffset * animDirection + \";0\",\n              dur: 1 / dashness.animation + \"s\",\n              repeatCount: \"indefinite\"\n            }) : null) : react_1.default.createElement(react_1.default.Fragment, null, animateDrawing ? react_1.default.createElement(\"animate\", {\n              ref: lineDrawAnimRef,\n              id: \"svgEndAnimate\",\n              attributeName: \"stroke-dashoffset\",\n              values: animStartValue + \";\" + animEndValue,\n              dur: animation,\n              repeatCount: animRepeatCount\n            }) : null))), showTail ? react_1.default.createElement(\"g\", __assign({\n              fill: tailColor,\n              pointerEvents: \"auto\",\n              transform: \"translate(\" + xOffsetTail + \",\" + yOffsetTail + \") rotate(\" + st.tailOrient + \") scale(\" + st.fTailSize + \")\"\n            }, passProps, arrowTailProps), tailShape.svgElem) : null, showHead ? react_1.default.createElement(\"g\", __assign({\n              ref: headRef,\n              // d={normalArrowShape}\n              fill: headColor,\n              pointerEvents: \"auto\",\n              transform: \"translate(\" + xOffsetHead + \",\" + yOffsetHead + \") rotate(\" + st.headOrient + \") scale(\" + st.fHeadSize + \")\",\n              opacity: animateDrawing && !drawAnimEnded ? 0 : 1\n            }, passProps, arrowHeadProps), react_1.default.createElement(\"animate\", {\n              ref: headOpacityAnimRef,\n              dur: '0.4',\n              attributeName: \"opacity\",\n              from: \"0\",\n              to: \"1\",\n              begin: \"indefinite\",\n              repeatCount: \"0\",\n              fill: \"freeze\"\n            }), headShape.svgElem) : null, _debug ? react_1.default.createElement(react_1.default.Fragment, null, react_1.default.createElement(\"circle\", {\n              r: \"5\",\n              cx: st.cpx1,\n              cy: st.cpy1,\n              fill: \"green\"\n            }), react_1.default.createElement(\"circle\", {\n              r: \"5\",\n              cx: st.cpx2,\n              cy: st.cpy2,\n              fill: \"blue\"\n            }), react_1.default.createElement(\"rect\", {\n              x: st.excLeft,\n              y: st.excUp,\n              width: st.absDx,\n              height: st.absDy,\n              fill: \"none\",\n              stroke: \"pink\",\n              strokeWidth: \"2px\"\n            })) : null), labels.start ? react_1.default.createElement(\"div\", {\n              style: {\n                transform: st.dx < 0 ? 'translate(-100% , -50%)' : 'translate(-0% , -50%)',\n                width: 'max-content',\n                position: 'absolute',\n                left: st.cx0 + st.labelStartPos.x,\n                top: st.cy0 + st.labelStartPos.y - strokeWidth - 5\n              }\n            }, labels.start) : null, labels.middle ? react_1.default.createElement(\"div\", {\n              style: {\n                display: 'table',\n                width: 'max-content',\n                transform: 'translate(-50% , -50%)',\n                position: 'absolute',\n                left: st.cx0 + st.labelMiddlePos.x,\n                top: st.cy0 + st.labelMiddlePos.y\n              }\n            }, labels.middle) : null, labels.end ? react_1.default.createElement(\"div\", {\n              style: {\n                transform: st.dx > 0 ? 'translate(-100% , -50%)' : 'translate(-0% , -50%)',\n                width: 'max-content',\n                position: 'absolute',\n                left: st.cx0 + st.labelEndPos.x,\n                top: st.cy0 + st.labelEndPos.y + strokeWidth + 5\n              }\n            }, labels.end) : null, _debug ? react_1.default.createElement(react_1.default.Fragment, null, __spreadArray(__spreadArray([], st.startPoints), st.endPoints).map(function (p, i) {\n              return react_1.default.createElement(\"div\", {\n                key: i,\n                style: {\n                  background: 'gray',\n                  opacity: 0.5,\n                  borderRadius: '50%',\n                  transform: 'translate(-50%, -50%)',\n                  height: 5,\n                  width: 5,\n                  position: 'absolute',\n                  left: p.x - st.mainDivPos.x,\n                  top: p.y - st.mainDivPos.y\n                }\n              });\n            })) : null) : null);\n          }; //////////////////////////////\n          // propTypes\n\n\n          Xarrow.propTypes = propTypes_1.default;\n          exports.default = Xarrow;\n          /***/\n        },\n\n        /***/\n        \"./src/Xarrow/anchors.ts\":\n        /*!*******************************!*\\\n          !*** ./src/Xarrow/anchors.ts ***!\n          \\*******************************/\n\n        /***/\n        function srcXarrowAnchorsTs(module, exports, __webpack_require__) {\n          /* module decorator */\n          module = __webpack_require__.nmd(module);\n          Object.defineProperty(exports, \"__esModule\", {\n            value: true\n          });\n          exports.calcAnchors = void 0;\n\n          var getAnchorsDefaultOffsets = function getAnchorsDefaultOffsets(width, height) {\n            return {\n              middle: {\n                x: width * 0.5,\n                y: height * 0.5\n              },\n              left: {\n                x: 0,\n                y: height * 0.5\n              },\n              right: {\n                x: width,\n                y: height * 0.5\n              },\n              top: {\n                x: width * 0.5,\n                y: 0\n              },\n              bottom: {\n                x: width * 0.5,\n                y: height\n              }\n            };\n          };\n\n          var calcAnchors = function calcAnchors(anchors, anchorPos) {\n            // now prepare this list of anchors to object expected by the `getShortestLine` function\n            return anchors.map(function (anchor) {\n              var defsOffsets = getAnchorsDefaultOffsets(anchorPos.right - anchorPos.x, anchorPos.bottom - anchorPos.y);\n              var _a = defsOffsets[anchor.position],\n                  x = _a.x,\n                  y = _a.y;\n              return {\n                x: anchorPos.x + x + anchor.offset.x,\n                y: anchorPos.y + y + anchor.offset.y,\n                anchor: anchor\n              };\n            });\n          };\n\n          exports.calcAnchors = calcAnchors;\n\n          if (__webpack_require__.c[__webpack_require__.s] === module) {// const res = parseAnchor(['auto'], {\n            //   x: 0,\n            //   y: 0,\n            //   bottom: 10,\n            //   right: 20,\n            // });\n            // console.log(res);\n          }\n          /***/\n\n        },\n\n        /***/\n        \"./src/Xarrow/propTypes.ts\":\n        /*!*********************************!*\\\n          !*** ./src/Xarrow/propTypes.ts ***!\n          \\*********************************/\n\n        /***/\n        function srcXarrowPropTypesTs(__unused_webpack_module, exports, __webpack_require__) {\n          var __importDefault = this && this.__importDefault || function (mod) {\n            return mod && mod.__esModule ? mod : {\n              \"default\": mod\n            };\n          };\n\n          Object.defineProperty(exports, \"__esModule\", {\n            value: true\n          });\n\n          var prop_types_1 = __importDefault(__webpack_require__(\n          /*! prop-types */\n          \"prop-types\"));\n\n          var constants_1 = __webpack_require__(\n          /*! ../constants */\n          \"./src/constants.tsx\");\n\n          var pAnchorPositionType = prop_types_1.default.oneOf(constants_1.cAnchorEdge);\n          var pAnchorCustomPositionType = prop_types_1.default.exact({\n            position: pAnchorPositionType.isRequired,\n            offset: prop_types_1.default.exact({\n              x: prop_types_1.default.number,\n              y: prop_types_1.default.number\n            }).isRequired\n          });\n\n          var _pAnchorType = prop_types_1.default.oneOfType([pAnchorPositionType, pAnchorCustomPositionType]);\n\n          var pAnchorType = prop_types_1.default.oneOfType([_pAnchorType, prop_types_1.default.arrayOf(_pAnchorType)]);\n          var pRefType = prop_types_1.default.oneOfType([prop_types_1.default.string, prop_types_1.default.exact({\n            current: prop_types_1.default.any\n          })]);\n\n          var _pLabelType = prop_types_1.default.oneOfType([prop_types_1.default.element, prop_types_1.default.string]);\n\n          var pLabelsType = prop_types_1.default.exact({\n            start: _pLabelType,\n            middle: _pLabelType,\n            end: _pLabelType\n          });\n          var pSvgEdgeShapeType = prop_types_1.default.oneOf(Object.keys(constants_1.arrowShapes)); // const pSvgElemType = PT.oneOf(cSvgElems);\n\n          var pSvgElemType = prop_types_1.default.any;\n          var pSvgEdgeType = prop_types_1.default.oneOfType([pSvgEdgeShapeType, prop_types_1.default.exact({\n            svgElem: pSvgElemType,\n            offsetForward: prop_types_1.default.number\n          }).isRequired]);\n          var XarrowPropTypes = {\n            start: pRefType.isRequired,\n            end: pRefType.isRequired,\n            startAnchor: pAnchorType,\n            endAnchor: pAnchorType,\n            labels: prop_types_1.default.oneOfType([_pLabelType, pLabelsType]),\n            color: prop_types_1.default.string,\n            lineColor: prop_types_1.default.string,\n            showHead: prop_types_1.default.bool,\n            headColor: prop_types_1.default.string,\n            headSize: prop_types_1.default.number,\n            tailSize: prop_types_1.default.number,\n            tailColor: prop_types_1.default.string,\n            strokeWidth: prop_types_1.default.number,\n            showTail: prop_types_1.default.bool,\n            path: prop_types_1.default.oneOf(constants_1.cPaths),\n            showXarrow: prop_types_1.default.bool,\n            curveness: prop_types_1.default.number,\n            gridBreak: prop_types_1.default.string,\n            dashness: prop_types_1.default.oneOfType([prop_types_1.default.bool, prop_types_1.default.object]),\n            headShape: pSvgEdgeType,\n            tailShape: pSvgEdgeType,\n            animateDrawing: prop_types_1.default.oneOfType([prop_types_1.default.bool, prop_types_1.default.number]),\n            zIndex: prop_types_1.default.number,\n            passProps: prop_types_1.default.object,\n            arrowBodyProps: prop_types_1.default.object,\n            arrowHeadProps: prop_types_1.default.object,\n            arrowTailProps: prop_types_1.default.object,\n            SVGcanvasProps: prop_types_1.default.object,\n            divContainerProps: prop_types_1.default.object,\n            _extendSVGcanvas: prop_types_1.default.number,\n            _debug: prop_types_1.default.bool,\n            _cpx1Offset: prop_types_1.default.number,\n            _cpy1Offset: prop_types_1.default.number,\n            _cpx2Offset: prop_types_1.default.number,\n            _cpy2Offset: prop_types_1.default.number\n          };\n          exports.default = XarrowPropTypes;\n          /***/\n        },\n\n        /***/\n        \"./src/Xarrow/useXarrowProps.ts\":\n        /*!**************************************!*\\\n          !*** ./src/Xarrow/useXarrowProps.ts ***!\n          \\**************************************/\n\n        /***/\n        function srcXarrowUseXarrowPropsTs(__unused_webpack_module, exports, __webpack_require__) {\n          var __assign = this && this.__assign || function () {\n            __assign = Object.assign || function (t) {\n              for (var s, i = 1, n = arguments.length; i < n; i++) {\n                s = arguments[i];\n\n                for (var p in s) {\n                  if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n              }\n\n              return t;\n            };\n\n            return __assign.apply(this, arguments);\n          };\n\n          var __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n            if (k2 === undefined) k2 = k;\n            Object.defineProperty(o, k2, {\n              enumerable: true,\n              get: function get() {\n                return m[k];\n              }\n            });\n          } : function (o, m, k, k2) {\n            if (k2 === undefined) k2 = k;\n            o[k2] = m[k];\n          });\n\n          var __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n            Object.defineProperty(o, \"default\", {\n              enumerable: true,\n              value: v\n            });\n          } : function (o, v) {\n            o[\"default\"] = v;\n          });\n\n          var __importStar = this && this.__importStar || function (mod) {\n            if (mod && mod.__esModule) return mod;\n            var result = {};\n            if (mod != null) for (var k in mod) {\n              if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n            }\n\n            __setModuleDefault(result, mod);\n\n            return result;\n          };\n\n          var __importDefault = this && this.__importDefault || function (mod) {\n            return mod && mod.__esModule ? mod : {\n              \"default\": mod\n            };\n          };\n\n          Object.defineProperty(exports, \"__esModule\", {\n            value: true\n          });\n\n          var react_1 = __importStar(__webpack_require__(\n          /*! react */\n          \"react\"));\n\n          var utils_1 = __webpack_require__(\n          /*! ./utils */\n          \"./src/Xarrow/utils/index.ts\");\n\n          var lodash_1 = __importDefault(__webpack_require__(\n          /*! lodash */\n          \"lodash\"));\n\n          var constants_1 = __webpack_require__(\n          /*! ../constants */\n          \"./src/constants.tsx\");\n\n          var parseLabels = function parseLabels(label) {\n            var parsedLabel = {\n              start: null,\n              middle: null,\n              end: null\n            };\n\n            if (label) {\n              if (typeof label === 'string' || react_1.default.isValidElement(label)) parsedLabel.middle = label;else {\n                for (var key in label) {\n                  parsedLabel[key] = label[key];\n                }\n              }\n            }\n\n            return parsedLabel;\n          };\n\n          var parseAnchor = function parseAnchor(anchor) {\n            // convert to array\n            var anchorChoice = Array.isArray(anchor) ? anchor : [anchor]; //convert to array of objects\n\n            var anchorChoice2 = anchorChoice.map(function (anchorChoice) {\n              if (typeof anchorChoice === 'string') {\n                return {\n                  position: anchorChoice\n                };\n              } else return anchorChoice;\n            }); //remove any invalid anchor names\n\n            anchorChoice2 = anchorChoice2.filter(function (an) {\n              return constants_1.cAnchorEdge.includes(an.position);\n            });\n            if (anchorChoice2.length == 0) anchorChoice2 = [{\n              position: 'auto'\n            }]; //replace any 'auto' with ['left','right','bottom','top']\n\n            var autosAncs = anchorChoice2.filter(function (an) {\n              return an.position === 'auto';\n            });\n\n            if (autosAncs.length > 0) {\n              anchorChoice2 = anchorChoice2.filter(function (an) {\n                return an.position !== 'auto';\n              });\n              anchorChoice2.push.apply(anchorChoice2, autosAncs.flatMap(function (anchorObj) {\n                return ['left', 'right', 'top', 'bottom'].map(function (anchorName) {\n                  return __assign(__assign({}, anchorObj), {\n                    position: anchorName\n                  });\n                });\n              }));\n            } // default values\n\n\n            var anchorChoice3 = anchorChoice2.map(function (anchorChoice) {\n              if (typeof anchorChoice === 'object') {\n                var anchorChoiceCustom = anchorChoice;\n                if (!anchorChoiceCustom.position) anchorChoiceCustom.position = 'auto';\n                if (!anchorChoiceCustom.offset) anchorChoiceCustom.offset = {\n                  x: 0,\n                  y: 0\n                };\n                if (!anchorChoiceCustom.offset.y) anchorChoiceCustom.offset.y = 0;\n                if (!anchorChoiceCustom.offset.x) anchorChoiceCustom.offset.x = 0;\n                anchorChoiceCustom = anchorChoiceCustom;\n                return anchorChoiceCustom;\n              } else return anchorChoice;\n            });\n            return anchorChoice3;\n          };\n\n          var parseDashness = function parseDashness(dashness, props) {\n            var dashStroke = 0,\n                dashNone = 0,\n                animDashSpeed,\n                animDirection = 1;\n\n            if (typeof dashness === 'object') {\n              dashStroke = dashness.strokeLen || props.strokeWidth * 2;\n              dashNone = dashness.strokeLen ? dashness.nonStrokeLen : props.strokeWidth;\n              animDashSpeed = dashness.animation ? dashness.animation : null;\n            } else if (typeof dashness === 'boolean' && dashness) {\n              dashStroke = props.strokeWidth * 2;\n              dashNone = props.strokeWidth;\n              animDashSpeed = null;\n            }\n\n            return {\n              strokeLen: dashStroke,\n              nonStrokeLen: dashNone,\n              animation: animDashSpeed,\n              animDirection: animDirection\n            };\n          };\n\n          var parseEdgeShape = function parseEdgeShape(svgEdge) {\n            if (typeof svgEdge == 'string') {\n              if (svgEdge in constants_1.arrowShapes) svgEdge = constants_1.arrowShapes[svgEdge];else {\n                console.warn(\"'\" + svgEdge + \"' is not supported arrow shape. the supported arrow shapes is one of \" + constants_1.cArrowShapes + \".\\n           reverting to default shape.\");\n                svgEdge = constants_1.arrowShapes['arrow1'];\n              }\n            }\n\n            svgEdge = svgEdge;\n            if ((svgEdge === null || svgEdge === void 0 ? void 0 : svgEdge.offsetForward) === undefined) svgEdge.offsetForward = 0.25;\n            if ((svgEdge === null || svgEdge === void 0 ? void 0 : svgEdge.svgElem) === undefined) svgEdge.svgElem = 'path'; // if (svgEdge?.svgProps === undefined) svgEdge.svgProps = arrowShapes.arrow1.svgProps;\n\n            return svgEdge;\n          };\n\n          var parseGridBreak = function parseGridBreak(gridBreak) {\n            var resGridBreak = utils_1.xStr2absRelative(gridBreak);\n            if (!resGridBreak) resGridBreak = {\n              relative: 0.5,\n              abs: 0\n            };\n            return resGridBreak;\n          };\n          /**\r\n           * should be wrapped with any changed prop that is affecting the points path positioning\r\n           * @param propVal\r\n           * @param updateRef\r\n           */\n\n\n          var withUpdate = function withUpdate(propVal, updateRef) {\n            if (updateRef) updateRef.current = true;\n            return propVal;\n          };\n\n          var noParse = function noParse(userProp) {\n            return userProp;\n          };\n\n          var noParseWithUpdatePos = function noParseWithUpdatePos(userProp, _, updatePos) {\n            return withUpdate(userProp, updatePos);\n          };\n\n          var parseNumWithUpdatePos = function parseNumWithUpdatePos(userProp, _, updatePos) {\n            return withUpdate(Number(userProp), updatePos);\n          };\n\n          var parseNum = function parseNum(userProp) {\n            return Number(userProp);\n          };\n\n          var parsePropsFuncs = {\n            start: function start(userProp) {\n              return utils_1.getElementByPropGiven(userProp);\n            },\n            end: function end(userProp) {\n              return utils_1.getElementByPropGiven(userProp);\n            },\n            startAnchor: function startAnchor(userProp, _, updatePos) {\n              return withUpdate(parseAnchor(userProp), updatePos);\n            },\n            endAnchor: function endAnchor(userProp, _, updatePos) {\n              return withUpdate(parseAnchor(userProp), updatePos);\n            },\n            labels: function labels(userProp) {\n              return parseLabels(userProp);\n            },\n            color: noParse,\n            lineColor: function lineColor(userProp, propsRefs) {\n              return userProp || propsRefs.color;\n            },\n            headColor: function headColor(userProp, propsRefs) {\n              return userProp || propsRefs.color;\n            },\n            tailColor: function tailColor(userProp, propsRefs) {\n              return userProp || propsRefs.color;\n            },\n            strokeWidth: parseNumWithUpdatePos,\n            showHead: noParseWithUpdatePos,\n            headSize: parseNumWithUpdatePos,\n            showTail: noParseWithUpdatePos,\n            tailSize: parseNumWithUpdatePos,\n            path: noParseWithUpdatePos,\n            curveness: parseNumWithUpdatePos,\n            gridBreak: function gridBreak(userProp, _, updatePos) {\n              return withUpdate(parseGridBreak(userProp), updatePos);\n            },\n            // // gridRadius = strokeWidth * 2, //todo\n            dashness: function dashness(userProp, propsRefs) {\n              return parseDashness(userProp, propsRefs);\n            },\n            headShape: function headShape(userProp) {\n              return parseEdgeShape(userProp);\n            },\n            tailShape: function tailShape(userProp) {\n              return parseEdgeShape(userProp);\n            },\n            showXarrow: noParse,\n            animateDrawing: noParse,\n            zIndex: parseNum,\n            passProps: noParse,\n            arrowBodyProps: noParseWithUpdatePos,\n            arrowHeadProps: noParseWithUpdatePos,\n            arrowTailProps: noParseWithUpdatePos,\n            SVGcanvasProps: noParseWithUpdatePos,\n            divContainerProps: noParseWithUpdatePos,\n            divContainerStyle: noParseWithUpdatePos,\n            SVGcanvasStyle: noParseWithUpdatePos,\n            _extendSVGcanvas: noParseWithUpdatePos,\n            _debug: noParseWithUpdatePos,\n            _cpx1Offset: noParseWithUpdatePos,\n            _cpy1Offset: noParseWithUpdatePos,\n            _cpx2Offset: noParseWithUpdatePos,\n            _cpy2Offset: noParseWithUpdatePos\n          }; //build dependencies\n\n          var propsDeps = {}; //each prop depends on himself\n\n          for (var propName in parsePropsFuncs) {\n            propsDeps[propName] = [propName];\n          } // 'lineColor', 'headColor', 'tailColor' props also depends on 'color' prop\n\n\n          for (var _i = 0, _a = ['lineColor', 'headColor', 'tailColor']; _i < _a.length; _i++) {\n            var propName = _a[_i];\n            propsDeps[propName].push('color');\n          }\n\n          var parseGivenProps = function parseGivenProps(props, propsRef) {\n            var _a;\n\n            for (var _i = 0, _b = Object.entries(props); _i < _b.length; _i++) {\n              var _c = _b[_i],\n                  name_1 = _c[0],\n                  val = _c[1];\n              propsRef[name_1] = (_a = parsePropsFuncs === null || parsePropsFuncs === void 0 ? void 0 : parsePropsFuncs[name_1]) === null || _a === void 0 ? void 0 : _a.call(parsePropsFuncs, val, propsRef);\n            }\n\n            return propsRef;\n          };\n\n          var defaultProps = {\n            start: null,\n            end: null,\n            startAnchor: 'auto',\n            endAnchor: 'auto',\n            labels: null,\n            color: 'CornflowerBlue',\n            lineColor: null,\n            headColor: null,\n            tailColor: null,\n            strokeWidth: 4,\n            showHead: true,\n            headSize: 6,\n            showTail: false,\n            tailSize: 6,\n            path: 'smooth',\n            curveness: 0.8,\n            gridBreak: '50%',\n            // gridRadius : strokeWidth * 2, //todo\n            dashness: false,\n            headShape: 'arrow1',\n            tailShape: 'arrow1',\n            showXarrow: true,\n            animateDrawing: false,\n            zIndex: 0,\n            passProps: {},\n            arrowBodyProps: {},\n            arrowHeadProps: {},\n            arrowTailProps: {},\n            SVGcanvasProps: {},\n            divContainerProps: {},\n            divContainerStyle: {},\n            SVGcanvasStyle: {},\n            _extendSVGcanvas: 0,\n            _debug: false,\n            _cpx1Offset: 0,\n            _cpy1Offset: 0,\n            _cpx2Offset: 0,\n            _cpy2Offset: 0\n          };\n          var initialParsedProps = {};\n          initialParsedProps = parseGivenProps(defaultProps, initialParsedProps);\n          var initialValVars = {\n            startPos: {\n              x: 0,\n              y: 0,\n              right: 0,\n              bottom: 0\n            },\n            endPos: {\n              x: 0,\n              y: 0,\n              right: 0,\n              bottom: 0\n            }\n          }; // const parseAllProps = () => parseGivenProps(defaultProps, initialParsedProps);\n\n          function deepCompareEquals(a, b) {\n            return lodash_1.default.isEqual(a, b);\n          }\n\n          function useDeepCompareMemoize(value) {\n            var ref = react_1.useRef(); // it can be done by using useMemo as well\n            // but useRef is rather cleaner and easier\n\n            if (!deepCompareEquals(value, ref.current)) {\n              ref.current = value;\n            }\n\n            return ref.current;\n          }\n\n          function useDeepCompareEffect(callback, dependencies) {\n            react_1.useLayoutEffect(callback, dependencies.map(useDeepCompareMemoize));\n          }\n          /**\r\n           * smart hook that provides parsed props to Xarrow and will trigger rerender whenever given prop is changed.\r\n           */\n\n\n          var useXarrowProps = function useXarrowProps(userProps, refs) {\n            var _a = react_1.useState(initialParsedProps),\n                propsRefs = _a[0],\n                setPropsRefs = _a[1];\n\n            var shouldUpdatePosition = react_1.useRef(false); // const _propsRefs = useRef(initialParsedProps);\n            // const propsRefs = _propsRefs.current;\n\n            propsRefs['shouldUpdatePosition'] = shouldUpdatePosition;\n\n            var curProps = __assign(__assign({}, defaultProps), userProps);\n\n            var _loop_1 = function _loop_1(propName) {\n              react_1.useLayoutEffect(function () {\n                var _a;\n\n                propsRefs[propName] = (_a = parsePropsFuncs === null || parsePropsFuncs === void 0 ? void 0 : parsePropsFuncs[propName]) === null || _a === void 0 ? void 0 : _a.call(parsePropsFuncs, curProps[propName], propsRefs, shouldUpdatePosition); // console.log('prop update:', propName, 'with value', propsRefs[propName]);\n\n                setPropsRefs(__assign({}, propsRefs));\n              }, propsDeps[propName].map(function (name) {\n                return userProps[name];\n              }));\n            }; // react states the number of hooks per render must stay constant,\n            // this is ok we are using these hooks in a loop, because the number of props in defaultProps is constant,\n            // so the number of hook we will fire each render will always be the same.\n            // update the value of the ref that represents the corresponding prop\n            // for example: if given 'start' prop would change call getElementByPropGiven(props.start) and save value into propsRefs.start.current\n            // why to save refs to props parsed values? some of the props require relatively expensive computations(like 'start' and 'startAnchor').\n            // this will always run in the same order and THAT'S WAY ITS LEGAL\n\n\n            for (var propName in defaultProps) {\n              _loop_1(propName);\n            } // rerender whenever position of start element or end element changes\n\n\n            var _b = react_1.useState(initialValVars),\n                valVars = _b[0],\n                setValVars = _b[1];\n\n            var startPos = utils_1.getElemPos(propsRefs.start);\n            useDeepCompareEffect(function () {\n              valVars.startPos = startPos;\n              shouldUpdatePosition.current = true;\n              setValVars(__assign({}, valVars)); // console.log('start update pos', startPos);\n            }, [startPos]);\n            var endPos = utils_1.getElemPos(propsRefs.end);\n            useDeepCompareEffect(function () {\n              valVars.endPos = endPos;\n              shouldUpdatePosition.current = true;\n              setValVars(__assign({}, valVars)); // console.log('end update pos', endPos);\n            }, [endPos]);\n            react_1.useLayoutEffect(function () {\n              // console.log('svg shape changed!');\n              shouldUpdatePosition.current = true;\n              setValVars(__assign({}, valVars));\n            }, [propsRefs.headShape.svgElem, propsRefs.tailShape.svgElem]);\n            return [propsRefs, valVars];\n          };\n\n          exports.default = useXarrowProps;\n          /***/\n        },\n\n        /***/\n        \"./src/Xarrow/utils/GetPosition.tsx\":\n        /*!******************************************!*\\\n          !*** ./src/Xarrow/utils/GetPosition.tsx ***!\n          \\******************************************/\n\n        /***/\n        function srcXarrowUtilsGetPositionTsx(__unused_webpack_module, exports, __webpack_require__) {\n          var __importDefault = this && this.__importDefault || function (mod) {\n            return mod && mod.__esModule ? mod : {\n              \"default\": mod\n            };\n          };\n\n          Object.defineProperty(exports, \"__esModule\", {\n            value: true\n          });\n          exports.getPosition = void 0;\n\n          var anchors_1 = __webpack_require__(\n          /*! ../anchors */\n          \"./src/Xarrow/anchors.ts\");\n\n          var index_1 = __webpack_require__(\n          /*! ./index */\n          \"./src/Xarrow/utils/index.ts\");\n\n          var lodash_1 = __importDefault(__webpack_require__(\n          /*! lodash */\n          \"lodash\"));\n\n          var constants_1 = __webpack_require__(\n          /*! ../../constants */\n          \"./src/constants.tsx\");\n\n          var buzzier_1 = __webpack_require__(\n          /*! ./buzzier */\n          \"./src/Xarrow/utils/buzzier.js\");\n          /**\r\n           * The Main logic of path calculation for the arrow.\r\n           * calculate new path, adjusting canvas, and set state based on given properties.\r\n           * */\n\n\n          var getPosition = function getPosition(xProps, mainRef) {\n            var _a, _b;\n\n            var _c, _d;\n\n            var propsRefs = xProps[0],\n                valVars = xProps[1];\n            var startAnchor = propsRefs.startAnchor,\n                endAnchor = propsRefs.endAnchor,\n                strokeWidth = propsRefs.strokeWidth,\n                showHead = propsRefs.showHead,\n                headSize = propsRefs.headSize,\n                showTail = propsRefs.showTail,\n                tailSize = propsRefs.tailSize,\n                path = propsRefs.path,\n                curveness = propsRefs.curveness,\n                gridBreak = propsRefs.gridBreak,\n                headShape = propsRefs.headShape,\n                tailShape = propsRefs.tailShape,\n                _extendSVGcanvas = propsRefs._extendSVGcanvas,\n                _cpx1Offset = propsRefs._cpx1Offset,\n                _cpy1Offset = propsRefs._cpy1Offset,\n                _cpx2Offset = propsRefs._cpx2Offset,\n                _cpy2Offset = propsRefs._cpy2Offset;\n            var startPos = valVars.startPos,\n                endPos = valVars.endPos;\n            var _e = mainRef.current,\n                svgRef = _e.svgRef,\n                lineRef = _e.lineRef;\n            var headOrient = 0;\n            var tailOrient = 0; // convert startAnchor and endAnchor to list of objects represents allowed anchors.\n\n            var startPoints = anchors_1.calcAnchors(startAnchor, startPos);\n            var endPoints = anchors_1.calcAnchors(endAnchor, endPos); // choose the smallest path for 2 points from these possibilities.\n\n            var _f = index_1.getShortestLine(startPoints, endPoints),\n                chosenStart = _f.chosenStart,\n                chosenEnd = _f.chosenEnd;\n\n            var startAnchorPosition = chosenStart.anchor.position,\n                endAnchorPosition = chosenEnd.anchor.position;\n            var startPoint = lodash_1.default.pick(chosenStart, ['x', 'y']),\n                endPoint = lodash_1.default.pick(chosenEnd, ['x', 'y']);\n            var mainDivPos = index_1.getSvgPos(svgRef);\n            var cx0 = Math.min(startPoint.x, endPoint.x) - mainDivPos.x;\n            var cy0 = Math.min(startPoint.y, endPoint.y) - mainDivPos.y;\n            var dx = endPoint.x - startPoint.x;\n            var dy = endPoint.y - startPoint.y;\n            var absDx = Math.abs(endPoint.x - startPoint.x);\n            var absDy = Math.abs(endPoint.y - startPoint.y);\n            var xSign = dx > 0 ? 1 : -1;\n            var ySign = dy > 0 ? 1 : -1;\n            var _g = [headShape.offsetForward, tailShape.offsetForward],\n                headOffset = _g[0],\n                tailOffset = _g[1];\n            var fHeadSize = headSize * strokeWidth; //factored head size\n\n            var fTailSize = tailSize * strokeWidth; //factored head size\n            // const { current: _headBox } = headBox;\n\n            var xHeadOffset = 0;\n            var yHeadOffset = 0;\n            var xTailOffset = 0;\n            var yTailOffset = 0;\n\n            var _headOffset = fHeadSize * headOffset;\n\n            var _tailOffset = fTailSize * tailOffset;\n\n            var cu = Number(curveness); // gridRadius = Number(gridRadius);\n\n            if (!constants_1.cPaths.includes(path)) path = 'smooth';\n\n            if (path === 'straight') {\n              cu = 0;\n              path = 'smooth';\n            }\n\n            var biggerSide = headSize > tailSize ? headSize : tailSize;\n\n            var _calc = strokeWidth + strokeWidth * biggerSide / 2;\n\n            var excRight = _calc;\n            var excLeft = _calc;\n            var excUp = _calc;\n            var excDown = _calc;\n            excLeft += Number(_extendSVGcanvas);\n            excRight += Number(_extendSVGcanvas);\n            excUp += Number(_extendSVGcanvas);\n            excDown += Number(_extendSVGcanvas); ////////////////////////////////////\n            // arrow point to point calculations\n\n            var x1 = 0,\n                x2 = absDx,\n                y1 = 0,\n                y2 = absDy;\n            if (dx < 0) _a = [x2, x1], x1 = _a[0], x2 = _a[1];\n            if (dy < 0) _b = [y2, y1], y1 = _b[0], y2 = _b[1]; ////////////////////////////////////\n            // arrow curviness and arrowhead placement calculations\n\n            if (cu === 0) {\n              // in case of straight path\n              var headAngel = Math.atan(absDy / absDx);\n\n              if (showHead) {\n                x2 -= fHeadSize * (1 - headOffset) * xSign * Math.cos(headAngel);\n                y2 -= fHeadSize * (1 - headOffset) * ySign * Math.sin(headAngel);\n                headAngel *= ySign;\n                if (xSign < 0) headAngel = (Math.PI - headAngel * xSign) * xSign;\n                xHeadOffset = Math.cos(headAngel) * _headOffset - Math.sin(headAngel) * fHeadSize / 2;\n                yHeadOffset = Math.cos(headAngel) * fHeadSize / 2 + Math.sin(headAngel) * _headOffset;\n                headOrient = headAngel * 180 / Math.PI;\n              }\n\n              var tailAngel = Math.atan(absDy / absDx);\n\n              if (showTail) {\n                x1 += fTailSize * (1 - tailOffset) * xSign * Math.cos(tailAngel);\n                y1 += fTailSize * (1 - tailOffset) * ySign * Math.sin(tailAngel);\n                tailAngel *= -ySign;\n                if (xSign > 0) tailAngel = (Math.PI - tailAngel * xSign) * xSign;\n                xTailOffset = Math.cos(tailAngel) * _tailOffset - Math.sin(tailAngel) * fTailSize / 2;\n                yTailOffset = Math.cos(tailAngel) * fTailSize / 2 + Math.sin(tailAngel) * _tailOffset;\n                tailOrient = tailAngel * 180 / Math.PI;\n              }\n            } else {\n              // in case of smooth path\n              if (endAnchorPosition === 'middle') {\n                // in case a middle anchor is chosen for endAnchor choose from which side to attach to the middle of the element\n                if (absDx > absDy) {\n                  endAnchorPosition = xSign ? 'left' : 'right';\n                } else {\n                  endAnchorPosition = ySign ? 'top' : 'bottom';\n                }\n              }\n\n              if (showHead) {\n                if (['left', 'right'].includes(endAnchorPosition)) {\n                  xHeadOffset += _headOffset * xSign;\n                  x2 -= fHeadSize * (1 - headOffset) * xSign; //same!\n\n                  yHeadOffset += fHeadSize * xSign / 2;\n\n                  if (endAnchorPosition === 'left') {\n                    headOrient = 0;\n                    if (xSign < 0) headOrient += 180;\n                  } else {\n                    headOrient = 180;\n                    if (xSign > 0) headOrient += 180;\n                  }\n                } else if (['top', 'bottom'].includes(endAnchorPosition)) {\n                  xHeadOffset += fHeadSize * -ySign / 2;\n                  yHeadOffset += _headOffset * ySign;\n                  y2 -= fHeadSize * ySign - yHeadOffset;\n\n                  if (endAnchorPosition === 'top') {\n                    headOrient = 270;\n                    if (ySign > 0) headOrient += 180;\n                  } else {\n                    headOrient = 90;\n                    if (ySign < 0) headOrient += 180;\n                  }\n                }\n              }\n            }\n\n            if (showTail && cu !== 0) {\n              if (['left', 'right'].includes(startAnchorPosition)) {\n                xTailOffset += _tailOffset * -xSign;\n                x1 += fTailSize * xSign + xTailOffset;\n                yTailOffset += -(fTailSize * xSign) / 2;\n\n                if (startAnchorPosition === 'left') {\n                  tailOrient = 180;\n                  if (xSign < 0) tailOrient += 180;\n                } else {\n                  tailOrient = 0;\n                  if (xSign > 0) tailOrient += 180;\n                }\n              } else if (['top', 'bottom'].includes(startAnchorPosition)) {\n                yTailOffset += _tailOffset * -ySign;\n                y1 += fTailSize * ySign + yTailOffset;\n                xTailOffset += fTailSize * ySign / 2;\n\n                if (startAnchorPosition === 'top') {\n                  tailOrient = 90;\n                  if (ySign > 0) tailOrient += 180;\n                } else {\n                  tailOrient = 270;\n                  if (ySign < 0) tailOrient += 180;\n                }\n              }\n            }\n\n            var arrowHeadOffset = {\n              x: xHeadOffset,\n              y: yHeadOffset\n            };\n            var arrowTailOffset = {\n              x: xTailOffset,\n              y: yTailOffset\n            };\n            var cpx1 = x1,\n                cpy1 = y1,\n                cpx2 = x2,\n                cpy2 = y2;\n            var curvesPossibilities = {};\n            if (path === 'smooth') curvesPossibilities = {\n              hh: function hh() {\n                //horizontal - from right to left or the opposite\n                cpx1 += absDx * cu * xSign;\n                cpx2 -= absDx * cu * xSign;\n              },\n              vv: function vv() {\n                //vertical - from top to bottom or opposite\n                cpy1 += absDy * cu * ySign;\n                cpy2 -= absDy * cu * ySign;\n              },\n              hv: function hv() {\n                // start horizontally then vertically\n                // from v side to h side\n                cpx1 += absDx * cu * xSign;\n                cpy2 -= absDy * cu * ySign;\n              },\n              vh: function vh() {\n                // start vertically then horizontally\n                // from h side to v side\n                cpy1 += absDy * cu * ySign;\n                cpx2 -= absDx * cu * xSign;\n              }\n            };else if (path === 'grid') {\n              curvesPossibilities = {\n                hh: function hh() {\n                  cpx1 += (absDx * gridBreak.relative + gridBreak.abs) * xSign;\n                  cpx2 -= (absDx * (1 - gridBreak.relative) - gridBreak.abs) * xSign;\n\n                  if (showHead) {\n                    cpx1 -= fHeadSize * (1 - headOffset) / 2 * xSign;\n                    cpx2 += fHeadSize * (1 - headOffset) / 2 * xSign;\n                  }\n\n                  if (showTail) {\n                    cpx1 -= fTailSize * (1 - tailOffset) / 2 * xSign;\n                    cpx2 += fTailSize * (1 - tailOffset) / 2 * xSign;\n                  }\n                },\n                vv: function vv() {\n                  cpy1 += (absDy * gridBreak.relative + gridBreak.abs) * ySign;\n                  cpy2 -= (absDy * (1 - gridBreak.relative) - gridBreak.abs) * ySign;\n\n                  if (showHead) {\n                    cpy1 -= fHeadSize * (1 - headOffset) / 2 * ySign;\n                    cpy2 += fHeadSize * (1 - headOffset) / 2 * ySign;\n                  }\n\n                  if (showTail) {\n                    cpy1 -= fTailSize * (1 - tailOffset) / 2 * ySign;\n                    cpy2 += fTailSize * (1 - tailOffset) / 2 * ySign;\n                  }\n                },\n                hv: function hv() {\n                  cpx1 = x2;\n                },\n                vh: function vh() {\n                  cpy1 = y2;\n                }\n              };\n            } // smart select best curve for the current anchors\n\n            var selectedCurviness = '';\n            if (['left', 'right'].includes(startAnchorPosition)) selectedCurviness += 'h';else if (['bottom', 'top'].includes(startAnchorPosition)) selectedCurviness += 'v';else if (startAnchorPosition === 'middle') selectedCurviness += 'm';\n            if (['left', 'right'].includes(endAnchorPosition)) selectedCurviness += 'h';else if (['bottom', 'top'].includes(endAnchorPosition)) selectedCurviness += 'v';else if (endAnchorPosition === 'middle') selectedCurviness += 'm';\n            if (absDx > absDy) selectedCurviness = selectedCurviness.replace(/m/g, 'h');else selectedCurviness = selectedCurviness.replace(/m/g, 'v');\n            curvesPossibilities[selectedCurviness]();\n            cpx1 += _cpx1Offset;\n            cpy1 += _cpy1Offset;\n            cpx2 += _cpx2Offset;\n            cpy2 += _cpy2Offset; ////////////////////////////////////\n            // canvas smart size adjustments\n\n            var _h = buzzier_1.buzzierMinSols(x1, cpx1, cpx2, x2),\n                xSol1 = _h[0],\n                xSol2 = _h[1];\n\n            var _j = buzzier_1.buzzierMinSols(y1, cpy1, cpy2, y2),\n                ySol1 = _j[0],\n                ySol2 = _j[1];\n\n            if (xSol1 < 0) excLeft += -xSol1;\n            if (xSol2 > absDx) excRight += xSol2 - absDx;\n            if (ySol1 < 0) excUp += -ySol1;\n            if (ySol2 > absDy) excDown += ySol2 - absDy;\n\n            if (path === 'grid') {\n              excLeft += _calc;\n              excRight += _calc;\n              excUp += _calc;\n              excDown += _calc;\n            }\n\n            x1 += excLeft;\n            x2 += excLeft;\n            y1 += excUp;\n            y2 += excUp;\n            cpx1 += excLeft;\n            cpx2 += excLeft;\n            cpy1 += excUp;\n            cpy2 += excUp;\n            var cw = absDx + excLeft + excRight,\n                ch = absDy + excUp + excDown;\n            cx0 -= excLeft;\n            cy0 -= excUp; //labels\n\n            var bzx = buzzier_1.bzFunction(x1, cpx1, cpx2, x2);\n            var bzy = buzzier_1.bzFunction(y1, cpy1, cpy2, y2);\n            var labelStartPos = {\n              x: bzx(0.01),\n              y: bzy(0.01)\n            };\n            var labelMiddlePos = {\n              x: bzx(0.5),\n              y: bzy(0.5)\n            };\n            var labelEndPos = {\n              x: bzx(0.99),\n              y: bzy(0.99)\n            };\n            var arrowPath;\n\n            if (path === 'grid') {\n              // todo: support gridRadius\n              //  arrowPath = `M ${x1} ${y1} L  ${cpx1 - 10} ${cpy1} a10,10 0 0 1 10,10\n              // L ${cpx2} ${cpy2 - 10} a10,10 0 0 0 10,10 L  ${x2} ${y2}`;\n              arrowPath = \"M \" + x1 + \" \" + y1 + \" L  \" + cpx1 + \" \" + cpy1 + \" L \" + cpx2 + \" \" + cpy2 + \" \" + x2 + \" \" + y2;\n            } else if (path === 'smooth') arrowPath = \"M \" + x1 + \" \" + y1 + \" C \" + cpx1 + \" \" + cpy1 + \", \" + cpx2 + \" \" + cpy2 + \", \" + x2 + \" \" + y2;\n\n            return {\n              cx0: cx0,\n              cy0: cy0,\n              x1: x1,\n              x2: x2,\n              y1: y1,\n              y2: y2,\n              cw: cw,\n              ch: ch,\n              cpx1: cpx1,\n              cpy1: cpy1,\n              cpx2: cpx2,\n              cpy2: cpy2,\n              dx: dx,\n              dy: dy,\n              absDx: absDx,\n              absDy: absDy,\n              headOrient: headOrient,\n              tailOrient: tailOrient,\n              labelStartPos: labelStartPos,\n              labelMiddlePos: labelMiddlePos,\n              labelEndPos: labelEndPos,\n              excLeft: excLeft,\n              excRight: excRight,\n              excUp: excUp,\n              excDown: excDown,\n              headOffset: _headOffset,\n              arrowHeadOffset: arrowHeadOffset,\n              arrowTailOffset: arrowTailOffset,\n              startPoints: startPoints,\n              endPoints: endPoints,\n              mainDivPos: mainDivPos,\n              xSign: xSign,\n              ySign: ySign,\n              lineLength: (_d = (_c = lineRef.current) === null || _c === void 0 ? void 0 : _c.getTotalLength()) !== null && _d !== void 0 ? _d : 0,\n              fHeadSize: fHeadSize,\n              fTailSize: fTailSize,\n              arrowPath: arrowPath\n            };\n          };\n\n          exports.getPosition = getPosition;\n          /***/\n        },\n\n        /***/\n        \"./src/Xarrow/utils/index.ts\":\n        /*!***********************************!*\\\n          !*** ./src/Xarrow/utils/index.ts ***!\n          \\***********************************/\n\n        /***/\n        function srcXarrowUtilsIndexTs(__unused_webpack_module, exports) {\n          Object.defineProperty(exports, \"__esModule\", {\n            value: true\n          });\n          exports.getSvgPos = exports.getElemPos = exports.getShortestLine = exports.xStr2absRelative = exports.factorDpathStr = exports.getElementByPropGiven = void 0;\n\n          var getElementByPropGiven = function getElementByPropGiven(ref) {\n            var myRef;\n\n            if (typeof ref === 'string') {\n              // myRef = document.getElementById(ref);\n              myRef = document.getElementById(ref);\n            } else myRef = ref === null || ref === void 0 ? void 0 : ref.current;\n\n            return myRef;\n          };\n\n          exports.getElementByPropGiven = getElementByPropGiven; // receives string representing a d path and factoring only the numbers\n\n          var factorDpathStr = function factorDpathStr(d, factor) {\n            var l = d.split(/(\\d+(?:\\.\\d+)?)/);\n            l = l.map(function (s) {\n              if (Number(s)) return (Number(s) * factor).toString();else return s;\n            });\n            return l.join('');\n          };\n\n          exports.factorDpathStr = factorDpathStr; // return relative,abs\n\n          var xStr2absRelative = function xStr2absRelative(str) {\n            if (typeof str !== 'string') return {\n              abs: 0,\n              relative: 0.5\n            };\n            var sp = str.split('%');\n            var absLen = 0,\n                percentLen = 0;\n\n            if (sp.length == 1) {\n              var p = parseFloat(sp[0]);\n\n              if (!isNaN(p)) {\n                absLen = p;\n                return {\n                  abs: absLen,\n                  relative: 0\n                };\n              }\n            } else if (sp.length == 2) {\n              var _a = [parseFloat(sp[0]), parseFloat(sp[1])],\n                  p1 = _a[0],\n                  p2 = _a[1];\n              if (!isNaN(p1)) percentLen = p1 / 100;\n              if (!isNaN(p2)) absLen = p2;\n              if (!isNaN(p1) || !isNaN(p2)) return {\n                abs: absLen,\n                relative: percentLen\n              };\n            }\n          };\n\n          exports.xStr2absRelative = xStr2absRelative;\n\n          var dist = function dist(p1, p2) {\n            //length of line\n            return Math.sqrt(Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2));\n          };\n\n          var getShortestLine = function getShortestLine(sPoints, ePoints) {\n            // closes tPair Of Points which feet to the specified anchors\n            var minDist = Infinity,\n                d = Infinity;\n            var closestPair;\n            sPoints.forEach(function (sp) {\n              ePoints.forEach(function (ep) {\n                d = dist(sp, ep);\n\n                if (d < minDist) {\n                  minDist = d;\n                  closestPair = {\n                    chosenStart: sp,\n                    chosenEnd: ep\n                  };\n                }\n              });\n            });\n            return closestPair;\n          };\n\n          exports.getShortestLine = getShortestLine;\n\n          var getElemPos = function getElemPos(elem) {\n            if (!elem) return {\n              x: 0,\n              y: 0,\n              right: 0,\n              bottom: 0\n            };\n            var pos = elem.getBoundingClientRect();\n            return {\n              x: pos.left,\n              y: pos.top,\n              right: pos.right,\n              bottom: pos.bottom\n            };\n          };\n\n          exports.getElemPos = getElemPos;\n\n          var getSvgPos = function getSvgPos(svgRef) {\n            if (!svgRef.current) return {\n              x: 0,\n              y: 0\n            };\n\n            var _a = svgRef.current.getBoundingClientRect(),\n                xarrowElemX = _a.left,\n                xarrowElemY = _a.top;\n\n            var xarrowStyle = getComputedStyle(svgRef.current);\n            var xarrowStyleLeft = Number(xarrowStyle.left.slice(0, -2));\n            var xarrowStyleTop = Number(xarrowStyle.top.slice(0, -2));\n            return {\n              x: xarrowElemX - xarrowStyleLeft,\n              y: xarrowElemY - xarrowStyleTop\n            };\n          };\n\n          exports.getSvgPos = getSvgPos;\n          /***/\n        },\n\n        /***/\n        \"./src/Xwrapper.tsx\":\n        /*!**************************!*\\\n          !*** ./src/Xwrapper.tsx ***!\n          \\**************************/\n\n        /***/\n        function srcXwrapperTsx(__unused_webpack_module, exports, __webpack_require__) {\n          var __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n            if (k2 === undefined) k2 = k;\n            Object.defineProperty(o, k2, {\n              enumerable: true,\n              get: function get() {\n                return m[k];\n              }\n            });\n          } : function (o, m, k, k2) {\n            if (k2 === undefined) k2 = k;\n            o[k2] = m[k];\n          });\n\n          var __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n            Object.defineProperty(o, \"default\", {\n              enumerable: true,\n              value: v\n            });\n          } : function (o, v) {\n            o[\"default\"] = v;\n          });\n\n          var __importStar = this && this.__importStar || function (mod) {\n            if (mod && mod.__esModule) return mod;\n            var result = {};\n            if (mod != null) for (var k in mod) {\n              if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n            }\n\n            __setModuleDefault(result, mod);\n\n            return result;\n          };\n\n          Object.defineProperty(exports, \"__esModule\", {\n            value: true\n          });\n          exports.XarrowContext = exports.XelemContext = void 0;\n\n          var react_1 = __importStar(__webpack_require__(\n          /*! react */\n          \"react\"));\n\n          exports.XelemContext = react_1.default.createContext(null);\n          exports.XarrowContext = react_1.default.createContext(null);\n          var updateRef = {};\n          var updateRefCount = 0;\n          var log = console.log;\n\n          var XarrowProvider = function XarrowProvider(_a) {\n            var children = _a.children,\n                instanceCount = _a.instanceCount;\n\n            var _b = react_1.useState({}),\n                setRender = _b[1];\n\n            var updateXarrow = function updateXarrow() {\n              return setRender({});\n            };\n\n            react_1.useEffect(function () {\n              instanceCount.current = updateRefCount; // so this instance would know what is id\n\n              updateRef[instanceCount.current] = updateXarrow;\n            }, []); // log('XarrowProvider', updateRefCount);\n\n            return react_1.default.createElement(exports.XarrowContext.Provider, {\n              value: updateXarrow\n            }, children);\n          };\n\n          var XelemProvider = function XelemProvider(_a) {\n            var children = _a.children,\n                instanceCount = _a.instanceCount;\n            return react_1.default.createElement(exports.XelemContext.Provider, {\n              value: updateRef[instanceCount.current]\n            }, children);\n          };\n\n          var Xwrapper = function Xwrapper(_a) {\n            var children = _a.children;\n            var instanceCount = react_1.useRef(updateRefCount);\n\n            var _b = react_1.useState({}),\n                setRender = _b[1];\n\n            react_1.useEffect(function () {\n              updateRefCount++;\n              setRender({});\n              return function () {\n                delete updateRef[instanceCount.current];\n              };\n            }, []);\n            return react_1.default.createElement(XelemProvider, {\n              instanceCount: instanceCount\n            }, react_1.default.createElement(XarrowProvider, {\n              instanceCount: instanceCount\n            }, children));\n          };\n\n          exports.default = Xwrapper;\n          /***/\n        },\n\n        /***/\n        \"./src/constants.tsx\":\n        /*!***************************!*\\\n          !*** ./src/constants.tsx ***!\n          \\***************************/\n\n        /***/\n        function srcConstantsTsx(__unused_webpack_module, exports, __webpack_require__) {\n          var __importDefault = this && this.__importDefault || function (mod) {\n            return mod && mod.__esModule ? mod : {\n              \"default\": mod\n            };\n          };\n\n          Object.defineProperty(exports, \"__esModule\", {\n            value: true\n          });\n          exports.cArrowShapes = exports.arrowShapes = exports.cSvgElems = exports.cPaths = exports.cAnchorEdge = void 0; // constants used for typescript and proptypes definitions\n\n          var react_1 = __importDefault(__webpack_require__(\n          /*! react */\n          \"react\"));\n\n          exports.cAnchorEdge = ['middle', 'left', 'right', 'top', 'bottom', 'auto'];\n          exports.cPaths = ['smooth', 'grid', 'straight'];\n          exports.cSvgElems = ['circle', 'ellipse', 'line', 'path', 'polygon', 'polyline', 'rect']; //default arrows svgs\n\n          exports.arrowShapes = {\n            arrow1: {\n              svgElem: react_1.default.createElement(\"path\", {\n                d: \"M 0 0 L 1 0.5 L 0 1 L 0.25 0.5 z\"\n              }),\n              offsetForward: 0.25\n            },\n            heart: {\n              svgElem: react_1.default.createElement(\"path\", {\n                d: \"M 0,0.25 A 0.125,0.125 0,0,1 0.5,0.25 A 0.125,0.125 0,0,1 1,0.25 Q 1,0.625 0.5,1 Q 0,0.625 0,0.25 z\"\n              }),\n              offsetForward: 0.1\n            },\n            circle: {\n              svgElem: react_1.default.createElement(\"circle\", {\n                r: 0.5,\n                cx: 0.5,\n                cy: 0.5\n              }),\n              offsetForward: 0\n            }\n          };\n          exports.cArrowShapes = Object.keys(exports.arrowShapes);\n          /***/\n        },\n\n        /***/\n        \"./src/index.tsx\":\n        /*!***********************!*\\\n          !*** ./src/index.tsx ***!\n          \\***********************/\n\n        /***/\n        function srcIndexTsx(__unused_webpack_module, exports, __webpack_require__) {\n          var __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n            if (k2 === undefined) k2 = k;\n            Object.defineProperty(o, k2, {\n              enumerable: true,\n              get: function get() {\n                return m[k];\n              }\n            });\n          } : function (o, m, k, k2) {\n            if (k2 === undefined) k2 = k;\n            o[k2] = m[k];\n          });\n\n          var __exportStar = this && this.__exportStar || function (m, exports) {\n            for (var p in m) {\n              if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n            }\n          };\n\n          var __importDefault = this && this.__importDefault || function (mod) {\n            return mod && mod.__esModule ? mod : {\n              \"default\": mod\n            };\n          };\n\n          Object.defineProperty(exports, \"__esModule\", {\n            value: true\n          });\n          exports.useXarrow = exports.Xwrapper = exports.default = void 0;\n\n          var Xarrow_1 = __webpack_require__(\n          /*! ./Xarrow/Xarrow */\n          \"./src/Xarrow/Xarrow.tsx\");\n\n          Object.defineProperty(exports, \"default\", {\n            enumerable: true,\n            get: function get() {\n              return __importDefault(Xarrow_1).default;\n            }\n          });\n\n          __exportStar(__webpack_require__(\n          /*! ./types */\n          \"./src/types.ts\"), exports);\n\n          __exportStar(__webpack_require__(\n          /*! ./constants */\n          \"./src/constants.tsx\"), exports);\n\n          var Xwrapper_1 = __webpack_require__(\n          /*! ./Xwrapper */\n          \"./src/Xwrapper.tsx\");\n\n          Object.defineProperty(exports, \"Xwrapper\", {\n            enumerable: true,\n            get: function get() {\n              return __importDefault(Xwrapper_1).default;\n            }\n          });\n\n          var useXarrow_1 = __webpack_require__(\n          /*! ./useXarrow */\n          \"./src/useXarrow.tsx\");\n\n          Object.defineProperty(exports, \"useXarrow\", {\n            enumerable: true,\n            get: function get() {\n              return __importDefault(useXarrow_1).default;\n            }\n          });\n          /***/\n        },\n\n        /***/\n        \"./src/types.ts\":\n        /*!**********************!*\\\n          !*** ./src/types.ts ***!\n          \\**********************/\n\n        /***/\n        function srcTypesTs(__unused_webpack_module, exports) {\n          Object.defineProperty(exports, \"__esModule\", {\n            value: true\n          });\n          /***/\n        },\n\n        /***/\n        \"./src/useXarrow.tsx\":\n        /*!***************************!*\\\n          !*** ./src/useXarrow.tsx ***!\n          \\***************************/\n\n        /***/\n        function srcUseXarrowTsx(__unused_webpack_module, exports, __webpack_require__) {\n          Object.defineProperty(exports, \"__esModule\", {\n            value: true\n          });\n\n          var react_1 = __webpack_require__(\n          /*! react */\n          \"react\");\n\n          var Xwrapper_1 = __webpack_require__(\n          /*! ./Xwrapper */\n          \"./src/Xwrapper.tsx\");\n\n          var useXarrow = function useXarrow() {\n            var _a = react_1.useState({}),\n                setRender = _a[1];\n\n            var reRender = function reRender() {\n              return setRender({});\n            };\n\n            var updateXarrow = react_1.useContext(Xwrapper_1.XelemContext);\n            if (!updateXarrow) updateXarrow = function updateXarrow() {}; // throw new Error(\n            //   \"'Xwrapper' is required around element using 'useXarrow' hook! wrap your xarrows and connected elements with Xwrapper! \"\n            // );\n\n            react_1.useLayoutEffect(function () {\n              updateXarrow();\n            });\n            return reRender;\n          };\n\n          exports.default = useXarrow;\n          /***/\n        },\n\n        /***/\n        \"lodash\":\n        /*!*************************!*\\\n          !*** external \"lodash\" ***!\n          \\*************************/\n\n        /***/\n        function lodash(module) {\n          module.exports = __WEBPACK_EXTERNAL_MODULE_lodash__;\n          /***/\n        },\n\n        /***/\n        \"prop-types\":\n        /*!*****************************!*\\\n          !*** external \"prop-types\" ***!\n          \\*****************************/\n\n        /***/\n        function propTypes(module) {\n          module.exports = __WEBPACK_EXTERNAL_MODULE_prop_types__;\n          /***/\n        },\n\n        /***/\n        \"react\":\n        /*!************************!*\\\n          !*** external \"react\" ***!\n          \\************************/\n\n        /***/\n        function react(module) {\n          module.exports = __WEBPACK_EXTERNAL_MODULE_react__;\n          /***/\n        }\n        /******/\n\n      };\n      /************************************************************************/\n\n      /******/\n      // The module cache\n\n      /******/\n\n      var __webpack_module_cache__ = {};\n      /******/\n\n      /******/\n      // The require function\n\n      /******/\n\n      function __webpack_require__(moduleId) {\n        /******/\n        // Check if module is in cache\n\n        /******/\n        var cachedModule = __webpack_module_cache__[moduleId];\n        /******/\n\n        if (cachedModule !== undefined) {\n          /******/\n          return cachedModule.exports;\n          /******/\n        }\n        /******/\n        // Create a new module (and put it into the cache)\n\n        /******/\n\n\n        var module = __webpack_module_cache__[moduleId] = {\n          /******/\n          id: moduleId,\n\n          /******/\n          loaded: false,\n\n          /******/\n          exports: {}\n          /******/\n\n        };\n        /******/\n\n        /******/\n        // Execute the module function\n\n        /******/\n\n        __webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n\n        /******/\n        // Flag the module as loaded\n\n        /******/\n\n\n        module.loaded = true;\n        /******/\n\n        /******/\n        // Return the exports of the module\n\n        /******/\n\n        return module.exports;\n        /******/\n      }\n      /******/\n\n      /******/\n      // expose the module cache\n\n      /******/\n\n\n      __webpack_require__.c = __webpack_module_cache__;\n      /******/\n\n      /************************************************************************/\n\n      /******/\n\n      /* webpack/runtime/define property getters */\n\n      /******/\n\n      !function () {\n        /******/\n        // define getter functions for harmony exports\n\n        /******/\n        __webpack_require__.d = function (exports, definition) {\n          /******/\n          for (var key in definition) {\n            /******/\n            if (__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n              /******/\n              Object.defineProperty(exports, key, {\n                enumerable: true,\n                get: definition[key]\n              });\n              /******/\n            }\n            /******/\n\n          }\n          /******/\n\n        };\n        /******/\n\n      }();\n      /******/\n\n      /******/\n\n      /* webpack/runtime/hasOwnProperty shorthand */\n\n      /******/\n\n      !function () {\n        /******/\n        __webpack_require__.o = function (obj, prop) {\n          return Object.prototype.hasOwnProperty.call(obj, prop);\n        };\n        /******/\n\n      }();\n      /******/\n\n      /******/\n\n      /* webpack/runtime/make namespace object */\n\n      /******/\n\n      !function () {\n        /******/\n        // define __esModule on exports\n\n        /******/\n        __webpack_require__.r = function (exports) {\n          /******/\n          if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n            /******/\n            Object.defineProperty(exports, Symbol.toStringTag, {\n              value: 'Module'\n            });\n            /******/\n          }\n          /******/\n\n\n          Object.defineProperty(exports, '__esModule', {\n            value: true\n          });\n          /******/\n        };\n        /******/\n\n      }();\n      /******/\n\n      /******/\n\n      /* webpack/runtime/node module decorator */\n\n      /******/\n\n      !function () {\n        /******/\n        __webpack_require__.nmd = function (module) {\n          /******/\n          module.paths = [];\n          /******/\n\n          if (!module.children) module.children = [];\n          /******/\n\n          return module;\n          /******/\n        };\n        /******/\n\n      }();\n      /******/\n\n      /************************************************************************/\n\n      /******/\n\n      /******/\n      // module cache are used so entry inlining is disabled\n\n      /******/\n      // startup\n\n      /******/\n      // Load entry module and return exports\n\n      /******/\n\n      var __webpack_exports__ = __webpack_require__(__webpack_require__.s = \"./src/index.tsx\");\n      /******/\n\n      /******/\n\n\n      return __webpack_exports__;\n      /******/\n    }()\n  );\n});","'use strict';\nvar aFunction = require('../internals/a-function');\n\nvar PromiseCapability = function (C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n};\n\n// 25.4.1.5 NewPromiseCapability(C)\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","module.exports = function (e) {\n  var t = {};\n\n  function r(n) {\n    if (t[n]) return t[n].exports;\n    var o = t[n] = {\n      i: n,\n      l: !1,\n      exports: {}\n    };\n    return e[n].call(o.exports, o, o.exports, r), o.l = !0, o.exports;\n  }\n\n  return r.m = e, r.c = t, r.d = function (e, t, n) {\n    r.o(e, t) || Object.defineProperty(e, t, {\n      enumerable: !0,\n      get: n\n    });\n  }, r.r = function (e) {\n    \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n      value: \"Module\"\n    }), Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n  }, r.t = function (e, t) {\n    if (1 & t && (e = r(e)), 8 & t) return e;\n    if (4 & t && \"object\" == typeof e && e && e.__esModule) return e;\n    var n = Object.create(null);\n    if (r.r(n), Object.defineProperty(n, \"default\", {\n      enumerable: !0,\n      value: e\n    }), 2 & t && \"string\" != typeof e) for (var o in e) {\n      r.d(n, o, function (t) {\n        return e[t];\n      }.bind(null, o));\n    }\n    return n;\n  }, r.n = function (e) {\n    var t = e && e.__esModule ? function () {\n      return e.default;\n    } : function () {\n      return e;\n    };\n    return r.d(t, \"a\", t), t;\n  }, r.o = function (e, t) {\n    return Object.prototype.hasOwnProperty.call(e, t);\n  }, r.p = \"\", r(r.s = 2);\n}([function (e, t) {\n  e.exports = require(\"prop-types\");\n}, function (e, t) {\n  e.exports = require(\"react\");\n}, function (e, t, r) {\n  \"use strict\";\n\n  r.r(t);\n\n  var n = r(1),\n      o = r(0),\n      _l = function l() {\n    return (_l = Object.assign || function (e) {\n      for (var t, r = 1, n = arguments.length; r < n; r++) {\n        for (var o in t = arguments[r]) {\n          Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);\n        }\n      }\n\n      return e;\n    }).apply(this, arguments);\n  },\n      i = function i(e, t) {\n    var r = {};\n\n    for (var n in e) {\n      Object.prototype.hasOwnProperty.call(e, n) && t.indexOf(n) < 0 && (r[n] = e[n]);\n    }\n\n    if (null != e && \"function\" == typeof Object.getOwnPropertySymbols) {\n      var o = 0;\n\n      for (n = Object.getOwnPropertySymbols(e); o < n.length; o++) {\n        t.indexOf(n[o]) < 0 && Object.prototype.propertyIsEnumerable.call(e, n[o]) && (r[n[o]] = e[n[o]]);\n      }\n    }\n\n    return r;\n  },\n      a = 0,\n      s = n.forwardRef(function (e, t) {\n    var r = e.title,\n        o = void 0 === r ? null : r,\n        s = e.description,\n        c = void 0 === s ? null : s,\n        u = e.size,\n        p = void 0 === u ? null : u,\n        f = e.color,\n        d = void 0 === f ? \"currentColor\" : f,\n        y = e.horizontal,\n        v = void 0 === y ? null : y,\n        b = e.vertical,\n        m = void 0 === b ? null : b,\n        h = e.rotate,\n        g = void 0 === h ? null : h,\n        O = e.spin,\n        w = void 0 === O ? null : O,\n        j = e.style,\n        z = void 0 === j ? {} : j,\n        E = e.children,\n        P = i(e, [\"title\", \"description\", \"size\", \"color\", \"horizontal\", \"vertical\", \"rotate\", \"spin\", \"style\", \"children\"]);\n    a++;\n\n    var S,\n        x = null !== w && w,\n        _ = n.Children.map(E, function (e) {\n      var t = e;\n      !0 !== x && (x = !0 === (null === w ? t.props.spin : w));\n      var r = t.props.size;\n      \"number\" == typeof p && \"number\" == typeof t.props.size && (r = t.props.size / p);\n      var o = {\n        size: r,\n        color: null === d ? t.props.color : d,\n        horizontal: null === v ? t.props.horizontal : v,\n        vertical: null === m ? t.props.vertical : m,\n        rotate: null === g ? t.props.rotate : g,\n        spin: null === w ? t.props.spin : w,\n        inStack: !0\n      };\n      return n.cloneElement(t, o);\n    });\n\n    null !== p && (z.width = \"string\" == typeof p ? p : 1.5 * p + \"rem\");\n    var k,\n        T = \"stack_labelledby_\" + a,\n        q = \"stack_describedby_\" + a;\n    if (o) S = c ? T + \" \" + q : T;else if (k = \"presentation\", c) throw new Error(\"title attribute required when description is set\");\n    return n.createElement(\"svg\", _l({\n      ref: t,\n      viewBox: \"0 0 24 24\",\n      style: z,\n      role: k,\n      \"aria-labelledby\": S\n    }, P), o && n.createElement(\"title\", {\n      id: T\n    }, o), c && n.createElement(\"desc\", {\n      id: q\n    }, c), x && n.createElement(\"style\", null, \"@keyframes spin { to { transform: rotate(360deg) } }\", \"@keyframes spin-inverse { to { transform: rotate(-360deg) } }\"), _);\n  });\n\n  s.displayName = \"Stack\", s.propTypes = {\n    size: o.oneOfType([o.number, o.string]),\n    color: o.string,\n    horizontal: o.bool,\n    vertical: o.bool,\n    rotate: o.number,\n    spin: o.oneOfType([o.bool, o.number]),\n    children: o.oneOfType([o.arrayOf(o.node), o.node]).isRequired,\n    className: o.string,\n    style: o.object\n  }, s.defaultProps = {\n    size: null,\n    color: null,\n    horizontal: null,\n    vertical: null,\n    rotate: null,\n    spin: null\n  };\n  var c = s;\n  r.d(t, \"Icon\", function () {\n    return d;\n  }), r.d(t, \"Stack\", function () {\n    return c;\n  });\n\n  var _u = function u() {\n    return (_u = Object.assign || function (e) {\n      for (var t, r = 1, n = arguments.length; r < n; r++) {\n        for (var o in t = arguments[r]) {\n          Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);\n        }\n      }\n\n      return e;\n    }).apply(this, arguments);\n  },\n      p = function p(e, t) {\n    var r = {};\n\n    for (var n in e) {\n      Object.prototype.hasOwnProperty.call(e, n) && t.indexOf(n) < 0 && (r[n] = e[n]);\n    }\n\n    if (null != e && \"function\" == typeof Object.getOwnPropertySymbols) {\n      var o = 0;\n\n      for (n = Object.getOwnPropertySymbols(e); o < n.length; o++) {\n        t.indexOf(n[o]) < 0 && Object.prototype.propertyIsEnumerable.call(e, n[o]) && (r[n[o]] = e[n[o]]);\n      }\n    }\n\n    return r;\n  },\n      f = 0,\n      d = n.forwardRef(function (e, t) {\n    var r = e.path,\n        o = e.id,\n        l = void 0 === o ? ++f : o,\n        i = e.title,\n        a = void 0 === i ? null : i,\n        s = e.description,\n        c = void 0 === s ? null : s,\n        d = e.size,\n        y = void 0 === d ? null : d,\n        v = e.color,\n        b = void 0 === v ? \"currentColor\" : v,\n        m = e.horizontal,\n        h = void 0 !== m && m,\n        g = e.vertical,\n        O = void 0 !== g && g,\n        w = e.rotate,\n        j = void 0 === w ? 0 : w,\n        z = e.spin,\n        E = void 0 !== z && z,\n        P = e.style,\n        S = void 0 === P ? {} : P,\n        x = e.inStack,\n        _ = void 0 !== x && x,\n        k = p(e, [\"path\", \"id\", \"title\", \"description\", \"size\", \"color\", \"horizontal\", \"vertical\", \"rotate\", \"spin\", \"style\", \"inStack\"]),\n        T = {},\n        q = [];\n\n    null !== y && (_ ? q.push(\"scale(\" + y + \")\") : (S.width = \"string\" == typeof y ? y : 1.5 * y + \"rem\", S.height = S.width)), h && q.push(\"scaleX(-1)\"), O && q.push(\"scaleY(-1)\"), 0 !== j && q.push(\"rotate(\" + j + \"deg)\"), null !== b && (T.fill = b);\n    var M = n.createElement(\"path\", _u({\n      d: r,\n      style: T\n    }, _ ? k : {})),\n        C = M;\n    q.length > 0 && (S.transform = q.join(\" \"), S.transformOrigin = \"center\", _ && (C = n.createElement(\"g\", {\n      style: S\n    }, M, n.createElement(\"rect\", {\n      width: \"24\",\n      height: \"24\",\n      fill: \"transparent\"\n    }))));\n    var I,\n        N = C,\n        R = !0 === E || \"number\" != typeof E ? 2 : E,\n        B = !_ && (h || O);\n    if (R < 0 && (B = !B), E && (N = n.createElement(\"g\", {\n      style: {\n        animation: \"spin\" + (B ? \"-inverse\" : \"\") + \" linear \" + Math.abs(R) + \"s infinite\",\n        transformOrigin: \"center\"\n      }\n    }, C, !(h || O || 0 !== j) && n.createElement(\"rect\", {\n      width: \"24\",\n      height: \"24\",\n      fill: \"transparent\"\n    }))), _) return N;\n    var X,\n        Y = \"icon_labelledby_\" + l,\n        A = \"icon_describedby_\" + l;\n    if (a) I = c ? Y + \" \" + A : Y;else if (X = \"presentation\", c) throw new Error(\"title attribute required when description is set\");\n    return n.createElement(\"svg\", _u({\n      ref: t,\n      viewBox: \"0 0 24 24\",\n      style: S,\n      role: X,\n      \"aria-labelledby\": I\n    }, k), a && n.createElement(\"title\", {\n      id: Y\n    }, a), c && n.createElement(\"desc\", {\n      id: A\n    }, c), !_ && E && (B ? n.createElement(\"style\", null, \"@keyframes spin-inverse { to { transform: rotate(-360deg) } }\") : n.createElement(\"style\", null, \"@keyframes spin { to { transform: rotate(360deg) } }\")), N);\n  });\n\n  d.displayName = \"Icon\", d.propTypes = {\n    path: o.string.isRequired,\n    size: o.oneOfType([o.number, o.string]),\n    color: o.string,\n    horizontal: o.bool,\n    vertical: o.bool,\n    rotate: o.number,\n    spin: o.oneOfType([o.bool, o.number]),\n    style: o.object,\n    inStack: o.bool,\n    className: o.string\n  }, d.defaultProps = {\n    size: null,\n    color: \"currentColor\",\n    horizontal: !1,\n    vertical: !1,\n    rotate: 0,\n    spin: !1\n  };\n  t.default = d;\n}]);","/** @license React v17.0.2\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';\n\nvar b = 60103,\n    c = 60106,\n    d = 60107,\n    e = 60108,\n    f = 60114,\n    g = 60109,\n    h = 60110,\n    k = 60112,\n    l = 60113,\n    m = 60120,\n    n = 60115,\n    p = 60116,\n    q = 60121,\n    r = 60122,\n    u = 60117,\n    v = 60129,\n    w = 60131;\n\nif (\"function\" === typeof Symbol && Symbol.for) {\n  var x = Symbol.for;\n  b = x(\"react.element\");\n  c = x(\"react.portal\");\n  d = x(\"react.fragment\");\n  e = x(\"react.strict_mode\");\n  f = x(\"react.profiler\");\n  g = x(\"react.provider\");\n  h = x(\"react.context\");\n  k = x(\"react.forward_ref\");\n  l = x(\"react.suspense\");\n  m = x(\"react.suspense_list\");\n  n = x(\"react.memo\");\n  p = x(\"react.lazy\");\n  q = x(\"react.block\");\n  r = x(\"react.server.block\");\n  u = x(\"react.fundamental\");\n  v = x(\"react.debug_trace_mode\");\n  w = x(\"react.legacy_hidden\");\n}\n\nfunction y(a) {\n  if (\"object\" === typeof a && null !== a) {\n    var t = a.$$typeof;\n\n    switch (t) {\n      case b:\n        switch (a = a.type, a) {\n          case d:\n          case f:\n          case e:\n          case l:\n          case m:\n            return a;\n\n          default:\n            switch (a = a && a.$$typeof, a) {\n              case h:\n              case k:\n              case p:\n              case n:\n              case g:\n                return a;\n\n              default:\n                return t;\n            }\n\n        }\n\n      case c:\n        return t;\n    }\n  }\n}\n\nvar z = g,\n    A = b,\n    B = k,\n    C = d,\n    D = p,\n    E = n,\n    F = c,\n    G = f,\n    H = e,\n    I = l;\nexports.ContextConsumer = h;\nexports.ContextProvider = z;\nexports.Element = A;\nexports.ForwardRef = B;\nexports.Fragment = C;\nexports.Lazy = D;\nexports.Memo = E;\nexports.Portal = F;\nexports.Profiler = G;\nexports.StrictMode = H;\nexports.Suspense = I;\n\nexports.isAsyncMode = function () {\n  return !1;\n};\n\nexports.isConcurrentMode = function () {\n  return !1;\n};\n\nexports.isContextConsumer = function (a) {\n  return y(a) === h;\n};\n\nexports.isContextProvider = function (a) {\n  return y(a) === g;\n};\n\nexports.isElement = function (a) {\n  return \"object\" === typeof a && null !== a && a.$$typeof === b;\n};\n\nexports.isForwardRef = function (a) {\n  return y(a) === k;\n};\n\nexports.isFragment = function (a) {\n  return y(a) === d;\n};\n\nexports.isLazy = function (a) {\n  return y(a) === p;\n};\n\nexports.isMemo = function (a) {\n  return y(a) === n;\n};\n\nexports.isPortal = function (a) {\n  return y(a) === c;\n};\n\nexports.isProfiler = function (a) {\n  return y(a) === f;\n};\n\nexports.isStrictMode = function (a) {\n  return y(a) === e;\n};\n\nexports.isSuspense = function (a) {\n  return y(a) === l;\n};\n\nexports.isValidElementType = function (a) {\n  return \"string\" === typeof a || \"function\" === typeof a || a === d || a === f || a === v || a === e || a === l || a === m || a === w || \"object\" === typeof a && null !== a && (a.$$typeof === p || a.$$typeof === n || a.$$typeof === g || a.$$typeof === h || a.$$typeof === k || a.$$typeof === u || a.$$typeof === q || a[0] === r) ? !0 : !1;\n};\n\nexports.typeOf = y;","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","export const introMessage = `Thank you for playing my game. I hope you learned something about me and had some fun along the way.`;\r\n\r\ntype Credit = {\r\n  name: string;\r\n  link: string;\r\n};\r\n\r\nexport const guideCredits: Credit[] = [\r\n  {\r\n    name: 'I made a top-down game version of my blog with Phaser and React',\r\n    link:\r\n      'https://pablo.gg/en/blog/coding/i-made-a-top-down-game-version-of-my-blog-with-phaser-and-react/',\r\n  },\r\n  {\r\n    name: 'Grid-Based Movement in a Top-Down 2D RPG With Phaser 3',\r\n    link: `https://medium.com/swlh/grid-based-movement-in-a-top-down-2d-rpg-with-phaser-3-e3a3486eb2fd`,\r\n  },\r\n  {\r\n    name: `How to Make a Mario-style Platformer with Phaser 3`,\r\n    link: `https://gamedevacademy.org/how-to-make-a-mario-style-platformer-with-phaser-3/?a=13`,\r\n  },\r\n  {\r\n    name: `Phaser 3 and Tiled: Building a Platformer`,\r\n    link: `https://stackabuse.com/phaser-3-and-tiled-building-a-platformer/`,\r\n  },\r\n];\r\n\r\nexport const assetCredits: Credit[] = [\r\n  {\r\n    name: `RPG Nature Tileset`,\r\n    link: `https://stealthix.itch.io/rpg-nature-tileset`,\r\n  },\r\n  {\r\n    name: `Serene Village Revamped`,\r\n    link: `https://limezu.itch.io/serenevillagerevamped`,\r\n  },\r\n  {\r\n    name: `Sci-Fi Facility Asset Pack`,\r\n    link: `https://murphysdad.itch.io/sci-fi-facility`,\r\n  },\r\n  {\r\n    name: `PIPOYA FREE RPG Character Sprites 32x32`,\r\n    link: `https://pipoya.itch.io/pipoya-free-rpg-character-sprites-32x32`,\r\n  },\r\n  {\r\n    name: `Modern Interiors`,\r\n    link: `https://limezu.itch.io/moderninteriors`,\r\n  },\r\n  {\r\n    name: `Pixel art top down basic`,\r\n    link: `https://cainos.itch.io/pixel-art-top-down-basic`,\r\n  },\r\n  {\r\n    name: `Fire Animation - Pixel Art FX Sprites `,\r\n    link: `https://brullov.itch.io/fire-animation`,\r\n  },\r\n  {\r\n    name: `Treasure+`,\r\n    link: `https://ninjikin.itch.io/treasure`,\r\n  },\r\n  {\r\n    name: `Rogue fantasy catacombs`,\r\n    link: `https://szadiart.itch.io/rogue-fantasy-catacombs`,\r\n  },\r\n  {\r\n    name: `Magic orb effects`,\r\n    link: `https://obipandawan.itch.io/free-orb-spell-2d-animation`,\r\n  },\r\n  {\r\n    name: `Magical Items & Potions tileset`,\r\n    link: `https://heyitswidmo.itch.io/magical-potions-items-tileset`,\r\n  },\r\n  {\r\n    name: `Fire Column Pixel Art Effect`,\r\n    link: `https://sanctumpixel.itch.io/fire-column-pixel-art-effect`,\r\n  },\r\n  {\r\n    name: `Pixel Art Fire Effect - FX018`,\r\n    link: `https://nyknck.itch.io/pixelartfireeffectfx018`,\r\n  },\r\n  {\r\n    name: `Flame Animated`,\r\n    link: `https://lelex-game-and-art-maker.itch.io/fire-animated`,\r\n  },\r\n  {\r\n    name: `Pipoya free rpg character sprites`,\r\n    link: `https://pipoya.itch.io/pipoya-free-rpg-character-sprites-nekonin`,\r\n  },\r\n  {\r\n    name: `Shikashis fantasy icons pack`,\r\n    link: `https://cheekyinkling.itch.io/shikashis-fantasy-icons-pack`,\r\n  },\r\n  {\r\n    name: `Animated Potion Assets Pack`,\r\n    link: `https://flippurgatory.itch.io/animated-potion-assets-pack-free`,\r\n  },\r\n  {\r\n    name: `F2D Pixel Art Portal Sprites`,\r\n    link: `https://elthen.itch.io/2d-pixel-art-portal-sprites`,\r\n  },\r\n  {\r\n    name: `Wood Set`,\r\n    link: `https://nyknck.itch.io/wood-set`,\r\n  },\r\n  {\r\n    name: `Insect enemy assets`,\r\n    link: `https://jeevo.itch.io/insect-enemies`,\r\n  },\r\n  {\r\n    name: `Enemy galore`,\r\n    link: `https://admurin.itch.io/enemy-galore-1`,\r\n  },\r\n  {\r\n    name: `Pixel tilemap platformer`,\r\n    link: `https://blackdragon1727.itch.io/pixel-tilemap-platformer`,\r\n  },\r\n];\r\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar definePropertyModule = require('../internals/object-define-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","var anObject = require('../internals/an-object');\nvar aFunction = require('../internals/a-function');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.es/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aFunction(S);\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  // Chrome 38 Symbol has incorrect toString conversion\n  // eslint-disable-next-line no-undef\n  return !String(Symbol());\n});\n","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n\n/* global define */\n(function () {\n  'use strict';\n\n  var hasOwn = {}.hasOwnProperty;\n\n  function classNames() {\n    var classes = [];\n\n    for (var i = 0; i < arguments.length; i++) {\n      var arg = arguments[i];\n      if (!arg) continue;\n      var argType = typeof arg;\n\n      if (argType === 'string' || argType === 'number') {\n        classes.push(arg);\n      } else if (Array.isArray(arg)) {\n        if (arg.length) {\n          var inner = classNames.apply(null, arg);\n\n          if (inner) {\n            classes.push(inner);\n          }\n        }\n      } else if (argType === 'object') {\n        if (arg.toString === Object.prototype.toString) {\n          for (var key in arg) {\n            if (hasOwn.call(arg, key) && arg[key]) {\n              classes.push(key);\n            }\n          }\n        } else {\n          classes.push(arg.toString());\n        }\n      }\n    }\n\n    return classes.join(' ');\n  }\n\n  if (typeof module !== 'undefined' && module.exports) {\n    classNames.default = classNames;\n    module.exports = classNames;\n  } else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n    // register as 'classnames', consistent with npm package name\n    define('classnames', [], function () {\n      return classNames;\n    });\n  } else {\n    window.classNames = classNames;\n  }\n})();","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","var _classCallCheck = require(\"G:/Documents/Code/gmmurray.github.io/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"G:/Documents/Code/gmmurray.github.io/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _assertThisInitialized = require(\"G:/Documents/Code/gmmurray.github.io/node_modules/@babel/runtime/helpers/assertThisInitialized\");\n\nvar _inherits = require(\"G:/Documents/Code/gmmurray.github.io/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _possibleConstructorReturn = require(\"G:/Documents/Code/gmmurray.github.io/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"G:/Documents/Code/gmmurray.github.io/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n/**\n * @author       Niklas Berg <nkholski@niklasberg.se>\n * @copyright    2018 Niklas Berg\n * @license      {@link https://github.com/nkholski/phaser3-animated-tiles/blob/master/LICENSE|MIT License}\n */\n//\n// This plugin is based on Photonstorms Phaser 3 plugin template with added support for ES6.\n// \nvar AnimatedTiles = /*#__PURE__*/function (_Phaser$Plugins$Scene) {\n  \"use strict\";\n\n  _inherits(AnimatedTiles, _Phaser$Plugins$Scene);\n\n  var _super = _createSuper(AnimatedTiles);\n\n  /*\n   TODO: \n  1. Fix property names which is a mess after adding support for multiple maps, tilesets and layers.\n  2. Helper functions: Get mapIndex by passing a map (and maybe support it as argument to methods), Get layerIndex, get tile index from properties.\n  \n  */\n  function AnimatedTiles(scene, pluginManager) {\n    var _this;\n\n    _classCallCheck(this, AnimatedTiles);\n\n    _this = _super.call(this, scene, pluginManager); // TileMap the plugin belong to. \n    // TODO: Array or object for multiple tilemaps support\n    // TODO: reference to layers too, and which is activated or not\n\n    _this.map = null; // Array with all tiles to animate\n    // TODO: Turn on and off certain tiles.\n\n    _this.animatedTiles = []; // Global playback rate\n\n    _this.rate = 1; // Should the animations play or not?\n\n    _this.active = false; // Should the animations play or not per layer. If global active is false this value makes no difference\n\n    _this.activeLayer = []; // Obey timescale?\n\n    _this.followTimeScale = true;\n\n    if (!scene.sys.settings.isBooted) {\n      scene.sys.events.once('boot', _this.boot, _assertThisInitialized(_this));\n    }\n\n    return _this;\n  } //  Called when the Plugin is booted by the PluginManager.\n  //  If you need to reference other systems in the Scene (like the Loader or DisplayList) then set-up those references now, not in the constructor.\n\n\n  _createClass(AnimatedTiles, [{\n    key: \"boot\",\n    value: function boot() {\n      var eventEmitter = this.systems.events;\n      eventEmitter.on('postupdate', this.postUpdate, this);\n      eventEmitter.on('shutdown', this.shutdown, this);\n      eventEmitter.on('destroy', this.destroy, this);\n    } // Initilize support for animated tiles on given map\n\n  }, {\n    key: \"init\",\n    value: function init(map) {\n      // TODO: Check if map is initilized already, if so do it again but overwrite the old.\n      var mapAnimData = this.getAnimatedTiles(map);\n      var animatedTiles = {\n        map: map,\n        animatedTiles: mapAnimData,\n        active: true,\n        rate: 1,\n        activeLayer: []\n      };\n      map.layers.forEach(function () {\n        return animatedTiles.activeLayer.push(true);\n      });\n      this.animatedTiles.push(animatedTiles);\n\n      if (this.animatedTiles.length === 1) {\n        this.active = true; // Start the animations by default\n      }\n      /* Needed?\n      this.animatedTiles[this.animatedTiles.length-1].animatedTiles.forEach(\n          (animatedTile) => {\n              animatedTile.tiles.forEach((layer) => {\n                  this.updateLayer(animatedTile,  layer);\n              });\n          }\n      )*/\n\n    }\n  }, {\n    key: \"setRate\",\n    value: function setRate(rate) {\n      var gid = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var map = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n      if (gid === null) {\n        if (map === null) {\n          this.rate = rate;\n        } else {\n          this.animatedTiles[map].rate = rate;\n        }\n      } else {\n        var loopThrough = function loopThrough(animatedTiles) {\n          animatedTiles.forEach(function (animatedTile) {\n            if (animatedTile.index === gid) {\n              animatedTile.rate = rate;\n            }\n          });\n        };\n\n        if (map === null) {\n          this.animatedTiles.forEach(function (animatedTiles) {\n            loopThrough(animatedTiles.animatedTiles);\n          });\n        } else {\n          loopThrough(this.animatedTiles[map].animatedTiles);\n        }\n      } // if tile is number (gid) --> set rate for that tile\n      // TODO: if passing an object -> check properties matching object and set rate\n\n    }\n  }, {\n    key: \"resetRates\",\n    value: function resetRates() {\n      var mapIndex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n      if (mapIndex === null) {\n        this.rate = 1;\n        this.animatedTiles.forEach(function (mapAnimData) {\n          mapAnimData.rate = 1;\n          mapAnimData.animatedTiles.forEach(function (tileAnimData) {\n            tileAnimData.rate = 1;\n          });\n        });\n      } else {\n        this.animatedTiles[mapIndex].rate = 1;\n        this.animatedTiles[mapIndex].animatedTiles.forEach(function (tileAnimData) {\n          tileAnimData.rate = 1;\n        });\n      }\n    } //  Start (or resume) animations\n\n  }, {\n    key: \"resume\",\n    value: function resume() {\n      var _this2 = this;\n\n      var layerIndex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var mapIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var scope = mapIndex === null ? this : this.animatedTiles[mapIndex];\n\n      if (layerIndex === null) {\n        scope.active = true;\n      } else {\n        scope.activeLayer[layerIndex] = true;\n        scope.animatedTiles.forEach(function (animatedTile) {\n          _this2.updateLayer(animatedTile, animatedTile.tiles[layerIndex]);\n        });\n      }\n    } // Stop (or pause) animations\n\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      var layerIndex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var mapIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var scope = mapIndex === null ? this : this.animatedTiles[mapIndex];\n\n      if (layerIndex === null) {\n        scope.active = false;\n      } else {\n        scope.activeLayer[layerIndex] = false;\n      }\n    }\n  }, {\n    key: \"postUpdate\",\n    value: function postUpdate(time, delta) {\n      var _this3 = this;\n\n      if (!this.active) {\n        return;\n      } // Elapsed time is the delta multiplied by the global rate and the scene timeScale if folowTimeScale is true\n\n\n      var globalElapsedTime = delta * this.rate * (this.followTimeScale ? this.scene.time.timeScale : 1);\n      this.animatedTiles.forEach(function (mapAnimData) {\n        if (!mapAnimData.active) {\n          return;\n        } // Multiply with rate for this map\n\n\n        var elapsedTime = globalElapsedTime * mapAnimData.rate;\n        mapAnimData.animatedTiles.forEach(function (animatedTile) {\n          // Reduce time for current tile, multiply elapsedTime with this tile's private rate\n          animatedTile.next -= elapsedTime * animatedTile.rate; // Time for current tile is up!!!\n\n          if (animatedTile.next < 0) {\n            // Remember current frame index\n            var currentIndex = animatedTile.currentFrame; // Remember the tileId of current tile\n\n            var oldTileId = animatedTile.frames[currentIndex].tileid; // Advance to next in line\n\n            var newIndex = currentIndex + 1; // If we went beyond last frame, we just start over\n\n            if (newIndex > animatedTile.frames.length - 1) {\n              newIndex = 0;\n            } // Set lifelength for current frame\n\n\n            animatedTile.next = animatedTile.frames[newIndex].duration; // Set index of current frame\n\n            animatedTile.currentFrame = newIndex; // Store the tileId (gid) we will shift to\n            // Loop through all tiles (via layers)\n            //this.updateLayer\n\n            animatedTile.tiles.forEach(function (layer, layerIndex) {\n              if (!mapAnimData.activeLayer[layerIndex]) {\n                return;\n              }\n\n              _this3.updateLayer(animatedTile, layer, oldTileId);\n            });\n          }\n        }); // animData loop\n      }); // Map loop\n    }\n  }, {\n    key: \"updateLayer\",\n    value: function updateLayer(animatedTile, layer) {\n      var oldTileId = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : -1;\n      var tilesToRemove = [];\n      var tileId = animatedTile.frames[animatedTile.currentFrame].tileid;\n      layer.forEach(function (tile) {\n        // If the tile is removed or has another index than expected, it's\n        // no longer animated. Mark for removal.\n        if (oldTileId > -1 && (tile === null || tile.index !== oldTileId)) {\n          tilesToRemove.push(tile);\n        } else {\n          // Finally we set the index of the tile to the one specified by current frame!!!\n          tile.index = tileId;\n        }\n      }); // Remove obselete tiles\n\n      tilesToRemove.forEach(function (tile) {\n        var pos = layer.indexOf(tile);\n\n        if (pos > -1) {\n          layer.splice(pos, 1);\n        } else {\n          console.error(\"This shouldn't happen. Not at all. Blame Phaser Animated Tiles plugin. You'll be fine though.\");\n        }\n      });\n    } //  Called when a Scene shuts down, it may then come back again later (which will invoke the 'start' event) but should be considered dormant.\n\n  }, {\n    key: \"shutdown\",\n    value: function shutdown() {\n      // dercetech@github: this fixes a memory leak; a ref to all tiles in a scene would be retained in spite of switching scenes.\n      this.animatedTiles.length = 0;\n    } //  Called when a Scene is destroyed by the Scene Manager. There is no coming back from a destroyed Scene, so clear up all resources here.\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.shutdown();\n      this.scene = undefined;\n    }\n  }, {\n    key: \"getAnimatedTiles\",\n    value: function getAnimatedTiles(map) {\n      var _this4 = this;\n\n      // this.animatedTiles is an array of objects with information on how to animate and which tiles.\n      var animatedTiles = []; // loop through all tilesets\n\n      map.tilesets.forEach( // Go through the data stored on each tile (not tile on the tilemap but tile in the tileset)\n      function (tileset) {\n        var tileData = tileset.tileData;\n        Object.keys(tileData).forEach(function (index) {\n          index = parseInt(index); // If tile has animation info we'll dive into it\n\n          if (tileData[index].hasOwnProperty(\"animation\")) {\n            var animatedTileData = {\n              index: index + tileset.firstgid,\n              // gid of the original tile\n              frames: [],\n              // array of frames\n              currentFrame: 0,\n              // start on first frame\n              tiles: [],\n              // array with one array per layer with list of tiles that depends on this animation data\n              rate: 1 // multiplier, set to 2 for double speed or 0.25 quarter speed\n\n            }; // push all frames to the animatedTileData\n\n            tileData[index].animation.forEach(function (frameData) {\n              var frame = {\n                duration: frameData.duration,\n                tileid: frameData.tileid + tileset.firstgid\n              };\n              animatedTileData.frames.push(frame);\n            }); // time until jumping to next frame\n\n            animatedTileData.next = animatedTileData.frames[0].duration; // set correct currentFrame if animation starts with different tile than the one with animation flag\n\n            animatedTileData.currentFrame = animatedTileData.frames.findIndex(function (f) {\n              return f.tileid === index + tileset.firstgid;\n            }); // Go through all layers for tiles\n\n            map.layers.forEach(function (layer) {\n              //In newer version of phaser there is only one type of layer, so checking for static is breaking the plugin\n              if (layer.tilemapLayer && layer.tilemapLayer.type) {\n                if (layer.tilemapLayer.type === \"StaticTilemapLayer\") {\n                  // We just push an empty array if the layer is static (impossible to animate). \n                  // If we just skip the layer, the layer order will be messed up\n                  // when updating animated tiles and things will look awful.\n                  animatedTileData.tiles.push([]);\n                  return;\n                }\n              } // tiles array for current layer\n\n\n              var tiles = []; // loop through all rows with tiles...\n\n              layer.data.forEach(function (tileRow) {\n                // ...and loop through all tiles in that row\n                tileRow.forEach(function (tile) {\n                  // Tiled start index for tiles with 1 but animation with 0. Thus that wierd \"-1\"                                                    \n                  if (tile && tile.index - tileset.firstgid === index) {\n                    tiles.push(tile);\n                  }\n                });\n              }); // add the layer's array with tiles to the tiles array.\n              // this will make it possible to control layers individually in the future\n\n              animatedTileData.tiles.push(tiles);\n            }); // animatedTileData is finished for current animation, push it to the animatedTiles-property of the plugin\n\n            animatedTiles.push(animatedTileData);\n          }\n        });\n      });\n      map.layers.forEach(function (layer, layerIndex) {\n        // layer indices array of booleans whether to animate tiles on layer or not\n        _this4.activeLayer[layerIndex] = true;\n      });\n      return animatedTiles;\n    }\n  }, {\n    key: \"putTileAt\",\n    value: function putTileAt(layer, tile, x, y) {// Replaces putTileAt of the native API, but updates the list of animatedTiles in the process.\n      // No need to call updateAnimatedTiles as required for other modificatons of the tile-map\n    }\n  }, {\n    key: \"updateAnimatedTiles\",\n    value: function updateAnimatedTiles() {\n      // future args: x=null, y=null, w=null, h=null, container=null \n      var x = null,\n          y = null,\n          w = null,\n          h = null,\n          container = null; // 1. If no container, loop through all initilized maps\n\n      if (container === null) {\n        container = [];\n        this.animatedTiles.forEach(function (mapAnimData) {\n          container.push(mapAnimData);\n        });\n      } // 2. If container is a map, loop through it's layers\n      // container = [container];\n      // 1 & 2: Update the map(s)\n\n\n      container.forEach(function (mapAnimData) {\n        var chkX = x !== null ? x : 0;\n        var chkY = y !== null ? y : 0;\n        var chkW = w !== null ? mapAnimData.map.width : 10;\n        var chkH = h !== null ? mapAnimData.map.height : 10;\n        mapAnimData.animatedTiles.forEach(function (tileAnimData) {\n          tileAnimData.tiles.forEach(function (tiles, layerIndex) {\n            var layer = mapAnimData.map.layers[layerIndex]; //In newer version of phaser there is only one type of layer, so checking for static is breaking the plugin\n\n            if (layer.type && layer.type === \"StaticTilemapLayer\") {\n              return;\n            }\n\n            for (var _x = chkX; _x < chkX + chkW; _x++) {\n              for (var _y = chkY; _y < chkY + chkH; _y++) {\n                var tile = mapAnimData.map.layers[layerIndex].data[_x][_y]; // should this tile be animated?\n\n                if (tile.index == tileAnimData.index) {\n                  // is it already known? if not, add it to the list\n                  if (tiles.indexOf(tile) === -1) {\n                    tiles.push(tile);\n                  } // update index to match current fram of this animation\n\n\n                  tile.index = tileAnimData.frames[tileAnimData.currentFrame].tileid;\n                }\n              }\n            }\n          });\n        });\n      }); // 3. If container is a layer, just loop through it's tiles\n    }\n  }]);\n\n  return AnimatedTiles;\n}(Phaser.Plugins.ScenePlugin);\n\n; //  Static function called by the PluginFile Loader.\n\nAnimatedTiles.register = function (PluginManager) {\n  //  Register this plugin with the PluginManager, so it can be added to Scenes.\n  PluginManager.register('AnimatedTiles', AnimatedTiles, 'animatedTiles');\n};\n\nmodule.exports = AnimatedTiles;","'use strict';\nvar $ = require('../internals/export');\nvar flattenIntoArray = require('../internals/flatten-into-array');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar aFunction = require('../internals/a-function');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\n// `Array.prototype.flatMap` method\n// https://tc39.es/ecma262/#sec-array.prototype.flatmap\n$({ target: 'Array', proto: true }, {\n  flatMap: function flatMap(callbackfn /* , thisArg */) {\n    var O = toObject(this);\n    var sourceLen = toLength(O.length);\n    var A;\n    aFunction(callbackfn);\n    A = arraySpeciesCreate(O, 0);\n    A.length = flattenIntoArray(A, O, O, sourceLen, 0, 1, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    return A;\n  }\n});\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","var _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","// this method was added to unscopables after implementation\n// in popular engines, so it's moved to a separate module\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('flatMap');\n","var anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    /* global ActiveXObject */\n    activeXDocument = document.domain && new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: !0\n});\n\nvar e = require(\"react/jsx-runtime\"),\n    t = require(\"react\"),\n    _o = function o() {\n  return (_o = Object.assign || function (e) {\n    for (var t, o = 1, n = arguments.length; o < n; o++) {\n      for (var r in t = arguments[o]) {\n        Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n      }\n    }\n\n    return e;\n  }).apply(this, arguments);\n};\n\nvar n = \"styles-module_blinkingCursor__288eE\";\n!function (e, t) {\n  void 0 === t && (t = {});\n  var o = t.insertAt;\n\n  if (e && \"undefined\" != typeof document) {\n    var n = document.head || document.getElementsByTagName(\"head\")[0],\n        r = document.createElement(\"style\");\n    r.type = \"text/css\", \"top\" === o && n.firstChild ? n.insertBefore(r, n.firstChild) : n.appendChild(r), r.styleSheet ? r.styleSheet.cssText = e : r.appendChild(document.createTextNode(e));\n  }\n}(\".styles-module_blinkingCursor__288eE{-webkit-animation-duration:.8s;animation-duration:.8s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-name:styles-module_blink__dHnpo;animation-name:styles-module_blink__dHnpo;color:inherit;font:inherit;left:3px;line-height:inherit;opacity:1;position:relative;top:0}@-webkit-keyframes styles-module_blink__dHnpo{0%{opacity:1}to{opacity:0}}@keyframes styles-module_blink__dHnpo{0%{opacity:1}to{opacity:0}}\");\n\nvar r = function r(t) {\n  var r = t.cursorStyle,\n      i = void 0 === r ? \"|\" : r;\n  return e.jsx(\"span\", _o({\n    className: n\n  }, {\n    children: i\n  }), void 0);\n};\n\nfunction i(e, t) {\n  switch (t.type) {\n    case \"speed\":\n      return _o(_o({}, e), {\n        mainSpeed: t.payload\n      });\n\n    case \"type\":\n      return {\n        mainSpeed: t.speed,\n        text: t.payload.substring(0, e.text.length + 1)\n      };\n\n    case \"delete\":\n      return _o(_o({}, e), {\n        mainSpeed: t.speed,\n        text: t.payload.substring(0, e.text.length - 1)\n      });\n\n    default:\n      return e;\n  }\n}\n\nvar d = function d(e) {\n  var o = e.words,\n      n = void 0 === o ? [\"Hello\", \"World\", \"This\", \"is\", \"Typewriter\", \"Hook\"] : o,\n      r = e.loop,\n      d = void 0 === r ? 1 : r,\n      a = e.typeSpeed,\n      s = void 0 === a ? 80 : a,\n      p = e.deleteSpeed,\n      l = void 0 === p ? 50 : p,\n      u = e.delaySpeed,\n      c = void 0 === u ? 1500 : u,\n      y = e.onLoopDone,\n      m = e.onType,\n      v = t.useReducer(i, {\n    mainSpeed: 0,\n    text: \"\"\n  }),\n      f = v[0],\n      h = f.mainSpeed,\n      x = f.text,\n      _ = v[1],\n      S = t.useRef(0),\n      b = t.useRef(0),\n      T = t.useRef(!1),\n      g = t.useRef(!1),\n      k = t.useCallback(function () {\n    var e = S.current % n.length,\n        t = n[e];\n    _({\n      type: \"speed\",\n      payload: s\n    }), T.current ? (_({\n      type: \"delete\",\n      payload: t,\n      speed: l\n    }), \"\" === x && (T.current = !1, S.current += 1)) : (_({\n      type: \"type\",\n      payload: t,\n      speed: s\n    }), m && m(S.current), x === t && (_({\n      type: \"speed\",\n      payload: c\n    }), T.current = !0, d > 0 && (b.current += 1, b.current / n.length === d && (g.current = !0))));\n  }, [c, l, d, s, n, x, m]);\n  return t.useEffect(function () {\n    var e = setTimeout(k, h);\n    return g.current && (clearTimeout(e), y && y()), function () {\n      return clearTimeout(e);\n    };\n  }, [k, h, y]), {\n    text: x,\n    count: S.current\n  };\n};\n\nexports.Cursor = r, exports.Typewriter = function (t) {\n  var o = t.words,\n      n = void 0 === o ? [\"Hello\", \"World\", \"This\", \"is\", \"Typewriter\", \"Component\"] : o,\n      i = t.loop,\n      a = void 0 === i ? 1 : i,\n      s = t.typeSpeed,\n      p = void 0 === s ? 90 : s,\n      l = t.deleteSpeed,\n      u = void 0 === l ? 50 : l,\n      c = t.delaySpeed,\n      y = void 0 === c ? 1500 : c,\n      m = t.onLoopDone,\n      v = t.onType,\n      f = t.cursor,\n      h = void 0 !== f && f,\n      x = t.cursorStyle,\n      _ = void 0 === x ? \".\" : x,\n      S = d({\n    words: n,\n    loop: a,\n    typeSpeed: p,\n    deleteSpeed: u,\n    delaySpeed: y,\n    onLoopDone: m,\n    onType: v\n  }).text;\n\n  return e.jsxs(e.Fragment, {\n    children: [e.jsx(\"span\", {\n      children: S\n    }, void 0), h && e.jsx(r, {\n      cursorStyle: _\n    }, void 0)]\n  }, void 0);\n}, exports.useTypewriter = d;","export interface TechnologyContent {\r\n  items: string[];\r\n}\r\n\r\nexport interface TechnologyTreeFlattened {\r\n  items: {\r\n    id: string;\r\n    title: string;\r\n    content: string;\r\n    parent?: string;\r\n    code: string;\r\n    points: number;\r\n    total: number;\r\n  }[];\r\n}\r\n\r\nexport interface TechnologyTree {\r\n  id: string;\r\n  title: string;\r\n  content: string;\r\n  parent?: string;\r\n  code: string;\r\n  points: number;\r\n  total: number;\r\n  children?: TechnologyTree[];\r\n}\r\n\r\nexport interface Experience {\r\n  employer: string;\r\n  subtitle: string;\r\n  title: string;\r\n  content: {\r\n    items: string[];\r\n  };\r\n  startDate: string;\r\n  endDate: string;\r\n  isActive: boolean;\r\n}\r\n\r\nexport interface IdentifiableExperience extends Experience {\r\n  id: number;\r\n}\r\n\r\nexport interface IFeaturedProject {\r\n  content: string;\r\n  createdAt: Date;\r\n  title: string;\r\n  titleUrl: string;\r\n  iconName: string;\r\n  iconColor: string;\r\n  image: {\r\n    localFile: {\r\n      childImageSharp: {\r\n        fluid: {\r\n          src: string;\r\n        };\r\n      };\r\n    };\r\n  };\r\n  techTags: {\r\n    items: string[];\r\n  };\r\n}\r\n\r\nexport class FeaturedProject implements IFeaturedProject {\r\n  public content: string;\r\n  public createdAt: Date;\r\n  public title: string;\r\n  public titleUrl: string;\r\n  public iconName: string;\r\n  public iconColor: string;\r\n  public image: {\r\n    localFile: {\r\n      childImageSharp: {\r\n        fluid: {\r\n          src: string;\r\n        };\r\n      };\r\n    };\r\n  };\r\n  public techTags: {\r\n    items: string[];\r\n  };\r\n\r\n  public static getImageUrl = (image: FeaturedProject['image']) =>\r\n    image.localFile.childImageSharp.fluid.src;\r\n}\r\n\r\nexport interface OtherProject {\r\n  content: string;\r\n  createdAt: Date;\r\n  repositoryUrl: string;\r\n  title: string;\r\n  websiteUrl: string;\r\n  iconName: string;\r\n  iconColor: string;\r\n  techTags: {\r\n    items: string[];\r\n  };\r\n}\r\n\r\nexport interface IGameCmsContent {\r\n  aboutContent: string | null;\r\n  technologyContent: TechnologyContent | null;\r\n  technologyTree: TechnologyTreeFlattened | null;\r\n  experiencesContent: Experience[] | null;\r\n  featuredContent: IFeaturedProject[] | null;\r\n  otherContent: OtherProject[] | null;\r\n}\r\n\r\nexport class GameCmsContent implements IGameCmsContent {\r\n  public aboutContent: string | null;\r\n  public technologyContent: TechnologyContent | null;\r\n  public technologyTree: TechnologyTreeFlattened | null;\r\n  public experiencesContent: Experience[] | null;\r\n  public featuredContent: FeaturedProject[] | null;\r\n  public otherContent: OtherProject[] | null;\r\n\r\n  constructor() {\r\n    this.aboutContent = null;\r\n    this.technologyContent = null;\r\n    this.technologyTree = null;\r\n    this.experiencesContent = null;\r\n    this.featuredContent = null;\r\n    this.otherContent = null;\r\n  }\r\n}\r\n\r\nexport interface InventoryProject {\r\n  title: string;\r\n  url: string;\r\n  content: string;\r\n  techTags: string[];\r\n  type: 'featured' | 'other';\r\n  iconName: string;\r\n  iconColor: string;\r\n}\r\n","export const SCALE = 3;\r\nexport const TILE_SIZE = 16;\r\nexport const SCALED_TILE_SIZE = SCALE * TILE_SIZE;\r\nexport const ENTER_EVENT_KEY = 'Enter';\r\nexport const SPACE_EVENT_KEY = ' ';\r\nexport const RANDOM_MOVEMENT_DELAY = 2000; // 2 seconds\r\nexport const BASE_PLAYER_SPEED = 4;\r\nexport const PLAYER_MOVED_EVENT = 'player_moved_event';\r\nexport const INVENTORY_KEY = 'B';\r\nexport const INVENTORY_PHASER_EVENT_KEY = INVENTORY_KEY.toLocaleLowerCase();\r\nexport const INVENTORY_REACT_EVENT_KEY = `Key${INVENTORY_KEY}`;\r\nexport const QUESTS_KEY = 'L';\r\nexport const QUESTS_PHASER_EVENT_KEY = QUESTS_KEY.toLocaleLowerCase();\r\nexport const QUESTS_REACT_EVENT_KEY = `Key${QUESTS_KEY}`;\r\nexport const TALENTS_KEY = 'N';\r\nexport const TALENTS_PHASER_EVENT_KEY = TALENTS_KEY.toLocaleLowerCase();\r\nexport const TALENTS_REACT_EVENT_KEY = `Key${TALENTS_KEY}`;\r\nexport const WASD_KEY_STRING = 'W,A,S,D';\r\nexport const UI_DEPTH = 30;\r\n\r\nexport const ASSETS_BASE_URL = 'assets/game/';\r\n\r\n// scene keys\r\nexport const LOADING_SCENE_KEY = 'loading-scene';\r\nexport const LEVEL_ONE_SCENE_KEY = 'level-one';\r\nexport const LEVEL_TWO_SCENE_KEY = 'level-two';\r\nexport const LEVEL_THREE_SCENE_KEY = 'level-three';\r\nexport const LEVEL_FOUR_SCENE_KEY = 'level-four';\r\nexport const UI_SCENE_KEY = 'ui-scene';\r\nexport const CREDIT_SCENE_KEY = 'credits';\r\nexport const CHARACTER_SELECT_SCENE_KEY = 'character-select';\r\n\r\n// plugin keys\r\nexport const GRID_ENGINE_PLUGIN_KEY = 'gridEngine';\r\nexport const DIALOG_PLUGIN_KEY = 'dialog';\r\nexport const ANIMATED_TILES_PLUGIN_KEY = 'animatedTiles';\r\nexport const MC_DIALOG_PLUGIN_KEY = 'mcDialog';\r\nexport const PHASER_TOOLTIP_PLUGIN_KEY = 'phaserTooltip';\r\n\r\nexport const PLUGIN_KEYS = [\r\n  GRID_ENGINE_PLUGIN_KEY,\r\n  DIALOG_PLUGIN_KEY,\r\n  ANIMATED_TILES_PLUGIN_KEY,\r\n  MC_DIALOG_PLUGIN_KEY,\r\n  PHASER_TOOLTIP_PLUGIN_KEY,\r\n];\r\n\r\n// level two\r\nexport const DEFAULT_FIRE_ANIMATION_FPS = 10;\r\nexport const PILLAR_ONE_ACTIVE_NAME = 'active1';\r\nexport const PILLAR_TWO_ACTIVE_NAME = 'active2';\r\nexport const PILLAR_THREE_ACTIVE_NAME = 'active3';\r\nexport const PORTAL_ACTIVE_NAME = 'active-portal';\r\n\r\n// level three\r\nexport const POTION_LAYER_NAME = 'potions';\r\nexport const ORB_LAYER_NAME = 'orbs';\r\nexport const LEVEL_THREE_BACKGROUND_COLOR = '#070707';\r\nexport const LEVEL_THREE_FIRE_ANIMATION_REPEAT_DELAY = 2000;\r\nexport const LEVEL_THREE_FIRE_INVULNERABILITY_PERIOD = 1000;\r\nexport const LEVEL_THREE_FIRE_BASE_DAMAGE = 10;\r\nexport const LEVEL_THREE_BUFF_DEBUFF_DELAY = 1000;\r\nexport const LEVEL_THREE_BUFF_DEBUFF_DURATION = 3000;\r\nexport const LEVEL_THREE_ENEMY_FOLLOW_RANGE = 3;\r\n\r\n// level four\r\nexport const LEVEL_FOUR_PLAYER_DEPTH = 15;\r\nexport const LEVEL_FOUR_WALK_VELOCITY = 100;\r\nexport const LEVEL_FOUR_ENEMY_WALK_VELOCITY = 25;\r\nexport const LEVEL_FOUR_JUMP_VELOCITY = 300;\r\nexport const LEVEL_FOUR_BATTLE_TEXT_DURATION = 2000;\r\nexport const LEVEL_FOUR_DAMAGE_DELAY_MS = 500;\r\nexport const LEVEL_FOUR_STAR_MODE_DURATION = 10000;\r\nexport const LEVEL_FOUR_MESSAGE_DISPLAY_DURATION = 3000;\r\n\r\n// misc\r\nexport const TILEMAPLAYER_TYPE = 'TilemapLayer';\r\nexport const DEFAULT_PORTAL_TEXT =\r\n  'The portal hums with magical energy as you approach...';\r\n\r\n// colors\r\nexport const THEME_DARK_BLUE = '#050a2b';\r\nexport const THEME_DARK_BLUE_NUMBER = 0x050a2b;\r\nexport const THEME_SECONDARY_BLUE_NUMBER = 0x131d68;\r\n\r\nexport const THEME_YELLOW = '#ebaa02';\r\nexport const THEME_YELLOW_NUMBER = 0xebaa02;\r\n\r\nexport const THEME_DARK_YELLOW = '#976f08';\r\nexport const THEME_DARK_YELLOW_NUMBER = 0x976f08;\r\n\r\nexport const THEME_WHITE = '#fff';\r\nexport const THEME_LIGHT_GREY = '#b0b0b0';\r\n\r\nexport const THEME_NEGATIVE_EFFECT = '#C41E3A';\r\nexport const THEME_NEGATIVE_EFFECT_NUMBER = 0xc41e3a;\r\nexport const THEME_DANGER_EFFECT = '#FFAC1C';\r\nexport const THEME_DANGER_EFFECT_NUMBER = 0xffac1c;\r\nexport const THEME_POSITIVE_EFFECT = '#228B22';\r\nexport const THEME_POSTIVE_EFFECT_NUMBER = 0x228b22;\r\n\r\nexport const LOCAL_STORAGE_KEY = 'gmurray-game';\r\n","function n(n) {\n  for (var r = arguments.length, t = Array(r > 1 ? r - 1 : 0), e = 1; e < r; e++) {\n    t[e - 1] = arguments[e];\n  }\n\n  if (\"production\" !== process.env.NODE_ENV) {\n    var i = Y[n],\n        o = i ? \"function\" == typeof i ? i.apply(null, t) : i : \"unknown error nr: \" + n;\n    throw Error(\"[Immer] \" + o);\n  }\n\n  throw Error(\"[Immer] minified error nr: \" + n + (t.length ? \" \" + t.map(function (n) {\n    return \"'\" + n + \"'\";\n  }).join(\",\") : \"\") + \". Find the full error at: https://bit.ly/3cXEKWf\");\n}\n\nfunction r(n) {\n  return !!n && !!n[Q];\n}\n\nfunction t(n) {\n  return !!n && (function (n) {\n    if (!n || \"object\" != typeof n) return !1;\n    var r = Object.getPrototypeOf(n);\n    if (null === r) return !0;\n    var t = Object.hasOwnProperty.call(r, \"constructor\") && r.constructor;\n    return t === Object || \"function\" == typeof t && Function.toString.call(t) === Z;\n  }(n) || Array.isArray(n) || !!n[L] || !!n.constructor[L] || s(n) || v(n));\n}\n\nfunction e(t) {\n  return r(t) || n(23, t), t[Q].t;\n}\n\nfunction i(n, r, t) {\n  void 0 === t && (t = !1), 0 === o(n) ? (t ? Object.keys : nn)(n).forEach(function (e) {\n    t && \"symbol\" == typeof e || r(e, n[e], n);\n  }) : n.forEach(function (t, e) {\n    return r(e, t, n);\n  });\n}\n\nfunction o(n) {\n  var r = n[Q];\n  return r ? r.i > 3 ? r.i - 4 : r.i : Array.isArray(n) ? 1 : s(n) ? 2 : v(n) ? 3 : 0;\n}\n\nfunction u(n, r) {\n  return 2 === o(n) ? n.has(r) : Object.prototype.hasOwnProperty.call(n, r);\n}\n\nfunction a(n, r) {\n  return 2 === o(n) ? n.get(r) : n[r];\n}\n\nfunction f(n, r, t) {\n  var e = o(n);\n  2 === e ? n.set(r, t) : 3 === e ? (n.delete(r), n.add(t)) : n[r] = t;\n}\n\nfunction c(n, r) {\n  return n === r ? 0 !== n || 1 / n == 1 / r : n != n && r != r;\n}\n\nfunction s(n) {\n  return X && n instanceof Map;\n}\n\nfunction v(n) {\n  return q && n instanceof Set;\n}\n\nfunction p(n) {\n  return n.o || n.t;\n}\n\nfunction l(n) {\n  if (Array.isArray(n)) return Array.prototype.slice.call(n);\n  var r = rn(n);\n  delete r[Q];\n\n  for (var t = nn(r), e = 0; e < t.length; e++) {\n    var i = t[e],\n        o = r[i];\n    !1 === o.writable && (o.writable = !0, o.configurable = !0), (o.get || o.set) && (r[i] = {\n      configurable: !0,\n      writable: !0,\n      enumerable: o.enumerable,\n      value: n[i]\n    });\n  }\n\n  return Object.create(Object.getPrototypeOf(n), r);\n}\n\nfunction d(n, e) {\n  return void 0 === e && (e = !1), y(n) || r(n) || !t(n) ? n : (o(n) > 1 && (n.set = n.add = n.clear = n.delete = h), Object.freeze(n), e && i(n, function (n, r) {\n    return d(r, !0);\n  }, !0), n);\n}\n\nfunction h() {\n  n(2);\n}\n\nfunction y(n) {\n  return null == n || \"object\" != typeof n || Object.isFrozen(n);\n}\n\nfunction b(r) {\n  var t = tn[r];\n  return t || n(18, r), t;\n}\n\nfunction m(n, r) {\n  tn[n] || (tn[n] = r);\n}\n\nfunction _() {\n  return \"production\" === process.env.NODE_ENV || U || n(0), U;\n}\n\nfunction j(n, r) {\n  r && (b(\"Patches\"), n.u = [], n.s = [], n.v = r);\n}\n\nfunction O(n) {\n  g(n), n.p.forEach(S), n.p = null;\n}\n\nfunction g(n) {\n  n === U && (U = n.l);\n}\n\nfunction w(n) {\n  return U = {\n    p: [],\n    l: U,\n    h: n,\n    m: !0,\n    _: 0\n  };\n}\n\nfunction S(n) {\n  var r = n[Q];\n  0 === r.i || 1 === r.i ? r.j() : r.O = !0;\n}\n\nfunction P(r, e) {\n  e._ = e.p.length;\n  var i = e.p[0],\n      o = void 0 !== r && r !== i;\n  return e.h.g || b(\"ES5\").S(e, r, o), o ? (i[Q].P && (O(e), n(4)), t(r) && (r = M(e, r), e.l || x(e, r)), e.u && b(\"Patches\").M(i[Q].t, r, e.u, e.s)) : r = M(e, i, []), O(e), e.u && e.v(e.u, e.s), r !== H ? r : void 0;\n}\n\nfunction M(n, r, t) {\n  if (y(r)) return r;\n  var e = r[Q];\n  if (!e) return i(r, function (i, o) {\n    return A(n, e, r, i, o, t);\n  }, !0), r;\n  if (e.A !== n) return r;\n  if (!e.P) return x(n, e.t, !0), e.t;\n\n  if (!e.I) {\n    e.I = !0, e.A._--;\n    var o = 4 === e.i || 5 === e.i ? e.o = l(e.k) : e.o;\n    i(3 === e.i ? new Set(o) : o, function (r, i) {\n      return A(n, e, o, r, i, t);\n    }), x(n, o, !1), t && n.u && b(\"Patches\").R(e, t, n.u, n.s);\n  }\n\n  return e.o;\n}\n\nfunction A(e, i, o, a, c, s) {\n  if (\"production\" !== process.env.NODE_ENV && c === o && n(5), r(c)) {\n    var v = M(e, c, s && i && 3 !== i.i && !u(i.D, a) ? s.concat(a) : void 0);\n    if (f(o, a, v), !r(v)) return;\n    e.m = !1;\n  }\n\n  if (t(c) && !y(c)) {\n    if (!e.h.F && e._ < 1) return;\n    M(e, c), i && i.A.l || x(e, c);\n  }\n}\n\nfunction x(n, r, t) {\n  void 0 === t && (t = !1), n.h.F && n.m && d(r, t);\n}\n\nfunction z(n, r) {\n  var t = n[Q];\n  return (t ? p(t) : n)[r];\n}\n\nfunction I(n, r) {\n  if (r in n) for (var t = Object.getPrototypeOf(n); t;) {\n    var e = Object.getOwnPropertyDescriptor(t, r);\n    if (e) return e;\n    t = Object.getPrototypeOf(t);\n  }\n}\n\nfunction k(n) {\n  n.P || (n.P = !0, n.l && k(n.l));\n}\n\nfunction E(n) {\n  n.o || (n.o = l(n.t));\n}\n\nfunction R(n, r, t) {\n  var e = s(r) ? b(\"MapSet\").N(r, t) : v(r) ? b(\"MapSet\").T(r, t) : n.g ? function (n, r) {\n    var t = Array.isArray(n),\n        e = {\n      i: t ? 1 : 0,\n      A: r ? r.A : _(),\n      P: !1,\n      I: !1,\n      D: {},\n      l: r,\n      t: n,\n      k: null,\n      o: null,\n      j: null,\n      C: !1\n    },\n        i = e,\n        o = en;\n    t && (i = [e], o = on);\n    var u = Proxy.revocable(i, o),\n        a = u.revoke,\n        f = u.proxy;\n    return e.k = f, e.j = a, f;\n  }(r, t) : b(\"ES5\").J(r, t);\n  return (t ? t.A : _()).p.push(e), e;\n}\n\nfunction D(e) {\n  return r(e) || n(22, e), function n(r) {\n    if (!t(r)) return r;\n    var e,\n        u = r[Q],\n        c = o(r);\n\n    if (u) {\n      if (!u.P && (u.i < 4 || !b(\"ES5\").K(u))) return u.t;\n      u.I = !0, e = F(r, c), u.I = !1;\n    } else e = F(r, c);\n\n    return i(e, function (r, t) {\n      u && a(u.t, r) === t || f(e, r, n(t));\n    }), 3 === c ? new Set(e) : e;\n  }(e);\n}\n\nfunction F(n, r) {\n  switch (r) {\n    case 2:\n      return new Map(n);\n\n    case 3:\n      return Array.from(n);\n  }\n\n  return l(n);\n}\n\nfunction N() {\n  function t(n, r) {\n    var t = s[n];\n    return t ? t.enumerable = r : s[n] = t = {\n      configurable: !0,\n      enumerable: r,\n      get: function get() {\n        var r = this[Q];\n        return \"production\" !== process.env.NODE_ENV && f(r), en.get(r, n);\n      },\n      set: function set(r) {\n        var t = this[Q];\n        \"production\" !== process.env.NODE_ENV && f(t), en.set(t, n, r);\n      }\n    }, t;\n  }\n\n  function e(n) {\n    for (var r = n.length - 1; r >= 0; r--) {\n      var t = n[r][Q];\n      if (!t.P) switch (t.i) {\n        case 5:\n          a(t) && k(t);\n          break;\n\n        case 4:\n          o(t) && k(t);\n      }\n    }\n  }\n\n  function o(n) {\n    for (var r = n.t, t = n.k, e = nn(t), i = e.length - 1; i >= 0; i--) {\n      var o = e[i];\n\n      if (o !== Q) {\n        var a = r[o];\n        if (void 0 === a && !u(r, o)) return !0;\n        var f = t[o],\n            s = f && f[Q];\n        if (s ? s.t !== a : !c(f, a)) return !0;\n      }\n    }\n\n    var v = !!r[Q];\n    return e.length !== nn(r).length + (v ? 0 : 1);\n  }\n\n  function a(n) {\n    var r = n.k;\n    if (r.length !== n.t.length) return !0;\n    var t = Object.getOwnPropertyDescriptor(r, r.length - 1);\n    if (t && !t.get) return !0;\n\n    for (var e = 0; e < r.length; e++) {\n      if (!r.hasOwnProperty(e)) return !0;\n    }\n\n    return !1;\n  }\n\n  function f(r) {\n    r.O && n(3, JSON.stringify(p(r)));\n  }\n\n  var s = {};\n  m(\"ES5\", {\n    J: function J(n, r) {\n      var e = Array.isArray(n),\n          i = function (n, r) {\n        if (n) {\n          for (var e = Array(r.length), i = 0; i < r.length; i++) {\n            Object.defineProperty(e, \"\" + i, t(i, !0));\n          }\n\n          return e;\n        }\n\n        var o = rn(r);\n        delete o[Q];\n\n        for (var u = nn(o), a = 0; a < u.length; a++) {\n          var f = u[a];\n          o[f] = t(f, n || !!o[f].enumerable);\n        }\n\n        return Object.create(Object.getPrototypeOf(r), o);\n      }(e, n),\n          o = {\n        i: e ? 5 : 4,\n        A: r ? r.A : _(),\n        P: !1,\n        I: !1,\n        D: {},\n        l: r,\n        t: n,\n        k: i,\n        o: null,\n        O: !1,\n        C: !1\n      };\n\n      return Object.defineProperty(i, Q, {\n        value: o,\n        writable: !0\n      }), i;\n    },\n    S: function S(n, t, o) {\n      o ? r(t) && t[Q].A === n && e(n.p) : (n.u && function n(r) {\n        if (r && \"object\" == typeof r) {\n          var t = r[Q];\n\n          if (t) {\n            var e = t.t,\n                o = t.k,\n                f = t.D,\n                c = t.i;\n            if (4 === c) i(o, function (r) {\n              r !== Q && (void 0 !== e[r] || u(e, r) ? f[r] || n(o[r]) : (f[r] = !0, k(t)));\n            }), i(e, function (n) {\n              void 0 !== o[n] || u(o, n) || (f[n] = !1, k(t));\n            });else if (5 === c) {\n              if (a(t) && (k(t), f.length = !0), o.length < e.length) for (var s = o.length; s < e.length; s++) {\n                f[s] = !1;\n              } else for (var v = e.length; v < o.length; v++) {\n                f[v] = !0;\n              }\n\n              for (var p = Math.min(o.length, e.length), l = 0; l < p; l++) {\n                o.hasOwnProperty(l) || (f[l] = !0), void 0 === f[l] && n(o[l]);\n              }\n            }\n          }\n        }\n      }(n.p[0]), e(n.p));\n    },\n    K: function K(n) {\n      return 4 === n.i ? o(n) : a(n);\n    }\n  });\n}\n\nfunction T() {\n  function e(n) {\n    if (!t(n)) return n;\n    if (Array.isArray(n)) return n.map(e);\n    if (s(n)) return new Map(Array.from(n.entries()).map(function (n) {\n      return [n[0], e(n[1])];\n    }));\n    if (v(n)) return new Set(Array.from(n).map(e));\n    var r = Object.create(Object.getPrototypeOf(n));\n\n    for (var i in n) {\n      r[i] = e(n[i]);\n    }\n\n    return u(n, L) && (r[L] = n[L]), r;\n  }\n\n  function f(n) {\n    return r(n) ? e(n) : n;\n  }\n\n  var c = \"add\";\n  m(\"Patches\", {\n    $: function $(r, t) {\n      return t.forEach(function (t) {\n        for (var i = t.path, u = t.op, f = r, s = 0; s < i.length - 1; s++) {\n          var v = o(f),\n              p = \"\" + i[s];\n          0 !== v && 1 !== v || \"__proto__\" !== p && \"constructor\" !== p || n(24), \"function\" == typeof f && \"prototype\" === p && n(24), \"object\" != typeof (f = a(f, p)) && n(15, i.join(\"/\"));\n        }\n\n        var l = o(f),\n            d = e(t.value),\n            h = i[i.length - 1];\n\n        switch (u) {\n          case \"replace\":\n            switch (l) {\n              case 2:\n                return f.set(h, d);\n\n              case 3:\n                n(16);\n\n              default:\n                return f[h] = d;\n            }\n\n          case c:\n            switch (l) {\n              case 1:\n                return \"-\" === h ? f.push(d) : f.splice(h, 0, d);\n\n              case 2:\n                return f.set(h, d);\n\n              case 3:\n                return f.add(d);\n\n              default:\n                return f[h] = d;\n            }\n\n          case \"remove\":\n            switch (l) {\n              case 1:\n                return f.splice(h, 1);\n\n              case 2:\n                return f.delete(h);\n\n              case 3:\n                return f.delete(t.value);\n\n              default:\n                return delete f[h];\n            }\n\n          default:\n            n(17, u);\n        }\n      }), r;\n    },\n    R: function R(n, r, t, e) {\n      switch (n.i) {\n        case 0:\n        case 4:\n        case 2:\n          return function (n, r, t, e) {\n            var o = n.t,\n                s = n.o;\n            i(n.D, function (n, i) {\n              var v = a(o, n),\n                  p = a(s, n),\n                  l = i ? u(o, n) ? \"replace\" : c : \"remove\";\n\n              if (v !== p || \"replace\" !== l) {\n                var d = r.concat(n);\n                t.push(\"remove\" === l ? {\n                  op: l,\n                  path: d\n                } : {\n                  op: l,\n                  path: d,\n                  value: p\n                }), e.push(l === c ? {\n                  op: \"remove\",\n                  path: d\n                } : \"remove\" === l ? {\n                  op: c,\n                  path: d,\n                  value: f(v)\n                } : {\n                  op: \"replace\",\n                  path: d,\n                  value: f(v)\n                });\n              }\n            });\n          }(n, r, t, e);\n\n        case 5:\n        case 1:\n          return function (n, r, t, e) {\n            var i = n.t,\n                o = n.D,\n                u = n.o;\n\n            if (u.length < i.length) {\n              var a = [u, i];\n              i = a[0], u = a[1];\n              var s = [e, t];\n              t = s[0], e = s[1];\n            }\n\n            for (var v = 0; v < i.length; v++) {\n              if (o[v] && u[v] !== i[v]) {\n                var p = r.concat([v]);\n                t.push({\n                  op: \"replace\",\n                  path: p,\n                  value: f(u[v])\n                }), e.push({\n                  op: \"replace\",\n                  path: p,\n                  value: f(i[v])\n                });\n              }\n            }\n\n            for (var l = i.length; l < u.length; l++) {\n              var d = r.concat([l]);\n              t.push({\n                op: c,\n                path: d,\n                value: f(u[l])\n              });\n            }\n\n            i.length < u.length && e.push({\n              op: \"replace\",\n              path: r.concat([\"length\"]),\n              value: i.length\n            });\n          }(n, r, t, e);\n\n        case 3:\n          return function (n, r, t, e) {\n            var i = n.t,\n                o = n.o,\n                u = 0;\n            i.forEach(function (n) {\n              if (!o.has(n)) {\n                var i = r.concat([u]);\n                t.push({\n                  op: \"remove\",\n                  path: i,\n                  value: n\n                }), e.unshift({\n                  op: c,\n                  path: i,\n                  value: n\n                });\n              }\n\n              u++;\n            }), u = 0, o.forEach(function (n) {\n              if (!i.has(n)) {\n                var o = r.concat([u]);\n                t.push({\n                  op: c,\n                  path: o,\n                  value: n\n                }), e.unshift({\n                  op: \"remove\",\n                  path: o,\n                  value: n\n                });\n              }\n\n              u++;\n            });\n          }(n, r, t, e);\n      }\n    },\n    M: function M(n, r, t, e) {\n      t.push({\n        op: \"replace\",\n        path: [],\n        value: r === H ? void 0 : r\n      }), e.push({\n        op: \"replace\",\n        path: [],\n        value: n\n      });\n    }\n  });\n}\n\nfunction C() {\n  function r(n, r) {\n    function t() {\n      this.constructor = n;\n    }\n\n    _a(n, r), n.prototype = (t.prototype = r.prototype, new t());\n  }\n\n  function e(n) {\n    n.o || (n.D = new Map(), n.o = new Map(n.t));\n  }\n\n  function o(n) {\n    n.o || (n.o = new Set(), n.t.forEach(function (r) {\n      if (t(r)) {\n        var e = R(n.A.h, r, n);\n        n.p.set(r, e), n.o.add(e);\n      } else n.o.add(r);\n    }));\n  }\n\n  function u(r) {\n    r.O && n(3, JSON.stringify(p(r)));\n  }\n\n  var _a = function a(n, r) {\n    return (_a = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (n, r) {\n      n.__proto__ = r;\n    } || function (n, r) {\n      for (var t in r) {\n        r.hasOwnProperty(t) && (n[t] = r[t]);\n      }\n    })(n, r);\n  },\n      f = function () {\n    function n(n, r) {\n      return this[Q] = {\n        i: 2,\n        l: r,\n        A: r ? r.A : _(),\n        P: !1,\n        I: !1,\n        o: void 0,\n        D: void 0,\n        t: n,\n        k: this,\n        C: !1,\n        O: !1\n      }, this;\n    }\n\n    r(n, Map);\n    var o = n.prototype;\n    return Object.defineProperty(o, \"size\", {\n      get: function get() {\n        return p(this[Q]).size;\n      }\n    }), o.has = function (n) {\n      return p(this[Q]).has(n);\n    }, o.set = function (n, r) {\n      var t = this[Q];\n      return u(t), p(t).has(n) && p(t).get(n) === r || (e(t), k(t), t.D.set(n, !0), t.o.set(n, r), t.D.set(n, !0)), this;\n    }, o.delete = function (n) {\n      if (!this.has(n)) return !1;\n      var r = this[Q];\n      return u(r), e(r), k(r), r.t.has(n) ? r.D.set(n, !1) : r.D.delete(n), r.o.delete(n), !0;\n    }, o.clear = function () {\n      var n = this[Q];\n      u(n), p(n).size && (e(n), k(n), n.D = new Map(), i(n.t, function (r) {\n        n.D.set(r, !1);\n      }), n.o.clear());\n    }, o.forEach = function (n, r) {\n      var t = this;\n      p(this[Q]).forEach(function (e, i) {\n        n.call(r, t.get(i), i, t);\n      });\n    }, o.get = function (n) {\n      var r = this[Q];\n      u(r);\n      var i = p(r).get(n);\n      if (r.I || !t(i)) return i;\n      if (i !== r.t.get(n)) return i;\n      var o = R(r.A.h, i, r);\n      return e(r), r.o.set(n, o), o;\n    }, o.keys = function () {\n      return p(this[Q]).keys();\n    }, o.values = function () {\n      var n,\n          r = this,\n          t = this.keys();\n      return (n = {})[V] = function () {\n        return r.values();\n      }, n.next = function () {\n        var n = t.next();\n        return n.done ? n : {\n          done: !1,\n          value: r.get(n.value)\n        };\n      }, n;\n    }, o.entries = function () {\n      var n,\n          r = this,\n          t = this.keys();\n      return (n = {})[V] = function () {\n        return r.entries();\n      }, n.next = function () {\n        var n = t.next();\n        if (n.done) return n;\n        var e = r.get(n.value);\n        return {\n          done: !1,\n          value: [n.value, e]\n        };\n      }, n;\n    }, o[V] = function () {\n      return this.entries();\n    }, n;\n  }(),\n      c = function () {\n    function n(n, r) {\n      return this[Q] = {\n        i: 3,\n        l: r,\n        A: r ? r.A : _(),\n        P: !1,\n        I: !1,\n        o: void 0,\n        t: n,\n        k: this,\n        p: new Map(),\n        O: !1,\n        C: !1\n      }, this;\n    }\n\n    r(n, Set);\n    var t = n.prototype;\n    return Object.defineProperty(t, \"size\", {\n      get: function get() {\n        return p(this[Q]).size;\n      }\n    }), t.has = function (n) {\n      var r = this[Q];\n      return u(r), r.o ? !!r.o.has(n) || !(!r.p.has(n) || !r.o.has(r.p.get(n))) : r.t.has(n);\n    }, t.add = function (n) {\n      var r = this[Q];\n      return u(r), this.has(n) || (o(r), k(r), r.o.add(n)), this;\n    }, t.delete = function (n) {\n      if (!this.has(n)) return !1;\n      var r = this[Q];\n      return u(r), o(r), k(r), r.o.delete(n) || !!r.p.has(n) && r.o.delete(r.p.get(n));\n    }, t.clear = function () {\n      var n = this[Q];\n      u(n), p(n).size && (o(n), k(n), n.o.clear());\n    }, t.values = function () {\n      var n = this[Q];\n      return u(n), o(n), n.o.values();\n    }, t.entries = function () {\n      var n = this[Q];\n      return u(n), o(n), n.o.entries();\n    }, t.keys = function () {\n      return this.values();\n    }, t[V] = function () {\n      return this.values();\n    }, t.forEach = function (n, r) {\n      for (var t = this.values(), e = t.next(); !e.done;) {\n        n.call(r, e.value, e.value, this), e = t.next();\n      }\n    }, n;\n  }();\n\n  m(\"MapSet\", {\n    N: function N(n, r) {\n      return new f(n, r);\n    },\n    T: function T(n, r) {\n      return new c(n, r);\n    }\n  });\n}\n\nfunction J() {\n  N(), C(), T();\n}\n\nfunction K(n) {\n  return n;\n}\n\nfunction $(n) {\n  return n;\n}\n\nvar G,\n    U,\n    W = \"undefined\" != typeof Symbol && \"symbol\" == typeof Symbol(\"x\"),\n    X = \"undefined\" != typeof Map,\n    q = \"undefined\" != typeof Set,\n    B = \"undefined\" != typeof Proxy && void 0 !== Proxy.revocable && \"undefined\" != typeof Reflect,\n    H = W ? Symbol.for(\"immer-nothing\") : ((G = {})[\"immer-nothing\"] = !0, G),\n    L = W ? Symbol.for(\"immer-draftable\") : \"__$immer_draftable\",\n    Q = W ? Symbol.for(\"immer-state\") : \"__$immer_state\",\n    V = \"undefined\" != typeof Symbol && Symbol.iterator || \"@@iterator\",\n    Y = {\n  0: \"Illegal state\",\n  1: \"Immer drafts cannot have computed properties\",\n  2: \"This object has been frozen and should not be mutated\",\n  3: function _(n) {\n    return \"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \" + n;\n  },\n  4: \"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\",\n  5: \"Immer forbids circular references\",\n  6: \"The first or second argument to `produce` must be a function\",\n  7: \"The third argument to `produce` must be a function or undefined\",\n  8: \"First argument to `createDraft` must be a plain object, an array, or an immerable object\",\n  9: \"First argument to `finishDraft` must be a draft returned by `createDraft`\",\n  10: \"The given draft is already finalized\",\n  11: \"Object.defineProperty() cannot be used on an Immer draft\",\n  12: \"Object.setPrototypeOf() cannot be used on an Immer draft\",\n  13: \"Immer only supports deleting array indices\",\n  14: \"Immer only supports setting array indices and the 'length' property\",\n  15: function _(n) {\n    return \"Cannot apply patch, path doesn't resolve: \" + n;\n  },\n  16: 'Sets cannot have \"replace\" patches.',\n  17: function _(n) {\n    return \"Unsupported patch operation: \" + n;\n  },\n  18: function _(n) {\n    return \"The plugin for '\" + n + \"' has not been loaded into Immer. To enable the plugin, import and call `enable\" + n + \"()` when initializing your application.\";\n  },\n  20: \"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available\",\n  21: function _(n) {\n    return \"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '\" + n + \"'\";\n  },\n  22: function _(n) {\n    return \"'current' expects a draft, got: \" + n;\n  },\n  23: function _(n) {\n    return \"'original' expects a draft, got: \" + n;\n  },\n  24: \"Patching reserved attributes like __proto__, prototype and constructor is not allowed\"\n},\n    Z = \"\" + Object.prototype.constructor,\n    nn = \"undefined\" != typeof Reflect && Reflect.ownKeys ? Reflect.ownKeys : void 0 !== Object.getOwnPropertySymbols ? function (n) {\n  return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n));\n} : Object.getOwnPropertyNames,\n    rn = Object.getOwnPropertyDescriptors || function (n) {\n  var r = {};\n  return nn(n).forEach(function (t) {\n    r[t] = Object.getOwnPropertyDescriptor(n, t);\n  }), r;\n},\n    tn = {},\n    en = {\n  get: function get(n, r) {\n    if (r === Q) return n;\n    var e = p(n);\n    if (!u(e, r)) return function (n, r, t) {\n      var e,\n          i = I(r, t);\n      return i ? \"value\" in i ? i.value : null === (e = i.get) || void 0 === e ? void 0 : e.call(n.k) : void 0;\n    }(n, e, r);\n    var i = e[r];\n    return n.I || !t(i) ? i : i === z(n.t, r) ? (E(n), n.o[r] = R(n.A.h, i, n)) : i;\n  },\n  has: function has(n, r) {\n    return r in p(n);\n  },\n  ownKeys: function ownKeys(n) {\n    return Reflect.ownKeys(p(n));\n  },\n  set: function set(n, r, t) {\n    var e = I(p(n), r);\n    if (null == e ? void 0 : e.set) return e.set.call(n.k, t), !0;\n\n    if (!n.P) {\n      var i = z(p(n), r),\n          o = null == i ? void 0 : i[Q];\n      if (o && o.t === t) return n.o[r] = t, n.D[r] = !1, !0;\n      if (c(t, i) && (void 0 !== t || u(n.t, r))) return !0;\n      E(n), k(n);\n    }\n\n    return n.o[r] === t && \"number\" != typeof t && (void 0 !== t || r in n.o) || (n.o[r] = t, n.D[r] = !0, !0);\n  },\n  deleteProperty: function deleteProperty(n, r) {\n    return void 0 !== z(n.t, r) || r in n.t ? (n.D[r] = !1, E(n), k(n)) : delete n.D[r], n.o && delete n.o[r], !0;\n  },\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(n, r) {\n    var t = p(n),\n        e = Reflect.getOwnPropertyDescriptor(t, r);\n    return e ? {\n      writable: !0,\n      configurable: 1 !== n.i || \"length\" !== r,\n      enumerable: e.enumerable,\n      value: t[r]\n    } : e;\n  },\n  defineProperty: function defineProperty() {\n    n(11);\n  },\n  getPrototypeOf: function getPrototypeOf(n) {\n    return Object.getPrototypeOf(n.t);\n  },\n  setPrototypeOf: function setPrototypeOf() {\n    n(12);\n  }\n},\n    on = {};\n\ni(en, function (n, r) {\n  on[n] = function () {\n    return arguments[0] = arguments[0][0], r.apply(this, arguments);\n  };\n}), on.deleteProperty = function (r, t) {\n  return \"production\" !== process.env.NODE_ENV && isNaN(parseInt(t)) && n(13), on.set.call(this, r, t, void 0);\n}, on.set = function (r, t, e) {\n  return \"production\" !== process.env.NODE_ENV && \"length\" !== t && isNaN(parseInt(t)) && n(14), en.set.call(this, r[0], t, e, r[0]);\n};\n\nvar un = function () {\n  function e(r) {\n    var e = this;\n    this.g = B, this.F = !0, this.produce = function (r, i, o) {\n      if (\"function\" == typeof r && \"function\" != typeof i) {\n        var u = i;\n        i = r;\n        var a = e;\n        return function (n) {\n          var r = this;\n          void 0 === n && (n = u);\n\n          for (var t = arguments.length, e = Array(t > 1 ? t - 1 : 0), o = 1; o < t; o++) {\n            e[o - 1] = arguments[o];\n          }\n\n          return a.produce(n, function (n) {\n            var t;\n            return (t = i).call.apply(t, [r, n].concat(e));\n          });\n        };\n      }\n\n      var f;\n\n      if (\"function\" != typeof i && n(6), void 0 !== o && \"function\" != typeof o && n(7), t(r)) {\n        var c = w(e),\n            s = R(e, r, void 0),\n            v = !0;\n\n        try {\n          f = i(s), v = !1;\n        } finally {\n          v ? O(c) : g(c);\n        }\n\n        return \"undefined\" != typeof Promise && f instanceof Promise ? f.then(function (n) {\n          return j(c, o), P(n, c);\n        }, function (n) {\n          throw O(c), n;\n        }) : (j(c, o), P(f, c));\n      }\n\n      if (!r || \"object\" != typeof r) {\n        if (void 0 === (f = i(r)) && (f = r), f === H && (f = void 0), e.F && d(f, !0), o) {\n          var p = [],\n              l = [];\n          b(\"Patches\").M(r, f, p, l), o(p, l);\n        }\n\n        return f;\n      }\n\n      n(21, r);\n    }, this.produceWithPatches = function (n, r) {\n      if (\"function\" == typeof n) return function (r) {\n        for (var t = arguments.length, i = Array(t > 1 ? t - 1 : 0), o = 1; o < t; o++) {\n          i[o - 1] = arguments[o];\n        }\n\n        return e.produceWithPatches(r, function (r) {\n          return n.apply(void 0, [r].concat(i));\n        });\n      };\n      var t,\n          i,\n          o = e.produce(n, r, function (n, r) {\n        t = n, i = r;\n      });\n      return \"undefined\" != typeof Promise && o instanceof Promise ? o.then(function (n) {\n        return [n, t, i];\n      }) : [o, t, i];\n    }, \"boolean\" == typeof (null == r ? void 0 : r.useProxies) && this.setUseProxies(r.useProxies), \"boolean\" == typeof (null == r ? void 0 : r.autoFreeze) && this.setAutoFreeze(r.autoFreeze);\n  }\n\n  var i = e.prototype;\n  return i.createDraft = function (e) {\n    t(e) || n(8), r(e) && (e = D(e));\n    var i = w(this),\n        o = R(this, e, void 0);\n    return o[Q].C = !0, g(i), o;\n  }, i.finishDraft = function (r, t) {\n    var e = r && r[Q];\n    \"production\" !== process.env.NODE_ENV && (e && e.C || n(9), e.I && n(10));\n    var i = e.A;\n    return j(i, t), P(void 0, i);\n  }, i.setAutoFreeze = function (n) {\n    this.F = n;\n  }, i.setUseProxies = function (r) {\n    r && !B && n(20), this.g = r;\n  }, i.applyPatches = function (n, t) {\n    var e;\n\n    for (e = t.length - 1; e >= 0; e--) {\n      var i = t[e];\n\n      if (0 === i.path.length && \"replace\" === i.op) {\n        n = i.value;\n        break;\n      }\n    }\n\n    e > -1 && (t = t.slice(e + 1));\n    var o = b(\"Patches\").$;\n    return r(n) ? o(n, t) : this.produce(n, function (n) {\n      return o(n, t);\n    });\n  }, e;\n}(),\n    an = new un(),\n    fn = an.produce,\n    cn = an.produceWithPatches.bind(an),\n    sn = an.setAutoFreeze.bind(an),\n    vn = an.setUseProxies.bind(an),\n    pn = an.applyPatches.bind(an),\n    ln = an.createDraft.bind(an),\n    dn = an.finishDraft.bind(an);\n\nexport default fn;\nexport { un as Immer, pn as applyPatches, K as castDraft, $ as castImmutable, ln as createDraft, D as current, J as enableAllPlugins, N as enableES5, C as enableMapSet, T as enablePatches, dn as finishDraft, d as freeze, L as immerable, r as isDraft, t as isDraftable, H as nothing, e as original, fn as produce, cn as produceWithPatches, sn as setAutoFreeze, vn as setUseProxies };","import \"core-js/modules/es.array.reduce.js\";\nimport { defaultMemoize, defaultEqualityCheck } from './defaultMemoize';\nexport { defaultMemoize, defaultEqualityCheck };\n\nfunction getDependencies(funcs) {\n  var dependencies = Array.isArray(funcs[0]) ? funcs[0] : funcs;\n\n  if (!dependencies.every(function (dep) {\n    return typeof dep === 'function';\n  })) {\n    var dependencyTypes = dependencies.map(function (dep) {\n      return typeof dep === 'function' ? \"function \" + (dep.name || 'unnamed') + \"()\" : typeof dep;\n    }).join(', ');\n    throw new Error(\"createSelector expects all input-selectors to be functions, but received the following types: [\" + dependencyTypes + \"]\");\n  }\n\n  return dependencies;\n}\n\nexport function createSelectorCreator(memoize) {\n  for (var _len = arguments.length, memoizeOptionsFromArgs = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    memoizeOptionsFromArgs[_key - 1] = arguments[_key];\n  }\n\n  var createSelector = function createSelector() {\n    for (var _len2 = arguments.length, funcs = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      funcs[_key2] = arguments[_key2];\n    }\n\n    var _recomputations = 0;\n\n    var _lastResult; // Due to the intricacies of rest params, we can't do an optional arg after `...funcs`.\n    // So, start by declaring the default value here.\n    // (And yes, the words 'memoize' and 'options' appear too many times in this next sequence.)\n\n\n    var directlyPassedOptions = {\n      memoizeOptions: undefined\n    }; // Normally, the result func or \"output selector\" is the last arg\n\n    var resultFunc = funcs.pop(); // If the result func is actually an _object_, assume it's our options object\n\n    if (typeof resultFunc === 'object') {\n      directlyPassedOptions = resultFunc; // and pop the real result func off\n\n      resultFunc = funcs.pop();\n    }\n\n    if (typeof resultFunc !== 'function') {\n      throw new Error(\"createSelector expects an output function after the inputs, but received: [\" + typeof resultFunc + \"]\");\n    } // Determine which set of options we're using. Prefer options passed directly,\n    // but fall back to options given to createSelectorCreator.\n\n\n    var _directlyPassedOption = directlyPassedOptions,\n        _directlyPassedOption2 = _directlyPassedOption.memoizeOptions,\n        memoizeOptions = _directlyPassedOption2 === void 0 ? memoizeOptionsFromArgs : _directlyPassedOption2; // Simplifying assumption: it's unlikely that the first options arg of the provided memoizer\n    // is an array. In most libs I've looked at, it's an equality function or options object.\n    // Based on that, if `memoizeOptions` _is_ an array, we assume it's a full\n    // user-provided array of options. Otherwise, it must be just the _first_ arg, and so\n    // we wrap it in an array so we can apply it.\n\n    var finalMemoizeOptions = Array.isArray(memoizeOptions) ? memoizeOptions : [memoizeOptions];\n    var dependencies = getDependencies(funcs);\n    var memoizedResultFunc = memoize.apply(void 0, [function () {\n      _recomputations++; // apply arguments instead of spreading for performance.\n\n      return resultFunc.apply(null, arguments);\n    }].concat(finalMemoizeOptions)); // If a selector is called with the exact same arguments we don't need to traverse our dependencies again.\n\n    var selector = memoize(function () {\n      var params = [];\n      var length = dependencies.length;\n\n      for (var i = 0; i < length; i++) {\n        // apply arguments instead of spreading and mutate a local list of params for performance.\n        // @ts-ignore\n        params.push(dependencies[i].apply(null, arguments));\n      } // apply arguments instead of spreading for performance.\n\n\n      _lastResult = memoizedResultFunc.apply(null, params);\n      return _lastResult;\n    });\n    Object.assign(selector, {\n      resultFunc: resultFunc,\n      memoizedResultFunc: memoizedResultFunc,\n      dependencies: dependencies,\n      lastResult: function lastResult() {\n        return _lastResult;\n      },\n      recomputations: function recomputations() {\n        return _recomputations;\n      },\n      resetRecomputations: function resetRecomputations() {\n        return _recomputations = 0;\n      }\n    });\n    return selector;\n  }; // @ts-ignore\n\n\n  return createSelector;\n}\nexport var createSelector = /* #__PURE__ */createSelectorCreator(defaultMemoize); // Manual definition of state and output arguments\n\nexport var createStructuredSelector = function createStructuredSelector(selectors, selectorCreator) {\n  if (selectorCreator === void 0) {\n    selectorCreator = createSelector;\n  }\n\n  if (typeof selectors !== 'object') {\n    throw new Error('createStructuredSelector expects first argument to be an object ' + (\"where each property is a selector, instead received a \" + typeof selectors));\n  }\n\n  var objectKeys = Object.keys(selectors);\n  var resultSelector = selectorCreator( // @ts-ignore\n  objectKeys.map(function (key) {\n    return selectors[key];\n  }), function () {\n    for (var _len3 = arguments.length, values = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      values[_key3] = arguments[_key3];\n    }\n\n    return values.reduce(function (composition, value, index) {\n      composition[objectKeys[index]] = value;\n      return composition;\n    }, {});\n  });\n  return resultSelector;\n};","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import \"core-js/modules/es.array.reduce.js\";\nimport _objectSpread from '@babel/runtime/helpers/esm/objectSpread2';\n/**\n * Adapted from React: https://github.com/facebook/react/blob/master/packages/shared/formatProdErrorMessage.js\n *\n * Do not require this module directly! Use normal throw error calls. These messages will be replaced with error codes\n * during build.\n * @param {number} code\n */\n\nfunction formatProdErrorMessage(code) {\n  return \"Minified Redux error #\" + code + \"; visit https://redux.js.org/Errors?code=\" + code + \" for the full message or \" + 'use the non-minified dev environment for full errors. ';\n} // Inlined version of the `symbol-observable` polyfill\n\n\nvar $$observable = function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n}();\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\n\n\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\n\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n} // Inlined / shortened version of `kindOf` from https://github.com/jonschlinkert/kind-of\n\n\nfunction miniKindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n  var type = typeof val;\n\n  switch (type) {\n    case 'boolean':\n    case 'string':\n    case 'number':\n    case 'symbol':\n    case 'function':\n      {\n        return type;\n      }\n  }\n\n  if (Array.isArray(val)) return 'array';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  var constructorName = ctorName(val);\n\n  switch (constructorName) {\n    case 'Symbol':\n    case 'Promise':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Map':\n    case 'Set':\n      return constructorName;\n  } // other\n\n\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n}\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isError(val) {\n  return val instanceof Error || typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number';\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function' && typeof val.getDate === 'function' && typeof val.setDate === 'function';\n}\n\nfunction kindOf(val) {\n  var typeOfVal = typeof val;\n\n  if (process.env.NODE_ENV !== 'production') {\n    typeOfVal = miniKindOf(val);\n  }\n\n  return typeOfVal;\n}\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(0) : 'It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(1) : \"Expected the enhancer to be a function. Instead, received: '\" + kindOf(enhancer) + \"'\");\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(2) : \"Expected the root reducer to be a function. Instead, received: '\" + kindOf(reducer) + \"'\");\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(3) : 'You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(4) : \"Expected the listener to be a function. Instead, received: '\" + kindOf(listener) + \"'\");\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(5) : 'You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(6) : 'You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing what changed. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(7) : \"Actions must be plain objects. Instead, the actual type was: '\" + kindOf(action) + \"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.\");\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(8) : 'Actions may not have an undefined \"type\" property. You may have misspelled an action type string constant.');\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(9) : 'Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(10) : \"Expected the nextReducer to be a function. Instead, received: '\" + kindOf(nextReducer));\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(11) : \"Expected the observer to be an object. Instead, received: '\" + kindOf(observer) + \"'\");\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\n\n\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + kindOf(inputState) + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(12) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(13) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle '\" + ActionTypes.INIT + \"' or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var actionType = action && action.type;\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(14) : \"When called with an action of type \" + (actionType ? \"\\\"\" + String(actionType) + \"\\\"\" : '(unknown type)') + \", the slice reducer for key \\\"\" + _key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\");\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(16) : \"bindActionCreators expected an object or a function, but instead received: '\" + kindOf(actionCreators) + \"'. \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\n\n\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(15) : 'Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread(_objectSpread({}, store), {}, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\n\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \"production\". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore };","/** A function that accepts a potential \"extra argument\" value to be injected later,\r\n * and returns an instance of the thunk middleware that uses that value\r\n */\nfunction createThunkMiddleware(extraArgument) {\n  // Standard Redux middleware definition pattern:\n  // See: https://redux.js.org/tutorials/fundamentals/part-4-store#writing-custom-middleware\n  var middleware = function middleware(_ref) {\n    var dispatch = _ref.dispatch,\n        getState = _ref.getState;\n    return function (next) {\n      return function (action) {\n        // The thunk middleware looks for any functions that were passed to `store.dispatch`.\n        // If this \"action\" is really a function, call it and return the result.\n        if (typeof action === 'function') {\n          // Inject the store's `dispatch` and `getState` methods, as well as any \"extra arg\"\n          return action(dispatch, getState, extraArgument);\n        } // Otherwise, pass the action down the middleware chain as usual\n\n\n        return next(action);\n      };\n    };\n  };\n\n  return middleware;\n}\n\nvar thunk = createThunkMiddleware(); // Attach the factory function so users can create a customized version\n// with whatever \"extra arg\" they want to inject into their thunks\n\nthunk.withExtraArgument = createThunkMiddleware;\nexport default thunk;","import \"core-js/modules/es.array.reduce.js\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar __spreadArray = this && this.__spreadArray || function (to, from) {\n  for (var i = 0, il = from.length, j = to.length; i < il; i++, j++) {\n    to[j] = from[i];\n  }\n\n  return to;\n};\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\n\nvar __defNormalProp = function __defNormalProp(obj, key, value) {\n  return key in obj ? __defProp(obj, key, {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: value\n  }) : obj[key] = value;\n};\n\nvar __spreadValues = function __spreadValues(a, b) {\n  for (var prop in b || (b = {})) {\n    if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  }\n\n  if (__getOwnPropSymbols) for (var _i = 0, _c = __getOwnPropSymbols(b); _i < _c.length; _i++) {\n    var prop = _c[_i];\n    if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  }\n  return a;\n};\n\nvar __spreadProps = function __spreadProps(a, b) {\n  return __defProps(a, __getOwnPropDescs(b));\n};\n\nvar __async = function __async(__this, __arguments, generator) {\n  return new Promise(function (resolve, reject) {\n    var fulfilled = function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n\n    var rejected = function rejected(value) {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n\n    var step = function step(x) {\n      return x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    };\n\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n}; // src/index.ts\n\n\nimport { enableES5 } from \"immer\";\nexport * from \"redux\";\nimport { default as default2, current as current2, freeze, original, isDraft as isDraft4 } from \"immer\";\nimport { createSelector as createSelector2 } from \"reselect\"; // src/createDraftSafeSelector.ts\n\nimport { current, isDraft } from \"immer\";\nimport { createSelector } from \"reselect\";\n\nvar createDraftSafeSelector = function createDraftSafeSelector() {\n  var args = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    args[_i] = arguments[_i];\n  }\n\n  var selector = createSelector.apply(void 0, args);\n\n  var wrappedSelector = function wrappedSelector(value) {\n    var rest = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      rest[_i - 1] = arguments[_i];\n    }\n\n    return selector.apply(void 0, __spreadArray([isDraft(value) ? current(value) : value], rest));\n  };\n\n  return wrappedSelector;\n}; // src/configureStore.ts\n\n\nimport { createStore, compose as compose2, applyMiddleware, combineReducers } from \"redux\"; // src/devtoolsExtension.ts\n\nimport { compose } from \"redux\";\nvar composeWithDevTools = typeof window !== \"undefined\" && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : function () {\n  if (arguments.length === 0) return void 0;\n  if (typeof arguments[0] === \"object\") return compose;\n  return compose.apply(null, arguments);\n};\nvar devToolsEnhancer = typeof window !== \"undefined\" && window.__REDUX_DEVTOOLS_EXTENSION__ ? window.__REDUX_DEVTOOLS_EXTENSION__ : function () {\n  return function (noop2) {\n    return noop2;\n  };\n}; // src/isPlainObject.ts\n\nfunction isPlainObject(value) {\n  if (typeof value !== \"object\" || value === null) return false;\n  var proto = Object.getPrototypeOf(value);\n  if (proto === null) return true;\n  var baseProto = proto;\n\n  while (Object.getPrototypeOf(baseProto) !== null) {\n    baseProto = Object.getPrototypeOf(baseProto);\n  }\n\n  return proto === baseProto;\n} // src/getDefaultMiddleware.ts\n\n\nimport thunkMiddleware from \"redux-thunk\"; // src/utils.ts\n\nfunction getTimeMeasureUtils(maxDelay, fnName) {\n  var elapsed = 0;\n  return {\n    measureTime: function measureTime(fn) {\n      var started = Date.now();\n\n      try {\n        return fn();\n      } finally {\n        var finished = Date.now();\n        elapsed += finished - started;\n      }\n    },\n    warnIfExceeded: function warnIfExceeded() {\n      if (elapsed > maxDelay) {\n        console.warn(fnName + \" took \" + elapsed + \"ms, which is more than the warning threshold of \" + maxDelay + \"ms. \\nIf your state or actions are very large, you may want to disable the middleware as it might cause too much of a slowdown in development mode. See https://redux-toolkit.js.org/api/getDefaultMiddleware for instructions.\\nIt is disabled in production builds, so you don't need to worry about that.\");\n      }\n    }\n  };\n}\n\nvar MiddlewareArray =\n/** @class */\nfunction (_super) {\n  __extends(MiddlewareArray, _super);\n\n  function MiddlewareArray() {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    var _this = _super.apply(this, args) || this;\n\n    Object.setPrototypeOf(_this, MiddlewareArray.prototype);\n    return _this;\n  }\n\n  Object.defineProperty(MiddlewareArray, Symbol.species, {\n    get: function get() {\n      return MiddlewareArray;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  MiddlewareArray.prototype.concat = function () {\n    var arr = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      arr[_i] = arguments[_i];\n    }\n\n    return _super.prototype.concat.apply(this, arr);\n  };\n\n  MiddlewareArray.prototype.prepend = function () {\n    var arr = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      arr[_i] = arguments[_i];\n    }\n\n    if (arr.length === 1 && Array.isArray(arr[0])) {\n      return new (MiddlewareArray.bind.apply(MiddlewareArray, __spreadArray([void 0], arr[0].concat(this))))();\n    }\n\n    return new (MiddlewareArray.bind.apply(MiddlewareArray, __spreadArray([void 0], arr.concat(this))))();\n  };\n\n  return MiddlewareArray;\n}(Array); // src/immutableStateInvariantMiddleware.ts\n\n\nvar isProduction = process.env.NODE_ENV === \"production\";\nvar prefix = \"Invariant failed\";\n\nfunction invariant(condition, message) {\n  if (condition) {\n    return;\n  }\n\n  if (isProduction) {\n    throw new Error(prefix);\n  }\n\n  throw new Error(prefix + \": \" + (message || \"\"));\n}\n\nfunction stringify(obj, serializer, indent, decycler) {\n  return JSON.stringify(obj, getSerialize(serializer, decycler), indent);\n}\n\nfunction getSerialize(serializer, decycler) {\n  var stack = [],\n      keys = [];\n  if (!decycler) decycler = function decycler(_, value) {\n    if (stack[0] === value) return \"[Circular ~]\";\n    return \"[Circular ~.\" + keys.slice(0, stack.indexOf(value)).join(\".\") + \"]\";\n  };\n  return function (key, value) {\n    if (stack.length > 0) {\n      var thisPos = stack.indexOf(this);\n      ~thisPos ? stack.splice(thisPos + 1) : stack.push(this);\n      ~thisPos ? keys.splice(thisPos, Infinity, key) : keys.push(key);\n      if (~stack.indexOf(value)) value = decycler.call(this, key, value);\n    } else stack.push(value);\n\n    return serializer == null ? value : serializer.call(this, key, value);\n  };\n}\n\nfunction isImmutableDefault(value) {\n  return typeof value !== \"object\" || value === null || typeof value === \"undefined\" || Object.isFrozen(value);\n}\n\nfunction trackForMutations(isImmutable, ignorePaths, obj) {\n  var trackedProperties = trackProperties(isImmutable, ignorePaths, obj);\n  return {\n    detectMutations: function detectMutations() {\n      return _detectMutations(isImmutable, ignorePaths, trackedProperties, obj);\n    }\n  };\n}\n\nfunction trackProperties(isImmutable, ignorePaths, obj, path) {\n  if (ignorePaths === void 0) {\n    ignorePaths = [];\n  }\n\n  if (path === void 0) {\n    path = \"\";\n  }\n\n  var tracked = {\n    value: obj\n  };\n\n  if (!isImmutable(obj)) {\n    tracked.children = {};\n\n    for (var key in obj) {\n      var childPath = path ? path + \".\" + key : key;\n\n      if (ignorePaths.length && ignorePaths.indexOf(childPath) !== -1) {\n        continue;\n      }\n\n      tracked.children[key] = trackProperties(isImmutable, ignorePaths, obj[key], childPath);\n    }\n  }\n\n  return tracked;\n}\n\nfunction _detectMutations(isImmutable, ignorePaths, trackedProperty, obj, sameParentRef, path) {\n  if (ignorePaths === void 0) {\n    ignorePaths = [];\n  }\n\n  if (sameParentRef === void 0) {\n    sameParentRef = false;\n  }\n\n  if (path === void 0) {\n    path = \"\";\n  }\n\n  var prevObj = trackedProperty ? trackedProperty.value : void 0;\n  var sameRef = prevObj === obj;\n\n  if (sameParentRef && !sameRef && !Number.isNaN(obj)) {\n    return {\n      wasMutated: true,\n      path: path\n    };\n  }\n\n  if (isImmutable(prevObj) || isImmutable(obj)) {\n    return {\n      wasMutated: false\n    };\n  }\n\n  var keysToDetect = {};\n\n  for (var key in trackedProperty.children) {\n    keysToDetect[key] = true;\n  }\n\n  for (var key in obj) {\n    keysToDetect[key] = true;\n  }\n\n  for (var key in keysToDetect) {\n    var childPath = path ? path + \".\" + key : key;\n\n    if (ignorePaths.length && ignorePaths.indexOf(childPath) !== -1) {\n      continue;\n    }\n\n    var result = _detectMutations(isImmutable, ignorePaths, trackedProperty.children[key], obj[key], sameRef, childPath);\n\n    if (result.wasMutated) {\n      return result;\n    }\n  }\n\n  return {\n    wasMutated: false\n  };\n}\n\nfunction createImmutableStateInvariantMiddleware(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  if (process.env.NODE_ENV === \"production\") {\n    return function () {\n      return function (next) {\n        return function (action) {\n          return next(action);\n        };\n      };\n    };\n  }\n\n  var _c = options.isImmutable,\n      isImmutable = _c === void 0 ? isImmutableDefault : _c,\n      ignoredPaths = options.ignoredPaths,\n      _d = options.warnAfter,\n      warnAfter = _d === void 0 ? 32 : _d,\n      ignore = options.ignore;\n  ignoredPaths = ignoredPaths || ignore;\n  var track = trackForMutations.bind(null, isImmutable, ignoredPaths);\n  return function (_c) {\n    var getState = _c.getState;\n    var state = getState();\n    var tracker = track(state);\n    var result;\n    return function (next) {\n      return function (action) {\n        var measureUtils = getTimeMeasureUtils(warnAfter, \"ImmutableStateInvariantMiddleware\");\n        measureUtils.measureTime(function () {\n          state = getState();\n          result = tracker.detectMutations();\n          tracker = track(state);\n          invariant(!result.wasMutated, \"A state mutation was detected between dispatches, in the path '\" + (result.path || \"\") + \"'.  This may cause incorrect behavior. (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)\");\n        });\n        var dispatchedAction = next(action);\n        measureUtils.measureTime(function () {\n          state = getState();\n          result = tracker.detectMutations();\n          tracker = track(state);\n          result.wasMutated && invariant(!result.wasMutated, \"A state mutation was detected inside a dispatch, in the path: \" + (result.path || \"\") + \". Take a look at the reducer(s) handling the action \" + stringify(action) + \". (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)\");\n        });\n        measureUtils.warnIfExceeded();\n        return dispatchedAction;\n      };\n    };\n  };\n} // src/serializableStateInvariantMiddleware.ts\n\n\nfunction isPlain(val) {\n  var type = typeof val;\n  return type === \"undefined\" || val === null || type === \"string\" || type === \"boolean\" || type === \"number\" || Array.isArray(val) || isPlainObject(val);\n}\n\nfunction findNonSerializableValue(value, path, isSerializable, getEntries, ignoredPaths) {\n  if (path === void 0) {\n    path = \"\";\n  }\n\n  if (isSerializable === void 0) {\n    isSerializable = isPlain;\n  }\n\n  if (ignoredPaths === void 0) {\n    ignoredPaths = [];\n  }\n\n  var foundNestedSerializable;\n\n  if (!isSerializable(value)) {\n    return {\n      keyPath: path || \"<root>\",\n      value: value\n    };\n  }\n\n  if (typeof value !== \"object\" || value === null) {\n    return false;\n  }\n\n  var entries = getEntries != null ? getEntries(value) : Object.entries(value);\n  var hasIgnoredPaths = ignoredPaths.length > 0;\n\n  for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n    var _c = entries_1[_i],\n        key = _c[0],\n        nestedValue = _c[1];\n    var nestedPath = path ? path + \".\" + key : key;\n\n    if (hasIgnoredPaths && ignoredPaths.indexOf(nestedPath) >= 0) {\n      continue;\n    }\n\n    if (!isSerializable(nestedValue)) {\n      return {\n        keyPath: nestedPath,\n        value: nestedValue\n      };\n    }\n\n    if (typeof nestedValue === \"object\") {\n      foundNestedSerializable = findNonSerializableValue(nestedValue, nestedPath, isSerializable, getEntries, ignoredPaths);\n\n      if (foundNestedSerializable) {\n        return foundNestedSerializable;\n      }\n    }\n  }\n\n  return false;\n}\n\nfunction createSerializableStateInvariantMiddleware(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  if (process.env.NODE_ENV === \"production\") {\n    return function () {\n      return function (next) {\n        return function (action) {\n          return next(action);\n        };\n      };\n    };\n  }\n\n  var _c = options.isSerializable,\n      isSerializable = _c === void 0 ? isPlain : _c,\n      getEntries = options.getEntries,\n      _d = options.ignoredActions,\n      ignoredActions = _d === void 0 ? [] : _d,\n      _e = options.ignoredActionPaths,\n      ignoredActionPaths = _e === void 0 ? [\"meta.arg\", \"meta.baseQueryMeta\"] : _e,\n      _f = options.ignoredPaths,\n      ignoredPaths = _f === void 0 ? [] : _f,\n      _g = options.warnAfter,\n      warnAfter = _g === void 0 ? 32 : _g,\n      _h = options.ignoreState,\n      ignoreState = _h === void 0 ? false : _h,\n      _j = options.ignoreActions,\n      ignoreActions = _j === void 0 ? false : _j;\n  return function (storeAPI) {\n    return function (next) {\n      return function (action) {\n        var result = next(action);\n        var measureUtils = getTimeMeasureUtils(warnAfter, \"SerializableStateInvariantMiddleware\");\n\n        if (!ignoreActions && !(ignoredActions.length && ignoredActions.indexOf(action.type) !== -1)) {\n          measureUtils.measureTime(function () {\n            var foundActionNonSerializableValue = findNonSerializableValue(action, \"\", isSerializable, getEntries, ignoredActionPaths);\n\n            if (foundActionNonSerializableValue) {\n              var keyPath = foundActionNonSerializableValue.keyPath,\n                  value = foundActionNonSerializableValue.value;\n              console.error(\"A non-serializable value was detected in an action, in the path: `\" + keyPath + \"`. Value:\", value, \"\\nTake a look at the logic that dispatched this action: \", action, \"\\n(See https://redux.js.org/faq/actions#why-should-type-be-a-string-or-at-least-serializable-why-should-my-action-types-be-constants)\", \"\\n(To allow non-serializable values see: https://redux-toolkit.js.org/usage/usage-guide#working-with-non-serializable-data)\");\n            }\n          });\n        }\n\n        if (!ignoreState) {\n          measureUtils.measureTime(function () {\n            var state = storeAPI.getState();\n            var foundStateNonSerializableValue = findNonSerializableValue(state, \"\", isSerializable, getEntries, ignoredPaths);\n\n            if (foundStateNonSerializableValue) {\n              var keyPath = foundStateNonSerializableValue.keyPath,\n                  value = foundStateNonSerializableValue.value;\n              console.error(\"A non-serializable value was detected in the state, in the path: `\" + keyPath + \"`. Value:\", value, \"\\nTake a look at the reducer(s) handling this action type: \" + action.type + \".\\n(See https://redux.js.org/faq/organizing-state#can-i-put-functions-promises-or-other-non-serializable-items-in-my-store-state)\");\n            }\n          });\n          measureUtils.warnIfExceeded();\n        }\n\n        return result;\n      };\n    };\n  };\n} // src/getDefaultMiddleware.ts\n\n\nfunction isBoolean(x) {\n  return typeof x === \"boolean\";\n}\n\nfunction curryGetDefaultMiddleware() {\n  return function curriedGetDefaultMiddleware(options) {\n    return getDefaultMiddleware(options);\n  };\n}\n\nfunction getDefaultMiddleware(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _c = options.thunk,\n      thunk = _c === void 0 ? true : _c,\n      _d = options.immutableCheck,\n      immutableCheck = _d === void 0 ? true : _d,\n      _e = options.serializableCheck,\n      serializableCheck = _e === void 0 ? true : _e;\n  var middlewareArray = new MiddlewareArray();\n\n  if (thunk) {\n    if (isBoolean(thunk)) {\n      middlewareArray.push(thunkMiddleware);\n    } else {\n      middlewareArray.push(thunkMiddleware.withExtraArgument(thunk.extraArgument));\n    }\n  }\n\n  if (process.env.NODE_ENV !== \"production\") {\n    if (immutableCheck) {\n      var immutableOptions = {};\n\n      if (!isBoolean(immutableCheck)) {\n        immutableOptions = immutableCheck;\n      }\n\n      middlewareArray.unshift(createImmutableStateInvariantMiddleware(immutableOptions));\n    }\n\n    if (serializableCheck) {\n      var serializableOptions = {};\n\n      if (!isBoolean(serializableCheck)) {\n        serializableOptions = serializableCheck;\n      }\n\n      middlewareArray.push(createSerializableStateInvariantMiddleware(serializableOptions));\n    }\n  }\n\n  return middlewareArray;\n} // src/configureStore.ts\n\n\nvar IS_PRODUCTION = process.env.NODE_ENV === \"production\";\n\nfunction configureStore(options) {\n  var curriedGetDefaultMiddleware = curryGetDefaultMiddleware();\n\n  var _c = options || {},\n      _d = _c.reducer,\n      reducer = _d === void 0 ? void 0 : _d,\n      _e = _c.middleware,\n      middleware = _e === void 0 ? curriedGetDefaultMiddleware() : _e,\n      _f = _c.devTools,\n      devTools = _f === void 0 ? true : _f,\n      _g = _c.preloadedState,\n      preloadedState = _g === void 0 ? void 0 : _g,\n      _h = _c.enhancers,\n      enhancers = _h === void 0 ? void 0 : _h;\n\n  var rootReducer;\n\n  if (typeof reducer === \"function\") {\n    rootReducer = reducer;\n  } else if (isPlainObject(reducer)) {\n    rootReducer = combineReducers(reducer);\n  } else {\n    throw new Error('\"reducer\" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');\n  }\n\n  var finalMiddleware = middleware;\n\n  if (typeof finalMiddleware === \"function\") {\n    finalMiddleware = finalMiddleware(curriedGetDefaultMiddleware);\n\n    if (!IS_PRODUCTION && !Array.isArray(finalMiddleware)) {\n      throw new Error(\"when using a middleware builder function, an array of middleware must be returned\");\n    }\n  }\n\n  if (!IS_PRODUCTION && finalMiddleware.some(function (item) {\n    return typeof item !== \"function\";\n  })) {\n    throw new Error(\"each middleware provided to configureStore must be a function\");\n  }\n\n  var middlewareEnhancer = applyMiddleware.apply(void 0, finalMiddleware);\n  var finalCompose = compose2;\n\n  if (devTools) {\n    finalCompose = composeWithDevTools(__spreadValues({\n      trace: !IS_PRODUCTION\n    }, typeof devTools === \"object\" && devTools));\n  }\n\n  var storeEnhancers = [middlewareEnhancer];\n\n  if (Array.isArray(enhancers)) {\n    storeEnhancers = __spreadArray([middlewareEnhancer], enhancers);\n  } else if (typeof enhancers === \"function\") {\n    storeEnhancers = enhancers(storeEnhancers);\n  }\n\n  var composedEnhancer = finalCompose.apply(void 0, storeEnhancers);\n  return createStore(rootReducer, preloadedState, composedEnhancer);\n} // src/createAction.ts\n\n\nfunction createAction(type, prepareAction) {\n  function actionCreator() {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    if (prepareAction) {\n      var prepared = prepareAction.apply(void 0, args);\n\n      if (!prepared) {\n        throw new Error(\"prepareAction did not return an object\");\n      }\n\n      return __spreadValues(__spreadValues({\n        type: type,\n        payload: prepared.payload\n      }, \"meta\" in prepared && {\n        meta: prepared.meta\n      }), \"error\" in prepared && {\n        error: prepared.error\n      });\n    }\n\n    return {\n      type: type,\n      payload: args[0]\n    };\n  }\n\n  actionCreator.toString = function () {\n    return \"\" + type;\n  };\n\n  actionCreator.type = type;\n\n  actionCreator.match = function (action) {\n    return action.type === type;\n  };\n\n  return actionCreator;\n}\n\nfunction isFSA(action) {\n  return isPlainObject(action) && typeof action.type === \"string\" && Object.keys(action).every(isValidKey);\n}\n\nfunction isValidKey(key) {\n  return [\"type\", \"payload\", \"error\", \"meta\"].indexOf(key) > -1;\n}\n\nfunction getType(actionCreator) {\n  return \"\" + actionCreator;\n} // src/createReducer.ts\n\n\nimport createNextState, { isDraft as isDraft2, isDraftable } from \"immer\"; // src/mapBuilders.ts\n\nfunction executeReducerBuilderCallback(builderCallback) {\n  var actionsMap = {};\n  var actionMatchers = [];\n  var defaultCaseReducer;\n  var builder = {\n    addCase: function addCase(typeOrActionCreator, reducer) {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (actionMatchers.length > 0) {\n          throw new Error(\"`builder.addCase` should only be called before calling `builder.addMatcher`\");\n        }\n\n        if (defaultCaseReducer) {\n          throw new Error(\"`builder.addCase` should only be called before calling `builder.addDefaultCase`\");\n        }\n      }\n\n      var type = typeof typeOrActionCreator === \"string\" ? typeOrActionCreator : typeOrActionCreator.type;\n\n      if (type in actionsMap) {\n        throw new Error(\"addCase cannot be called with two reducers for the same action type\");\n      }\n\n      actionsMap[type] = reducer;\n      return builder;\n    },\n    addMatcher: function addMatcher(matcher, reducer) {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (defaultCaseReducer) {\n          throw new Error(\"`builder.addMatcher` should only be called before calling `builder.addDefaultCase`\");\n        }\n      }\n\n      actionMatchers.push({\n        matcher: matcher,\n        reducer: reducer\n      });\n      return builder;\n    },\n    addDefaultCase: function addDefaultCase(reducer) {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (defaultCaseReducer) {\n          throw new Error(\"`builder.addDefaultCase` can only be called once\");\n        }\n      }\n\n      defaultCaseReducer = reducer;\n      return builder;\n    }\n  };\n  builderCallback(builder);\n  return [actionsMap, actionMatchers, defaultCaseReducer];\n} // src/createReducer.ts\n\n\nfunction isStateFunction(x) {\n  return typeof x === \"function\";\n}\n\nfunction createReducer(initialState, mapOrBuilderCallback, actionMatchers, defaultCaseReducer) {\n  if (actionMatchers === void 0) {\n    actionMatchers = [];\n  }\n\n  var _c = typeof mapOrBuilderCallback === \"function\" ? executeReducerBuilderCallback(mapOrBuilderCallback) : [mapOrBuilderCallback, actionMatchers, defaultCaseReducer],\n      actionsMap = _c[0],\n      finalActionMatchers = _c[1],\n      finalDefaultCaseReducer = _c[2];\n\n  var getInitialState;\n\n  if (isStateFunction(initialState)) {\n    getInitialState = function getInitialState() {\n      return createNextState(initialState(), function () {});\n    };\n  } else {\n    var frozenInitialState_1 = createNextState(initialState, function () {});\n\n    getInitialState = function getInitialState() {\n      return frozenInitialState_1;\n    };\n  }\n\n  function reducer(state, action) {\n    if (state === void 0) {\n      state = getInitialState();\n    }\n\n    var caseReducers = __spreadArray([actionsMap[action.type]], finalActionMatchers.filter(function (_c) {\n      var matcher = _c.matcher;\n      return matcher(action);\n    }).map(function (_c) {\n      var reducer2 = _c.reducer;\n      return reducer2;\n    }));\n\n    if (caseReducers.filter(function (cr) {\n      return !!cr;\n    }).length === 0) {\n      caseReducers = [finalDefaultCaseReducer];\n    }\n\n    return caseReducers.reduce(function (previousState, caseReducer) {\n      if (caseReducer) {\n        if (isDraft2(previousState)) {\n          var draft = previousState;\n          var result = caseReducer(draft, action);\n\n          if (typeof result === \"undefined\") {\n            return previousState;\n          }\n\n          return result;\n        } else if (!isDraftable(previousState)) {\n          var result = caseReducer(previousState, action);\n\n          if (typeof result === \"undefined\") {\n            if (previousState === null) {\n              return previousState;\n            }\n\n            throw Error(\"A case reducer on a non-draftable value must not return undefined\");\n          }\n\n          return result;\n        } else {\n          return createNextState(previousState, function (draft) {\n            return caseReducer(draft, action);\n          });\n        }\n      }\n\n      return previousState;\n    }, state);\n  }\n\n  reducer.getInitialState = getInitialState;\n  return reducer;\n} // src/createSlice.ts\n\n\nfunction getType2(slice, actionKey) {\n  return slice + \"/\" + actionKey;\n}\n\nfunction createSlice(options) {\n  var name = options.name;\n\n  if (!name) {\n    throw new Error(\"`name` is a required option for createSlice\");\n  }\n\n  var initialState = typeof options.initialState == \"function\" ? options.initialState : default2(options.initialState, function () {});\n  var reducers = options.reducers || {};\n  var reducerNames = Object.keys(reducers);\n  var sliceCaseReducersByName = {};\n  var sliceCaseReducersByType = {};\n  var actionCreators = {};\n  reducerNames.forEach(function (reducerName) {\n    var maybeReducerWithPrepare = reducers[reducerName];\n    var type = getType2(name, reducerName);\n    var caseReducer;\n    var prepareCallback;\n\n    if (\"reducer\" in maybeReducerWithPrepare) {\n      caseReducer = maybeReducerWithPrepare.reducer;\n      prepareCallback = maybeReducerWithPrepare.prepare;\n    } else {\n      caseReducer = maybeReducerWithPrepare;\n    }\n\n    sliceCaseReducersByName[reducerName] = caseReducer;\n    sliceCaseReducersByType[type] = caseReducer;\n    actionCreators[reducerName] = prepareCallback ? createAction(type, prepareCallback) : createAction(type);\n  });\n\n  function buildReducer() {\n    var _c = typeof options.extraReducers === \"function\" ? executeReducerBuilderCallback(options.extraReducers) : [options.extraReducers],\n        _d = _c[0],\n        extraReducers = _d === void 0 ? {} : _d,\n        _e = _c[1],\n        actionMatchers = _e === void 0 ? [] : _e,\n        _f = _c[2],\n        defaultCaseReducer = _f === void 0 ? void 0 : _f;\n\n    var finalCaseReducers = __spreadValues(__spreadValues({}, extraReducers), sliceCaseReducersByType);\n\n    return createReducer(initialState, finalCaseReducers, actionMatchers, defaultCaseReducer);\n  }\n\n  var _reducer;\n\n  return {\n    name: name,\n    reducer: function reducer(state, action) {\n      if (!_reducer) _reducer = buildReducer();\n      return _reducer(state, action);\n    },\n    actions: actionCreators,\n    caseReducers: sliceCaseReducersByName,\n    getInitialState: function getInitialState() {\n      if (!_reducer) _reducer = buildReducer();\n      return _reducer.getInitialState();\n    }\n  };\n} // src/entities/entity_state.ts\n\n\nfunction getInitialEntityState() {\n  return {\n    ids: [],\n    entities: {}\n  };\n}\n\nfunction createInitialStateFactory() {\n  function getInitialState(additionalState) {\n    if (additionalState === void 0) {\n      additionalState = {};\n    }\n\n    return Object.assign(getInitialEntityState(), additionalState);\n  }\n\n  return {\n    getInitialState: getInitialState\n  };\n} // src/entities/state_selectors.ts\n\n\nfunction createSelectorsFactory() {\n  function getSelectors(selectState) {\n    var selectIds = function selectIds(state) {\n      return state.ids;\n    };\n\n    var selectEntities = function selectEntities(state) {\n      return state.entities;\n    };\n\n    var selectAll = createDraftSafeSelector(selectIds, selectEntities, function (ids, entities) {\n      return ids.map(function (id) {\n        return entities[id];\n      });\n    });\n\n    var selectId = function selectId(_, id) {\n      return id;\n    };\n\n    var selectById = function selectById(entities, id) {\n      return entities[id];\n    };\n\n    var selectTotal = createDraftSafeSelector(selectIds, function (ids) {\n      return ids.length;\n    });\n\n    if (!selectState) {\n      return {\n        selectIds: selectIds,\n        selectEntities: selectEntities,\n        selectAll: selectAll,\n        selectTotal: selectTotal,\n        selectById: createDraftSafeSelector(selectEntities, selectId, selectById)\n      };\n    }\n\n    var selectGlobalizedEntities = createDraftSafeSelector(selectState, selectEntities);\n    return {\n      selectIds: createDraftSafeSelector(selectState, selectIds),\n      selectEntities: selectGlobalizedEntities,\n      selectAll: createDraftSafeSelector(selectState, selectAll),\n      selectTotal: createDraftSafeSelector(selectState, selectTotal),\n      selectById: createDraftSafeSelector(selectGlobalizedEntities, selectId, selectById)\n    };\n  }\n\n  return {\n    getSelectors: getSelectors\n  };\n} // src/entities/state_adapter.ts\n\n\nimport createNextState2, { isDraft as isDraft3 } from \"immer\";\n\nfunction createSingleArgumentStateOperator(mutator) {\n  var operator = createStateOperator(function (_, state) {\n    return mutator(state);\n  });\n  return function operation(state) {\n    return operator(state, void 0);\n  };\n}\n\nfunction createStateOperator(mutator) {\n  return function operation(state, arg) {\n    function isPayloadActionArgument(arg2) {\n      return isFSA(arg2);\n    }\n\n    var runMutator = function runMutator(draft) {\n      if (isPayloadActionArgument(arg)) {\n        mutator(arg.payload, draft);\n      } else {\n        mutator(arg, draft);\n      }\n    };\n\n    if (isDraft3(state)) {\n      runMutator(state);\n      return state;\n    } else {\n      return createNextState2(state, runMutator);\n    }\n  };\n} // src/entities/utils.ts\n\n\nfunction selectIdValue(entity, selectId) {\n  var key = selectId(entity);\n\n  if (process.env.NODE_ENV !== \"production\" && key === void 0) {\n    console.warn(\"The entity passed to the `selectId` implementation returned undefined.\", \"You should probably provide your own `selectId` implementation.\", \"The entity that was passed:\", entity, \"The `selectId` implementation:\", selectId.toString());\n  }\n\n  return key;\n}\n\nfunction ensureEntitiesArray(entities) {\n  if (!Array.isArray(entities)) {\n    entities = Object.values(entities);\n  }\n\n  return entities;\n}\n\nfunction splitAddedUpdatedEntities(newEntities, selectId, state) {\n  newEntities = ensureEntitiesArray(newEntities);\n  var added = [];\n  var updated = [];\n\n  for (var _i = 0, newEntities_1 = newEntities; _i < newEntities_1.length; _i++) {\n    var entity = newEntities_1[_i];\n    var id = selectIdValue(entity, selectId);\n\n    if (id in state.entities) {\n      updated.push({\n        id: id,\n        changes: entity\n      });\n    } else {\n      added.push(entity);\n    }\n  }\n\n  return [added, updated];\n} // src/entities/unsorted_state_adapter.ts\n\n\nfunction createUnsortedStateAdapter(selectId) {\n  function addOneMutably(entity, state) {\n    var key = selectIdValue(entity, selectId);\n\n    if (key in state.entities) {\n      return;\n    }\n\n    state.ids.push(key);\n    state.entities[key] = entity;\n  }\n\n  function addManyMutably(newEntities, state) {\n    newEntities = ensureEntitiesArray(newEntities);\n\n    for (var _i = 0, newEntities_2 = newEntities; _i < newEntities_2.length; _i++) {\n      var entity = newEntities_2[_i];\n      addOneMutably(entity, state);\n    }\n  }\n\n  function setOneMutably(entity, state) {\n    var key = selectIdValue(entity, selectId);\n\n    if (!(key in state.entities)) {\n      state.ids.push(key);\n    }\n\n    state.entities[key] = entity;\n  }\n\n  function setManyMutably(newEntities, state) {\n    newEntities = ensureEntitiesArray(newEntities);\n\n    for (var _i = 0, newEntities_3 = newEntities; _i < newEntities_3.length; _i++) {\n      var entity = newEntities_3[_i];\n      setOneMutably(entity, state);\n    }\n  }\n\n  function setAllMutably(newEntities, state) {\n    newEntities = ensureEntitiesArray(newEntities);\n    state.ids = [];\n    state.entities = {};\n    addManyMutably(newEntities, state);\n  }\n\n  function removeOneMutably(key, state) {\n    return removeManyMutably([key], state);\n  }\n\n  function removeManyMutably(keys, state) {\n    var didMutate = false;\n    keys.forEach(function (key) {\n      if (key in state.entities) {\n        delete state.entities[key];\n        didMutate = true;\n      }\n    });\n\n    if (didMutate) {\n      state.ids = state.ids.filter(function (id) {\n        return id in state.entities;\n      });\n    }\n  }\n\n  function removeAllMutably(state) {\n    Object.assign(state, {\n      ids: [],\n      entities: {}\n    });\n  }\n\n  function takeNewKey(keys, update, state) {\n    var original2 = state.entities[update.id];\n    var updated = Object.assign({}, original2, update.changes);\n    var newKey = selectIdValue(updated, selectId);\n    var hasNewKey = newKey !== update.id;\n\n    if (hasNewKey) {\n      keys[update.id] = newKey;\n      delete state.entities[update.id];\n    }\n\n    state.entities[newKey] = updated;\n    return hasNewKey;\n  }\n\n  function updateOneMutably(update, state) {\n    return updateManyMutably([update], state);\n  }\n\n  function updateManyMutably(updates, state) {\n    var newKeys = {};\n    var updatesPerEntity = {};\n    updates.forEach(function (update) {\n      if (update.id in state.entities) {\n        updatesPerEntity[update.id] = {\n          id: update.id,\n          changes: __spreadValues(__spreadValues({}, updatesPerEntity[update.id] ? updatesPerEntity[update.id].changes : null), update.changes)\n        };\n      }\n    });\n    updates = Object.values(updatesPerEntity);\n    var didMutateEntities = updates.length > 0;\n\n    if (didMutateEntities) {\n      var didMutateIds = updates.filter(function (update) {\n        return takeNewKey(newKeys, update, state);\n      }).length > 0;\n\n      if (didMutateIds) {\n        state.ids = state.ids.map(function (id) {\n          return newKeys[id] || id;\n        });\n      }\n    }\n  }\n\n  function upsertOneMutably(entity, state) {\n    return upsertManyMutably([entity], state);\n  }\n\n  function upsertManyMutably(newEntities, state) {\n    var _c = splitAddedUpdatedEntities(newEntities, selectId, state),\n        added = _c[0],\n        updated = _c[1];\n\n    updateManyMutably(updated, state);\n    addManyMutably(added, state);\n  }\n\n  return {\n    removeAll: createSingleArgumentStateOperator(removeAllMutably),\n    addOne: createStateOperator(addOneMutably),\n    addMany: createStateOperator(addManyMutably),\n    setOne: createStateOperator(setOneMutably),\n    setMany: createStateOperator(setManyMutably),\n    setAll: createStateOperator(setAllMutably),\n    updateOne: createStateOperator(updateOneMutably),\n    updateMany: createStateOperator(updateManyMutably),\n    upsertOne: createStateOperator(upsertOneMutably),\n    upsertMany: createStateOperator(upsertManyMutably),\n    removeOne: createStateOperator(removeOneMutably),\n    removeMany: createStateOperator(removeManyMutably)\n  };\n} // src/entities/sorted_state_adapter.ts\n\n\nfunction createSortedStateAdapter(selectId, sort) {\n  var _c = createUnsortedStateAdapter(selectId),\n      removeOne = _c.removeOne,\n      removeMany = _c.removeMany,\n      removeAll = _c.removeAll;\n\n  function addOneMutably(entity, state) {\n    return addManyMutably([entity], state);\n  }\n\n  function addManyMutably(newEntities, state) {\n    newEntities = ensureEntitiesArray(newEntities);\n    var models = newEntities.filter(function (model) {\n      return !(selectIdValue(model, selectId) in state.entities);\n    });\n\n    if (models.length !== 0) {\n      merge(models, state);\n    }\n  }\n\n  function setOneMutably(entity, state) {\n    return setManyMutably([entity], state);\n  }\n\n  function setManyMutably(newEntities, state) {\n    newEntities = ensureEntitiesArray(newEntities);\n\n    if (newEntities.length !== 0) {\n      merge(newEntities, state);\n    }\n  }\n\n  function setAllMutably(newEntities, state) {\n    newEntities = ensureEntitiesArray(newEntities);\n    state.entities = {};\n    state.ids = [];\n    addManyMutably(newEntities, state);\n  }\n\n  function updateOneMutably(update, state) {\n    return updateManyMutably([update], state);\n  }\n\n  function takeUpdatedModel(models, update, state) {\n    if (!(update.id in state.entities)) {\n      return false;\n    }\n\n    var original2 = state.entities[update.id];\n    var updated = Object.assign({}, original2, update.changes);\n    var newKey = selectIdValue(updated, selectId);\n    delete state.entities[update.id];\n    models.push(updated);\n    return newKey !== update.id;\n  }\n\n  function updateManyMutably(updates, state) {\n    var models = [];\n    updates.forEach(function (update) {\n      return takeUpdatedModel(models, update, state);\n    });\n\n    if (models.length !== 0) {\n      merge(models, state);\n    }\n  }\n\n  function upsertOneMutably(entity, state) {\n    return upsertManyMutably([entity], state);\n  }\n\n  function upsertManyMutably(newEntities, state) {\n    var _c = splitAddedUpdatedEntities(newEntities, selectId, state),\n        added = _c[0],\n        updated = _c[1];\n\n    updateManyMutably(updated, state);\n    addManyMutably(added, state);\n  }\n\n  function areArraysEqual(a, b) {\n    if (a.length !== b.length) {\n      return false;\n    }\n\n    for (var i = 0; i < a.length && i < b.length; i++) {\n      if (a[i] === b[i]) {\n        continue;\n      }\n\n      return false;\n    }\n\n    return true;\n  }\n\n  function merge(models, state) {\n    models.forEach(function (model) {\n      state.entities[selectId(model)] = model;\n    });\n    var allEntities = Object.values(state.entities);\n    allEntities.sort(sort);\n    var newSortedIds = allEntities.map(selectId);\n    var ids = state.ids;\n\n    if (!areArraysEqual(ids, newSortedIds)) {\n      state.ids = newSortedIds;\n    }\n  }\n\n  return {\n    removeOne: removeOne,\n    removeMany: removeMany,\n    removeAll: removeAll,\n    addOne: createStateOperator(addOneMutably),\n    updateOne: createStateOperator(updateOneMutably),\n    upsertOne: createStateOperator(upsertOneMutably),\n    setOne: createStateOperator(setOneMutably),\n    setMany: createStateOperator(setManyMutably),\n    setAll: createStateOperator(setAllMutably),\n    addMany: createStateOperator(addManyMutably),\n    updateMany: createStateOperator(updateManyMutably),\n    upsertMany: createStateOperator(upsertManyMutably)\n  };\n} // src/entities/create_adapter.ts\n\n\nfunction createEntityAdapter(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _c = __spreadValues({\n    sortComparer: false,\n    selectId: function selectId(instance) {\n      return instance.id;\n    }\n  }, options),\n      selectId = _c.selectId,\n      sortComparer = _c.sortComparer;\n\n  var stateFactory = createInitialStateFactory();\n  var selectorsFactory = createSelectorsFactory();\n  var stateAdapter = sortComparer ? createSortedStateAdapter(selectId, sortComparer) : createUnsortedStateAdapter(selectId);\n  return __spreadValues(__spreadValues(__spreadValues({\n    selectId: selectId,\n    sortComparer: sortComparer\n  }, stateFactory), selectorsFactory), stateAdapter);\n} // src/nanoid.ts\n\n\nvar urlAlphabet = \"ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW\";\n\nvar nanoid = function nanoid(size) {\n  if (size === void 0) {\n    size = 21;\n  }\n\n  var id = \"\";\n  var i = size;\n\n  while (i--) {\n    id += urlAlphabet[Math.random() * 64 | 0];\n  }\n\n  return id;\n}; // src/createAsyncThunk.ts\n\n\nvar commonProperties = [\"name\", \"message\", \"stack\", \"code\"];\n\nvar RejectWithValue =\n/** @class */\nfunction () {\n  function RejectWithValue(payload, meta) {\n    this.payload = payload;\n    this.meta = meta;\n  }\n\n  return RejectWithValue;\n}();\n\nvar FulfillWithMeta =\n/** @class */\nfunction () {\n  function FulfillWithMeta(payload, meta) {\n    this.payload = payload;\n    this.meta = meta;\n  }\n\n  return FulfillWithMeta;\n}();\n\nvar miniSerializeError = function miniSerializeError(value) {\n  if (typeof value === \"object\" && value !== null) {\n    var simpleError = {};\n\n    for (var _i = 0, commonProperties_1 = commonProperties; _i < commonProperties_1.length; _i++) {\n      var property = commonProperties_1[_i];\n\n      if (typeof value[property] === \"string\") {\n        simpleError[property] = value[property];\n      }\n    }\n\n    return simpleError;\n  }\n\n  return {\n    message: String(value)\n  };\n};\n\nfunction createAsyncThunk(typePrefix, payloadCreator, options) {\n  var fulfilled = createAction(typePrefix + \"/fulfilled\", function (payload, requestId, arg, meta) {\n    return {\n      payload: payload,\n      meta: __spreadProps(__spreadValues({}, meta || {}), {\n        arg: arg,\n        requestId: requestId,\n        requestStatus: \"fulfilled\"\n      })\n    };\n  });\n  var pending = createAction(typePrefix + \"/pending\", function (requestId, arg, meta) {\n    return {\n      payload: void 0,\n      meta: __spreadProps(__spreadValues({}, meta || {}), {\n        arg: arg,\n        requestId: requestId,\n        requestStatus: \"pending\"\n      })\n    };\n  });\n  var rejected = createAction(typePrefix + \"/rejected\", function (error, requestId, arg, payload, meta) {\n    return {\n      payload: payload,\n      error: (options && options.serializeError || miniSerializeError)(error || \"Rejected\"),\n      meta: __spreadProps(__spreadValues({}, meta || {}), {\n        arg: arg,\n        requestId: requestId,\n        rejectedWithValue: !!payload,\n        requestStatus: \"rejected\",\n        aborted: (error == null ? void 0 : error.name) === \"AbortError\",\n        condition: (error == null ? void 0 : error.name) === \"ConditionError\"\n      })\n    };\n  });\n  var displayedWarning = false;\n  var AC = typeof AbortController !== \"undefined\" ? AbortController :\n  /** @class */\n  function () {\n    function class_1() {\n      this.signal = {\n        aborted: false,\n        addEventListener: function addEventListener() {},\n        dispatchEvent: function dispatchEvent() {\n          return false;\n        },\n        onabort: function onabort() {},\n        removeEventListener: function removeEventListener() {}\n      };\n    }\n\n    class_1.prototype.abort = function () {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (!displayedWarning) {\n          displayedWarning = true;\n          console.info(\"This platform does not implement AbortController. \\nIf you want to use the AbortController to react to `abort` events, please consider importing a polyfill like 'abortcontroller-polyfill/dist/abortcontroller-polyfill-only'.\");\n        }\n      }\n    };\n\n    return class_1;\n  }();\n\n  function actionCreator(arg) {\n    return function (dispatch, getState, extra) {\n      var requestId = (options == null ? void 0 : options.idGenerator) ? options.idGenerator(arg) : nanoid();\n      var abortController = new AC();\n      var abortReason;\n      var abortedPromise = new Promise(function (_, reject) {\n        return abortController.signal.addEventListener(\"abort\", function () {\n          return reject({\n            name: \"AbortError\",\n            message: abortReason || \"Aborted\"\n          });\n        });\n      });\n      var started = false;\n\n      function abort(reason) {\n        if (started) {\n          abortReason = reason;\n          abortController.abort();\n        }\n      }\n\n      var promise = function () {\n        return __async(this, null, function () {\n          var _a, _b, finalAction, conditionResult, err_1, skipDispatch;\n\n          return __generator(this, function (_c) {\n            switch (_c.label) {\n              case 0:\n                _c.trys.push([0, 4,, 5]);\n\n                conditionResult = (_a = options == null ? void 0 : options.condition) == null ? void 0 : _a.call(options, arg, {\n                  getState: getState,\n                  extra: extra\n                });\n                if (!isThenable(conditionResult)) return [3\n                /*break*/\n                , 2];\n                return [4\n                /*yield*/\n                , conditionResult];\n\n              case 1:\n                conditionResult = _c.sent();\n                _c.label = 2;\n\n              case 2:\n                if (conditionResult === false) {\n                  throw {\n                    name: \"ConditionError\",\n                    message: \"Aborted due to condition callback returning false.\"\n                  };\n                }\n\n                started = true;\n                dispatch(pending(requestId, arg, (_b = options == null ? void 0 : options.getPendingMeta) == null ? void 0 : _b.call(options, {\n                  requestId: requestId,\n                  arg: arg\n                }, {\n                  getState: getState,\n                  extra: extra\n                })));\n                return [4\n                /*yield*/\n                , Promise.race([abortedPromise, Promise.resolve(payloadCreator(arg, {\n                  dispatch: dispatch,\n                  getState: getState,\n                  extra: extra,\n                  requestId: requestId,\n                  signal: abortController.signal,\n                  rejectWithValue: function rejectWithValue(value, meta) {\n                    return new RejectWithValue(value, meta);\n                  },\n                  fulfillWithValue: function fulfillWithValue(value, meta) {\n                    return new FulfillWithMeta(value, meta);\n                  }\n                })).then(function (result) {\n                  if (result instanceof RejectWithValue) {\n                    throw result;\n                  }\n\n                  if (result instanceof FulfillWithMeta) {\n                    return fulfilled(result.payload, requestId, arg, result.meta);\n                  }\n\n                  return fulfilled(result, requestId, arg);\n                })])];\n\n              case 3:\n                finalAction = _c.sent();\n                return [3\n                /*break*/\n                , 5];\n\n              case 4:\n                err_1 = _c.sent();\n                finalAction = err_1 instanceof RejectWithValue ? rejected(null, requestId, arg, err_1.payload, err_1.meta) : rejected(err_1, requestId, arg);\n                return [3\n                /*break*/\n                , 5];\n\n              case 5:\n                skipDispatch = options && !options.dispatchConditionRejection && rejected.match(finalAction) && finalAction.meta.condition;\n\n                if (!skipDispatch) {\n                  dispatch(finalAction);\n                }\n\n                return [2\n                /*return*/\n                , finalAction];\n            }\n          });\n        });\n      }();\n\n      return Object.assign(promise, {\n        abort: abort,\n        requestId: requestId,\n        arg: arg,\n        unwrap: function unwrap() {\n          return promise.then(unwrapResult);\n        }\n      });\n    };\n  }\n\n  return Object.assign(actionCreator, {\n    pending: pending,\n    rejected: rejected,\n    fulfilled: fulfilled,\n    typePrefix: typePrefix\n  });\n}\n\nfunction unwrapResult(action) {\n  if (action.meta && action.meta.rejectedWithValue) {\n    throw action.payload;\n  }\n\n  if (action.error) {\n    throw action.error;\n  }\n\n  return action.payload;\n}\n\nfunction isThenable(value) {\n  return value !== null && typeof value === \"object\" && typeof value.then === \"function\";\n} // src/tsHelpers.ts\n\n\nvar hasMatchFunction = function hasMatchFunction(v) {\n  return v && typeof v.match === \"function\";\n}; // src/matchers.ts\n\n\nvar matches = function matches(matcher, action) {\n  if (hasMatchFunction(matcher)) {\n    return matcher.match(action);\n  } else {\n    return matcher(action);\n  }\n};\n\nfunction isAnyOf() {\n  var matchers = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    matchers[_i] = arguments[_i];\n  }\n\n  return function (action) {\n    return matchers.some(function (matcher) {\n      return matches(matcher, action);\n    });\n  };\n}\n\nfunction isAllOf() {\n  var matchers = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    matchers[_i] = arguments[_i];\n  }\n\n  return function (action) {\n    return matchers.every(function (matcher) {\n      return matches(matcher, action);\n    });\n  };\n}\n\nfunction hasExpectedRequestMetadata(action, validStatus) {\n  if (!action || !action.meta) return false;\n  var hasValidRequestId = typeof action.meta.requestId === \"string\";\n  var hasValidRequestStatus = validStatus.indexOf(action.meta.requestStatus) > -1;\n  return hasValidRequestId && hasValidRequestStatus;\n}\n\nfunction isAsyncThunkArray(a) {\n  return typeof a[0] === \"function\" && \"pending\" in a[0] && \"fulfilled\" in a[0] && \"rejected\" in a[0];\n}\n\nfunction isPending() {\n  var asyncThunks = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    asyncThunks[_i] = arguments[_i];\n  }\n\n  if (asyncThunks.length === 0) {\n    return function (action) {\n      return hasExpectedRequestMetadata(action, [\"pending\"]);\n    };\n  }\n\n  if (!isAsyncThunkArray(asyncThunks)) {\n    return isPending()(asyncThunks[0]);\n  }\n\n  return function (action) {\n    var matchers = asyncThunks.map(function (asyncThunk) {\n      return asyncThunk.pending;\n    });\n    var combinedMatcher = isAnyOf.apply(void 0, matchers);\n    return combinedMatcher(action);\n  };\n}\n\nfunction isRejected() {\n  var asyncThunks = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    asyncThunks[_i] = arguments[_i];\n  }\n\n  if (asyncThunks.length === 0) {\n    return function (action) {\n      return hasExpectedRequestMetadata(action, [\"rejected\"]);\n    };\n  }\n\n  if (!isAsyncThunkArray(asyncThunks)) {\n    return isRejected()(asyncThunks[0]);\n  }\n\n  return function (action) {\n    var matchers = asyncThunks.map(function (asyncThunk) {\n      return asyncThunk.rejected;\n    });\n    var combinedMatcher = isAnyOf.apply(void 0, matchers);\n    return combinedMatcher(action);\n  };\n}\n\nfunction isRejectedWithValue() {\n  var asyncThunks = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    asyncThunks[_i] = arguments[_i];\n  }\n\n  var hasFlag = function hasFlag(action) {\n    return action && action.meta && action.meta.rejectedWithValue;\n  };\n\n  if (asyncThunks.length === 0) {\n    return function (action) {\n      var combinedMatcher = isAllOf(isRejected.apply(void 0, asyncThunks), hasFlag);\n      return combinedMatcher(action);\n    };\n  }\n\n  if (!isAsyncThunkArray(asyncThunks)) {\n    return isRejectedWithValue()(asyncThunks[0]);\n  }\n\n  return function (action) {\n    var combinedMatcher = isAllOf(isRejected.apply(void 0, asyncThunks), hasFlag);\n    return combinedMatcher(action);\n  };\n}\n\nfunction isFulfilled() {\n  var asyncThunks = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    asyncThunks[_i] = arguments[_i];\n  }\n\n  if (asyncThunks.length === 0) {\n    return function (action) {\n      return hasExpectedRequestMetadata(action, [\"fulfilled\"]);\n    };\n  }\n\n  if (!isAsyncThunkArray(asyncThunks)) {\n    return isFulfilled()(asyncThunks[0]);\n  }\n\n  return function (action) {\n    var matchers = asyncThunks.map(function (asyncThunk) {\n      return asyncThunk.fulfilled;\n    });\n    var combinedMatcher = isAnyOf.apply(void 0, matchers);\n    return combinedMatcher(action);\n  };\n}\n\nfunction isAsyncThunkAction() {\n  var asyncThunks = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    asyncThunks[_i] = arguments[_i];\n  }\n\n  if (asyncThunks.length === 0) {\n    return function (action) {\n      return hasExpectedRequestMetadata(action, [\"pending\", \"fulfilled\", \"rejected\"]);\n    };\n  }\n\n  if (!isAsyncThunkArray(asyncThunks)) {\n    return isAsyncThunkAction()(asyncThunks[0]);\n  }\n\n  return function (action) {\n    var matchers = [];\n\n    for (var _i = 0, asyncThunks_1 = asyncThunks; _i < asyncThunks_1.length; _i++) {\n      var asyncThunk = asyncThunks_1[_i];\n      matchers.push(asyncThunk.pending, asyncThunk.rejected, asyncThunk.fulfilled);\n    }\n\n    var combinedMatcher = isAnyOf.apply(void 0, matchers);\n    return combinedMatcher(action);\n  };\n} // src/listenerMiddleware/utils.ts\n\n\nvar assertFunction = function assertFunction(func, expected) {\n  if (typeof func !== \"function\") {\n    throw new TypeError(expected + \" is not a function\");\n  }\n};\n\nvar noop = function noop() {};\n\nvar catchRejection = function catchRejection(promise, onError) {\n  if (onError === void 0) {\n    onError = noop;\n  }\n\n  promise.catch(onError);\n  return promise;\n};\n\nvar addAbortSignalListener = function addAbortSignalListener(abortSignal, callback) {\n  abortSignal.addEventListener(\"abort\", callback, {\n    once: true\n  });\n};\n\nvar abortControllerWithReason = function abortControllerWithReason(abortController, reason) {\n  var signal = abortController.signal;\n\n  if (signal.aborted) {\n    return;\n  }\n\n  if (!(\"reason\" in signal)) {\n    Object.defineProperty(signal, \"reason\", {\n      enumerable: true,\n      value: reason,\n      configurable: true,\n      writable: true\n    });\n  }\n\n  ;\n  abortController.abort(reason);\n}; // src/listenerMiddleware/exceptions.ts\n\n\nvar task = \"task\";\nvar listener = \"listener\";\nvar completed = \"completed\";\nvar cancelled = \"cancelled\";\nvar taskCancelled = \"task-\" + cancelled;\nvar taskCompleted = \"task-\" + completed;\nvar listenerCancelled = listener + \"-\" + cancelled;\nvar listenerCompleted = listener + \"-\" + completed;\n\nvar TaskAbortError =\n/** @class */\nfunction () {\n  function TaskAbortError(code) {\n    this.code = code;\n    this.name = \"TaskAbortError\";\n    this.message = task + \" \" + cancelled + \" (reason: \" + code + \")\";\n  }\n\n  return TaskAbortError;\n}(); // src/listenerMiddleware/task.ts\n\n\nvar validateActive = function validateActive(signal) {\n  if (signal.aborted) {\n    throw new TaskAbortError(signal.reason);\n  }\n};\n\nvar promisifyAbortSignal = function promisifyAbortSignal(signal) {\n  return catchRejection(new Promise(function (_, reject) {\n    var notifyRejection = function notifyRejection() {\n      return reject(new TaskAbortError(signal.reason));\n    };\n\n    if (signal.aborted) {\n      notifyRejection();\n    } else {\n      addAbortSignalListener(signal, notifyRejection);\n    }\n  }));\n};\n\nvar runTask = function runTask(task2, cleanUp) {\n  return __async(void 0, null, function () {\n    var value, error_1;\n    return __generator(this, function (_c) {\n      switch (_c.label) {\n        case 0:\n          _c.trys.push([0, 3, 4, 5]);\n\n          return [4\n          /*yield*/\n          , Promise.resolve()];\n\n        case 1:\n          _c.sent();\n\n          return [4\n          /*yield*/\n          , task2()];\n\n        case 2:\n          value = _c.sent();\n          return [2\n          /*return*/\n          , {\n            status: \"ok\",\n            value: value\n          }];\n\n        case 3:\n          error_1 = _c.sent();\n          return [2\n          /*return*/\n          , {\n            status: error_1 instanceof TaskAbortError ? \"cancelled\" : \"rejected\",\n            error: error_1\n          }];\n\n        case 4:\n          cleanUp == null ? void 0 : cleanUp();\n          return [7\n          /*endfinally*/\n          ];\n\n        case 5:\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  });\n};\n\nvar createPause = function createPause(signal) {\n  return function (promise) {\n    return catchRejection(Promise.race([promisifyAbortSignal(signal), promise]).then(function (output) {\n      validateActive(signal);\n      return output;\n    }));\n  };\n};\n\nvar createDelay = function createDelay(signal) {\n  var pause = createPause(signal);\n  return function (timeoutMs) {\n    return pause(new Promise(function (resolve) {\n      return setTimeout(resolve, timeoutMs);\n    }));\n  };\n}; // src/listenerMiddleware/index.ts\n\n\nvar assign = Object.assign;\nvar INTERNAL_NIL_TOKEN = {};\nvar alm = \"listenerMiddleware\";\n\nvar createFork = function createFork(parentAbortSignal) {\n  var linkControllers = function linkControllers(controller) {\n    return addAbortSignalListener(parentAbortSignal, function () {\n      return abortControllerWithReason(controller, parentAbortSignal.reason);\n    });\n  };\n\n  return function (taskExecutor) {\n    assertFunction(taskExecutor, \"taskExecutor\");\n    var childAbortController = new AbortController();\n    linkControllers(childAbortController);\n    var result = runTask(function () {\n      return __async(void 0, null, function () {\n        var result2;\n        return __generator(this, function (_c) {\n          switch (_c.label) {\n            case 0:\n              validateActive(parentAbortSignal);\n              validateActive(childAbortController.signal);\n              return [4\n              /*yield*/\n              , taskExecutor({\n                pause: createPause(childAbortController.signal),\n                delay: createDelay(childAbortController.signal),\n                signal: childAbortController.signal\n              })];\n\n            case 1:\n              result2 = _c.sent();\n              validateActive(childAbortController.signal);\n              return [2\n              /*return*/\n              , result2];\n          }\n        });\n      });\n    }, function () {\n      return abortControllerWithReason(childAbortController, taskCompleted);\n    });\n    return {\n      result: createPause(parentAbortSignal)(result),\n      cancel: function cancel() {\n        abortControllerWithReason(childAbortController, taskCancelled);\n      }\n    };\n  };\n};\n\nvar createTakePattern = function createTakePattern(startListening, signal) {\n  var take = function take(predicate, timeout) {\n    return __async(void 0, null, function () {\n      var unsubscribe, tuplePromise, promises, output;\n      return __generator(this, function (_c) {\n        switch (_c.label) {\n          case 0:\n            validateActive(signal);\n\n            unsubscribe = function unsubscribe() {};\n\n            tuplePromise = new Promise(function (resolve) {\n              unsubscribe = startListening({\n                predicate: predicate,\n                effect: function effect(action, listenerApi) {\n                  listenerApi.unsubscribe();\n                  resolve([action, listenerApi.getState(), listenerApi.getOriginalState()]);\n                }\n              });\n            });\n            promises = [promisifyAbortSignal(signal), tuplePromise];\n\n            if (timeout != null) {\n              promises.push(new Promise(function (resolve) {\n                return setTimeout(resolve, timeout, null);\n              }));\n            }\n\n            _c.label = 1;\n\n          case 1:\n            _c.trys.push([1,, 3, 4]);\n\n            return [4\n            /*yield*/\n            , Promise.race(promises)];\n\n          case 2:\n            output = _c.sent();\n            validateActive(signal);\n            return [2\n            /*return*/\n            , output];\n\n          case 3:\n            unsubscribe();\n            return [7\n            /*endfinally*/\n            ];\n\n          case 4:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  return function (predicate, timeout) {\n    return catchRejection(take(predicate, timeout));\n  };\n};\n\nvar getListenerEntryPropsFrom = function getListenerEntryPropsFrom(options) {\n  var type = options.type,\n      actionCreator = options.actionCreator,\n      matcher = options.matcher,\n      predicate = options.predicate,\n      effect = options.effect;\n\n  if (type) {\n    predicate = createAction(type).match;\n  } else if (actionCreator) {\n    type = actionCreator.type;\n    predicate = actionCreator.match;\n  } else if (matcher) {\n    predicate = matcher;\n  } else if (predicate) {} else {\n    throw new Error(\"Creating or removing a listener requires one of the known fields for matching an action\");\n  }\n\n  assertFunction(effect, \"options.listener\");\n  return {\n    predicate: predicate,\n    type: type,\n    effect: effect\n  };\n};\n\nvar createListenerEntry = function createListenerEntry(options) {\n  var _c = getListenerEntryPropsFrom(options),\n      type = _c.type,\n      predicate = _c.predicate,\n      effect = _c.effect;\n\n  var id = nanoid();\n  var entry = {\n    id: id,\n    effect: effect,\n    type: type,\n    predicate: predicate,\n    pending: new Set(),\n    unsubscribe: function unsubscribe() {\n      throw new Error(\"Unsubscribe not initialized\");\n    }\n  };\n  return entry;\n};\n\nvar createClearListenerMiddleware = function createClearListenerMiddleware(listenerMap) {\n  return function () {\n    listenerMap.forEach(cancelActiveListeners);\n    listenerMap.clear();\n  };\n};\n\nvar safelyNotifyError = function safelyNotifyError(errorHandler, errorToNotify, errorInfo) {\n  try {\n    errorHandler(errorToNotify, errorInfo);\n  } catch (errorHandlerError) {\n    setTimeout(function () {\n      throw errorHandlerError;\n    }, 0);\n  }\n};\n\nvar addListener = createAction(alm + \"/add\");\nvar clearAllListeners = createAction(alm + \"/removeAll\");\nvar removeListener = createAction(alm + \"/remove\");\n\nvar defaultErrorHandler = function defaultErrorHandler() {\n  var args = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    args[_i] = arguments[_i];\n  }\n\n  console.error.apply(console, __spreadArray([alm + \"/error\"], args));\n};\n\nvar cancelActiveListeners = function cancelActiveListeners(entry) {\n  entry.pending.forEach(function (controller) {\n    abortControllerWithReason(controller, listenerCancelled);\n  });\n};\n\nfunction createListenerMiddleware(middlewareOptions) {\n  var _this = this;\n\n  if (middlewareOptions === void 0) {\n    middlewareOptions = {};\n  }\n\n  var listenerMap = new Map();\n  var extra = middlewareOptions.extra,\n      _c = middlewareOptions.onError,\n      onError = _c === void 0 ? defaultErrorHandler : _c;\n  assertFunction(onError, \"onError\");\n\n  var insertEntry = function insertEntry(entry) {\n    entry.unsubscribe = function () {\n      return listenerMap.delete(entry.id);\n    };\n\n    listenerMap.set(entry.id, entry);\n    return function (cancelOptions) {\n      entry.unsubscribe();\n\n      if (cancelOptions == null ? void 0 : cancelOptions.cancelActive) {\n        cancelActiveListeners(entry);\n      }\n    };\n  };\n\n  var findListenerEntry = function findListenerEntry(comparator) {\n    for (var _i = 0, _c = listenerMap.values(); _i < _c.length; _i++) {\n      var entry = _c[_i];\n\n      if (comparator(entry)) {\n        return entry;\n      }\n    }\n\n    return void 0;\n  };\n\n  var startListening = function startListening(options) {\n    var entry = findListenerEntry(function (existingEntry) {\n      return existingEntry.effect === options.effect;\n    });\n\n    if (!entry) {\n      entry = createListenerEntry(options);\n    }\n\n    return insertEntry(entry);\n  };\n\n  var stopListening = function stopListening(options) {\n    var _c = getListenerEntryPropsFrom(options),\n        type = _c.type,\n        effect = _c.effect,\n        predicate = _c.predicate;\n\n    var entry = findListenerEntry(function (entry2) {\n      var matchPredicateOrType = typeof type === \"string\" ? entry2.type === type : entry2.predicate === predicate;\n      return matchPredicateOrType && entry2.effect === effect;\n    });\n\n    if (entry) {\n      entry.unsubscribe();\n\n      if (options.cancelActive) {\n        cancelActiveListeners(entry);\n      }\n    }\n\n    return !!entry;\n  };\n\n  var notifyListener = function notifyListener(entry, action, api, getOriginalState) {\n    return __async(_this, null, function () {\n      var internalTaskController, take, listenerError_1;\n      return __generator(this, function (_c) {\n        switch (_c.label) {\n          case 0:\n            internalTaskController = new AbortController();\n            take = createTakePattern(startListening, internalTaskController.signal);\n            _c.label = 1;\n\n          case 1:\n            _c.trys.push([1, 3, 4, 5]);\n\n            entry.pending.add(internalTaskController);\n            return [4\n            /*yield*/\n            , Promise.resolve(entry.effect(action, assign({}, api, {\n              getOriginalState: getOriginalState,\n              condition: function condition(predicate, timeout) {\n                return take(predicate, timeout).then(Boolean);\n              },\n              take: take,\n              delay: createDelay(internalTaskController.signal),\n              pause: createPause(internalTaskController.signal),\n              extra: extra,\n              signal: internalTaskController.signal,\n              fork: createFork(internalTaskController.signal),\n              unsubscribe: entry.unsubscribe,\n              subscribe: function subscribe() {\n                listenerMap.set(entry.id, entry);\n              },\n              cancelActiveListeners: function cancelActiveListeners() {\n                entry.pending.forEach(function (controller, _, set) {\n                  if (controller !== internalTaskController) {\n                    abortControllerWithReason(controller, listenerCancelled);\n                    set.delete(controller);\n                  }\n                });\n              }\n            })))];\n\n          case 2:\n            _c.sent();\n\n            return [3\n            /*break*/\n            , 5];\n\n          case 3:\n            listenerError_1 = _c.sent();\n\n            if (!(listenerError_1 instanceof TaskAbortError)) {\n              safelyNotifyError(onError, listenerError_1, {\n                raisedBy: \"effect\"\n              });\n            }\n\n            return [3\n            /*break*/\n            , 5];\n\n          case 4:\n            abortControllerWithReason(internalTaskController, listenerCompleted);\n            entry.pending.delete(internalTaskController);\n            return [7\n            /*endfinally*/\n            ];\n\n          case 5:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  var clearListenerMiddleware = createClearListenerMiddleware(listenerMap);\n\n  var middleware = function middleware(api) {\n    return function (next) {\n      return function (action) {\n        if (addListener.match(action)) {\n          return startListening(action.payload);\n        }\n\n        if (clearAllListeners.match(action)) {\n          clearListenerMiddleware();\n          return;\n        }\n\n        if (removeListener.match(action)) {\n          return stopListening(action.payload);\n        }\n\n        var originalState = api.getState();\n\n        var getOriginalState = function getOriginalState() {\n          if (originalState === INTERNAL_NIL_TOKEN) {\n            throw new Error(alm + \": getOriginalState can only be called synchronously\");\n          }\n\n          return originalState;\n        };\n\n        var result;\n\n        try {\n          result = next(action);\n\n          if (listenerMap.size > 0) {\n            var currentState = api.getState();\n            var listenerEntries = Array.from(listenerMap.values());\n\n            for (var _i = 0, listenerEntries_1 = listenerEntries; _i < listenerEntries_1.length; _i++) {\n              var entry = listenerEntries_1[_i];\n              var runListener = false;\n\n              try {\n                runListener = entry.predicate(action, currentState, originalState);\n              } catch (predicateError) {\n                runListener = false;\n                safelyNotifyError(onError, predicateError, {\n                  raisedBy: \"predicate\"\n                });\n              }\n\n              if (!runListener) {\n                continue;\n              }\n\n              notifyListener(entry, action, api, getOriginalState);\n            }\n          }\n        } finally {\n          originalState = INTERNAL_NIL_TOKEN;\n        }\n\n        return result;\n      };\n    };\n  };\n\n  return {\n    middleware: middleware,\n    startListening: startListening,\n    stopListening: stopListening,\n    clearListeners: clearListenerMiddleware\n  };\n} // src/index.ts\n\n\nenableES5();\nexport { MiddlewareArray, TaskAbortError, addListener, clearAllListeners, configureStore, createAction, createAsyncThunk, createDraftSafeSelector, createEntityAdapter, createImmutableStateInvariantMiddleware, createListenerMiddleware, default2 as createNextState, createReducer, createSelector2 as createSelector, createSerializableStateInvariantMiddleware, createSlice, current2 as current, findNonSerializableValue, freeze, getDefaultMiddleware, getType, isAllOf, isAnyOf, isAsyncThunkAction, isDraft4 as isDraft, isFulfilled, isImmutableDefault, isPending, isPlain, isPlainObject, isRejected, isRejectedWithValue, miniSerializeError, nanoid, original, removeListener, unwrapResult };","import { PayloadAction, createSlice } from '@reduxjs/toolkit';\r\n\r\nimport { OverlayContentKey } from '../types/overlayContent';\r\nimport { StateSelector } from '../types/redux';\r\nimport { UnlockedFeatures } from '../types/savedData';\r\n\r\ntype OverlayState = {\r\n  open: boolean;\r\n  contentKey: OverlayContentKey | null;\r\n  pausedScene: string | null;\r\n  unlockedFeatures: UnlockedFeatures;\r\n};\r\n\r\nconst initialState: OverlayState = {\r\n  open: false,\r\n  contentKey: null,\r\n  pausedScene: null,\r\n  unlockedFeatures: {\r\n    inventory: false,\r\n    questLog: false,\r\n    talentTree: false,\r\n  },\r\n};\r\n\r\nexport const overlaySlice = createSlice({\r\n  name: 'overlay',\r\n  initialState,\r\n  reducers: {\r\n    overlayOpened: (\r\n      state,\r\n      {\r\n        payload: { contentKey, pausedScene },\r\n      }: PayloadAction<{ contentKey: OverlayContentKey; pausedScene: string }>,\r\n    ) => ({\r\n      ...state,\r\n      contentKey,\r\n      open: true,\r\n      pausedScene,\r\n    }),\r\n    overlayClosed: state => ({\r\n      ...state,\r\n      open: initialState.open,\r\n      contentKey: initialState.contentKey,\r\n      pausedScene: initialState.pausedScene,\r\n    }),\r\n    updateUnlockedFeatures: (\r\n      state,\r\n      action: PayloadAction<UnlockedFeatures>,\r\n    ) => ({\r\n      ...state,\r\n      unlockedFeatures: action.payload,\r\n    }),\r\n  },\r\n});\r\n\r\nconst { actions, reducer } = overlaySlice;\r\n\r\nexport const overlayActions = actions;\r\nexport const overlayReducer = reducer;\r\n\r\nconst selectOverlayState: StateSelector<OverlayState> = state => state.overlay;\r\n\r\nconst selectOverlayOpen: StateSelector<OverlayState['open']> = state =>\r\n  selectOverlayState(state).open;\r\n\r\nconst selectOverlayContentKey: StateSelector<OverlayState['contentKey']> = state =>\r\n  selectOverlayState(state).contentKey;\r\n\r\nconst selectPausedScene: StateSelector<OverlayState['pausedScene']> = state =>\r\n  selectOverlayState(state).pausedScene;\r\n\r\nconst selectUnlockedFeatures: StateSelector<OverlayState['unlockedFeatures']> = state =>\r\n  selectOverlayState(state).unlockedFeatures;\r\n\r\nexport const overlaySelectors = {\r\n  selectOverlayState,\r\n  selectOverlayOpen,\r\n  selectOverlayContentKey,\r\n  selectPausedScene,\r\n  selectUnlockedFeatures,\r\n};\r\n","import React from 'react';\nexport var ReactReduxContext = /*#__PURE__*/React.createContext(null);\n\nif (process.env.NODE_ENV !== 'production') {\n  ReactReduxContext.displayName = 'ReactRedux';\n}\n\nexport default ReactReduxContext;","// Default to a dummy \"batch\" implementation that just runs the callback\nfunction defaultNoopBatch(callback) {\n  callback();\n}\n\nvar batch = defaultNoopBatch; // Allow injecting another batching function later\n\nexport var setBatch = function setBatch(newBatch) {\n  return batch = newBatch;\n}; // Supply a getter just to skip dealing with ESM bindings\n\nexport var getBatch = function getBatch() {\n  return batch;\n};","import { getBatch } from './batch'; // encapsulates the subscription logic for connecting a component to the redux store, as\n// well as nesting subscriptions of descendant components, so that we can ensure the\n// ancestor components re-render before descendants\n\nfunction createListenerCollection() {\n  var batch = getBatch();\n  var first = null;\n  var last = null;\n  return {\n    clear: function clear() {\n      first = null;\n      last = null;\n    },\n    notify: function notify() {\n      batch(function () {\n        var listener = first;\n\n        while (listener) {\n          listener.callback();\n          listener = listener.next;\n        }\n      });\n    },\n    get: function get() {\n      var listeners = [];\n      var listener = first;\n\n      while (listener) {\n        listeners.push(listener);\n        listener = listener.next;\n      }\n\n      return listeners;\n    },\n    subscribe: function subscribe(callback) {\n      var isSubscribed = true;\n      var listener = last = {\n        callback: callback,\n        next: null,\n        prev: last\n      };\n\n      if (listener.prev) {\n        listener.prev.next = listener;\n      } else {\n        first = listener;\n      }\n\n      return function unsubscribe() {\n        if (!isSubscribed || first === null) return;\n        isSubscribed = false;\n\n        if (listener.next) {\n          listener.next.prev = listener.prev;\n        } else {\n          last = listener.prev;\n        }\n\n        if (listener.prev) {\n          listener.prev.next = listener.next;\n        } else {\n          first = listener.next;\n        }\n      };\n    }\n  };\n}\n\nvar nullListeners = {\n  notify: function notify() {},\n  get: function get() {\n    return [];\n  }\n};\nexport function createSubscription(store, parentSub) {\n  var unsubscribe;\n  var listeners = nullListeners;\n\n  function addNestedSub(listener) {\n    trySubscribe();\n    return listeners.subscribe(listener);\n  }\n\n  function notifyNestedSubs() {\n    listeners.notify();\n  }\n\n  function handleChangeWrapper() {\n    if (subscription.onStateChange) {\n      subscription.onStateChange();\n    }\n  }\n\n  function isSubscribed() {\n    return Boolean(unsubscribe);\n  }\n\n  function trySubscribe() {\n    if (!unsubscribe) {\n      unsubscribe = parentSub ? parentSub.addNestedSub(handleChangeWrapper) : store.subscribe(handleChangeWrapper);\n      listeners = createListenerCollection();\n    }\n  }\n\n  function tryUnsubscribe() {\n    if (unsubscribe) {\n      unsubscribe();\n      unsubscribe = undefined;\n      listeners.clear();\n      listeners = nullListeners;\n    }\n  }\n\n  var subscription = {\n    addNestedSub: addNestedSub,\n    notifyNestedSubs: notifyNestedSubs,\n    handleChangeWrapper: handleChangeWrapper,\n    isSubscribed: isSubscribed,\n    trySubscribe: trySubscribe,\n    tryUnsubscribe: tryUnsubscribe,\n    getListeners: function getListeners() {\n      return listeners;\n    }\n  };\n  return subscription;\n}","import { useEffect, useLayoutEffect } from 'react'; // React currently throws a warning when using useLayoutEffect on the server.\n// To get around it, we can conditionally useEffect on the server (no-op) and\n// useLayoutEffect in the browser. We need useLayoutEffect to ensure the store\n// subscription callback always has the selector from the latest render commit\n// available, otherwise a store update may happen between render and the effect,\n// which may cause missed updates; we also must ensure the store subscription\n// is created synchronously, otherwise a store update may occur before the\n// subscription is created and an inconsistent state may be observed\n\nexport var useIsomorphicLayoutEffect = typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined' ? useLayoutEffect : useEffect;","import React, { useMemo } from 'react';\nimport { ReactReduxContext } from './Context';\nimport { createSubscription } from '../utils/Subscription';\nimport { useIsomorphicLayoutEffect } from '../utils/useIsomorphicLayoutEffect';\n\nfunction Provider(_ref) {\n  var store = _ref.store,\n      context = _ref.context,\n      children = _ref.children;\n  var contextValue = useMemo(function () {\n    var subscription = createSubscription(store);\n    subscription.onStateChange = subscription.notifyNestedSubs;\n    return {\n      store: store,\n      subscription: subscription\n    };\n  }, [store]);\n  var previousState = useMemo(function () {\n    return store.getState();\n  }, [store]);\n  useIsomorphicLayoutEffect(function () {\n    var subscription = contextValue.subscription;\n    subscription.trySubscribe();\n\n    if (previousState !== store.getState()) {\n      subscription.notifyNestedSubs();\n    }\n\n    return function () {\n      subscription.tryUnsubscribe();\n      subscription.onStateChange = null;\n    };\n  }, [contextValue, previousState]);\n  var Context = context || ReactReduxContext;\n  return /*#__PURE__*/React.createElement(Context.Provider, {\n    value: contextValue\n  }, children);\n}\n\nif (process.env.NODE_ENV !== 'production') {}\n\nexport default Provider;","import { useContext } from 'react';\nimport { ReactReduxContext } from '../components/Context';\n/**\n * A hook to access the value of the `ReactReduxContext`. This is a low-level\n * hook that you should usually not need to call directly.\n *\n * @returns {any} the value of the `ReactReduxContext`\n *\n * @example\n *\n * import React from 'react'\n * import { useReduxContext } from 'react-redux'\n *\n * export const CounterComponent = ({ value }) => {\n *   const { store } = useReduxContext()\n *   return <div>{store.getState()}</div>\n * }\n */\n\nexport function useReduxContext() {\n  var contextValue = useContext(ReactReduxContext);\n\n  if (process.env.NODE_ENV !== 'production' && !contextValue) {\n    throw new Error('could not find react-redux context value; please ensure the component is wrapped in a <Provider>');\n  }\n\n  return contextValue;\n}","import { useContext } from 'react';\nimport { ReactReduxContext } from '../components/Context';\nimport { useReduxContext as useDefaultReduxContext } from './useReduxContext';\n/**\n * Hook factory, which creates a `useStore` hook bound to a given context.\n *\n * @param {React.Context} [context=ReactReduxContext] Context passed to your `<Provider>`.\n * @returns {Function} A `useStore` hook bound to the specified context.\n */\n\nexport function createStoreHook(context) {\n  if (context === void 0) {\n    context = ReactReduxContext;\n  }\n\n  var useReduxContext = context === ReactReduxContext ? useDefaultReduxContext : function () {\n    return useContext(context);\n  };\n  return function useStore() {\n    var _useReduxContext = useReduxContext(),\n        store = _useReduxContext.store;\n\n    return store;\n  };\n}\n/**\n * A hook to access the redux store.\n *\n * @returns {any} the redux store\n *\n * @example\n *\n * import React from 'react'\n * import { useStore } from 'react-redux'\n *\n * export const ExampleComponent = () => {\n *   const store = useStore()\n *   return <div>{store.getState()}</div>\n * }\n */\n\nexport var useStore = /*#__PURE__*/createStoreHook();","import { ReactReduxContext } from '../components/Context';\nimport { useStore as useDefaultStore, createStoreHook } from './useStore';\n/**\n * Hook factory, which creates a `useDispatch` hook bound to a given context.\n *\n * @param {React.Context} [context=ReactReduxContext] Context passed to your `<Provider>`.\n * @returns {Function} A `useDispatch` hook bound to the specified context.\n */\n\nexport function createDispatchHook(context) {\n  if (context === void 0) {\n    context = ReactReduxContext;\n  }\n\n  var useStore = context === ReactReduxContext ? useDefaultStore : createStoreHook(context);\n  return function useDispatch() {\n    var store = useStore();\n    return store.dispatch;\n  };\n}\n/**\n * A hook to access the redux `dispatch` function.\n *\n * @returns {any|function} redux store's `dispatch` function\n *\n * @example\n *\n * import React, { useCallback } from 'react'\n * import { useDispatch } from 'react-redux'\n *\n * export const CounterComponent = ({ value }) => {\n *   const dispatch = useDispatch()\n *   const increaseCounter = useCallback(() => dispatch({ type: 'increase-counter' }), [])\n *   return (\n *     <div>\n *       <span>{value}</span>\n *       <button onClick={increaseCounter}>Increase counter</button>\n *     </div>\n *   )\n * }\n */\n\nexport var useDispatch = /*#__PURE__*/createDispatchHook();","import { useReducer, useRef, useMemo, useContext, useDebugValue } from 'react';\nimport { useReduxContext as useDefaultReduxContext } from './useReduxContext';\nimport { createSubscription } from '../utils/Subscription';\nimport { useIsomorphicLayoutEffect } from '../utils/useIsomorphicLayoutEffect';\nimport { ReactReduxContext } from '../components/Context';\n\nvar refEquality = function refEquality(a, b) {\n  return a === b;\n};\n\nfunction useSelectorWithStoreAndSubscription(selector, equalityFn, store, contextSub) {\n  var _useReducer = useReducer(function (s) {\n    return s + 1;\n  }, 0),\n      forceRender = _useReducer[1];\n\n  var subscription = useMemo(function () {\n    return createSubscription(store, contextSub);\n  }, [store, contextSub]);\n  var latestSubscriptionCallbackError = useRef();\n  var latestSelector = useRef();\n  var latestStoreState = useRef();\n  var latestSelectedState = useRef();\n  var storeState = store.getState();\n  var selectedState;\n\n  try {\n    if (selector !== latestSelector.current || storeState !== latestStoreState.current || latestSubscriptionCallbackError.current) {\n      var newSelectedState = selector(storeState); // ensure latest selected state is reused so that a custom equality function can result in identical references\n\n      if (latestSelectedState.current === undefined || !equalityFn(newSelectedState, latestSelectedState.current)) {\n        selectedState = newSelectedState;\n      } else {\n        selectedState = latestSelectedState.current;\n      }\n    } else {\n      selectedState = latestSelectedState.current;\n    }\n  } catch (err) {\n    if (latestSubscriptionCallbackError.current) {\n      err.message += \"\\nThe error may be correlated with this previous error:\\n\" + latestSubscriptionCallbackError.current.stack + \"\\n\\n\";\n    }\n\n    throw err;\n  }\n\n  useIsomorphicLayoutEffect(function () {\n    latestSelector.current = selector;\n    latestStoreState.current = storeState;\n    latestSelectedState.current = selectedState;\n    latestSubscriptionCallbackError.current = undefined;\n  });\n  useIsomorphicLayoutEffect(function () {\n    function checkForUpdates() {\n      try {\n        var newStoreState = store.getState(); // Avoid calling selector multiple times if the store's state has not changed\n\n        if (newStoreState === latestStoreState.current) {\n          return;\n        }\n\n        var _newSelectedState = latestSelector.current(newStoreState);\n\n        if (equalityFn(_newSelectedState, latestSelectedState.current)) {\n          return;\n        }\n\n        latestSelectedState.current = _newSelectedState;\n        latestStoreState.current = newStoreState;\n      } catch (err) {\n        // we ignore all errors here, since when the component\n        // is re-rendered, the selectors are called again, and\n        // will throw again, if neither props nor store state\n        // changed\n        latestSubscriptionCallbackError.current = err;\n      }\n\n      forceRender();\n    }\n\n    subscription.onStateChange = checkForUpdates;\n    subscription.trySubscribe();\n    checkForUpdates();\n    return function () {\n      return subscription.tryUnsubscribe();\n    };\n  }, [store, subscription]);\n  return selectedState;\n}\n/**\n * Hook factory, which creates a `useSelector` hook bound to a given context.\n *\n * @param {React.Context} [context=ReactReduxContext] Context passed to your `<Provider>`.\n * @returns {Function} A `useSelector` hook bound to the specified context.\n */\n\n\nexport function createSelectorHook(context) {\n  if (context === void 0) {\n    context = ReactReduxContext;\n  }\n\n  var useReduxContext = context === ReactReduxContext ? useDefaultReduxContext : function () {\n    return useContext(context);\n  };\n  return function useSelector(selector, equalityFn) {\n    if (equalityFn === void 0) {\n      equalityFn = refEquality;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!selector) {\n        throw new Error(\"You must pass a selector to useSelector\");\n      }\n\n      if (typeof selector !== 'function') {\n        throw new Error(\"You must pass a function as a selector to useSelector\");\n      }\n\n      if (typeof equalityFn !== 'function') {\n        throw new Error(\"You must pass a function as an equality function to useSelector\");\n      }\n    }\n\n    var _useReduxContext = useReduxContext(),\n        store = _useReduxContext.store,\n        contextSub = _useReduxContext.subscription;\n\n    var selectedState = useSelectorWithStoreAndSubscription(selector, equalityFn, store, contextSub);\n    useDebugValue(selectedState);\n    return selectedState;\n  };\n}\n/**\n * A hook to access the redux store's state. This hook takes a selector function\n * as an argument. The selector is called with the store state.\n *\n * This hook takes an optional equality comparison function as the second parameter\n * that allows you to customize the way the selected state is compared to determine\n * whether the component needs to be re-rendered.\n *\n * @param {Function} selector the selector function\n * @param {Function=} equalityFn the function that will be used to determine equality\n *\n * @returns {any} the selected state\n *\n * @example\n *\n * import React from 'react'\n * import { useSelector } from 'react-redux'\n *\n * export const CounterComponent = () => {\n *   const counter = useSelector(state => state.counter)\n *   return <div>{counter}</div>\n * }\n */\n\nexport var useSelector = /*#__PURE__*/createSelectorHook();","export * from './exports';\nimport { unstable_batchedUpdates as batch } from './utils/reactBatchedUpdates';\nimport { setBatch } from './utils/batch'; // Enable batched updates in our subscriptions for use\n// with standard React renderers (ReactDOM, React Native)\n\nsetBatch(batch);\nexport { batch };","import { FC } from 'react';\r\nimport { UnlockedFeatures } from './savedData';\r\n\r\nexport enum OverlayContentKey {\r\n  SKILLS,\r\n  UF,\r\n  UNF,\r\n  BIO,\r\n  EXPERIENCES,\r\n  PROJECTS,\r\n}\r\n\r\nexport interface OverlayContent {\r\n  lead: string;\r\n  component?: JSX.Element;\r\n  unlockedKey?: keyof UnlockedFeatures;\r\n}\r\n\r\nexport interface OverlayContentMap {\r\n  [key: number]: OverlayContent;\r\n}\r\n","export const combineCss = (base: string, addition: string) =>\r\n  base + '-' + addition;\r\n","import { GameCmsContent, InventoryProject } from '../types/cmsContent';\r\nimport { PayloadAction, createSlice } from '@reduxjs/toolkit';\r\n\r\nimport { StateSelector } from '../types/redux';\r\nimport cloneDeep from 'lodash.clonedeep';\r\n\r\ntype GameCmsState = {\r\n  data: GameCmsContent | null;\r\n  selectedTalentTree: number;\r\n  selectedQuestTab: 0 | 1 | 2;\r\n  selectedQuest: number;\r\n  selectedProject: InventoryProject | null;\r\n};\r\n\r\nconst initialState: GameCmsState = {\r\n  data: null,\r\n  selectedTalentTree: 0,\r\n  selectedQuestTab: 0,\r\n  selectedQuest: 0,\r\n  selectedProject: null,\r\n};\r\n\r\nexport const gameCmsSlice = createSlice({\r\n  name: 'gameCms',\r\n  initialState,\r\n  reducers: {\r\n    dataLoaded: (state, action: PayloadAction<GameCmsContent>) => ({\r\n      ...state,\r\n      data: cloneDeep({ ...action.payload }),\r\n    }),\r\n    selectedTalentTreeChanged: (state, action: PayloadAction<number>) => ({\r\n      ...state,\r\n      selectedTalentTree: action.payload,\r\n    }),\r\n    selectedQuestTabChanged: (state, action: PayloadAction<0 | 1 | 2>) => ({\r\n      ...state,\r\n      selectedQuestTab: action.payload,\r\n    }),\r\n    selectedQuestChanged: (state, action: PayloadAction<number>) => ({\r\n      ...state,\r\n      selectedQuest: action.payload,\r\n    }),\r\n    selectedProjectChanged: (\r\n      state,\r\n      action: PayloadAction<InventoryProject | null>,\r\n    ) => ({\r\n      ...state,\r\n      selectedProject:\r\n        state.selectedProject &&\r\n        action.payload &&\r\n        action.payload.title === state.selectedProject.title\r\n          ? null\r\n          : action.payload,\r\n    }),\r\n    reset: state => ({ ...initialState, data: state.data }),\r\n  },\r\n});\r\n\r\nconst { actions, reducer } = gameCmsSlice;\r\n\r\nconst selectGameCmsState: StateSelector<GameCmsState> = state => state.gameCms;\r\n\r\nconst selectGameCmsData: StateSelector<GameCmsState['data']> = state =>\r\n  selectGameCmsState(state).data;\r\n\r\nconst selectGameCmsAboutContent: StateSelector<Exclude<\r\n  GameCmsState['data'],\r\n  null\r\n>['aboutContent']> = state => selectGameCmsData(state)!.aboutContent;\r\n\r\nconst selectSelectedTalentTree: StateSelector<GameCmsState['selectedTalentTree']> = state =>\r\n  selectGameCmsState(state).selectedTalentTree;\r\n\r\nconst selectGameCmsExperiencesContent: StateSelector<Exclude<\r\n  GameCmsState['data'],\r\n  null\r\n>['experiencesContent']> = state =>\r\n  selectGameCmsState(state).data!.experiencesContent;\r\n\r\nconst selectGameCmsFeaturedContent: StateSelector<Exclude<\r\n  GameCmsState['data'],\r\n  null\r\n>['featuredContent']> = state =>\r\n  selectGameCmsState(state).data!.featuredContent;\r\n\r\nconst selectGameCmsOtherContent: StateSelector<Exclude<\r\n  GameCmsState['data'],\r\n  null\r\n>['otherContent']> = state => selectGameCmsState(state).data!.otherContent;\r\n\r\nconst selectGameCmsSelectedQuestTab: StateSelector<GameCmsState['selectedQuestTab']> = state =>\r\n  selectGameCmsState(state).selectedQuestTab;\r\n\r\nconst selectGameCmsSelectedQuest: StateSelector<GameCmsState['selectedQuest']> = state =>\r\n  selectGameCmsState(state).selectedQuest;\r\n\r\nconst selectGameCmsSelectedProject: StateSelector<GameCmsState['selectedProject']> = state =>\r\n  selectGameCmsState(state).selectedProject;\r\n\r\nexport const gameCmsActions = actions;\r\nexport const gameCmsReducer = reducer;\r\nexport const gameCmsSelectors = {\r\n  selectGameCmsData,\r\n  selectGameCmsAboutContent,\r\n  selectSelectedTalentTree,\r\n  selectGameCmsExperiencesContent,\r\n  selectGameCmsSelectedQuestTab,\r\n  selectGameCmsSelectedQuest,\r\n  selectGameCmsFeaturedContent,\r\n  selectGameCmsOtherContent,\r\n  selectGameCmsSelectedProject,\r\n};\r\n","import { useEffect, useState } from 'react';\r\n\r\nexport const useVisibleTimeout = (duration: number) => {\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const timeout = setTimeout(() => setVisible(true), duration);\r\n\r\n    return () => clearTimeout(timeout);\r\n  }, []);\r\n\r\n  return visible;\r\n};\r\n","import { OverlayContentKey } from '../types/overlayContent';\r\nimport React from 'react';\r\nimport classNames from 'classnames';\r\nimport { combineCss } from '../helpers/combineCss';\r\nimport { overlaySelectors } from '../redux/overlaySlice';\r\nimport { useSelector } from 'react-redux';\r\nimport { useVisibleTimeout } from '../helpers/customHooks';\r\n\r\nconst diplomaContent = {\r\n  [OverlayContentKey.UF]: {\r\n    type: 'Arts',\r\n    school: 'University of Florida',\r\n    degree: 'Anthropology',\r\n    year: '2018',\r\n  },\r\n  [OverlayContentKey.UNF]: {\r\n    type: 'Science',\r\n    school: 'University of North Florida',\r\n    degree: 'Computing and Information Sciences',\r\n    year: '2020',\r\n  },\r\n};\r\n\r\nconst IMAGE_SRC = '/assets/game/images/paper_scroll.png';\r\n\r\nconst overlay_cn = 'game-overlay-message-component-container';\r\nconst base_cn = 'diploma';\r\nconst container_cn = combineCss(base_cn, 'container');\r\nconst visible_container_cn = combineCss(container_cn, 'visible');\r\nconst image_cn = combineCss(base_cn, 'image');\r\nconst content_cn = combineCss(base_cn, 'content');\r\nconst school_content_cn = combineCss(content_cn, 'school');\r\nconst type_content_cn = combineCss(content_cn, 'type');\r\nconst degree_content_cn = combineCss(content_cn, 'degree');\r\nconst year_content_cn = combineCss(content_cn, 'year');\r\n\r\nconst Diploma = () => {\r\n  const contentIsVisible = useVisibleTimeout(2000);\r\n  const key = useSelector(overlaySelectors.selectOverlayContentKey);\r\n  const { type, school, degree, year } = diplomaContent[key ?? ''];\r\n\r\n  return (\r\n    <div\r\n      className={classNames(overlay_cn, container_cn, {\r\n        [visible_container_cn]: contentIsVisible,\r\n      })}\r\n    >\r\n      <img src={IMAGE_SRC} className={image_cn} />\r\n      <div className={content_cn}>\r\n        <h1 className={school_content_cn}>{school}</h1>\r\n        <p className={type_content_cn}>Bachelor of {type}</p>\r\n        <p className={degree_content_cn}>{degree}</p>\r\n        <p className={year_content_cn}>{year}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Diploma;\r\n","import React, { useCallback } from 'react';\r\nimport { gameCmsActions, gameCmsSelectors } from '../../redux/gameCmsSlice';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport ReactMarkdown from 'react-markdown';\r\nimport classNames from 'classnames';\r\nimport { combineCss } from '../../helpers/combineCss';\r\n\r\nconst base_cn = 'inventory-item-display';\r\nconst container_cn = combineCss(base_cn, 'container');\r\nconst title_cn = combineCss(base_cn, 'title');\r\nconst title_container_cn = combineCss(title_cn, 'container');\r\nconst title_text_cn = combineCss(title_cn, 'text');\r\nconst title_button_cn = combineCss(title_cn, 'button');\r\nconst content_cn = combineCss(base_cn, 'content');\r\nconst tags_cn = combineCss(base_cn, 'tags');\r\nconst epic_item_cn = 'epic-item';\r\nconst rare_item_cn = 'rare-item';\r\nconst icon_cn = 'icon';\r\nconst x_mark_cn = 'fa-solid fa-xmark';\r\n\r\nconst InventoryItemDisplay = () => {\r\n  const dispatch = useDispatch();\r\n  const project = useSelector(gameCmsSelectors.selectGameCmsSelectedProject);\r\n\r\n  const handleClose = useCallback(\r\n    () => dispatch(gameCmsActions.selectedProjectChanged(null)),\r\n    [],\r\n  );\r\n\r\n  const isEpic = project?.type === 'featured';\r\n  return (\r\n    <div className={container_cn} onClick={e => e.stopPropagation()}>\r\n      <div className={title_container_cn}>\r\n        <h1 className={title_text_cn}>{project?.title}</h1>\r\n        <span\r\n          className={classNames(icon_cn, title_button_cn)}\r\n          onClick={handleClose}\r\n        >\r\n          <i className={x_mark_cn} />\r\n        </span>\r\n      </div>\r\n      <div>\r\n        <h2>Binds when {isEpic ? 'picked up' : 'equipped'}</h2>\r\n      </div>\r\n      <div>\r\n        <h2\r\n          className={classNames({\r\n            [epic_item_cn]: isEpic,\r\n            [rare_item_cn]: !isEpic,\r\n          })}\r\n        >\r\n          {isEpic ? 'Epic' : 'Rare'} Item\r\n        </h2>\r\n      </div>\r\n      <div className={tags_cn}>\r\n        {(project?.techTags ?? []).map((tt, key) => (\r\n          <span key={key}>\r\n            {isEpic ? '+10' : '+5'} {tt}\r\n          </span>\r\n        ))}\r\n      </div>\r\n      <div className={content_cn}>\r\n        <ReactMarkdown>{project!.content}</ReactMarkdown>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InventoryItemDisplay;\r\n","import React, { FC, useCallback, useState } from 'react';\r\n\r\nimport { InventoryProject } from '../../types/cmsContent';\r\nimport { combineCss } from '../../helpers/combineCss';\r\n\r\ntype InventoryItemTooltipProps = {\r\n  item: InventoryProject;\r\n  hidden: boolean;\r\n};\r\n\r\nconst base_cn = 'inventory-item-tooltip';\r\nconst children_cn = combineCss(base_cn, 'children');\r\nconst container_cn = combineCss(base_cn, 'container');\r\n\r\nconst InventoryItemTooltip: FC<InventoryItemTooltipProps> = ({\r\n  item,\r\n  hidden,\r\n  children,\r\n}) => {\r\n  const [visible, setVisible] = useState(false);\r\n  const handleMouseOver = useCallback(\r\n    (value: boolean) => () => {\r\n      setVisible(value);\r\n    },\r\n    [],\r\n  );\r\n\r\n  const handleHide = useCallback(() => setVisible(false), []);\r\n  return (\r\n    <div\r\n      className={children_cn}\r\n      onMouseOver={handleMouseOver(true)}\r\n      onMouseLeave={handleMouseOver(false)}\r\n      onClick={handleHide}\r\n    >\r\n      {children}\r\n      {!hidden && visible && <div className={container_cn}>{item.title}</div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InventoryItemTooltip;\r\n","import React, { FC, MouseEvent, useCallback } from 'react';\r\nimport { gameCmsActions, gameCmsSelectors } from '../../redux/gameCmsSlice';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport InventoryItemDisplay from './InventoryItemDisplay';\r\nimport InventoryItemTooltip from './InventoryItemTooltip';\r\nimport { InventoryProject } from '../../types/cmsContent';\r\nimport classNames from 'classnames';\r\nimport { combineCss } from '../../helpers/combineCss';\r\n\r\nconst base_cn = 'inventory-item';\r\nconst rare_cn = combineCss(base_cn, 'rare');\r\nconst epic_cn = combineCss(base_cn, 'epic');\r\nconst occupied_cn = combineCss(base_cn, 'occupied');\r\nconst icon_cn = 'icon';\r\n\r\ntype InventoryItemProps = {\r\n  item: InventoryProject | null;\r\n};\r\n\r\nconst InventoryItem: FC<InventoryItemProps> = ({ item }) => {\r\n  const selectedProject = useSelector(\r\n    gameCmsSelectors.selectGameCmsSelectedProject,\r\n  );\r\n  const dispatch = useDispatch();\r\n  const handleClick = useCallback((event: MouseEvent<HTMLDivElement>) => {\r\n    event.stopPropagation();\r\n    dispatch(gameCmsActions.selectedProjectChanged(item));\r\n  }, []);\r\n  const isSelected =\r\n    selectedProject && item && selectedProject.title === item.title;\r\n\r\n  return (\r\n    <div\r\n      className={classNames(base_cn, {\r\n        [occupied_cn]: !!item,\r\n        [epic_cn]: item?.type === 'featured',\r\n        [rare_cn]: item?.type === 'other',\r\n      })}\r\n      onClick={!!item ? handleClick : undefined}\r\n    >\r\n      {item && (\r\n        <>\r\n          <InventoryItemTooltip item={item} hidden={!!selectedProject}>\r\n            <span className={icon_cn} style={{ color: item.iconColor }}>\r\n              <i className={item.iconName}></i>\r\n            </span>\r\n          </InventoryItemTooltip>\r\n          {isSelected && <InventoryItemDisplay />}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InventoryItem;\r\n","export function getRandomSolution<T>(solutions: T[]): T | null {\r\n  if (!solutions || solutions.length === 0) {\r\n    return null;\r\n  }\r\n\r\n  const answerIndex = Math.floor(Math.random() * solutions.length);\r\n  return solutions[answerIndex];\r\n}\r\n\r\n// credit Durstenfeld and https://stackfame.com/5-ways-to-shuffle-an-array-using-moder-javascript-es6\r\nexport function shuffleArray<T>(array: T[]) {\r\n  const copy = [...array];\r\n  for (let i = copy.length - 1; i > 0; i--) {\r\n    const j = Math.floor(Math.random() * (i + 1));\r\n    [copy[i], copy[j]] = [copy[j], copy[i]];\r\n  }\r\n  return copy;\r\n}\r\n","import {\r\n  FeaturedProject,\r\n  InventoryProject,\r\n  OtherProject,\r\n} from '../../types/cmsContent';\r\n\r\nimport { shuffleArray } from '../../helpers/solutions';\r\n\r\nexport const combineProjectArrays = (\r\n  featuredProjects: FeaturedProject[],\r\n  otherProjects: OtherProject[],\r\n): InventoryProject[] => {\r\n  if (featuredProjects.length === 0 && otherProjects.length === 0) {\r\n    return [];\r\n  }\r\n\r\n  let result: InventoryProject[] = [];\r\n\r\n  featuredProjects.forEach(\r\n    ({ title, titleUrl, techTags, content, iconName, iconColor }) => {\r\n      result.push({\r\n        title,\r\n        url: titleUrl,\r\n        techTags: [...techTags.items],\r\n        content,\r\n        type: 'featured',\r\n        iconName,\r\n        iconColor,\r\n      });\r\n    },\r\n  );\r\n\r\n  otherProjects.forEach(\r\n    ({ title, repositoryUrl, techTags, content, iconName, iconColor }) => {\r\n      result.push({\r\n        title,\r\n        url: repositoryUrl,\r\n        techTags: [...techTags.items],\r\n        content,\r\n        type: 'other',\r\n        iconName,\r\n        iconColor,\r\n      });\r\n    },\r\n  );\r\n\r\n  return shuffleArray(result);\r\n};\r\n","import { ItemDefinition, LevelCast } from './interactions';\r\n\r\nimport { Coordinates } from './position';\r\n\r\nexport interface PillarProgress {\r\n  completed: boolean;\r\n}\r\n\r\nexport interface PillarOneSolution {\r\n  itemName: string;\r\n  hint: string;\r\n}\r\n\r\nexport interface IPillarOneState {\r\n  solution: PillarOneSolution;\r\n  isFound: boolean;\r\n}\r\n\r\nexport interface PillarTwoSolutionOption {\r\n  id: number;\r\n  text: string;\r\n}\r\n\r\nexport interface PillarTwoSolution {\r\n  question: string;\r\n  options: PillarTwoSolutionOption[];\r\n  answer: number; // correct answer id\r\n  hint: string;\r\n}\r\n\r\nexport interface IPillarTwoState {\r\n  solution: PillarTwoSolution;\r\n  isComplete: boolean;\r\n}\r\n\r\nexport interface ILevelTwoProgress {\r\n  1: PillarProgress;\r\n  2: PillarProgress;\r\n  3: PillarProgress;\r\n}\r\n\r\nexport class LevelTwoProgress implements ILevelTwoProgress {\r\n  public 1: PillarProgress;\r\n  public 2: PillarProgress;\r\n  public 3: PillarProgress;\r\n\r\n  constructor() {\r\n    this[1] = this._createProgress();\r\n    this[2] = this._createProgress();\r\n    this[3] = this._createProgress();\r\n  }\r\n\r\n  private _createProgress = (): PillarProgress => ({\r\n    completed: false,\r\n  });\r\n}\r\n\r\nexport enum FireColor {\r\n  GREEN,\r\n  BLUE,\r\n  WHITE,\r\n  PURPLE,\r\n}\r\n\r\nexport enum FireNumber {\r\n  ONE,\r\n  TWO,\r\n  THREE,\r\n  FOUR,\r\n}\r\n\r\nexport interface PuzzleFires {\r\n  active?: FireColor;\r\n  fires: {\r\n    [FireColor.GREEN]?: {\r\n      sprite: Phaser.GameObjects.Sprite | null;\r\n      animation: Phaser.Animations.Animation | null;\r\n      characterId: string | null;\r\n    };\r\n    [FireColor.BLUE]?: {\r\n      sprite: Phaser.GameObjects.Sprite | null;\r\n      animation: Phaser.Animations.Animation | null;\r\n      characterId: string | null;\r\n    };\r\n    [FireColor.WHITE]?: {\r\n      sprite: Phaser.GameObjects.Sprite | null;\r\n      animation: Phaser.Animations.Animation | null;\r\n      characterId: string | null;\r\n    };\r\n    [FireColor.PURPLE]?: {\r\n      sprite: Phaser.GameObjects.Sprite | null;\r\n      animation: Phaser.Animations.Animation | null;\r\n      characterId: string | null;\r\n    };\r\n  };\r\n}\r\n\r\nexport interface IPillarThreeState {\r\n  [FireNumber.ONE]: PuzzleFires;\r\n  [FireNumber.TWO]: PuzzleFires;\r\n  [FireNumber.THREE]: PuzzleFires;\r\n  [FireNumber.FOUR]: PuzzleFires;\r\n  solution: Record<FireNumber, FireColor>;\r\n}\r\n\r\nexport class PillarThreeState implements IPillarThreeState {\r\n  public [FireNumber.ONE]: PuzzleFires;\r\n  public [FireNumber.TWO]: PuzzleFires;\r\n  public [FireNumber.THREE]: PuzzleFires;\r\n  public [FireNumber.FOUR]: PuzzleFires;\r\n  public solution: Record<FireNumber, FireColor>;\r\n\r\n  constructor() {\r\n    this[FireNumber.ONE] = this._createFire();\r\n    this[FireNumber.TWO] = this._createFire();\r\n    this[FireNumber.THREE] = this._createFire();\r\n    this[FireNumber.FOUR] = this._createFire();\r\n  }\r\n\r\n  private _createFire = (): PuzzleFires => ({\r\n    active: undefined,\r\n    fires: {\r\n      [FireColor.GREEN]: {\r\n        sprite: null,\r\n        animation: null,\r\n        characterId: null,\r\n      },\r\n      [FireColor.BLUE]: {\r\n        sprite: null,\r\n        animation: null,\r\n        characterId: null,\r\n      },\r\n      [FireColor.WHITE]: {\r\n        sprite: null,\r\n        animation: null,\r\n        characterId: null,\r\n      },\r\n      [FireColor.PURPLE]: {\r\n        sprite: null,\r\n        animation: null,\r\n        characterId: null,\r\n      },\r\n    },\r\n  });\r\n}\r\n\r\nexport interface LevelTwoItem extends ItemDefinition {\r\n  pillar?: 1 | 2 | 3;\r\n  hint?: string;\r\n}\r\n","import './style.scss';\r\n\r\nimport React, { useCallback, useMemo } from 'react';\r\nimport { gameCmsActions, gameCmsSelectors } from '../../redux/gameCmsSlice';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport InventoryItem from './InventoryItem';\r\nimport { combineCss } from '../../helpers/combineCss';\r\nimport { combineProjectArrays } from './helpers';\r\n\r\nconst COLUMN_COUNT = 5;\r\nconst ROW_COUNT = 6;\r\nconst MAX_ITEM_COUNT = COLUMN_COUNT * ROW_COUNT;\r\n\r\nconst base_cn = 'inventory';\r\nconst container_cn = combineCss(base_cn, 'container');\r\nconst inner_container_cn = combineCss(container_cn, 'inner');\r\nconst items_container_cn = combineCss(base_cn, 'items-container');\r\n\r\nconst Inventory = () => {\r\n  const dispatch = useDispatch();\r\n  const featuredProjects = useSelector(\r\n    gameCmsSelectors.selectGameCmsFeaturedContent,\r\n  );\r\n  const otherProjects = useSelector(gameCmsSelectors.selectGameCmsOtherContent);\r\n\r\n  const inventoryProjects = useMemo(() => {\r\n    const items = combineProjectArrays(featuredProjects, otherProjects);\r\n    if (items.length === MAX_ITEM_COUNT) {\r\n      return items;\r\n    }\r\n\r\n    return [...Array(MAX_ITEM_COUNT)].map((_, index) => {\r\n      return items[index] ?? null;\r\n    });\r\n  }, [featuredProjects, otherProjects]);\r\n\r\n  const handleDeselectProject = useCallback(() => {\r\n    dispatch(gameCmsActions.selectedProjectChanged(null));\r\n  }, []);\r\n\r\n  return (\r\n    <div className={container_cn} onClick={handleDeselectProject}>\r\n      <div className={inner_container_cn}>\r\n        <h1>Inventory</h1>\r\n        <div className={items_container_cn}>\r\n          {(inventoryProjects ?? []).map((item, index) => (\r\n            <InventoryItem key={index} item={item} />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Inventory;\r\n","import React, { FC } from 'react';\r\n\r\nimport { IdentifiableExperience } from '../../types/cmsContent';\r\nimport { combineCss } from '../../helpers/combineCss';\r\n\r\nconst calcXp = (item: IdentifiableExperience) => {\r\n  let start = new Date(item.startDate);\r\n  let end = item.isActive ? new Date() : new Date(item.endDate);\r\n  const diff = (end.getTime() - start.getTime()) / 1000;\r\n  return Math.abs(Math.round(diff / (60 * 60 * 24 * 7 * 4)));\r\n};\r\n\r\nconst base_cn = 'quest-log';\r\nconst detail_cn = combineCss(base_cn, 'detail');\r\nconst item_cn = combineCss(detail_cn, 'item');\r\nconst subtitle_cn = combineCss(item_cn, 'subtitle');\r\nconst employer_cn = combineCss(item_cn, 'employer');\r\nconst objectives_container_cn = combineCss(item_cn, 'objectives-container');\r\nconst objectives_title_cn = combineCss(objectives_container_cn, 'title');\r\nconst objectives_items_cn = combineCss(objectives_container_cn, 'items');\r\nconst item_divider_cn = combineCss(item_cn, 'divider');\r\nconst rewards_container_cn = combineCss(item_cn, 'rewards-container');\r\nconst rewards_title_cn = combineCss(rewards_container_cn, 'title');\r\nconst empty_cn = combineCss(detail_cn, 'empty');\r\n\r\ntype ActiveQuestItemProps = {\r\n  item?: IdentifiableExperience;\r\n};\r\n\r\nconst ActiveQuestItem: FC<ActiveQuestItemProps> = ({ item }) => {\r\n  if (!item) {\r\n    return (\r\n      <div className={detail_cn}>\r\n        <div className={empty_cn}>\r\n          <h1>Select a quest</h1>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <div className={detail_cn}>\r\n      <div className={item_cn}>\r\n        <h1>{item.title}</h1>\r\n        <h2 className={subtitle_cn}>{item.subtitle}</h2>\r\n        <h2 className={employer_cn}>{item.employer}</h2>\r\n        <div className={objectives_container_cn}>\r\n          <h2 className={objectives_title_cn}>Objectives</h2>\r\n          <hr className={item_divider_cn} />\r\n          <ul className={objectives_items_cn}>\r\n            {item.content.items.map((c, index) => (\r\n              <li key={index}>{c}</li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n        <div className={rewards_container_cn}>\r\n          <h2 className={rewards_title_cn}>Rewards</h2>\r\n          <hr className={item_divider_cn} />+{calcXp(item)} XP\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ActiveQuestItem;\r\n","import { Experience, IdentifiableExperience } from '../../types/cmsContent';\r\nimport React, { FC, useCallback } from 'react';\r\nimport { gameCmsActions, gameCmsSelectors } from '../../redux/gameCmsSlice';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport classNames from 'classnames';\r\nimport { combineCss } from '../../helpers/combineCss';\r\n\r\ntype QuestLogListProps = {\r\n  items: IdentifiableExperience[];\r\n};\r\n\r\nconst base_cn = 'quest-log';\r\nconst list_cn = combineCss(base_cn, 'list');\r\nconst list_item_cn = combineCss(list_cn, 'item');\r\nconst active_list_item_cn = combineCss(list_item_cn, 'active');\r\n\r\nconst QuestLogList: FC<QuestLogListProps> = ({ items }) => {\r\n  const dispatch = useDispatch();\r\n  const activeQuest = useSelector(gameCmsSelectors.selectGameCmsSelectedQuest);\r\n\r\n  const selectedExperience = useSelector(\r\n    gameCmsSelectors.selectGameCmsSelectedQuest,\r\n  );\r\n\r\n  const handleSelectQuest = useCallback(\r\n    (id: number) => () => dispatch(gameCmsActions.selectedQuestChanged(id)),\r\n    [selectedExperience],\r\n  );\r\n\r\n  return (\r\n    <div className={list_cn}>\r\n      {items.map((item, index) => (\r\n        <div\r\n          key={index}\r\n          className={classNames(list_item_cn, {\r\n            [active_list_item_cn]: activeQuest === item.id,\r\n          })}\r\n          onClick={handleSelectQuest(item.id)}\r\n        >\r\n          {item.title}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default QuestLogList;\r\n","import './styles.scss';\r\n\r\nimport { Experience, IdentifiableExperience } from '../../types/cmsContent';\r\nimport React, { FC, useCallback, useEffect, useMemo, useState } from 'react';\r\nimport { filterQuests, identifyQuests } from './filterQuests';\r\nimport { gameCmsActions, gameCmsSelectors } from '../../redux/gameCmsSlice';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport ActiveQuestItem from './ActiveQuestItem';\r\nimport QuestLogList from './QuestLogList';\r\nimport classNames from 'classnames';\r\nimport { combineCss } from '../../helpers/combineCss';\r\n\r\nconst base_cn = 'quest-log';\r\nconst container_cn = combineCss(base_cn, 'container');\r\nconst header_cn = combineCss(base_cn, 'header');\r\nconst header_item_cn = combineCss(header_cn, 'item');\r\nconst header_item_active_cn = combineCss(header_item_cn, 'active');\r\nconst pane_container_cn = combineCss(base_cn, 'pane-container');\r\n\r\nconst HeaderItem: FC<{\r\n  active: boolean;\r\n  onClick: () => any;\r\n  content: string;\r\n}> = ({ active, onClick, content }) => (\r\n  <h1\r\n    className={classNames(header_item_cn, { [header_item_active_cn]: active })}\r\n    onClick={onClick}\r\n  >\r\n    {content}\r\n  </h1>\r\n);\r\n\r\nconst QuestLog = () => {\r\n  const dispatch = useDispatch();\r\n  const activeTab = useSelector(gameCmsSelectors.selectGameCmsSelectedQuestTab);\r\n  const activeQuest = useSelector(gameCmsSelectors.selectGameCmsSelectedQuest);\r\n\r\n  const experiencesContent = useSelector(\r\n    gameCmsSelectors.selectGameCmsExperiencesContent,\r\n  );\r\n\r\n  const [filteredQuests, setFilteredQuests] = useState<\r\n    IdentifiableExperience[]\r\n  >([]);\r\n\r\n  const identifiedQuests = useMemo(\r\n    () => identifyQuests(experiencesContent ?? []),\r\n    [experiencesContent],\r\n  );\r\n\r\n  useEffect(\r\n    () => setFilteredQuests(filterQuests(identifiedQuests, activeTab)),\r\n    [activeTab],\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (filteredQuests.length > 0)\r\n      dispatch(gameCmsActions.selectedQuestChanged(filteredQuests[0].id));\r\n  }, [filteredQuests]);\r\n\r\n  const handleTabClick = useCallback(\r\n    (tab: 0 | 1 | 2) => () => {\r\n      if (tab !== activeTab) {\r\n        dispatch(gameCmsActions.selectedQuestTabChanged(tab));\r\n      }\r\n    },\r\n    [activeTab],\r\n  );\r\n\r\n  return (\r\n    <div className={container_cn}>\r\n      <div className={header_cn}>\r\n        <HeaderItem\r\n          active={activeTab === 0}\r\n          onClick={handleTabClick(0)}\r\n          content=\"All\"\r\n        />\r\n        <HeaderItem\r\n          active={activeTab === 1}\r\n          onClick={handleTabClick(1)}\r\n          content=\"Active\"\r\n        />\r\n        <HeaderItem\r\n          active={activeTab === 2}\r\n          onClick={handleTabClick(2)}\r\n          content=\"Completed\"\r\n        />\r\n      </div>\r\n      <div className={pane_container_cn}>\r\n        <QuestLogList items={filteredQuests} />\r\n        <ActiveQuestItem\r\n          item={filteredQuests.find(item => item.id === activeQuest)}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default QuestLog;\r\n","import { Experience, IdentifiableExperience } from '../../types/cmsContent';\r\n\r\nexport const filterQuests = (\r\n  quests: IdentifiableExperience[],\r\n  tab: 0 | 1 | 2,\r\n) => {\r\n  let filterCallback: (quest: IdentifiableExperience) => boolean;\r\n  switch (tab) {\r\n    case 0:\r\n      filterCallback = () => true;\r\n      break;\r\n    case 1:\r\n      filterCallback = quest => quest.isActive;\r\n      break;\r\n    case 2:\r\n      filterCallback = quest => !quest.isActive;\r\n      break;\r\n  }\r\n\r\n  return quests.filter(filterCallback);\r\n};\r\n\r\nexport const identifyQuests = (\r\n  quests: Experience[],\r\n): IdentifiableExperience[] =>\r\n  quests.map((quest, index) => ({ ...quest, id: index }));\r\n","import { OverlayContentKey } from '../types/overlayContent';\r\nimport React from 'react';\r\nimport { StateSelector } from '../types/redux';\r\nimport classNames from 'classnames';\r\nimport { combineCss } from '../helpers/combineCss';\r\nimport { gameCmsSelectors } from '../redux/gameCmsSlice';\r\nimport { overlaySelectors } from '../redux/overlaySlice';\r\nimport { useSelector } from 'react-redux';\r\nimport { useVisibleTimeout } from '../helpers/customHooks';\r\n\r\nconst selectorByKey: Record<number, StateSelector<any>> = {\r\n  [OverlayContentKey.BIO]: gameCmsSelectors.selectGameCmsAboutContent,\r\n};\r\nconst overlay_cn = 'game-overlay-message-component-container';\r\n\r\nconst base_cn = 'simple-text';\r\nconst container_cn = combineCss(base_cn, 'container');\r\nconst visible_container_cn = combineCss(container_cn, 'visible');\r\nconst content_cn = combineCss(base_cn, 'content');\r\n\r\nconst SimpleText = () => {\r\n  const contentIsVisible = useVisibleTimeout(2000);\r\n  const currentContentKey =\r\n    useSelector(overlaySelectors.selectOverlayContentKey) ?? '';\r\n  const content = useSelector(\r\n    selectorByKey[currentContentKey],\r\n  ) as React.ReactFragment;\r\n\r\n  return (\r\n    <div\r\n      className={classNames(overlay_cn, container_cn, {\r\n        [visible_container_cn]: contentIsVisible,\r\n      })}\r\n    >\r\n      <div className={content_cn}>{content}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SimpleText;\r\n","import React, { FC } from 'react';\r\n\r\nimport { TechnologyTree } from '../../types/cmsContent';\r\nimport classNames from 'classnames';\r\nimport { combineCss } from '../../helpers/combineCss';\r\n\r\ntype TalentNodeProps = {\r\n  onClick: () => any;\r\n  selected: boolean;\r\n} & TechnologyTree;\r\n\r\nconst base_cn = 'talent-tree';\r\nconst node_cn = combineCss(base_cn, 'row-node');\r\nconst active_node_cn = combineCss(node_cn, 'active');\r\nconst active_selected_cn = combineCss(active_node_cn, 'selected');\r\nconst inactive_selected_cn = combineCss(node_cn, 'selected');\r\nconst points_cn = combineCss(base_cn, 'points');\r\nconst icon_cn = 'icon';\r\n\r\nconst TalentNode: FC<TalentNodeProps> = ({ onClick, selected, ...props }) => {\r\n  const isActive = props.points > 0;\r\n\r\n  return (\r\n    <div\r\n      id={props.id}\r\n      className={classNames(node_cn, {\r\n        [active_node_cn]: isActive,\r\n        [active_selected_cn]: isActive && selected,\r\n        [inactive_selected_cn]: !isActive && selected,\r\n      })}\r\n      onClick={onClick}\r\n    >\r\n      <span className={icon_cn}>\r\n        <i className={props.code}></i>\r\n      </span>\r\n      <div className={points_cn}>\r\n        {props.points}/{props.total}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TalentNode;\r\n","import React, {\r\n  Fragment,\r\n  useCallback,\r\n  useEffect,\r\n  useMemo,\r\n  useState,\r\n} from 'react';\r\nimport {\r\n  THEME_DARK_YELLOW,\r\n  THEME_LIGHT_GREY,\r\n  THEME_WHITE,\r\n  THEME_YELLOW,\r\n} from '../../constants';\r\nimport Xarrow, { Xwrapper } from 'react-xarrows';\r\nimport { constructTechTree, createRows } from '../../helpers/constructTechTree';\r\nimport { gameCmsActions, gameCmsSelectors } from '../../redux/gameCmsSlice';\r\nimport { mdiArrowLeftThick, mdiArrowRightThick } from '@mdi/js';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport Icon from '@mdi/react';\r\nimport TalentNode from './TalentNode';\r\nimport { TechnologyTree } from '../../types/cmsContent';\r\nimport classNames from 'classnames';\r\nimport { combineCss } from '../../helpers/combineCss';\r\nimport { overlaySelectors } from '../../redux/overlaySlice';\r\nimport { useVisibleTimeout } from '../../helpers/customHooks';\r\n\r\nconst overlay_cn = 'game-overlay-message-component-container';\r\nconst base_cn = 'talent-tree';\r\nconst container_cn = combineCss(base_cn, 'container');\r\nconst shifted_cn = combineCss(container_cn, 'shifted');\r\nconst visible_cn = combineCss(container_cn, 'visible');\r\nconst selector_cn = combineCss(base_cn, 'selector');\r\nconst next_selector_cn = combineCss(selector_cn, 'next');\r\nconst row_cn = combineCss(base_cn, 'row');\r\nconst info_cn = combineCss(base_cn, 'info');\r\nconst visible_info_cn = combineCss(info_cn, 'visible');\r\nconst info_header_cn = combineCss(info_cn, 'header');\r\nconst info_header_title_cn = combineCss(info_header_cn, 'title');\r\nconst info_header_points_cn = combineCss(info_header_cn, 'points');\r\nconst info_content_cn = combineCss(info_cn, 'content');\r\nconst small_btn_cn = 'button is-small';\r\n\r\nconst TechTalentTree = () => {\r\n  const dispatch = useDispatch();\r\n  const { technologyTree: data } = useSelector(\r\n    gameCmsSelectors.selectGameCmsData,\r\n  );\r\n  const selectedTreeIndex = useSelector(\r\n    gameCmsSelectors.selectSelectedTalentTree,\r\n  );\r\n  const { talentTree } = useSelector(overlaySelectors.selectUnlockedFeatures);\r\n\r\n  const [selectedNode, setSelectedNode] = useState<TechnologyTree | null>(null);\r\n\r\n  const treeIsVisible = useVisibleTimeout(talentTree ? 0 : 2000);\r\n\r\n  const [infoIsVisible, setInfoIsVisible] = useState(false);\r\n\r\n  const tree = useMemo(() => constructTechTree({ ...data }), [data]);\r\n  const talentTrees = (tree?.children ?? []).map(c => createRows(c));\r\n\r\n  const handleNextTree = useCallback(() => {\r\n    if (selectedTreeIndex === talentTrees.length - 1) {\r\n      return;\r\n    }\r\n    dispatch(gameCmsActions.selectedTalentTreeChanged(selectedTreeIndex + 1));\r\n  }, [talentTrees]);\r\n\r\n  const handlePrevTree = useCallback(() => {\r\n    if (selectedTreeIndex === 0) {\r\n      return;\r\n    }\r\n    dispatch(gameCmsActions.selectedTalentTreeChanged(selectedTreeIndex - 1));\r\n  }, [talentTrees]);\r\n\r\n  useEffect(() => {\r\n    setSelectedNode(null);\r\n  }, [selectedTreeIndex]);\r\n\r\n  const handleSelectNode = useCallback(\r\n    (node: TechnologyTree | null) => setSelectedNode(node),\r\n    [],\r\n  );\r\n\r\n  useEffect(() => {\r\n    const newValue = selectedNode !== null;\r\n    setInfoIsVisible(newValue);\r\n  }, [selectedNode]);\r\n\r\n  return (\r\n    <div className={classNames(overlay_cn, base_cn)}>\r\n      <div\r\n        className={classNames(container_cn, {\r\n          [shifted_cn]: selectedNode !== null,\r\n          [visible_cn]: treeIsVisible,\r\n        })}\r\n      >\r\n        <div className={selector_cn}>\r\n          <button\r\n            className={small_btn_cn}\r\n            disabled={selectedTreeIndex === 0}\r\n            onClick={handlePrevTree}\r\n          >\r\n            <Icon path={mdiArrowLeftThick} size={1} />\r\n          </button>\r\n          <button\r\n            className={classNames(small_btn_cn, next_selector_cn)}\r\n            disabled={selectedTreeIndex === talentTrees.length - 1}\r\n            onClick={handleNextTree}\r\n          >\r\n            <Icon path={mdiArrowRightThick} size={1} />\r\n          </button>\r\n        </div>\r\n        {talentTrees[selectedTreeIndex].map((row: TechnologyTree[], index) => (\r\n          <div className={row_cn} key={index}>\r\n            {row.map(item => {\r\n              const selected = selectedNode && selectedNode.id === item.id;\r\n\r\n              const nodeProps = {\r\n                ...item,\r\n                selected: selected === true,\r\n                onClick: () => handleSelectNode(selected ? null : item),\r\n              };\r\n\r\n              let arrowColor: string;\r\n              if (item.points > 0) {\r\n                arrowColor = selected ? THEME_WHITE : THEME_LIGHT_GREY;\r\n              } else {\r\n                arrowColor = selected ? THEME_YELLOW : THEME_DARK_YELLOW;\r\n              }\r\n\r\n              return (\r\n                <Xwrapper key={item.id}>\r\n                  <TalentNode {...nodeProps} />\r\n                  {item.parent !== undefined && (\r\n                    <Xarrow\r\n                      key={`${item.id}-${selected}`}\r\n                      start={item.id}\r\n                      end={item.parent}\r\n                      curveness={0}\r\n                      showTail={false}\r\n                      showHead={false}\r\n                      animateDrawing={false}\r\n                      color={arrowColor}\r\n                      endAnchor=\"bottom\"\r\n                      startAnchor=\"top\"\r\n                    />\r\n                  )}\r\n                </Xwrapper>\r\n              );\r\n            })}\r\n          </div>\r\n        ))}\r\n      </div>\r\n      {selectedNode && (\r\n        <div\r\n          className={classNames(info_cn, {\r\n            [visible_info_cn]: infoIsVisible,\r\n          })}\r\n        >\r\n          <div className={info_header_cn}>\r\n            <p className={info_header_title_cn}>{selectedNode.title}</p>\r\n            <p className={info_header_points_cn}>\r\n              {selectedNode.points}/{selectedNode.total}\r\n            </p>\r\n          </div>\r\n          <p className={info_content_cn}>{selectedNode.content}</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TechTalentTree;\r\n","import { TechnologyTree, TechnologyTreeFlattened } from '../types/cmsContent';\r\n\r\nimport cloneDeep from 'lodash.clonedeep';\r\n\r\nexport const constructTechTree = (input: TechnologyTreeFlattened) => {\r\n  const clone = cloneDeep(input);\r\n  const { items } = clone;\r\n\r\n  const map: Record<string, TechnologyTree> = {\r\n    '0': {\r\n      content: 'root',\r\n      id: '0',\r\n      code: '',\r\n      points: 1,\r\n      total: 1,\r\n      title: 'root',\r\n      children: [],\r\n    },\r\n  };\r\n\r\n  items.forEach(item => {\r\n    map[item.id] = item;\r\n  });\r\n\r\n  items.forEach(item => {\r\n    const key = item.parent === undefined ? '0' : item.parent;\r\n\r\n    map[key].children = [...(map[key]?.children ?? []), item];\r\n  });\r\n\r\n  let result = map['0'];\r\n  const assemble = (tree: TechnologyTree) => {\r\n    if (map[tree.id].children && (map[tree.id].children ?? []).length > 0) {\r\n      (map[tree.id].children ?? []).forEach(child => assemble(child));\r\n    }\r\n    return tree;\r\n  };\r\n\r\n  return assemble(result);\r\n};\r\n\r\nexport const createRows = (data: TechnologyTree) => {\r\n  const items = { ...data };\r\n  const rows = [];\r\n\r\n  const createNodes = (node: TechnologyTree, rowNum: number) => {\r\n    if (rows[rowNum]) {\r\n      (rows[rowNum] as TechnologyTree[]).push(node);\r\n    } else {\r\n      (rows[rowNum] as TechnologyTree[]) = [node];\r\n    }\r\n\r\n    if (node.children) {\r\n      node.children.forEach(child => createNodes(child, rowNum + 1));\r\n    }\r\n  };\r\n\r\n  createNodes(items, 0);\r\n  return rows;\r\n};\r\n","import { OverlayContentKey, OverlayContentMap } from '../types/overlayContent';\r\n\r\nimport Diploma from './Diploma';\r\nimport Inventory from './inventory/Inventory';\r\nimport QuestLog from './quests/QuestLog';\r\nimport React from 'react';\r\nimport SimpleText from './SimpleText';\r\nimport TechTalentTree from './talentTree/TechTalentTree';\r\n\r\nexport const overlayContentMapping: OverlayContentMap = {\r\n  [OverlayContentKey.UF]: {\r\n    lead: `You find a scroll hidden behind the trophy...`,\r\n    component: <Diploma />,\r\n  },\r\n  [OverlayContentKey.UNF]: {\r\n    lead: `You find a scroll hidden behind the medal...`,\r\n    component: <Diploma />,\r\n  },\r\n  [OverlayContentKey.SKILLS]: {\r\n    lead: `The PC battlestation turns on, accessing Greg's secret RPG talent trees...`,\r\n    component: <TechTalentTree />,\r\n    unlockedKey: 'talentTree',\r\n  },\r\n  [OverlayContentKey.BIO]: {\r\n    lead: 'You seem to have stumbled across an autobiography of sorts...',\r\n    component: <SimpleText />,\r\n  },\r\n  [OverlayContentKey.EXPERIENCES]: {\r\n    lead: `Inside the chest is Greg's quest log...`,\r\n    component: <QuestLog />,\r\n    unlockedKey: 'questLog',\r\n  },\r\n  [OverlayContentKey.PROJECTS]: {\r\n    lead: `The chest gives you access to Greg's inventory...`,\r\n    component: <Inventory />,\r\n    unlockedKey: 'inventory',\r\n  },\r\n};\r\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import { FireColor } from '../types/levelTwo';\r\n\r\nexport const getFireColorName = (color: FireColor) => {\r\n  let colorName: string;\r\n  switch (color) {\r\n    case FireColor.BLUE:\r\n      colorName = 'blue';\r\n      break;\r\n    case FireColor.GREEN:\r\n      colorName = 'green';\r\n      break;\r\n    case FireColor.WHITE:\r\n      colorName = 'white';\r\n      break;\r\n    case FireColor.PURPLE:\r\n      colorName = 'purple';\r\n      break;\r\n  }\r\n\r\n  return colorName;\r\n};\r\n","export const getTileSource = (filename: string) =>\r\n  `../../../assets/game/tiles/${filename}`;\r\nexport const getTileMapSource = (filename: string) =>\r\n  getTileSource(`${filename}.json`);\r\nexport const getTileSetSource = (filename: string) =>\r\n  getTileSource(`${filename}.png`);\r\n\r\nexport const getSpriteSource = (filename: string) =>\r\n  `../../../assets/game/sprites/${filename}.png`;\r\n\r\nexport const getImageSource = (filename: string) =>\r\n  `../../../assets/game/images/${filename}.png`;\r\n","import {\r\n  FireSpriteDefinition,\r\n  PlayerSpriteDefinition,\r\n  SpriteDefinition,\r\n} from '../types/assetDefinitions';\r\n\r\nimport { FireColor } from '../types/levelTwo';\r\nimport { LevelThreeDamagingFireDefinition } from '../types/levelThree';\r\nimport { SCALE } from '../constants';\r\nimport { getFireColorName } from '../helpers/fireColor';\r\nimport { getSpriteSource } from '../helpers/getAssetSource';\r\n\r\nconst createPlayerSpriteDefinition = (\r\n  source: string,\r\n): PlayerSpriteDefinition => ({\r\n  key: `player-${source}`,\r\n  source: getSpriteSource(`${source}_spritesheet`),\r\n  frameWidth: 32,\r\n  frameHeight: 32,\r\n  walkingAnimationMapping: 0,\r\n  scale: SCALE,\r\n  infoKey: source,\r\n});\r\n\r\nexport const playerCharacterOptions: Record<string, PlayerSpriteDefinition> = {\r\n  xion: createPlayerSpriteDefinition('xion'),\r\n  irabel: createPlayerSpriteDefinition('irabel'),\r\n  zaya: createPlayerSpriteDefinition('zaya'),\r\n  orryn: createPlayerSpriteDefinition('orryn'),\r\n  ['happy_cat']: createPlayerSpriteDefinition('happy_cat'),\r\n  ['wizard_cat']: createPlayerSpriteDefinition('wizard_cat'),\r\n};\r\n\r\nexport const playerCharacterInformation: Record<\r\n  string,\r\n  { name: string; description: string }\r\n> = {\r\n  xion: {\r\n    name: 'Xion',\r\n    description: `A force to be reckoned with that always does what he feels is right`,\r\n  },\r\n  irabel: {\r\n    name: 'Irabel',\r\n    description:\r\n      'A wise woman whose knowledge of the dark arts is well-known across the lands',\r\n  },\r\n  zaya: {\r\n    name: 'Zaya',\r\n    description: `The princess of Varrock, Zaya's impressive regality is only matched by her skill in combat`,\r\n  },\r\n  orryn: {\r\n    name: 'Orryn',\r\n    description: 'A hardened warrior and veteran of the Second War',\r\n  },\r\n  ['happy_cat']: {\r\n    name: 'Happy Cat',\r\n    description: `The embodiment of cuteness, Happy Cat's purr is said to shake mountains`,\r\n  },\r\n  ['wizard_cat']: {\r\n    name: 'Wizard Cat',\r\n    description: `A scientific experiment gone wrong. Wizard Cat was created with sugar, spice, everything nice, and a wizard hat`,\r\n  },\r\n};\r\n\r\nexport const gregSpriteDefinition: SpriteDefinition = {\r\n  key: 'greg',\r\n  source: getSpriteSource('greg_spritesheet'),\r\n  frameWidth: 64,\r\n  frameHeight: 64,\r\n  walkingAnimationMapping: 0,\r\n  scale: 2,\r\n};\r\n\r\nexport const greyCatSpriteDefinition: SpriteDefinition = {\r\n  key: 'grey-cat',\r\n  source: getSpriteSource('grey_cat_spritesheet'),\r\n  frameWidth: 32,\r\n  frameHeight: 32,\r\n  walkingAnimationMapping: 0,\r\n  scale: 2,\r\n};\r\n\r\nexport const whiteCatSpriteDefinition: SpriteDefinition = {\r\n  key: 'white-cat',\r\n  source: getSpriteSource('white_cat_spritesheet'),\r\n  frameWidth: 32,\r\n  frameHeight: 32,\r\n  walkingAnimationMapping: 0,\r\n  scale: 2,\r\n};\r\n\r\nexport const skeletonOneSpriteDefinition: SpriteDefinition = {\r\n  key: 'skeleton-one',\r\n  source: getSpriteSource('skeleton_one_spritesheet'),\r\n  frameWidth: 32,\r\n  frameHeight: 32,\r\n  walkingAnimationMapping: 0,\r\n  scale: SCALE,\r\n};\r\n\r\nexport const skeletonTwoSpriteDefinition: SpriteDefinition = {\r\n  key: 'skeleton-two',\r\n  source: getSpriteSource('skeleton_two_spritesheet'),\r\n  frameWidth: 32,\r\n  frameHeight: 32,\r\n  walkingAnimationMapping: 0,\r\n  scale: SCALE,\r\n};\r\n\r\nexport const goblinSpriteDefinition: SpriteDefinition = {\r\n  key: 'goblin',\r\n  source: getSpriteSource('goblin_spritesheet'),\r\n  frameWidth: 32,\r\n  frameHeight: 32,\r\n  walkingAnimationMapping: 0,\r\n  scale: SCALE,\r\n};\r\n\r\nexport const soldierSpriteDefinition: SpriteDefinition = {\r\n  key: 'soldier',\r\n  source: getSpriteSource('soldier_spritesheet'),\r\n  frameWidth: 32,\r\n  frameHeight: 32,\r\n  walkingAnimationMapping: 0,\r\n  scale: SCALE,\r\n};\r\n\r\nexport const beetleSpriteDefinition: SpriteDefinition = {\r\n  key: 'beetle',\r\n  source: getSpriteSource('beetle_spritesheet'),\r\n  frameWidth: 32,\r\n  frameHeight: 32,\r\n  walkingAnimationMapping: 0,\r\n  scale: SCALE,\r\n};\r\n\r\nexport const acidBlobSpriteDefinition: SpriteDefinition = {\r\n  key: 'acid-blob',\r\n  source: getSpriteSource('acid_blob_spritesheet'),\r\n  frameWidth: 32,\r\n  frameHeight: 32,\r\n  walkingAnimationMapping: 0,\r\n  scale: SCALE,\r\n};\r\n\r\nexport const slimeSpriteDefinition: SpriteDefinition = {\r\n  key: 'slime',\r\n  source: getSpriteSource('slime_spritesheet'),\r\n  frameWidth: 32,\r\n  frameHeight: 32,\r\n  walkingAnimationMapping: 0,\r\n  scale: SCALE,\r\n};\r\n\r\nexport const purplePortalSpriteDefinition: SpriteDefinition = {\r\n  key: 'purple-portal',\r\n  source: getSpriteSource('purple_portal_spritesheet'),\r\n  frameWidth: 64,\r\n  frameHeight: 64,\r\n  walkingAnimationMapping: 0,\r\n  scale: SCALE,\r\n};\r\n\r\nexport const fantasyIconsSpriteDefinition: SpriteDefinition = {\r\n  key: 'fantasy-icons',\r\n  source: getSpriteSource('fantasy_icons'),\r\n  frameWidth: 32,\r\n  frameHeight: 32,\r\n  walkingAnimationMapping: 0,\r\n  scale: 1,\r\n};\r\n\r\nconst createFireSprite = (color: FireColor): FireSpriteDefinition => ({\r\n  key: `${getFireColorName(color)}-fire`,\r\n  source: getSpriteSource(`${getFireColorName(color)}_fire_spritesheet`),\r\n  frameWidth: 24,\r\n  frameHeight: 32,\r\n  scale: 3,\r\n  color,\r\n});\r\n\r\nexport const fireSpriteDefinitions: FireSpriteDefinition[] = [\r\n  createFireSprite(FireColor.BLUE),\r\n  createFireSprite(FireColor.GREEN),\r\n  createFireSprite(FireColor.PURPLE),\r\n  createFireSprite(FireColor.WHITE),\r\n];\r\n\r\nexport const levelthreeFireColumnDefinition: LevelThreeDamagingFireDefinition = {\r\n  key: 'level-three-fire-column',\r\n  source: getSpriteSource('level_three_fire_column_spritesheet'),\r\n  frameWidth: 45,\r\n  frameHeight: 90,\r\n  scale: 2,\r\n  frameCount: 14,\r\n  frameRate: 4,\r\n};\r\n\r\nexport const levelThreeFireExplosionDefinition: LevelThreeDamagingFireDefinition = {\r\n  key: 'level-three-fire-explosion',\r\n  source: getSpriteSource('level_three_fire_explosion_spritesheet'),\r\n  frameWidth: 32,\r\n  frameHeight: 32,\r\n  scale: 2,\r\n  frameCount: 4,\r\n  frameRate: 3,\r\n};\r\n\r\nexport const levelThreeFireBarrierDefinition = {\r\n  key: 'level-three-fire-barrier',\r\n  source: getSpriteSource('orange_fire_spritesheet'),\r\n  frameWidth: 20,\r\n  frameHeight: 24,\r\n  scale: 3,\r\n  frameCount: 8,\r\n  frameRate: 4,\r\n  offsetY: -20,\r\n};\r\n","import { CharacterSelector } from '../characterSelect/characterSelector';\r\nimport { UIEventEmitter } from '../ui/eventEmitter';\r\n\r\nexport class SceneConfig {\r\n  constructor(\r\n    public uiEmitter: UIEventEmitter,\r\n    public characterSelector: CharacterSelector,\r\n  ) {}\r\n}\r\n","import {\r\n  CHARACTER_SELECT_SCENE_KEY,\r\n  LEVEL_ONE_SCENE_KEY,\r\n  SCALE,\r\n  THEME_SECONDARY_BLUE_NUMBER,\r\n  THEME_YELLOW_NUMBER,\r\n} from '../constants';\r\nimport {\r\n  playerCharacterInformation,\r\n  playerCharacterOptions,\r\n} from '../assetDefinitions/sprites';\r\n\r\nimport { CharacterSelector } from '../characterSelect/characterSelector';\r\nimport { PlayerSpriteDefinition } from '../types/assetDefinitions';\r\nimport { SceneConfig } from '../types/SceneConfig';\r\nimport { UIEventEmitter } from '../ui/eventEmitter';\r\n\r\nconst lineHeight = 15;\r\nconst containerHeight = 5 * lineHeight;\r\n\r\nconst fontFamily = 'Monospace';\r\nconst fontSize = `${lineHeight}px`;\r\n\r\nexport class CharacterSelectScene extends Phaser.Scene {\r\n  private _characterSelector: CharacterSelector;\r\n  private _uiEmitter: UIEventEmitter;\r\n  private _options: {\r\n    definition: PlayerSpriteDefinition;\r\n    container: Phaser.GameObjects.Container;\r\n    graphics: Phaser.GameObjects.Graphics;\r\n  }[] = [];\r\n  private _selectedIndex: number | null = null;\r\n  private _confirmButton: Phaser.GameObjects.Text;\r\n  private _characterSprite: Phaser.GameObjects.Sprite | null = null;\r\n  private _characterTitleText: Phaser.GameObjects.Text | null = null;\r\n  private _characterDescriptionText: Phaser.GameObjects.Text | null = null;\r\n\r\n  constructor() {\r\n    super(CHARACTER_SELECT_SCENE_KEY);\r\n  }\r\n\r\n  public create = ({ uiEmitter, characterSelector }: SceneConfig) => {\r\n    this._characterSelector = characterSelector;\r\n    this._uiEmitter = uiEmitter;\r\n\r\n    this._setHeaderContainer();\r\n    this._setAvatarContainers();\r\n    //this._setDescriptionContainer();\r\n    this._setButtons();\r\n  };\r\n\r\n  private _setHeaderContainer = () => {\r\n    const screenWidth = this.cameras.main.width;\r\n    const containerWidth = screenWidth - lineHeight * 2;\r\n\r\n    const text = this.add\r\n      .text(containerWidth / 2, containerHeight / 2, 'Choose your character', {\r\n        fontFamily,\r\n        fontSize: `${lineHeight * 3}px`,\r\n      })\r\n      .setOrigin(0.5);\r\n    this.add.container(lineHeight, lineHeight, text);\r\n  };\r\n\r\n  private _setAvatarContainers = () => {\r\n    const screenWidth = this.cameras.main.width;\r\n    const options = Object.values(playerCharacterOptions);\r\n\r\n    const containerWidth = (screenWidth / options.length) * 2;\r\n\r\n    let characterIndex = 0;\r\n    for (let i = 0; i < 2; i++) {\r\n      for (let j = 0; j < options.length / 2; j++) {\r\n        const index = characterIndex;\r\n        const definition = options[index];\r\n\r\n        const boxWidth = containerWidth - lineHeight * 2; // width - padding on each side\r\n        const boxHeight = containerHeight;\r\n\r\n        const graphics = this.add.graphics();\r\n        graphics\r\n          .lineStyle(2, THEME_SECONDARY_BLUE_NUMBER, 1)\r\n          .strokeRect(0, 0, boxWidth, boxHeight);\r\n\r\n        const text = this.add\r\n          .text(\r\n            boxWidth / 2, // center width\r\n            boxHeight / 2, // center height\r\n            playerCharacterInformation[definition.infoKey].name,\r\n            { fontFamily, fontSize },\r\n          )\r\n          .setOrigin(0.5);\r\n\r\n        const container = this.add.container(\r\n          j * containerWidth + lineHeight,\r\n          lineHeight +\r\n            containerHeight +\r\n            lineHeight +\r\n            i * (lineHeight + boxHeight), // first container + margin + previous row's height\r\n          [graphics, text],\r\n        );\r\n\r\n        this._options.push({\r\n          definition,\r\n          container,\r\n          graphics,\r\n        });\r\n\r\n        text\r\n          .setInteractive({ useHandCursor: true })\r\n          .on(\r\n            'pointerdown',\r\n            () => this._handleOptionSelect(index, boxWidth, boxHeight),\r\n            this,\r\n          );\r\n        characterIndex++;\r\n      }\r\n    }\r\n  };\r\n\r\n  private _handleOptionSelect = (\r\n    index: number,\r\n    boxWidth: number,\r\n    boxHeight: number,\r\n  ) => {\r\n    if (this._selectedIndex !== null) {\r\n      this._options[this._selectedIndex].graphics\r\n        .lineStyle(2, THEME_SECONDARY_BLUE_NUMBER, 1)\r\n        .strokeRect(0, 0, boxWidth, boxHeight);\r\n    }\r\n\r\n    this._options[index].graphics\r\n      .lineStyle(2, THEME_YELLOW_NUMBER, 1)\r\n      .strokeRect(0, 0, boxWidth, boxHeight);\r\n\r\n    this._selectedIndex = index;\r\n    this._confirmButton.setVisible(true);\r\n    this._setCharacterTitle();\r\n    this._setCharacterSprite();\r\n    this._setCharacterDescription();\r\n  };\r\n\r\n  private _setButtons = () => {\r\n    const screenHeight = this.cameras.main.height;\r\n    const screenWidth = this.cameras.main.width;\r\n\r\n    const randomButton = this.add\r\n      .text(screenHeight / 2, 0, 'Random character', {\r\n        fontFamily,\r\n        fontSize,\r\n      })\r\n      .setInteractive({ useHandCursor: true })\r\n      .setOrigin(0.5)\r\n      .on('pointerdown', this._handleRandomClick, this);\r\n\r\n    this._confirmButton = this.add\r\n      .text(screenWidth / 2, -(lineHeight * 3), 'Select this character', {\r\n        fontFamily,\r\n        fontSize,\r\n      })\r\n      .setInteractive({ useHandCursor: true })\r\n      .setOrigin(0.5)\r\n      .on('pointerdown', this._handleConfirmClick, this)\r\n      .setVisible(false);\r\n\r\n    this.add.container(lineHeight, screenHeight - lineHeight * 2, [\r\n      this._confirmButton,\r\n      randomButton,\r\n    ]);\r\n  };\r\n\r\n  private _setCharacterTitle = () => {\r\n    if (this._selectedIndex === null) return;\r\n\r\n    const screenWidth = this.cameras.main.width;\r\n\r\n    const y = containerHeight * 3 + lineHeight * 5;\r\n\r\n    const { infoKey } = this._options[this._selectedIndex].definition;\r\n\r\n    if (this._characterTitleText) {\r\n      this._characterTitleText.destroy();\r\n    }\r\n\r\n    this._characterTitleText = this.add\r\n      .text(screenWidth / 2, y, playerCharacterInformation[infoKey].name, {\r\n        fontFamily,\r\n        fontSize: `${lineHeight * 2}px`,\r\n      })\r\n      .setOrigin(0.5);\r\n  };\r\n\r\n  private _setCharacterDescription = () => {\r\n    if (this._selectedIndex === null) return;\r\n\r\n    const screenWidth = this.cameras.main.width;\r\n\r\n    const y = containerHeight * 3 + lineHeight * 8;\r\n\r\n    const { infoKey } = this._options[this._selectedIndex].definition;\r\n\r\n    if (this._characterDescriptionText) {\r\n      this._characterDescriptionText.destroy();\r\n    }\r\n\r\n    this._characterDescriptionText = this.add\r\n      .text(\r\n        screenWidth / 2,\r\n        y,\r\n        playerCharacterInformation[infoKey].description,\r\n        {\r\n          fontFamily,\r\n          fontSize,\r\n          wordWrap: { width: screenWidth - lineHeight * 2 },\r\n          align: 'center',\r\n        },\r\n      )\r\n      .setOrigin(0.5);\r\n  };\r\n\r\n  private _setCharacterSprite = () => {\r\n    if (this._selectedIndex === null) return;\r\n\r\n    const screenWidth = this.cameras.main.width;\r\n\r\n    const y = containerHeight * 6 + lineHeight;\r\n\r\n    const spriteKey = this._options[this._selectedIndex].definition.key;\r\n\r\n    if (this._characterSprite) {\r\n      this._characterSprite.destroy();\r\n    }\r\n\r\n    this._characterSprite = this.add\r\n      .sprite(screenWidth / 2, y, spriteKey, 1)\r\n      .setScale(SCALE)\r\n      .setDisplaySize(150, 150)\r\n      .setOrigin(0.5);\r\n  };\r\n\r\n  private _handleConfirmClick = () => {\r\n    if (this._selectedIndex === null) return;\r\n\r\n    this._makeCharacterSelection(this._options[this._selectedIndex].definition);\r\n  };\r\n\r\n  private _handleRandomClick = () => {\r\n    this._makeCharacterSelection();\r\n  };\r\n\r\n  private _makeCharacterSelection = (definition?: PlayerSpriteDefinition) => {\r\n    this._characterSelector.setPlayerDefinition(definition);\r\n\r\n    this.scene.start(\r\n      LEVEL_ONE_SCENE_KEY,\r\n      new SceneConfig(this._uiEmitter, this._characterSelector),\r\n    );\r\n  };\r\n}\r\n","import {\r\n  assetCredits,\r\n  guideCredits,\r\n  introMessage,\r\n} from '../helpers/creditsSceneContent';\r\n\r\nimport { CREDIT_SCENE_KEY } from '../constants';\r\n\r\nconst lineHeight = 15;\r\n\r\nconst fontFamily = 'Monospace';\r\nconst fontSize = `${lineHeight}px`;\r\n\r\nconst introTextDuration = 5000;\r\n\r\nexport class CreditsScene extends Phaser.Scene {\r\n  private _scrollingTextContainer: Phaser.GameObjects.Container;\r\n  private _introText: Phaser.GameObjects.Text;\r\n  private _showScrollingText = false;\r\n  private _scrollingPaused = false;\r\n\r\n  constructor() {\r\n    super(CREDIT_SCENE_KEY);\r\n  }\r\n\r\n  public create = () => {\r\n    this._setScrollingTextContainer();\r\n    this._setIntroText();\r\n    this._setLinks();\r\n\r\n    this.time.delayedCall(introTextDuration, this._startTextScroll, [], this);\r\n  };\r\n\r\n  public update = () => {\r\n    if (this._showScrollingText) {\r\n      this._moveScrollingText();\r\n    }\r\n  };\r\n\r\n  private _setScrollingTextContainer = () => {\r\n    const screenDimension = this._getScreenDimension();\r\n\r\n    const text = this._createCreditsText();\r\n\r\n    this._scrollingTextContainer = this.add\r\n      .container(screenDimension, screenDimension * 3, text)\r\n      .setVisible(false);\r\n  };\r\n\r\n  private _setIntroText = () => {\r\n    const screenDimension = this._getScreenDimension();\r\n\r\n    this._introText = this.add\r\n      .text(screenDimension, screenDimension, introMessage, {\r\n        fontFamily,\r\n        fontSize: `${lineHeight * 3}px`,\r\n        wordWrap: { width: screenDimension - 50 },\r\n        align: 'center',\r\n      })\r\n      .setOrigin(0.5);\r\n  };\r\n\r\n  private _setLinks = () => {\r\n    this.add\r\n      .text(lineHeight, lineHeight, 'Restart game', {\r\n        fontFamily,\r\n        fontSize,\r\n      })\r\n      .setInteractive({ useHandCursor: true })\r\n      .on('pointerdown', () => this._handleRestartGameClick());\r\n\r\n    this.add\r\n      .text(lineHeight, lineHeight * 3, 'Go home', {\r\n        fontFamily,\r\n        fontSize,\r\n      })\r\n      .setInteractive({ useHandCursor: true })\r\n      .on('pointerdown', () => this._handleGoHomeClick());\r\n\r\n    this.add\r\n      .text(lineHeight, lineHeight * 5, 'Go to credits page', {\r\n        fontFamily,\r\n        fontSize,\r\n      })\r\n      .setInteractive({ useHandCursor: true })\r\n      .on('pointerdown', () => this._handleGoToCreditsClick());\r\n  };\r\n\r\n  private _startTextScroll = () => {\r\n    this._introText.destroy();\r\n    this._scrollingTextContainer.setVisible(true);\r\n    this._showScrollingText = true;\r\n  };\r\n\r\n  private _moveScrollingText = () => {\r\n    if (this._scrollingPaused) return;\r\n    this._scrollingTextContainer.setY(this._scrollingTextContainer.y - 0.75);\r\n  };\r\n\r\n  private _handleCreditsHover = (hovering: boolean) => {\r\n    this._scrollingPaused = hovering;\r\n  };\r\n\r\n  private _handleRestartGameClick = () => {\r\n    if (window) {\r\n      window.location.reload();\r\n    }\r\n  };\r\n\r\n  private _handleGoHomeClick = () => {\r\n    if (window) {\r\n      window.location.href = window.location.origin;\r\n    }\r\n  };\r\n\r\n  private _handleGoToCreditsClick = () => {\r\n    if (window) {\r\n      window.location.href = window.location.origin + '/gameCredits';\r\n    }\r\n  };\r\n\r\n  private _createCreditsText = () => {\r\n    let text = 'Guides\\n\\n\\n';\r\n\r\n    text += this._getGuideCredits();\r\n    text += '\\n\\n\\nAssets\\n\\n\\n';\r\n    text += this._getAssetCredits();\r\n\r\n    return this.add\r\n      .text(0, 0, text, {\r\n        fontSize,\r\n        fontFamily,\r\n        align: 'center',\r\n      })\r\n      .setOrigin(0.5)\r\n      .setInteractive()\r\n      .on('pointerover', () => this._handleCreditsHover(true))\r\n      .on('pointerout', () => this._handleCreditsHover(false));\r\n  };\r\n\r\n  private _getGuideCredits = () => guideCredits.map(c => c.name).join(`\\n\\n`);\r\n  private _getAssetCredits = () => assetCredits.map(c => c.name).join(`\\n\\n`);\r\n\r\n  private _getScreenDimension = () => this.cameras.main.width / 2;\r\n}\r\n","export const getGameWidth = (scene: Phaser.Scene) => {\r\n  const value = scene.sys.game.config.width;\r\n  return typeof value === 'number' ? value : parseInt(value);\r\n};\r\n\r\nexport const getGameHeight = (scene: Phaser.Scene) => {\r\n  const value = scene.sys.game.config.height;\r\n  return typeof value === 'number' ? value : parseInt(value);\r\n};\r\n\r\nexport const getMaxSquareScreenDimension = (\r\n  width: number,\r\n  height: number,\r\n  divisibleBy: number,\r\n) => {\r\n  if (width === height && width % divisibleBy === 0) {\r\n    return width;\r\n  }\r\n\r\n  let result: number;\r\n\r\n  const max = Math.max(width, height);\r\n\r\n  if (max === width) {\r\n    result = height;\r\n  } else {\r\n    result = width;\r\n  }\r\n\r\n  while (result % divisibleBy !== 0) {\r\n    result--;\r\n  }\r\n\r\n  return result;\r\n};\r\n","import {\r\n  DIALOG_PLUGIN_KEY,\r\n  THEME_DARK_BLUE_NUMBER,\r\n  THEME_DARK_YELLOW,\r\n  THEME_DARK_YELLOW_NUMBER,\r\n  THEME_WHITE,\r\n} from '../constants';\r\nimport { getGameHeight, getGameWidth } from '../helpers/gameDimensions';\r\n\r\nimport { DialogConfig } from '../types/dialog';\r\nimport Phaser from 'phaser';\r\n\r\n// credit https://github.com/nkholski/phaser-plugin-starter and https://gamedevacademy.org/create-a-dialog-modal-plugin-in-phaser-3-part-1/\r\nexport default class DialogPlugin extends Phaser.Plugins.ScenePlugin {\r\n  public config: DialogConfig = {\r\n    borderThickness: 3,\r\n    borderColor: THEME_DARK_YELLOW_NUMBER,\r\n    borderAlpha: 1,\r\n    windowAlpha: 0.9,\r\n    windowColor: THEME_DARK_BLUE_NUMBER,\r\n    windowHeight: 150,\r\n    padding: 32,\r\n    depth: 50,\r\n    closeBtnColor: THEME_DARK_YELLOW,\r\n    closeBtnFontSize: 24,\r\n    fontSize: 20,\r\n    speed: 5,\r\n  };\r\n  public eventCounter: number = 0;\r\n  public visible: boolean = false;\r\n  public text: Phaser.GameObjects.Text;\r\n  public dialog: string[];\r\n  public graphics: Phaser.GameObjects.Graphics;\r\n  public closeBtn: Phaser.GameObjects.Text;\r\n  public timedEvent: Phaser.Time.TimerEvent;\r\n  private _onClose?: () => any;\r\n\r\n  private scaledTextSize = this.config.fontSize;\r\n\r\n  constructor(\r\n    scene: Phaser.Plugins.ScenePlugin['scene'],\r\n    pluginManager: Phaser.Plugins.PluginManager,\r\n  ) {\r\n    super(scene, pluginManager, DIALOG_PLUGIN_KEY);\r\n    this.scene = scene;\r\n  }\r\n\r\n  boot() {\r\n    const eventEmitter = this.systems.events;\r\n\r\n    eventEmitter.on('shutdown', this.shutdown, this);\r\n    eventEmitter.on('destroy', this.destroy, this);\r\n  }\r\n\r\n  shutdown() {\r\n    if (this.timedEvent) this.timedEvent.remove();\r\n    if (this.text) this.text.destroy();\r\n  }\r\n\r\n  destroy() {\r\n    this.shutdown();\r\n  }\r\n\r\n  init = (options?: DialogConfig) => {\r\n    if (!options) options = {};\r\n\r\n    this.setOptions(options)\r\n      ._createWindow()\r\n      .updateDimensions();\r\n  };\r\n\r\n  setOptions = (options?: DialogConfig) => {\r\n    Object.keys(this.config).forEach(key => {\r\n      this.config[key] = (options ?? {})[key] ?? this.config[key];\r\n    });\r\n\r\n    return this;\r\n  };\r\n\r\n  toggleWindow = (newValue: boolean = !this.visible, callback?: () => any) => {\r\n    this.visible = newValue;\r\n    if (this.text) this.text.setVisible(this.visible);\r\n    if (this.graphics) this.graphics.setVisible(this.visible);\r\n    if (this.closeBtn) this.closeBtn.visible = this.visible;\r\n    if (!newValue && this._onClose !== undefined) {\r\n      this._onClose();\r\n      this._onClose = undefined;\r\n    }\r\n    if (newValue && callback) {\r\n      this._onClose = callback;\r\n    }\r\n  };\r\n\r\n  setText = (text: string, animate: boolean = true) => {\r\n    this.eventCounter = 0;\r\n    this.dialog = text.split('');\r\n    if (this.timedEvent) this.timedEvent.remove();\r\n\r\n    const temp = animate ? '' : text;\r\n    this._setText(temp);\r\n\r\n    if (animate) {\r\n      this.timedEvent = this.scene.time.addEvent({\r\n        delay: 150 - (this.config.speed ?? 1) * 30,\r\n        callback: this._animateText,\r\n        callbackScope: this,\r\n        loop: true,\r\n      });\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  public updateDimensions = (gameSize?: Phaser.Structs.Size) => {\r\n    let width = gameSize ? gameSize.width : this._getGameWidth();\r\n\r\n    let factor: number;\r\n    if (width <= 400) {\r\n      factor = 0.6;\r\n    } else if (width <= 600) {\r\n      factor = 0.8;\r\n    } else {\r\n      factor = 1;\r\n    }\r\n    this.scaledTextSize = this.config.fontSize! * factor;\r\n  };\r\n\r\n  private _getGameWidth = () => getGameWidth(this.scene);\r\n\r\n  private _getGameHeight = () => getGameHeight(this.scene);\r\n\r\n  private _calculateWindowDimensions = (width: number, height: number) => ({\r\n    x: this.config.padding!,\r\n    y: height - this.config.windowHeight! - this.config.padding!,\r\n    rectWidth: width - this.config.padding! * 2,\r\n    rectHeight: this.config.windowHeight!,\r\n  });\r\n\r\n  private _createInnerWindow = (\r\n    x: number,\r\n    y: number,\r\n    width: number,\r\n    height: number,\r\n  ) => {\r\n    this.graphics\r\n      .fillStyle(this.config.windowColor!, this.config.windowAlpha!)\r\n      .fillRect(x + 1, y + 1, width - 1, height - 1);\r\n\r\n    return this;\r\n  };\r\n\r\n  private _createOuterWindow = (\r\n    x: number,\r\n    y: number,\r\n    width: number,\r\n    height: number,\r\n  ) => {\r\n    this.graphics\r\n      .lineStyle(\r\n        this.config.borderThickness!,\r\n        this.config.borderColor!,\r\n        this.config.borderAlpha,\r\n      )\r\n      .strokeRect(x, y, width, height);\r\n    return this;\r\n  };\r\n\r\n  private _createCloseModalButton = () => {\r\n    const closeButton = this.scene.make.text({\r\n      x:\r\n        this._getGameWidth() -\r\n        this.config.padding! -\r\n        this.config.closeBtnFontSize!,\r\n      y:\r\n        this._getGameHeight() -\r\n        this.config.windowHeight! -\r\n        this.config.padding! +\r\n        3,\r\n      text: 'X',\r\n      style: {\r\n        font: `bold ${this.config.closeBtnFontSize}px Monospace`,\r\n        color: this.config.closeBtnColor,\r\n      },\r\n      depth: this.config.depth! + 1,\r\n      scrollFactor: 0,\r\n    });\r\n\r\n    closeButton.setInteractive();\r\n    closeButton.on('pointerover', () => closeButton.setColor('#fff'));\r\n    closeButton.on('pointerout', () =>\r\n      closeButton.setColor(this.config.closeBtnColor!),\r\n    );\r\n    closeButton.on('pointerdown', () => {\r\n      this.toggleWindow();\r\n      if (this.timedEvent) this.timedEvent.remove();\r\n      if (this.text) this.text.destroy();\r\n    });\r\n\r\n    this.closeBtn = closeButton;\r\n    return this;\r\n  };\r\n\r\n  private _createCloseModalButtonBorder = () => {\r\n    const width = this.config.closeBtnFontSize! + 8;\r\n    const x = this._getGameWidth() - this.config.padding! - width;\r\n    const y =\r\n      this._getGameHeight() - this.config.windowHeight! - this.config.padding!;\r\n    this.graphics.strokeRect(x, y, width, width);\r\n  };\r\n\r\n  private _setText = (text: string) => {\r\n    if (this.text) this.text.destroy();\r\n\r\n    const x = this.config.padding! + 10;\r\n    const y =\r\n      this._getGameHeight() -\r\n      this.config.windowHeight! -\r\n      this.config.padding! +\r\n      10;\r\n\r\n    this.text = this.scene.make.text({\r\n      x,\r\n      y,\r\n      text,\r\n      style: {\r\n        wordWrap: {\r\n          width: this._getGameWidth() - this.config.padding! * 2 - 50,\r\n          useAdvancedWrap: true,\r\n        },\r\n        color: THEME_WHITE,\r\n        fontSize: `${this.scaledTextSize}px`,\r\n        fontFamily: 'Monospace',\r\n      },\r\n      depth: this.config.depth,\r\n      scrollFactor: 0,\r\n    });\r\n  };\r\n\r\n  private _animateText = () => {\r\n    this.eventCounter++;\r\n    this.text.setText(this.text.text + this.dialog[this.eventCounter - 1]);\r\n    if (this.eventCounter === this.dialog.length) {\r\n      this.timedEvent.remove();\r\n    }\r\n  };\r\n\r\n  private _createWindow = () => {\r\n    const gameWidth = this._getGameWidth();\r\n\r\n    const gameHeight = this._getGameHeight();\r\n\r\n    const { x, y, rectWidth, rectHeight } = this._calculateWindowDimensions(\r\n      gameWidth,\r\n      gameHeight,\r\n    );\r\n\r\n    this.graphics = this.scene.add\r\n      .graphics()\r\n      .setDepth(this.config.depth!)\r\n      .setScrollFactor(0);\r\n\r\n    this._createOuterWindow(x, y, rectWidth, rectHeight)\r\n      ._createInnerWindow(x, y, rectWidth, rectHeight)\r\n      ._createCloseModalButton()\r\n      ._createCloseModalButtonBorder();\r\n\r\n    if (this.graphics) this.graphics.setVisible(this.visible);\r\n    if (this.text) this.text.setVisible(this.visible);\r\n    if (this.closeBtn) this.closeBtn.setVisible(this.visible);\r\n\r\n    return this;\r\n  };\r\n}\r\n","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0; // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","import { Coordinates } from './position';\r\nimport { ItemDefinition } from './interactions';\r\nimport { SpriteDefinition } from './assetDefinitions';\r\n\r\nexport enum PotionType {\r\n  MINI_HEALTH,\r\n  HEALTH,\r\n  SPEED,\r\n}\r\n\r\nexport interface LevelThreeItem extends ItemDefinition {}\r\n\r\nexport enum LevelThreeDifficulty {\r\n  EASY,\r\n  NORMAL,\r\n  HEROIC,\r\n  LEGENDARY,\r\n  NIGHTMARE,\r\n}\r\n\r\nexport interface OrbDefinition {\r\n  location: {\r\n    primary: Coordinates;\r\n    all: Coordinates[];\r\n  };\r\n}\r\n\r\nexport interface OrbMap {\r\n  1: OrbDefinition;\r\n  2: OrbDefinition;\r\n  3: OrbDefinition;\r\n}\r\n\r\nexport interface LevelThreeDifficultySettings {\r\n  friendlyName: string;\r\n  message: string;\r\n  healthPotions: {\r\n    mini: number;\r\n    normal: number;\r\n  };\r\n  player: {\r\n    speedMod: number;\r\n    speedDuration: number;\r\n  };\r\n  enemy: {\r\n    damageMod: number;\r\n    critsEnabled: boolean;\r\n    speedMod: number;\r\n    followEnabled: boolean;\r\n  };\r\n  fire: {\r\n    speedModifier: number;\r\n    damageModifier: number;\r\n  };\r\n}\r\n\r\nexport interface LevelThreeDifficultySettingsMap {\r\n  [LevelThreeDifficulty.EASY]: LevelThreeDifficultySettings;\r\n  [LevelThreeDifficulty.NORMAL]: LevelThreeDifficultySettings;\r\n  [LevelThreeDifficulty.HEROIC]: LevelThreeDifficultySettings;\r\n  [LevelThreeDifficulty.LEGENDARY]: LevelThreeDifficultySettings;\r\n  [LevelThreeDifficulty.NIGHTMARE]: LevelThreeDifficultySettings;\r\n}\r\n\r\nexport interface LevelThreeDamagingFireDefinition {\r\n  key: string;\r\n  source: string;\r\n  frameWidth: number;\r\n  frameHeight: number;\r\n  scale: number;\r\n  frameCount: number;\r\n  frameRate: number;\r\n}\r\n\r\nexport enum LevelThreeFireType {\r\n  COLUMN,\r\n  EXPLOSION,\r\n}\r\n\r\nexport interface LevelThreeEnemiesDefinition {\r\n  options: SpriteDefinition[];\r\n  locations: Coordinates[];\r\n  startingSpeed: number;\r\n  radius: number;\r\n}\r\n","import {\r\n  LevelFourEnemyDefinition,\r\n  LevelFourFoodDefinition,\r\n  LevelFourInvisibleInteractionDefinition,\r\n  LevelFourObjectiveDefinition,\r\n} from '../types/levelFour';\r\n\r\nimport { AnimationDefinitionMap } from '../types/animations';\r\nimport { CharacterSelector } from '../characterSelect/characterSelector';\r\nimport { LayerDefinition } from '../types/assetDefinitions';\r\nimport { TILE_SIZE } from '../constants';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nexport const levelFourLayers: LayerDefinition = {\r\n  ['ground']: {\r\n    configure: (layer, level) => {\r\n      layer.setCollisionByExclusion([-1]);\r\n      level.physics.world.bounds.width = layer.width;\r\n      level.physics.world.bounds.height = layer.height;\r\n\r\n      // setup player collider\r\n      level.physics.add.collider(layer, level.player);\r\n\r\n      // setup enemy collider\r\n      Object.keys(level.enemies).forEach(key => {\r\n        if (level.enemies[key] && level.enemies[key].container) {\r\n          level.physics.add.collider(layer, level.enemies[key].container);\r\n        }\r\n      });\r\n\r\n      // setup food collider\r\n      Object.keys(level.food).forEach(key => {\r\n        if (level.food[key] && level.food[key].container) {\r\n          level.physics.add.collider(layer, level.food[key].container);\r\n        }\r\n      });\r\n\r\n      // setup objective (js frameworks) collider\r\n      Object.keys(level.objectives).forEach(key => {\r\n        if (level.objectives[key] && level.objectives[key].container) {\r\n          level.physics.add.collider(layer, level.objectives[key].container);\r\n        }\r\n      });\r\n\r\n      // setup invis interaction collider\r\n      (level.invisibleInteractions ?? []).forEach(ii => {\r\n        if (ii.rectangle) {\r\n          level.physics.add.collider(layer, ii.rectangle);\r\n        }\r\n      });\r\n\r\n      // setup exit portal collider\r\n      if (level.exitPortal) {\r\n        level.physics.add.collider(layer, level.exitPortal);\r\n      }\r\n    },\r\n  },\r\n  ['lava']: {\r\n    configure: (layer, level) => {\r\n      layer.setCollisionByExclusion([-1]);\r\n      level.physics.add.collider(\r\n        layer,\r\n        level.player,\r\n        level.handleLavaCollision,\r\n        undefined,\r\n        this,\r\n      );\r\n    },\r\n  },\r\n  ['bg_parallax_upper']: {\r\n    depth: 5,\r\n  },\r\n  ['bg_parallax_lower']: {\r\n    depth: 5,\r\n  },\r\n  ['bg_static']: {\r\n    depth: 5,\r\n  },\r\n  ['water']: {\r\n    depth: 16,\r\n  },\r\n};\r\n\r\ntype EnemyDescription = {\r\n  textureKey: string;\r\n  name: string;\r\n  damage: number;\r\n};\r\nconst slime: EnemyDescription = {\r\n  name: 'feature creep',\r\n  textureKey: 'slime',\r\n  damage: 15,\r\n};\r\nconst beetle: EnemyDescription = {\r\n  name: 'bug',\r\n  textureKey: 'beetle',\r\n  damage: 20,\r\n};\r\nconst acidBlob: EnemyDescription = {\r\n  name: 'code smell',\r\n  textureKey: 'acid-blob',\r\n  damage: 10,\r\n};\r\n\r\nexport const getLevelFourAnimationMap = (\r\n  key: string,\r\n): AnimationDefinitionMap => ({\r\n  [key]: {\r\n    walk: {\r\n      key: 'player-walk',\r\n      frames: [6, 7, 8],\r\n      frameRate: 6,\r\n      repeat: -1,\r\n    },\r\n    idle: {\r\n      key: 'player-idle',\r\n      frames: [7],\r\n    },\r\n  },\r\n  [beetle.textureKey]: {\r\n    walk: {\r\n      key: 'beetle-walk',\r\n      frames: [4, 5, 6, 7],\r\n      frameRate: 6,\r\n      repeat: -1,\r\n    },\r\n    idle: {\r\n      key: 'beetle-idle',\r\n      frames: [1],\r\n    },\r\n  },\r\n  [acidBlob.textureKey]: {\r\n    walk: {\r\n      key: 'acid-blob-walk',\r\n      frames: [0, 1, 2, 3, 4, 5, 6],\r\n      frameRate: 6,\r\n      repeat: -1,\r\n    },\r\n    idle: {\r\n      key: 'acid-blob-idle',\r\n      frames: [1],\r\n    },\r\n  },\r\n  [slime.textureKey]: {\r\n    walk: {\r\n      key: 'slime-walk',\r\n      frames: [0, 1, 2, 3],\r\n      frameRate: 6,\r\n      repeat: -1,\r\n    },\r\n    idle: {\r\n      key: 'slime-idle',\r\n      frames: [1],\r\n    },\r\n  },\r\n});\r\n\r\nconst createEnemyId = () => `enemy-${uuidv4()}`;\r\n\r\nexport const levelFourEnemies: LevelFourEnemyDefinition[] = [\r\n  {\r\n    id: createEnemyId(),\r\n    startPos: {\r\n      x: 15,\r\n      y: 52,\r\n    },\r\n    bounds: {\r\n      left: 15,\r\n      right: 20,\r\n    },\r\n    ...slime,\r\n  },\r\n  {\r\n    id: createEnemyId(),\r\n    startPos: {\r\n      x: 14,\r\n      y: 22,\r\n    },\r\n    bounds: {\r\n      left: 14,\r\n      right: 28,\r\n    },\r\n    ...beetle,\r\n  },\r\n  {\r\n    id: createEnemyId(),\r\n    startPos: {\r\n      x: 33,\r\n      y: 22,\r\n    },\r\n    bounds: {\r\n      left: 33,\r\n      right: 49,\r\n    },\r\n    ...acidBlob,\r\n  },\r\n  {\r\n    id: createEnemyId(),\r\n    startPos: {\r\n      x: 52,\r\n      y: 36,\r\n    },\r\n    bounds: {\r\n      left: 52,\r\n      right: 65,\r\n    },\r\n    ...slime,\r\n  },\r\n  {\r\n    id: createEnemyId(),\r\n    startPos: {\r\n      x: 59,\r\n      y: 22,\r\n    },\r\n    bounds: {\r\n      left: 59,\r\n      right: 70,\r\n    },\r\n    ...acidBlob,\r\n  },\r\n  {\r\n    id: createEnemyId(),\r\n    startPos: {\r\n      x: 82,\r\n      y: 16,\r\n    },\r\n    bounds: {\r\n      left: 82,\r\n      right: 94,\r\n    },\r\n    ...beetle,\r\n  },\r\n  {\r\n    id: createEnemyId(),\r\n    startPos: {\r\n      x: 85,\r\n      y: 52,\r\n    },\r\n    bounds: {\r\n      left: 85,\r\n      right: 96,\r\n    },\r\n    ...beetle,\r\n  },\r\n  {\r\n    id: createEnemyId(),\r\n    startPos: {\r\n      x: 122,\r\n      y: 49,\r\n    },\r\n    bounds: {\r\n      left: 122,\r\n      right: 132,\r\n    },\r\n    ...slime,\r\n  },\r\n];\r\n\r\nexport const levelFourFoods: LevelFourFoodDefinition[] = [\r\n  {\r\n    id: uuidv4(),\r\n    position: { x: 12, y: 34 },\r\n    textureKey: 'coffee-cup-image',\r\n    name: 'coffee',\r\n    value: 10,\r\n  },\r\n  {\r\n    id: uuidv4(),\r\n    position: { x: 13, y: 40 },\r\n    textureKey: 'tuna-roll-image',\r\n    name: 'sushi',\r\n    value: 20,\r\n  },\r\n  {\r\n    id: uuidv4(),\r\n    position: { x: 10, y: 8 },\r\n    textureKey: 'pizza-party-image',\r\n    name: 'pizza party (invulnerability)',\r\n    value: 0,\r\n  },\r\n  {\r\n    id: uuidv4(),\r\n    position: { x: 64, y: 36 },\r\n    textureKey: 'tuna-roll-image',\r\n    name: 'sushi',\r\n    value: 20,\r\n  },\r\n  {\r\n    id: uuidv4(),\r\n    position: { x: 71, y: 49 },\r\n    textureKey: 'coffee-cup-image',\r\n    name: 'coffee',\r\n    value: 10,\r\n  },\r\n  {\r\n    id: uuidv4(),\r\n    position: { x: 122, y: 49 },\r\n    textureKey: 'coffee-cup-image',\r\n    name: 'coffee',\r\n    value: 10,\r\n  },\r\n];\r\n\r\nexport const levelFourObjectives: LevelFourObjectiveDefinition[] = [\r\n  {\r\n    id: uuidv4(),\r\n    position: {\r\n      x: 2,\r\n      y: 51,\r\n    },\r\n    name: '',\r\n    textureKey: 'javascript-pixel-image',\r\n  },\r\n  {\r\n    id: uuidv4(),\r\n    position: {\r\n      x: 2,\r\n      y: 25,\r\n    },\r\n    name: '',\r\n    textureKey: 'javascript-pixel-image',\r\n  },\r\n  {\r\n    id: uuidv4(),\r\n    position: {\r\n      x: 64,\r\n      y: 29,\r\n    },\r\n    name: '',\r\n    textureKey: 'javascript-pixel-image',\r\n  },\r\n  {\r\n    id: uuidv4(),\r\n    position: {\r\n      x: 86,\r\n      y: 40,\r\n    },\r\n    name: '',\r\n    textureKey: 'javascript-pixel-image',\r\n  },\r\n  {\r\n    id: uuidv4(),\r\n    position: {\r\n      x: 133,\r\n      y: 51,\r\n    },\r\n    name: '',\r\n    textureKey: 'javascript-pixel-image',\r\n  },\r\n  {\r\n    id: uuidv4(),\r\n    position: {\r\n      x: 126,\r\n      y: 40,\r\n    },\r\n    name: '',\r\n    textureKey: 'javascript-pixel-image',\r\n  },\r\n];\r\n\r\nexport const levelFourInvisibleInteractions: LevelFourInvisibleInteractionDefinition[] = [\r\n  {\r\n    position: {\r\n      x: 109,\r\n      y: 35,\r\n    },\r\n    width: TILE_SIZE,\r\n    height: TILE_SIZE,\r\n    handlerKey: 'ladder',\r\n    payload: {\r\n      position: {\r\n        x: 108,\r\n        y: 8,\r\n      },\r\n    },\r\n  },\r\n];\r\n\r\nexport const levelFourExitPortal = {\r\n  position: {\r\n    x: 149,\r\n    y: 38,\r\n  },\r\n  anim: {\r\n    key: 'purple-portal-animation',\r\n    frames: [0, 1, 2, 3, 4, 5, 6, 7],\r\n    frameRate: 6,\r\n    repeat: -1,\r\n  },\r\n};\r\n","import {\r\n  LevelThreeDifficulty,\r\n  LevelThreeDifficultySettings,\r\n  LevelThreeFireType,\r\n} from '../types/levelThree';\r\nimport { PayloadAction, createSlice } from '@reduxjs/toolkit';\r\n\r\nimport { Coordinates } from '../types/position';\r\nimport { StateSelector } from '../types/redux';\r\nimport { levelThreeDifficultySettingsMap } from '../cast/levelThree';\r\n\r\nexport type LevelThreeState = {\r\n  orbs: {\r\n    1: boolean;\r\n    2: boolean;\r\n    3: boolean;\r\n  };\r\n  health: number;\r\n  difficulty: LevelThreeDifficulty;\r\n  activeFires: {\r\n    [LevelThreeFireType.COLUMN]: boolean;\r\n    [LevelThreeFireType.EXPLOSION]: boolean;\r\n  };\r\n  standingInFire?: Coordinates;\r\n  playerIsDead: boolean;\r\n  lastDamageTimestamp?: string;\r\n  enemies: string[];\r\n};\r\n\r\nconst initialState: LevelThreeState = {\r\n  orbs: {\r\n    1: false,\r\n    2: false,\r\n    3: false,\r\n  },\r\n  health: 100,\r\n  difficulty: LevelThreeDifficulty.EASY,\r\n  activeFires: {\r\n    [LevelThreeFireType.COLUMN]: false,\r\n    [LevelThreeFireType.EXPLOSION]: false,\r\n  },\r\n  standingInFire: undefined,\r\n  playerIsDead: false,\r\n  lastDamageTimestamp: undefined,\r\n  enemies: [],\r\n};\r\n\r\nexport const levelThreeSlice = createSlice({\r\n  name: 'levelThree',\r\n  initialState,\r\n  reducers: {\r\n    healthChanged: (state, action: PayloadAction<number>) => ({\r\n      ...state,\r\n      health: changeHealth(state.health, action.payload),\r\n      lastDamageTimestamp:\r\n        action.payload < 0 ? new Date().toString() : state.lastDamageTimestamp,\r\n    }),\r\n    orbCollected: (state, action: PayloadAction<1 | 2 | 3>) => ({\r\n      ...state,\r\n      orbs: {\r\n        ...state.orbs,\r\n        [action.payload]: true,\r\n      },\r\n    }),\r\n    activeFiresChanged: (\r\n      state,\r\n      action: PayloadAction<{ active: boolean; type: LevelThreeFireType }>,\r\n    ) => ({\r\n      ...state,\r\n      activeFires: {\r\n        ...state.activeFires,\r\n        [action.payload.type]: action.payload.active,\r\n      },\r\n    }),\r\n    standingInFireChanged: (\r\n      state,\r\n      action: PayloadAction<Coordinates | undefined>,\r\n    ) => ({\r\n      ...state,\r\n      standingInFire: action.payload\r\n        ? {\r\n            ...state.standingInFire,\r\n            ...action.payload,\r\n          }\r\n        : undefined,\r\n    }),\r\n    levelRestarted: state => ({\r\n      ...initialState,\r\n      difficulty: state.difficulty,\r\n    }),\r\n    enemiesChanged: (state, action: PayloadAction<string[]>) => ({\r\n      ...state,\r\n      enemies: action.payload,\r\n    }),\r\n    difficultyChanged: (_, action: PayloadAction<LevelThreeDifficulty>) => ({\r\n      ...initialState,\r\n      difficulty: action.payload,\r\n    }),\r\n  },\r\n});\r\n\r\nconst { actions, reducer } = levelThreeSlice;\r\n\r\nconst selectLevelThreeState: StateSelector<LevelThreeState> = state =>\r\n  state.levelThree;\r\nconst selectLevelThreeHealth: StateSelector<LevelThreeState['health']> = state =>\r\n  selectLevelThreeState(state).health;\r\nconst selectLevelThreeDifficultySettings: StateSelector<LevelThreeState['difficulty']> = state =>\r\n  selectLevelThreeState(state).difficulty;\r\nconst selectLevelThreeOrbs: StateSelector<LevelThreeState['orbs']> = state =>\r\n  selectLevelThreeState(state).orbs;\r\nconst selectLevelThreeStandingInFire: StateSelector<LevelThreeState['standingInFire']> = state =>\r\n  selectLevelThreeState(state).standingInFire;\r\nconst selectLevelThreeActiveFires: StateSelector<LevelThreeState['activeFires']> = state =>\r\n  selectLevelThreeState(state).activeFires;\r\nconst selectLevelThreePlayerIsDead: StateSelector<LevelThreeState['playerIsDead']> = state =>\r\n  selectLevelThreeState(state).playerIsDead;\r\nconst selectLevelThreeLastDamageTimestamp: StateSelector<LevelThreeState['lastDamageTimestamp']> = state =>\r\n  selectLevelThreeState(state).lastDamageTimestamp;\r\nconst selectLevelThreeEnemies: StateSelector<LevelThreeState['enemies']> = state =>\r\n  selectLevelThreeState(state).enemies;\r\n\r\nexport const levelThreeActions = actions;\r\nexport const levelThreeReducer = reducer;\r\nexport const levelThreeSelectors = {\r\n  selectLevelThreeHealth,\r\n  selectLevelThreeDifficultySettings,\r\n  selectLevelThreeOrbs,\r\n  selectLevelThreeStandingInFire,\r\n  selectLevelThreeActiveFires,\r\n  selectLevelThreePlayerIsDead,\r\n  selectLevelThreeLastDamageTimestamp,\r\n  selectLevelThreeEnemies,\r\n};\r\n\r\nconst changeHealth = (currHealth: number, changeValue: number) => {\r\n  const newValue = currHealth + changeValue;\r\n  if (newValue >= 100) {\r\n    return 100;\r\n  } else if (newValue <= 0) {\r\n    return 0;\r\n  } else {\r\n    return newValue;\r\n  }\r\n};\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport { gameCmsReducer } from './gameCmsSlice';\r\nimport { levelThreeReducer } from './levelThreeSlice';\r\nimport { overlayReducer } from './overlaySlice';\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    overlay: overlayReducer,\r\n    gameCms: gameCmsReducer,\r\n    levelThree: levelThreeReducer,\r\n  },\r\n});\r\n\r\nexport type RootState = ReturnType<typeof store.getState>;\r\n\r\nexport type AppDispatch = typeof store.dispatch;\r\n\r\nexport const storeDispatch = store.dispatch;\r\n","import { AnimationDefinition } from '../types/animations';\r\nimport { Scene } from 'phaser';\r\n\r\nexport const createAnimation = (\r\n  scene: Scene,\r\n  definition: AnimationDefinition,\r\n  spriteKey: string,\r\n) => {\r\n  if (!scene) return;\r\n\r\n  const { key, frames, frameRate, repeat } = definition;\r\n  scene.anims.create({\r\n    key,\r\n    frames: scene.anims.generateFrameNumbers(spriteKey, {\r\n      frames,\r\n    }),\r\n    frameRate,\r\n    repeat,\r\n  });\r\n};\r\n","const names = [\r\n  'Ego',\r\n  'Jagged',\r\n  'Work',\r\n  'Elegance',\r\n  'Enthuse',\r\n  'Wit',\r\n  'Imagine',\r\n  'Ability',\r\n  'Omen',\r\n  'Reason',\r\n  'Move',\r\n  'Wish',\r\n];\r\n\r\nconst getRandomIndex = () => Math.floor(Math.random() * names.length);\r\n\r\nexport const generateJavascriptFrameworks = () => {\r\n  const result: string[] = [];\r\n\r\n  const addToResult = () => {\r\n    if (result.length === 6) return;\r\n\r\n    let value = `${names[getRandomIndex()]}JS`;\r\n\r\n    if (!result.includes(value)) result.push(value);\r\n\r\n    addToResult();\r\n  };\r\n\r\n  addToResult();\r\n\r\n  return result;\r\n};\r\n","import { getTileMapSource, getTileSetSource } from '../helpers/getAssetSource';\r\n\r\nimport { PORTAL_ACTIVE_NAME } from '../constants';\r\nimport { TileMapDefinition } from '../types/assetDefinitions';\r\n\r\nexport const levelOneMapDefinition: TileMapDefinition = {\r\n  key: 'level-one-map',\r\n  source: getTileMapSource('level_one'),\r\n  animatedLayer: ['animated'],\r\n  tilesets: [\r\n    {\r\n      name: 'nature tileset',\r\n      key: 'nature-tiles',\r\n      source: getTileSetSource('nature_tileset'),\r\n    },\r\n    {\r\n      name: 'serene_village_tileset',\r\n      key: 'serene-village-tiles',\r\n      source: getTileSetSource('serene_village_tileset'),\r\n    },\r\n    {\r\n      name: 'portal_tileset',\r\n      key: 'portal-tiles',\r\n      source: getTileSetSource('portal_spritesheet'),\r\n    },\r\n    {\r\n      name: 'interiors_tileset',\r\n      key: 'interiors-tiles',\r\n      source: getTileSetSource('interiors_tileset'),\r\n    },\r\n    {\r\n      name: 'rooms_tileset',\r\n      key: 'room-builder-tiles',\r\n      source: getTileSetSource('room_builder_tileset'),\r\n    },\r\n    {\r\n      name: 'coffee_tileset',\r\n      key: 'coffee-tiles',\r\n      source: getTileSetSource('coffee_spritesheet'),\r\n    },\r\n    {\r\n      name: 'fishtank_spritesheet',\r\n      key: 'fishtank-tiles',\r\n      source: getTileSetSource('fishtank_spritesheet'),\r\n    },\r\n  ],\r\n};\r\n\r\nexport const levelTwoMapDefinition: TileMapDefinition = {\r\n  key: 'level-two-map',\r\n  source: getTileMapSource('level_two'),\r\n  animatedLayer: ['animated', PORTAL_ACTIVE_NAME, 'treasure2'],\r\n  tilesets: [\r\n    {\r\n      name: 'simple_pixel_grass_tileset',\r\n      key: 'simple-pixel-grass-tiles',\r\n      source: getTileSetSource('simple_pixel_grass_tileset'),\r\n    },\r\n    {\r\n      name: 'simple_pixel_plants_tileset',\r\n      key: 'simple-pixel-plants-tiles',\r\n      source: getTileSetSource('simple_pixel_plants_tileset'),\r\n    },\r\n    {\r\n      name: 'simple_pixel_props_tileset',\r\n      key: 'simple-pixel-props-tiles',\r\n      source: getTileSetSource('simple_pixel_props_tileset'),\r\n    },\r\n    {\r\n      name: 'simple_pixel_stone_tileset',\r\n      key: 'simple-pixel-stone-tiles',\r\n      source: getTileSetSource('simple_pixel_stone_tileset'),\r\n    },\r\n    {\r\n      name: 'simple_pixel_structures_tileset',\r\n      key: 'simple-pixel-structures-tiles',\r\n      source: getTileSetSource('simple_pixel_structures_tileset'),\r\n    },\r\n    {\r\n      name: 'simple_pixel_wall_tileset',\r\n      key: 'simple-pixel-wall-tiles',\r\n      source: getTileSetSource('simple_pixel_wall_tileset'),\r\n    },\r\n    {\r\n      name: 'interiors_tileset',\r\n      key: 'interiors-tiles',\r\n      source: getTileSetSource('interiors_tileset'),\r\n    },\r\n    {\r\n      name: 'portal_tileset',\r\n      key: 'portal-tiles',\r\n      source: getTileSetSource('portal_spritesheet'),\r\n    },\r\n    {\r\n      name: 'treasure_spritesheet',\r\n      key: 'treasure-tiles',\r\n      source: getTileSetSource('treasure_spritesheet'),\r\n    },\r\n    {\r\n      name: 'treasure_shine_tileset',\r\n      key: 'treasure-shine-tiles',\r\n      source: getTileSetSource('treasure_shine_tileset'),\r\n    },\r\n  ],\r\n  characterLayer: {\r\n    lower: 'ground',\r\n    upper: 'platform',\r\n    transitions: [\r\n      {\r\n        x: 33,\r\n        y: 42,\r\n        toUpper: true,\r\n      },\r\n      {\r\n        x: 34,\r\n        y: 42,\r\n        toUpper: true,\r\n      },\r\n      {\r\n        x: 33,\r\n        y: 43,\r\n        toUpper: false,\r\n      },\r\n      {\r\n        x: 34,\r\n        y: 43,\r\n        toUpper: false,\r\n      },\r\n      {\r\n        x: 9,\r\n        y: 15,\r\n        toUpper: true,\r\n      },\r\n      {\r\n        x: 10,\r\n        y: 15,\r\n        toUpper: true,\r\n      },\r\n      {\r\n        x: 9,\r\n        y: 16,\r\n        toUpper: false,\r\n      },\r\n      {\r\n        x: 10,\r\n        y: 16,\r\n        toUpper: false,\r\n      },\r\n    ],\r\n  },\r\n};\r\n\r\nexport const levelThreeMapDefinition: TileMapDefinition = {\r\n  key: 'level-three-map',\r\n  source: getTileMapSource('level_three'),\r\n  animatedLayer: ['orbs', 'animated', 'potions'],\r\n  tilesets: [\r\n    {\r\n      name: 'catacomb_base_tileset',\r\n      key: 'catacomb-base-tiles',\r\n      source: getTileSetSource('catacomb_base_tileset'),\r\n    },\r\n    {\r\n      name: 'catacomb_decorations_tileset',\r\n      key: 'catacomb-decorations-tiles',\r\n      source: getTileSetSource('catacomb_decorations_tileset'),\r\n    },\r\n    {\r\n      name: 'torch_tileset',\r\n      key: 'torch-tileset',\r\n      source: getTileSetSource('torch_tileset'),\r\n    },\r\n    {\r\n      name: 'green_orb_tileset',\r\n      key: 'green-orb-tileset',\r\n      source: getTileSetSource('green_orb_tileset'),\r\n    },\r\n    {\r\n      name: 'orange_orb_tileset',\r\n      key: 'orange-orb-tileset',\r\n      source: getTileSetSource('orange_orb_tileset'),\r\n    },\r\n    {\r\n      name: 'magical_items_tileset',\r\n      key: 'magical-items-tileset',\r\n      source: getTileSetSource('magical_items_tileset'),\r\n    },\r\n    {\r\n      name: 'portal_tileset',\r\n      key: 'portal-tiles',\r\n      source: getTileSetSource('portal_spritesheet'),\r\n    },\r\n    {\r\n      name: 'treasure_spritesheet',\r\n      key: 'treasure-tiles',\r\n      source: getTileSetSource('treasure_spritesheet'),\r\n    },\r\n    {\r\n      name: 'treasure_shine_tileset',\r\n      key: 'treasure-shine-tiles',\r\n      source: getTileSetSource('treasure_shine_tileset'),\r\n    },\r\n    {\r\n      name: 'half_potion_tileset',\r\n      key: 'half-potion-tiles',\r\n      source: getTileSetSource('half_potion_tileset'),\r\n    },\r\n    {\r\n      name: 'full_potion_tileset',\r\n      key: 'full-potion-tiles',\r\n      source: getTileSetSource('full_potion_tileset'),\r\n    },\r\n    {\r\n      name: 'speed_potion_tileset',\r\n      key: 'speed-potion-tiles',\r\n      source: getTileSetSource('speed_potion_tileset'),\r\n    },\r\n  ],\r\n  characterLayer: {\r\n    lower: 'ground',\r\n    upper: 'overhead',\r\n    transitions: [],\r\n  },\r\n};\r\n\r\nexport const levelFourMapDefinition: TileMapDefinition = {\r\n  key: 'level-four-map',\r\n  source: getTileMapSource('level_four'),\r\n  animatedLayer: ['lava'],\r\n  tilesets: [\r\n    {\r\n      name: 'simple_tileset',\r\n      key: 'simple-tiles',\r\n      source: getTileSetSource('simple_tileset'),\r\n    },\r\n    {\r\n      name: 'lava_tileset',\r\n      key: 'lava-tiles',\r\n      source: getTileSetSource('lava_tileset'),\r\n    },\r\n    {\r\n      name: 'brick_bg_tileset',\r\n      key: 'brick-bg-tiles',\r\n      source: getTileSetSource('brick_bg_tileset'),\r\n    },\r\n    {\r\n      name: 'hill_one_bg_tileset',\r\n      key: 'hill-one-bg-tiles',\r\n      source: getTileSetSource('hill_one_bg_tileset'),\r\n    },\r\n    {\r\n      name: 'hill_two_bg_tileset',\r\n      key: 'hill-two-bg-tiles',\r\n      source: getTileSetSource('hill_two_bg_tileset'),\r\n    },\r\n    {\r\n      name: 'sky_bg_tileset',\r\n      key: 'sky-bg-tiles',\r\n      source: getTileSetSource('sky_bg_tileset'),\r\n    },\r\n    {\r\n      name: 'space_bg_tileset',\r\n      key: 'space-bg-tiles',\r\n      source: getTileSetSource('space_bg_tileset'),\r\n    },\r\n    {\r\n      name: 'cloud_bg_tileset',\r\n      key: 'cloud-bg-tiles',\r\n      source: getTileSetSource('cloud_bg_tileset'),\r\n    },\r\n    {\r\n      name: 'trees_tileset',\r\n      key: 'trees-tiles',\r\n      source: getTileSetSource('trees_tileset'),\r\n    },\r\n    {\r\n      name: 'water_tileset',\r\n      key: 'water-tiles',\r\n      source: getTileSetSource('water_tileset'),\r\n    },\r\n    {\r\n      name: 'ladder_tileset',\r\n      key: 'ladder-tiles',\r\n      source: getTileSetSource('ladder_tileset'),\r\n    },\r\n  ],\r\n};\r\n","import { LOCAL_STORAGE_KEY } from '../constants';\r\nimport { UnlockedFeatures } from '../types/savedData';\r\n\r\nexport const loadAllSavedData = (): Record<string, any> | null => {\r\n  const item = localStorage.getItem(LOCAL_STORAGE_KEY);\r\n\r\n  if (!item) return null;\r\n\r\n  return JSON.parse(item);\r\n};\r\n\r\nexport function loadLevelSavedData<T>(sceneKey: string): T | null {\r\n  const save = loadAllSavedData();\r\n  return save && save[sceneKey] ? (save[sceneKey] as T) : null;\r\n}\r\n\r\nexport function saveLevelData<T>(data: T, sceneKey: string) {\r\n  const current = loadAllSavedData() ?? {};\r\n  const value = {\r\n    ...current,\r\n    [sceneKey]: {\r\n      ...current[sceneKey],\r\n      ...data,\r\n    },\r\n  };\r\n  localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(value));\r\n}\r\n\r\nexport const updateUnlockedFeatures = (unlockedFeatures: UnlockedFeatures) => {\r\n  const current = loadAllSavedData() ?? {};\r\n\r\n  const newValue = {\r\n    ...current,\r\n    unlockedFeatures: {\r\n      ...current.unlockedFeatures,\r\n      ...unlockedFeatures,\r\n    },\r\n  };\r\n\r\n  localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(newValue));\r\n};\r\n\r\nexport const loadUnlockedFeatures = () =>\r\n  (loadAllSavedData() ?? {}).unlockedFeatures;\r\n","export var consolePrefix = 'SweetAlert2:';\n/**\n * Filter the unique values into a new array\n * @param arr\n */\n\nexport var uniqueArray = function uniqueArray(arr) {\n  var result = [];\n\n  for (var i = 0; i < arr.length; i++) {\n    if (result.indexOf(arr[i]) === -1) {\n      result.push(arr[i]);\n    }\n  }\n\n  return result;\n};\n/**\n * Capitalize the first letter of a string\n * @param {string} str\n * @returns {string}\n */\n\nexport var capitalizeFirstLetter = function capitalizeFirstLetter(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n};\n/**\n * @param {NodeList | HTMLCollection | NamedNodeMap} nodeList\n * @returns {array}\n */\n\nexport var toArray = function toArray(nodeList) {\n  return Array.prototype.slice.call(nodeList);\n};\n/**\n * Standardize console warnings\n * @param {string | array} message\n */\n\nexport var warn = function warn(message) {\n  console.warn(\"\".concat(consolePrefix, \" \").concat(typeof message === 'object' ? message.join(' ') : message));\n};\n/**\n * Standardize console errors\n * @param {string} message\n */\n\nexport var error = function error(message) {\n  console.error(\"\".concat(consolePrefix, \" \").concat(message));\n};\n/**\n * Private global state for `warnOnce`\n * @type {Array}\n * @private\n */\n\nvar previousWarnOnceMessages = [];\n/**\n * Show a console warning, but only if it hasn't already been shown\n * @param {string} message\n */\n\nexport var warnOnce = function warnOnce(message) {\n  if (!previousWarnOnceMessages.includes(message)) {\n    previousWarnOnceMessages.push(message);\n    warn(message);\n  }\n};\n/**\n * Show a one-time console warning about deprecated params/methods\n */\n\nexport var warnAboutDeprecation = function warnAboutDeprecation(deprecatedParam, useInstead) {\n  warnOnce(\"\\\"\".concat(deprecatedParam, \"\\\" is deprecated and will be removed in the next major release. Please use \\\"\").concat(useInstead, \"\\\" instead.\"));\n};\n/**\n * If `arg` is a function, call it (with no arguments or context) and return the result.\n * Otherwise, just pass the value through\n * @param arg\n */\n\nexport var callIfFunction = function callIfFunction(arg) {\n  return typeof arg === 'function' ? arg() : arg;\n};\nexport var hasToPromiseFn = function hasToPromiseFn(arg) {\n  return arg && typeof arg.toPromise === 'function';\n};\nexport var asPromise = function asPromise(arg) {\n  return hasToPromiseFn(arg) ? arg.toPromise() : Promise.resolve(arg);\n};\nexport var isPromise = function isPromise(arg) {\n  return arg && Promise.resolve(arg) === arg;\n};\nexport var getRandomElement = function getRandomElement(arr) {\n  return arr[Math.floor(Math.random() * arr.length)];\n};","import { warn, warnAboutDeprecation } from '../utils/utils.js';\nexport var defaultParams = {\n  title: '',\n  titleText: '',\n  text: '',\n  html: '',\n  footer: '',\n  icon: undefined,\n  iconColor: undefined,\n  iconHtml: undefined,\n  template: undefined,\n  toast: false,\n  showClass: {\n    popup: 'swal2-show',\n    backdrop: 'swal2-backdrop-show',\n    icon: 'swal2-icon-show'\n  },\n  hideClass: {\n    popup: 'swal2-hide',\n    backdrop: 'swal2-backdrop-hide',\n    icon: 'swal2-icon-hide'\n  },\n  customClass: {},\n  target: 'body',\n  color: undefined,\n  backdrop: true,\n  heightAuto: true,\n  allowOutsideClick: true,\n  allowEscapeKey: true,\n  allowEnterKey: true,\n  stopKeydownPropagation: true,\n  keydownListenerCapture: false,\n  showConfirmButton: true,\n  showDenyButton: false,\n  showCancelButton: false,\n  preConfirm: undefined,\n  preDeny: undefined,\n  confirmButtonText: 'OK',\n  confirmButtonAriaLabel: '',\n  confirmButtonColor: undefined,\n  denyButtonText: 'No',\n  denyButtonAriaLabel: '',\n  denyButtonColor: undefined,\n  cancelButtonText: 'Cancel',\n  cancelButtonAriaLabel: '',\n  cancelButtonColor: undefined,\n  buttonsStyling: true,\n  reverseButtons: false,\n  focusConfirm: true,\n  focusDeny: false,\n  focusCancel: false,\n  returnFocus: true,\n  showCloseButton: false,\n  closeButtonHtml: '&times;',\n  closeButtonAriaLabel: 'Close this dialog',\n  loaderHtml: '',\n  showLoaderOnConfirm: false,\n  showLoaderOnDeny: false,\n  imageUrl: undefined,\n  imageWidth: undefined,\n  imageHeight: undefined,\n  imageAlt: '',\n  timer: undefined,\n  timerProgressBar: false,\n  width: undefined,\n  padding: undefined,\n  background: undefined,\n  input: undefined,\n  inputPlaceholder: '',\n  inputLabel: '',\n  inputValue: '',\n  inputOptions: {},\n  inputAutoTrim: true,\n  inputAttributes: {},\n  inputValidator: undefined,\n  returnInputValueOnDeny: false,\n  validationMessage: undefined,\n  grow: false,\n  position: 'center',\n  progressSteps: [],\n  currentProgressStep: undefined,\n  progressStepsDistance: undefined,\n  willOpen: undefined,\n  didOpen: undefined,\n  didRender: undefined,\n  willClose: undefined,\n  didClose: undefined,\n  didDestroy: undefined,\n  scrollbarPadding: true\n};\nexport var updatableParams = ['allowEscapeKey', 'allowOutsideClick', 'background', 'buttonsStyling', 'cancelButtonAriaLabel', 'cancelButtonColor', 'cancelButtonText', 'closeButtonAriaLabel', 'closeButtonHtml', 'color', 'confirmButtonAriaLabel', 'confirmButtonColor', 'confirmButtonText', 'currentProgressStep', 'customClass', 'denyButtonAriaLabel', 'denyButtonColor', 'denyButtonText', 'didClose', 'didDestroy', 'footer', 'hideClass', 'html', 'icon', 'iconColor', 'iconHtml', 'imageAlt', 'imageHeight', 'imageUrl', 'imageWidth', 'preConfirm', 'preDeny', 'progressSteps', 'returnFocus', 'reverseButtons', 'showCancelButton', 'showCloseButton', 'showConfirmButton', 'showDenyButton', 'text', 'title', 'titleText', 'willClose'];\nexport var deprecatedParams = {};\nvar toastIncompatibleParams = ['allowOutsideClick', 'allowEnterKey', 'backdrop', 'focusConfirm', 'focusDeny', 'focusCancel', 'returnFocus', 'heightAuto', 'keydownListenerCapture'];\n/**\n * Is valid parameter\n * @param {string} paramName\n */\n\nexport var isValidParameter = function isValidParameter(paramName) {\n  return Object.prototype.hasOwnProperty.call(defaultParams, paramName);\n};\n/**\n * Is valid parameter for Swal.update() method\n * @param {string} paramName\n */\n\nexport var isUpdatableParameter = function isUpdatableParameter(paramName) {\n  return updatableParams.indexOf(paramName) !== -1;\n};\n/**\n * Is deprecated parameter\n * @param {string} paramName\n */\n\nexport var isDeprecatedParameter = function isDeprecatedParameter(paramName) {\n  return deprecatedParams[paramName];\n};\n\nvar checkIfParamIsValid = function checkIfParamIsValid(param) {\n  if (!isValidParameter(param)) {\n    warn(\"Unknown parameter \\\"\".concat(param, \"\\\"\"));\n  }\n};\n\nvar checkIfToastParamIsValid = function checkIfToastParamIsValid(param) {\n  if (toastIncompatibleParams.includes(param)) {\n    warn(\"The parameter \\\"\".concat(param, \"\\\" is incompatible with toasts\"));\n  }\n};\n\nvar checkIfParamIsDeprecated = function checkIfParamIsDeprecated(param) {\n  if (isDeprecatedParameter(param)) {\n    warnAboutDeprecation(param, isDeprecatedParameter(param));\n  }\n};\n/**\n * Show relevant warnings for given params\n *\n * @param params\n */\n\n\nexport var showWarningsForParams = function showWarningsForParams(params) {\n  if (!params.backdrop && params.allowOutsideClick) {\n    warn('\"allowOutsideClick\" parameter requires `backdrop` parameter to be set to `true`');\n  }\n\n  for (var param in params) {\n    checkIfParamIsValid(param);\n\n    if (params.toast) {\n      checkIfToastParamIsValid(param);\n    }\n\n    checkIfParamIsDeprecated(param);\n  }\n};\nexport default defaultParams;","export var swalPrefix = 'swal2-';\nexport var prefix = function prefix(items) {\n  var result = {};\n\n  for (var i in items) {\n    result[items[i]] = swalPrefix + items[i];\n  }\n\n  return result;\n};\nexport var swalClasses = prefix(['container', 'shown', 'height-auto', 'iosfix', 'popup', 'modal', 'no-backdrop', 'no-transition', 'toast', 'toast-shown', 'show', 'hide', 'close', 'title', 'html-container', 'actions', 'confirm', 'deny', 'cancel', 'default-outline', 'footer', 'icon', 'icon-content', 'image', 'input', 'file', 'range', 'select', 'radio', 'checkbox', 'label', 'textarea', 'inputerror', 'input-label', 'validation-message', 'progress-steps', 'active-progress-step', 'progress-step', 'progress-step-line', 'loader', 'loading', 'styled', 'top', 'top-start', 'top-end', 'top-left', 'top-right', 'center', 'center-start', 'center-end', 'center-left', 'center-right', 'bottom', 'bottom-start', 'bottom-end', 'bottom-left', 'bottom-right', 'grow-row', 'grow-column', 'grow-fullscreen', 'rtl', 'timer-progress-bar', 'timer-progress-bar-container', 'scrollbar-measure', 'icon-success', 'icon-warning', 'icon-info', 'icon-question', 'icon-error', 'no-war']);\nexport var iconTypes = prefix(['success', 'warning', 'info', 'question', 'error']);","import { swalClasses } from '../classes.js';\nimport { toArray, uniqueArray } from '../utils.js';\nimport { hasClass, isVisible } from './domUtils.js';\n/**\n * Gets the popup container which contains the backdrop and the popup itself.\n *\n * @returns {HTMLElement | null}\n */\n\nexport var getContainer = function getContainer() {\n  return document.body.querySelector(\".\".concat(swalClasses.container));\n};\nexport var elementBySelector = function elementBySelector(selectorString) {\n  var container = getContainer();\n  return container ? container.querySelector(selectorString) : null;\n};\n\nvar elementByClass = function elementByClass(className) {\n  return elementBySelector(\".\".concat(className));\n};\n\nexport var getPopup = function getPopup() {\n  return elementByClass(swalClasses.popup);\n};\nexport var getIcon = function getIcon() {\n  return elementByClass(swalClasses.icon);\n};\nexport var getTitle = function getTitle() {\n  return elementByClass(swalClasses.title);\n};\nexport var getHtmlContainer = function getHtmlContainer() {\n  return elementByClass(swalClasses['html-container']);\n};\nexport var getImage = function getImage() {\n  return elementByClass(swalClasses.image);\n};\nexport var getProgressSteps = function getProgressSteps() {\n  return elementByClass(swalClasses['progress-steps']);\n};\nexport var getValidationMessage = function getValidationMessage() {\n  return elementByClass(swalClasses['validation-message']);\n};\nexport var getConfirmButton = function getConfirmButton() {\n  return elementBySelector(\".\".concat(swalClasses.actions, \" .\").concat(swalClasses.confirm));\n};\nexport var getDenyButton = function getDenyButton() {\n  return elementBySelector(\".\".concat(swalClasses.actions, \" .\").concat(swalClasses.deny));\n};\nexport var getInputLabel = function getInputLabel() {\n  return elementByClass(swalClasses['input-label']);\n};\nexport var getLoader = function getLoader() {\n  return elementBySelector(\".\".concat(swalClasses.loader));\n};\nexport var getCancelButton = function getCancelButton() {\n  return elementBySelector(\".\".concat(swalClasses.actions, \" .\").concat(swalClasses.cancel));\n};\nexport var getActions = function getActions() {\n  return elementByClass(swalClasses.actions);\n};\nexport var getFooter = function getFooter() {\n  return elementByClass(swalClasses.footer);\n};\nexport var getTimerProgressBar = function getTimerProgressBar() {\n  return elementByClass(swalClasses['timer-progress-bar']);\n};\nexport var getCloseButton = function getCloseButton() {\n  return elementByClass(swalClasses.close);\n}; // https://github.com/jkup/focusable/blob/master/index.js\n\nvar focusable = \"\\n  a[href],\\n  area[href],\\n  input:not([disabled]),\\n  select:not([disabled]),\\n  textarea:not([disabled]),\\n  button:not([disabled]),\\n  iframe,\\n  object,\\n  embed,\\n  [tabindex=\\\"0\\\"],\\n  [contenteditable],\\n  audio[controls],\\n  video[controls],\\n  summary\\n\";\nexport var getFocusableElements = function getFocusableElements() {\n  var focusableElementsWithTabindex = toArray(getPopup().querySelectorAll('[tabindex]:not([tabindex=\"-1\"]):not([tabindex=\"0\"])')) // sort according to tabindex\n  .sort(function (a, b) {\n    var tabindexA = parseInt(a.getAttribute('tabindex'));\n    var tabindexB = parseInt(b.getAttribute('tabindex'));\n\n    if (tabindexA > tabindexB) {\n      return 1;\n    } else if (tabindexA < tabindexB) {\n      return -1;\n    }\n\n    return 0;\n  });\n  var otherFocusableElements = toArray(getPopup().querySelectorAll(focusable)).filter(function (el) {\n    return el.getAttribute('tabindex') !== '-1';\n  });\n  return uniqueArray(focusableElementsWithTabindex.concat(otherFocusableElements)).filter(function (el) {\n    return isVisible(el);\n  });\n};\nexport var isModal = function isModal() {\n  return hasClass(document.body, swalClasses.shown) && !hasClass(document.body, swalClasses['toast-shown']) && !hasClass(document.body, swalClasses['no-backdrop']);\n};\nexport var isToast = function isToast() {\n  return getPopup() && hasClass(getPopup(), swalClasses.toast);\n};\nexport var isLoading = function isLoading() {\n  return getPopup().hasAttribute('data-loading');\n};","import { getCancelButton, getConfirmButton, getDenyButton, getTimerProgressBar } from './getters.js';\nimport { iconTypes, swalClasses } from '../classes.js';\nimport { toArray, warn } from '../utils.js'; // Remember state in cases where opening and handling a modal will fiddle with it.\n\nexport var states = {\n  previousBodyPadding: null\n};\n/**\n * Securely set innerHTML of an element\n * https://github.com/sweetalert2/sweetalert2/issues/1926\n *\n * @param {HTMLElement} elem\n * @param {string} html\n */\n\nexport var setInnerHtml = function setInnerHtml(elem, html) {\n  elem.textContent = '';\n\n  if (html) {\n    var parser = new DOMParser();\n    var parsed = parser.parseFromString(html, \"text/html\");\n    toArray(parsed.querySelector('head').childNodes).forEach(function (child) {\n      elem.appendChild(child);\n    });\n    toArray(parsed.querySelector('body').childNodes).forEach(function (child) {\n      elem.appendChild(child);\n    });\n  }\n};\n/**\n * @param {HTMLElement} elem\n * @param {string} className\n * @returns {boolean}\n */\n\nexport var hasClass = function hasClass(elem, className) {\n  if (!className) {\n    return false;\n  }\n\n  var classList = className.split(/\\s+/);\n\n  for (var i = 0; i < classList.length; i++) {\n    if (!elem.classList.contains(classList[i])) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\nvar removeCustomClasses = function removeCustomClasses(elem, params) {\n  toArray(elem.classList).forEach(function (className) {\n    if (!Object.values(swalClasses).includes(className) && !Object.values(iconTypes).includes(className) && !Object.values(params.showClass).includes(className)) {\n      elem.classList.remove(className);\n    }\n  });\n};\n\nexport var applyCustomClass = function applyCustomClass(elem, params, className) {\n  removeCustomClasses(elem, params);\n\n  if (params.customClass && params.customClass[className]) {\n    if (typeof params.customClass[className] !== 'string' && !params.customClass[className].forEach) {\n      return warn(\"Invalid type of customClass.\".concat(className, \"! Expected string or iterable object, got \\\"\").concat(typeof params.customClass[className], \"\\\"\"));\n    }\n\n    addClass(elem, params.customClass[className]);\n  }\n};\n/**\n * @param {HTMLElement} popup\n * @param {string} inputType\n * @returns {HTMLInputElement | null}\n */\n\nexport var getInput = function getInput(popup, inputType) {\n  if (!inputType) {\n    return null;\n  }\n\n  switch (inputType) {\n    case 'select':\n    case 'textarea':\n    case 'file':\n      return popup.querySelector(\".\".concat(swalClasses.popup, \" > .\").concat(swalClasses[inputType]));\n\n    case 'checkbox':\n      return popup.querySelector(\".\".concat(swalClasses.popup, \" > .\").concat(swalClasses.checkbox, \" input\"));\n\n    case 'radio':\n      return popup.querySelector(\".\".concat(swalClasses.popup, \" > .\").concat(swalClasses.radio, \" input:checked\")) || popup.querySelector(\".\".concat(swalClasses.popup, \" > .\").concat(swalClasses.radio, \" input:first-child\"));\n\n    case 'range':\n      return popup.querySelector(\".\".concat(swalClasses.popup, \" > .\").concat(swalClasses.range, \" input\"));\n\n    default:\n      return popup.querySelector(\".\".concat(swalClasses.popup, \" > .\").concat(swalClasses.input));\n  }\n};\n/**\n * @param {HTMLInputElement} input\n */\n\nexport var focusInput = function focusInput(input) {\n  input.focus(); // place cursor at end of text in text input\n\n  if (input.type !== 'file') {\n    // http://stackoverflow.com/a/2345915\n    var val = input.value;\n    input.value = '';\n    input.value = val;\n  }\n};\n/**\n * @param {HTMLElement | HTMLElement[] | null} target\n * @param {string | string[]} classList\n * @param {boolean} condition\n */\n\nexport var toggleClass = function toggleClass(target, classList, condition) {\n  if (!target || !classList) {\n    return;\n  }\n\n  if (typeof classList === 'string') {\n    classList = classList.split(/\\s+/).filter(Boolean);\n  }\n\n  classList.forEach(function (className) {\n    if (Array.isArray(target)) {\n      target.forEach(function (elem) {\n        condition ? elem.classList.add(className) : elem.classList.remove(className);\n      });\n    } else {\n      condition ? target.classList.add(className) : target.classList.remove(className);\n    }\n  });\n};\n/**\n * @param {HTMLElement | HTMLElement[] | null} target\n * @param {string | string[]} classList\n */\n\nexport var addClass = function addClass(target, classList) {\n  toggleClass(target, classList, true);\n};\n/**\n * @param {HTMLElement | HTMLElement[] | null} target\n * @param {string | string[]} classList\n */\n\nexport var removeClass = function removeClass(target, classList) {\n  toggleClass(target, classList, false);\n};\n/**\n * Get direct child of an element by class name\n *\n * @param {HTMLElement} elem\n * @param {string} className\n * @returns {HTMLElement | null}\n */\n\nexport var getDirectChildByClass = function getDirectChildByClass(elem, className) {\n  var childNodes = toArray(elem.childNodes);\n\n  for (var i = 0; i < childNodes.length; i++) {\n    if (hasClass(childNodes[i], className)) {\n      return childNodes[i];\n    }\n  }\n};\n/**\n * @param {HTMLElement} elem\n * @param {string} property\n * @param {*} value\n */\n\nexport var applyNumericalStyle = function applyNumericalStyle(elem, property, value) {\n  if (value === \"\".concat(parseInt(value))) {\n    value = parseInt(value);\n  }\n\n  if (value || parseInt(value) === 0) {\n    elem.style[property] = typeof value === 'number' ? \"\".concat(value, \"px\") : value;\n  } else {\n    elem.style.removeProperty(property);\n  }\n};\n/**\n * @param {HTMLElement} elem\n * @param {string} display\n */\n\nexport var show = function show(elem) {\n  var display = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'flex';\n  elem.style.display = display;\n};\n/**\n * @param {HTMLElement} elem\n */\n\nexport var hide = function hide(elem) {\n  elem.style.display = 'none';\n};\nexport var setStyle = function setStyle(parent, selector, property, value) {\n  var el = parent.querySelector(selector);\n\n  if (el) {\n    el.style[property] = value;\n  }\n};\nexport var toggle = function toggle(elem, condition, display) {\n  condition ? show(elem, display) : hide(elem);\n}; // borrowed from jquery $(elem).is(':visible') implementation\n\nexport var isVisible = function isVisible(elem) {\n  return !!(elem && (elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length));\n};\nexport var allButtonsAreHidden = function allButtonsAreHidden() {\n  return !isVisible(getConfirmButton()) && !isVisible(getDenyButton()) && !isVisible(getCancelButton());\n};\nexport var isScrollable = function isScrollable(elem) {\n  return !!(elem.scrollHeight > elem.clientHeight);\n}; // borrowed from https://stackoverflow.com/a/46352119\n\nexport var hasCssAnimation = function hasCssAnimation(elem) {\n  var style = window.getComputedStyle(elem);\n  var animDuration = parseFloat(style.getPropertyValue('animation-duration') || '0');\n  var transDuration = parseFloat(style.getPropertyValue('transition-duration') || '0');\n  return animDuration > 0 || transDuration > 0;\n};\nexport var animateTimerProgressBar = function animateTimerProgressBar(timer) {\n  var reset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var timerProgressBar = getTimerProgressBar();\n\n  if (isVisible(timerProgressBar)) {\n    if (reset) {\n      timerProgressBar.style.transition = 'none';\n      timerProgressBar.style.width = '100%';\n    }\n\n    setTimeout(function () {\n      timerProgressBar.style.transition = \"width \".concat(timer / 1000, \"s linear\");\n      timerProgressBar.style.width = '0%';\n    }, 10);\n  }\n};\nexport var stopTimerProgressBar = function stopTimerProgressBar() {\n  var timerProgressBar = getTimerProgressBar();\n  var timerProgressBarWidth = parseInt(window.getComputedStyle(timerProgressBar).width);\n  timerProgressBar.style.removeProperty('transition');\n  timerProgressBar.style.width = '100%';\n  var timerProgressBarFullWidth = parseInt(window.getComputedStyle(timerProgressBar).width);\n  var timerProgressBarPercent = timerProgressBarWidth / timerProgressBarFullWidth * 100;\n  timerProgressBar.style.removeProperty('transition');\n  timerProgressBar.style.width = \"\".concat(timerProgressBarPercent, \"%\");\n};","/**\n * Detect Node env\n *\n * @returns {boolean}\n */\nexport var isNodeEnv = function isNodeEnv() {\n  return typeof window === 'undefined' || typeof document === 'undefined';\n};","import { RESTORE_FOCUS_TIMEOUT } from './constants.js';\nvar globalState = {};\nexport default globalState;\n\nvar focusPreviousActiveElement = function focusPreviousActiveElement() {\n  if (globalState.previousActiveElement && globalState.previousActiveElement.focus) {\n    globalState.previousActiveElement.focus();\n    globalState.previousActiveElement = null;\n  } else if (document.body) {\n    document.body.focus();\n  }\n}; // Restore previous active (focused) element\n\n\nexport var restoreActiveElement = function restoreActiveElement(returnFocus) {\n  return new Promise(function (resolve) {\n    if (!returnFocus) {\n      return resolve();\n    }\n\n    var x = window.scrollX;\n    var y = window.scrollY;\n    globalState.restoreFocusTimeout = setTimeout(function () {\n      focusPreviousActiveElement();\n      resolve();\n    }, RESTORE_FOCUS_TIMEOUT); // issues/900\n\n    window.scrollTo(x, y);\n  });\n};","export var RESTORE_FOCUS_TIMEOUT = 100;","import { swalClasses } from '../classes.js';\nimport { getContainer, getPopup } from './getters.js';\nimport { addClass, getDirectChildByClass, removeClass, setInnerHtml } from './domUtils.js';\nimport { isNodeEnv } from '../isNodeEnv.js';\nimport { error, getRandomElement } from '../utils.js';\nimport globalState from '../../globalState.js';\nvar sweetHTML = \"\\n <div aria-labelledby=\\\"\".concat(swalClasses.title, \"\\\" aria-describedby=\\\"\").concat(swalClasses['html-container'], \"\\\" class=\\\"\").concat(swalClasses.popup, \"\\\" tabindex=\\\"-1\\\">\\n   <button type=\\\"button\\\" class=\\\"\").concat(swalClasses.close, \"\\\"></button>\\n   <ul class=\\\"\").concat(swalClasses['progress-steps'], \"\\\"></ul>\\n   <div class=\\\"\").concat(swalClasses.icon, \"\\\"></div>\\n   <img class=\\\"\").concat(swalClasses.image, \"\\\" />\\n   <h2 class=\\\"\").concat(swalClasses.title, \"\\\" id=\\\"\").concat(swalClasses.title, \"\\\"></h2>\\n   <div class=\\\"\").concat(swalClasses['html-container'], \"\\\" id=\\\"\").concat(swalClasses['html-container'], \"\\\"></div>\\n   <input class=\\\"\").concat(swalClasses.input, \"\\\" />\\n   <input type=\\\"file\\\" class=\\\"\").concat(swalClasses.file, \"\\\" />\\n   <div class=\\\"\").concat(swalClasses.range, \"\\\">\\n     <input type=\\\"range\\\" />\\n     <output></output>\\n   </div>\\n   <select class=\\\"\").concat(swalClasses.select, \"\\\"></select>\\n   <div class=\\\"\").concat(swalClasses.radio, \"\\\"></div>\\n   <label for=\\\"\").concat(swalClasses.checkbox, \"\\\" class=\\\"\").concat(swalClasses.checkbox, \"\\\">\\n     <input type=\\\"checkbox\\\" />\\n     <span class=\\\"\").concat(swalClasses.label, \"\\\"></span>\\n   </label>\\n   <textarea class=\\\"\").concat(swalClasses.textarea, \"\\\"></textarea>\\n   <div class=\\\"\").concat(swalClasses['validation-message'], \"\\\" id=\\\"\").concat(swalClasses['validation-message'], \"\\\"></div>\\n   <div class=\\\"\").concat(swalClasses.actions, \"\\\">\\n     <div class=\\\"\").concat(swalClasses.loader, \"\\\"></div>\\n     <button type=\\\"button\\\" class=\\\"\").concat(swalClasses.confirm, \"\\\"></button>\\n     <button type=\\\"button\\\" class=\\\"\").concat(swalClasses.deny, \"\\\"></button>\\n     <button type=\\\"button\\\" class=\\\"\").concat(swalClasses.cancel, \"\\\"></button>\\n   </div>\\n   <div class=\\\"\").concat(swalClasses.footer, \"\\\"></div>\\n   <div class=\\\"\").concat(swalClasses['timer-progress-bar-container'], \"\\\">\\n     <div class=\\\"\").concat(swalClasses['timer-progress-bar'], \"\\\"></div>\\n   </div>\\n </div>\\n\").replace(/(^|\\n)\\s*/g, '');\n\nvar resetOldContainer = function resetOldContainer() {\n  var oldContainer = getContainer();\n\n  if (!oldContainer) {\n    return false;\n  }\n\n  oldContainer.remove();\n  removeClass([document.documentElement, document.body], [swalClasses['no-backdrop'], swalClasses['toast-shown'], swalClasses['has-column']]);\n  return true;\n};\n\nvar resetValidationMessage = function resetValidationMessage() {\n  globalState.currentInstance.resetValidationMessage();\n};\n\nvar addInputChangeListeners = function addInputChangeListeners() {\n  var popup = getPopup();\n  var input = getDirectChildByClass(popup, swalClasses.input);\n  var file = getDirectChildByClass(popup, swalClasses.file);\n  var range = popup.querySelector(\".\".concat(swalClasses.range, \" input\"));\n  var rangeOutput = popup.querySelector(\".\".concat(swalClasses.range, \" output\"));\n  var select = getDirectChildByClass(popup, swalClasses.select);\n  var checkbox = popup.querySelector(\".\".concat(swalClasses.checkbox, \" input\"));\n  var textarea = getDirectChildByClass(popup, swalClasses.textarea);\n  input.oninput = resetValidationMessage;\n  file.onchange = resetValidationMessage;\n  select.onchange = resetValidationMessage;\n  checkbox.onchange = resetValidationMessage;\n  textarea.oninput = resetValidationMessage;\n\n  range.oninput = function () {\n    resetValidationMessage();\n    rangeOutput.value = range.value;\n  };\n\n  range.onchange = function () {\n    resetValidationMessage();\n    range.nextSibling.value = range.value;\n  };\n};\n\nvar getTarget = function getTarget(target) {\n  return typeof target === 'string' ? document.querySelector(target) : target;\n};\n\nvar setupAccessibility = function setupAccessibility(params) {\n  var popup = getPopup();\n  popup.setAttribute('role', params.toast ? 'alert' : 'dialog');\n  popup.setAttribute('aria-live', params.toast ? 'polite' : 'assertive');\n\n  if (!params.toast) {\n    popup.setAttribute('aria-modal', 'true');\n  }\n};\n\nvar setupRTL = function setupRTL(targetElement) {\n  if (window.getComputedStyle(targetElement).direction === 'rtl') {\n    addClass(getContainer(), swalClasses.rtl);\n  }\n};\n/*\n * Add modal + backdrop + no-war message for Russians to DOM\n */\n\n\nexport var init = function init(params) {\n  // Clean up the old popup container if it exists\n  var oldContainerExisted = resetOldContainer();\n  /* istanbul ignore if */\n\n  if (isNodeEnv()) {\n    error('SweetAlert2 requires document to initialize');\n    return;\n  }\n\n  var container = document.createElement('div');\n  container.className = swalClasses.container;\n\n  if (oldContainerExisted) {\n    addClass(container, swalClasses['no-transition']);\n  }\n\n  setInnerHtml(container, sweetHTML);\n  var targetElement = getTarget(params.target);\n  targetElement.appendChild(container);\n  setupAccessibility(params);\n  setupRTL(targetElement);\n  addInputChangeListeners();\n  noWarMessageForRussians(container, params);\n};\n\nvar noWarMessageForRussians = function noWarMessageForRussians(container, params) {\n  if (params.toast) {\n    return;\n  } // This message is targeted at people who are corrupted by propaganda, everybody else\n  // is already against war either silently or actively.\n  //\n  // The point is to wrap the truth-bomb into a patriotic title so they will actually click it\n  // and listen to the uncomfortable truth about the war from the people they love or respect.\n\n\n  var message = getRandomElement([{\n    text: '  <br>     ',\n    // Arnold is loved in Russia by all people including those who are for this war\n    // His speech might change the mind of those who are brainwashed by propaganda\n    youtubeId: 'fWClXZd9c78'\n  }, {\n    text: '  <br>    ',\n    // In this video one of the most famous Russian nationalist leaders, Dmitry Demushkin,\n    // explains that this war has no sense and produces the exact opposite result of what\n    // it was intended to do.\n    youtubeId: '_RjBNkn88yA'\n  }, {\n    text: '   <br>    ',\n    // In this video Igor Girkin, who played a key role in the annexation of Crimea,\n    // explains that this war has failed already and all possible outcomes are bad for Russia.\n    youtubeId: 'yUmzQT4C8JY'\n  }, {\n    text: '   <br>  -  ',\n    youtubeId: 'hkCYb6edUrQ'\n  }]); // The message will only be shown to Russian users visiting Russian sites\n\n  if (navigator.language === 'ru' && location.host.match(/\\.(ru|su|xn--p1ai)$/)) {\n    var noWar = document.createElement('div');\n    noWar.className = swalClasses['no-war'];\n    setInnerHtml(noWar, \"<a href=\\\"https://www.youtube.com/watch?v=\".concat(message.youtubeId, \"\\\" target=\\\"_blank\\\">\").concat(message.text, \"</a>\"));\n    container.appendChild(noWar);\n    container.style.paddingTop = '4em';\n  }\n};","import { setInnerHtml } from './domUtils.js';\n/**\n * @param {HTMLElement | object | string} param\n * @param {HTMLElement} target\n */\n\nexport var parseHtmlToContainer = function parseHtmlToContainer(param, target) {\n  // DOM element\n  if (param instanceof HTMLElement) {\n    target.appendChild(param);\n  } // Object\n  else if (typeof param === 'object') {\n      handleObject(param, target);\n    } // Plain string\n    else if (param) {\n        setInnerHtml(target, param);\n      }\n};\n/**\n * @param {object} param\n * @param {HTMLElement} target\n */\n\nvar handleObject = function handleObject(param, target) {\n  // JQuery element(s)\n  if (param.jquery) {\n    handleJqueryElem(target, param);\n  } // For other objects use their string representation\n  else {\n      setInnerHtml(target, param.toString());\n    }\n};\n\nvar handleJqueryElem = function handleJqueryElem(target, elem) {\n  target.textContent = '';\n\n  if (0 in elem) {\n    for (var i = 0; (i in elem); i++) {\n      target.appendChild(elem[i].cloneNode(true));\n    }\n  } else {\n    target.appendChild(elem.cloneNode(true));\n  }\n};","import { isNodeEnv } from '../isNodeEnv.js';\nexport var animationEndEvent = function () {\n  // Prevent run in Node env\n\n  /* istanbul ignore if */\n  if (isNodeEnv()) {\n    return false;\n  }\n\n  var testEl = document.createElement('div');\n  var transEndEventNames = {\n    WebkitAnimation: 'webkitAnimationEnd',\n    // Chrome, Safari and Opera\n    animation: 'animationend' // Standard syntax\n\n  };\n\n  for (var i in transEndEventNames) {\n    if (Object.prototype.hasOwnProperty.call(transEndEventNames, i) && typeof testEl.style[i] !== 'undefined') {\n      return transEndEventNames[i];\n    }\n  }\n\n  return false;\n}();","import { swalClasses } from '../../classes.js';\nimport * as dom from '../../dom/index.js';\nimport { capitalizeFirstLetter } from '../../utils.js';\nexport var renderActions = function renderActions(instance, params) {\n  var actions = dom.getActions();\n  var loader = dom.getLoader(); // Actions (buttons) wrapper\n\n  if (!params.showConfirmButton && !params.showDenyButton && !params.showCancelButton) {\n    dom.hide(actions);\n  } else {\n    dom.show(actions);\n  } // Custom class\n\n\n  dom.applyCustomClass(actions, params, 'actions'); // Render all the buttons\n\n  renderButtons(actions, loader, params); // Loader\n\n  dom.setInnerHtml(loader, params.loaderHtml);\n  dom.applyCustomClass(loader, params, 'loader');\n};\n\nfunction renderButtons(actions, loader, params) {\n  var confirmButton = dom.getConfirmButton();\n  var denyButton = dom.getDenyButton();\n  var cancelButton = dom.getCancelButton(); // Render buttons\n\n  renderButton(confirmButton, 'confirm', params);\n  renderButton(denyButton, 'deny', params);\n  renderButton(cancelButton, 'cancel', params);\n  handleButtonsStyling(confirmButton, denyButton, cancelButton, params);\n\n  if (params.reverseButtons) {\n    if (params.toast) {\n      actions.insertBefore(cancelButton, confirmButton);\n      actions.insertBefore(denyButton, confirmButton);\n    } else {\n      actions.insertBefore(cancelButton, loader);\n      actions.insertBefore(denyButton, loader);\n      actions.insertBefore(confirmButton, loader);\n    }\n  }\n}\n\nfunction handleButtonsStyling(confirmButton, denyButton, cancelButton, params) {\n  if (!params.buttonsStyling) {\n    return dom.removeClass([confirmButton, denyButton, cancelButton], swalClasses.styled);\n  }\n\n  dom.addClass([confirmButton, denyButton, cancelButton], swalClasses.styled); // Buttons background colors\n\n  if (params.confirmButtonColor) {\n    confirmButton.style.backgroundColor = params.confirmButtonColor;\n    dom.addClass(confirmButton, swalClasses['default-outline']);\n  }\n\n  if (params.denyButtonColor) {\n    denyButton.style.backgroundColor = params.denyButtonColor;\n    dom.addClass(denyButton, swalClasses['default-outline']);\n  }\n\n  if (params.cancelButtonColor) {\n    cancelButton.style.backgroundColor = params.cancelButtonColor;\n    dom.addClass(cancelButton, swalClasses['default-outline']);\n  }\n}\n\nfunction renderButton(button, buttonType, params) {\n  dom.toggle(button, params[\"show\".concat(capitalizeFirstLetter(buttonType), \"Button\")], 'inline-block');\n  dom.setInnerHtml(button, params[\"\".concat(buttonType, \"ButtonText\")]); // Set caption text\n\n  button.setAttribute('aria-label', params[\"\".concat(buttonType, \"ButtonAriaLabel\")]); // ARIA label\n  // Add buttons custom classes\n\n  button.className = swalClasses[buttonType];\n  dom.applyCustomClass(button, params, \"\".concat(buttonType, \"Button\"));\n  dom.addClass(button, params[\"\".concat(buttonType, \"ButtonClass\")]);\n}","import { swalClasses } from '../../classes.js';\nimport { warn } from '../../utils.js';\nimport * as dom from '../../dom/index.js';\n\nfunction handleBackdropParam(container, backdrop) {\n  if (typeof backdrop === 'string') {\n    container.style.background = backdrop;\n  } else if (!backdrop) {\n    dom.addClass([document.documentElement, document.body], swalClasses['no-backdrop']);\n  }\n}\n\nfunction handlePositionParam(container, position) {\n  if (position in swalClasses) {\n    dom.addClass(container, swalClasses[position]);\n  } else {\n    warn('The \"position\" parameter is not valid, defaulting to \"center\"');\n    dom.addClass(container, swalClasses.center);\n  }\n}\n\nfunction handleGrowParam(container, grow) {\n  if (grow && typeof grow === 'string') {\n    var growClass = \"grow-\".concat(grow);\n\n    if (growClass in swalClasses) {\n      dom.addClass(container, swalClasses[growClass]);\n    }\n  }\n}\n\nexport var renderContainer = function renderContainer(instance, params) {\n  var container = dom.getContainer();\n\n  if (!container) {\n    return;\n  }\n\n  handleBackdropParam(container, params.backdrop);\n  handlePositionParam(container, params.position);\n  handleGrowParam(container, params.grow); // Custom class\n\n  dom.applyCustomClass(container, params, 'container');\n};","/**\n * This module contains `WeakMap`s for each effectively-\"private  property\" that a `Swal` has.\n * For example, to set the private property \"foo\" of `this` to \"bar\", you can `privateProps.foo.set(this, 'bar')`\n * This is the approach that Babel will probably take to implement private methods/fields\n *   https://github.com/tc39/proposal-private-methods\n *   https://github.com/babel/babel/pull/7555\n * Once we have the changes from that PR in Babel, and our core class fits reasonable in *one module*\n *   then we can use that language feature.\n */\nexport default {\n  awaitingPromise: new WeakMap(),\n  promise: new WeakMap(),\n  innerParams: new WeakMap(),\n  domCache: new WeakMap()\n};","import { swalClasses } from '../../classes.js';\nimport { error, isPromise, warn } from '../../utils.js';\nimport * as dom from '../../dom/index.js';\nimport privateProps from '../../../privateProps.js';\nvar inputTypes = ['input', 'file', 'range', 'select', 'radio', 'checkbox', 'textarea'];\nexport var renderInput = function renderInput(instance, params) {\n  var popup = dom.getPopup();\n  var innerParams = privateProps.innerParams.get(instance);\n  var rerender = !innerParams || params.input !== innerParams.input;\n  inputTypes.forEach(function (inputType) {\n    var inputClass = swalClasses[inputType];\n    var inputContainer = dom.getDirectChildByClass(popup, inputClass); // set attributes\n\n    setAttributes(inputType, params.inputAttributes); // set class\n\n    inputContainer.className = inputClass;\n\n    if (rerender) {\n      dom.hide(inputContainer);\n    }\n  });\n\n  if (params.input) {\n    if (rerender) {\n      showInput(params);\n    } // set custom class\n\n\n    setCustomClass(params);\n  }\n};\n\nvar showInput = function showInput(params) {\n  if (!renderInputType[params.input]) {\n    return error(\"Unexpected type of input! Expected \\\"text\\\", \\\"email\\\", \\\"password\\\", \\\"number\\\", \\\"tel\\\", \\\"select\\\", \\\"radio\\\", \\\"checkbox\\\", \\\"textarea\\\", \\\"file\\\" or \\\"url\\\", got \\\"\".concat(params.input, \"\\\"\"));\n  }\n\n  var inputContainer = getInputContainer(params.input);\n  var input = renderInputType[params.input](inputContainer, params);\n  dom.show(input); // input autofocus\n\n  setTimeout(function () {\n    dom.focusInput(input);\n  });\n};\n\nvar removeAttributes = function removeAttributes(input) {\n  for (var i = 0; i < input.attributes.length; i++) {\n    var attrName = input.attributes[i].name;\n\n    if (!['type', 'value', 'style'].includes(attrName)) {\n      input.removeAttribute(attrName);\n    }\n  }\n};\n\nvar setAttributes = function setAttributes(inputType, inputAttributes) {\n  var input = dom.getInput(dom.getPopup(), inputType);\n\n  if (!input) {\n    return;\n  }\n\n  removeAttributes(input);\n\n  for (var attr in inputAttributes) {\n    input.setAttribute(attr, inputAttributes[attr]);\n  }\n};\n\nvar setCustomClass = function setCustomClass(params) {\n  var inputContainer = getInputContainer(params.input);\n\n  if (params.customClass) {\n    dom.addClass(inputContainer, params.customClass.input);\n  }\n};\n\nvar setInputPlaceholder = function setInputPlaceholder(input, params) {\n  if (!input.placeholder || params.inputPlaceholder) {\n    input.placeholder = params.inputPlaceholder;\n  }\n};\n\nvar setInputLabel = function setInputLabel(input, prependTo, params) {\n  if (params.inputLabel) {\n    input.id = swalClasses.input;\n    var label = document.createElement('label');\n    var labelClass = swalClasses['input-label'];\n    label.setAttribute('for', input.id);\n    label.className = labelClass;\n    dom.addClass(label, params.customClass.inputLabel);\n    label.innerText = params.inputLabel;\n    prependTo.insertAdjacentElement('beforebegin', label);\n  }\n};\n\nvar getInputContainer = function getInputContainer(inputType) {\n  var inputClass = swalClasses[inputType] ? swalClasses[inputType] : swalClasses.input;\n  return dom.getDirectChildByClass(dom.getPopup(), inputClass);\n};\n\nvar renderInputType = {};\n\nrenderInputType.text = renderInputType.email = renderInputType.password = renderInputType.number = renderInputType.tel = renderInputType.url = function (input, params) {\n  if (typeof params.inputValue === 'string' || typeof params.inputValue === 'number') {\n    input.value = params.inputValue;\n  } else if (!isPromise(params.inputValue)) {\n    warn(\"Unexpected type of inputValue! Expected \\\"string\\\", \\\"number\\\" or \\\"Promise\\\", got \\\"\".concat(typeof params.inputValue, \"\\\"\"));\n  }\n\n  setInputLabel(input, input, params);\n  setInputPlaceholder(input, params);\n  input.type = params.input;\n  return input;\n};\n\nrenderInputType.file = function (input, params) {\n  setInputLabel(input, input, params);\n  setInputPlaceholder(input, params);\n  return input;\n};\n\nrenderInputType.range = function (range, params) {\n  var rangeInput = range.querySelector('input');\n  var rangeOutput = range.querySelector('output');\n  rangeInput.value = params.inputValue;\n  rangeInput.type = params.input;\n  rangeOutput.value = params.inputValue;\n  setInputLabel(rangeInput, range, params);\n  return range;\n};\n\nrenderInputType.select = function (select, params) {\n  select.textContent = '';\n\n  if (params.inputPlaceholder) {\n    var placeholder = document.createElement('option');\n    dom.setInnerHtml(placeholder, params.inputPlaceholder);\n    placeholder.value = '';\n    placeholder.disabled = true;\n    placeholder.selected = true;\n    select.appendChild(placeholder);\n  }\n\n  setInputLabel(select, select, params);\n  return select;\n};\n\nrenderInputType.radio = function (radio) {\n  radio.textContent = '';\n  return radio;\n};\n\nrenderInputType.checkbox = function (checkboxContainer, params) {\n  /** @type {HTMLInputElement} */\n  var checkbox = dom.getInput(dom.getPopup(), 'checkbox');\n  checkbox.value = '1';\n  checkbox.id = swalClasses.checkbox;\n  checkbox.checked = Boolean(params.inputValue);\n  var label = checkboxContainer.querySelector('span');\n  dom.setInnerHtml(label, params.inputPlaceholder);\n  return checkboxContainer;\n};\n\nrenderInputType.textarea = function (textarea, params) {\n  textarea.value = params.inputValue;\n  setInputPlaceholder(textarea, params);\n  setInputLabel(textarea, textarea, params);\n\n  var getMargin = function getMargin(el) {\n    return parseInt(window.getComputedStyle(el).marginLeft) + parseInt(window.getComputedStyle(el).marginRight);\n  }; // https://github.com/sweetalert2/sweetalert2/issues/2291\n\n\n  setTimeout(function () {\n    // https://github.com/sweetalert2/sweetalert2/issues/1699\n    if ('MutationObserver' in window) {\n      var initialPopupWidth = parseInt(window.getComputedStyle(dom.getPopup()).width);\n\n      var textareaResizeHandler = function textareaResizeHandler() {\n        var textareaWidth = textarea.offsetWidth + getMargin(textarea);\n\n        if (textareaWidth > initialPopupWidth) {\n          dom.getPopup().style.width = \"\".concat(textareaWidth, \"px\");\n        } else {\n          dom.getPopup().style.width = null;\n        }\n      };\n\n      new MutationObserver(textareaResizeHandler).observe(textarea, {\n        attributes: true,\n        attributeFilter: ['style']\n      });\n    }\n  });\n  return textarea;\n};","import * as dom from '../../dom/index.js';\nimport { renderInput } from './renderInput.js';\nexport var renderContent = function renderContent(instance, params) {\n  var htmlContainer = dom.getHtmlContainer();\n  dom.applyCustomClass(htmlContainer, params, 'htmlContainer'); // Content as HTML\n\n  if (params.html) {\n    dom.parseHtmlToContainer(params.html, htmlContainer);\n    dom.show(htmlContainer, 'block');\n  } // Content as plain text\n  else if (params.text) {\n      htmlContainer.textContent = params.text;\n      dom.show(htmlContainer, 'block');\n    } // No content\n    else {\n        dom.hide(htmlContainer);\n      }\n\n  renderInput(instance, params);\n};","import { iconTypes, swalClasses } from '../../classes.js';\nimport { error } from '../../utils.js';\nimport * as dom from '../../dom/index.js';\nimport privateProps from '../../../privateProps.js';\nexport var renderIcon = function renderIcon(instance, params) {\n  var innerParams = privateProps.innerParams.get(instance);\n  var icon = dom.getIcon(); // if the given icon already rendered, apply the styling without re-rendering the icon\n\n  if (innerParams && params.icon === innerParams.icon) {\n    // Custom or default content\n    setContent(icon, params);\n    applyStyles(icon, params);\n    return;\n  }\n\n  if (!params.icon && !params.iconHtml) {\n    return dom.hide(icon);\n  }\n\n  if (params.icon && Object.keys(iconTypes).indexOf(params.icon) === -1) {\n    error(\"Unknown icon! Expected \\\"success\\\", \\\"error\\\", \\\"warning\\\", \\\"info\\\" or \\\"question\\\", got \\\"\".concat(params.icon, \"\\\"\"));\n    return dom.hide(icon);\n  }\n\n  dom.show(icon); // Custom or default content\n\n  setContent(icon, params);\n  applyStyles(icon, params); // Animate icon\n\n  dom.addClass(icon, params.showClass.icon);\n};\n\nvar applyStyles = function applyStyles(icon, params) {\n  for (var iconType in iconTypes) {\n    if (params.icon !== iconType) {\n      dom.removeClass(icon, iconTypes[iconType]);\n    }\n  }\n\n  dom.addClass(icon, iconTypes[params.icon]); // Icon color\n\n  setColor(icon, params); // Success icon background color\n\n  adjustSuccessIconBackgroundColor(); // Custom class\n\n  dom.applyCustomClass(icon, params, 'icon');\n}; // Adjust success icon background color to match the popup background color\n\n\nvar adjustSuccessIconBackgroundColor = function adjustSuccessIconBackgroundColor() {\n  var popup = dom.getPopup();\n  var popupBackgroundColor = window.getComputedStyle(popup).getPropertyValue('background-color');\n  var successIconParts = popup.querySelectorAll('[class^=swal2-success-circular-line], .swal2-success-fix');\n\n  for (var i = 0; i < successIconParts.length; i++) {\n    successIconParts[i].style.backgroundColor = popupBackgroundColor;\n  }\n};\n\nvar successIconHtml = \"\\n  <div class=\\\"swal2-success-circular-line-left\\\"></div>\\n  <span class=\\\"swal2-success-line-tip\\\"></span> <span class=\\\"swal2-success-line-long\\\"></span>\\n  <div class=\\\"swal2-success-ring\\\"></div> <div class=\\\"swal2-success-fix\\\"></div>\\n  <div class=\\\"swal2-success-circular-line-right\\\"></div>\\n\";\nvar errorIconHtml = \"\\n  <span class=\\\"swal2-x-mark\\\">\\n    <span class=\\\"swal2-x-mark-line-left\\\"></span>\\n    <span class=\\\"swal2-x-mark-line-right\\\"></span>\\n  </span>\\n\";\n\nvar setContent = function setContent(icon, params) {\n  icon.textContent = '';\n\n  if (params.iconHtml) {\n    dom.setInnerHtml(icon, iconContent(params.iconHtml));\n  } else if (params.icon === 'success') {\n    dom.setInnerHtml(icon, successIconHtml);\n  } else if (params.icon === 'error') {\n    dom.setInnerHtml(icon, errorIconHtml);\n  } else {\n    var defaultIconHtml = {\n      question: '?',\n      warning: '!',\n      info: 'i'\n    };\n    dom.setInnerHtml(icon, iconContent(defaultIconHtml[params.icon]));\n  }\n};\n\nvar setColor = function setColor(icon, params) {\n  if (!params.iconColor) {\n    return;\n  }\n\n  icon.style.color = params.iconColor;\n  icon.style.borderColor = params.iconColor;\n\n  for (var _i = 0, _arr = ['.swal2-success-line-tip', '.swal2-success-line-long', '.swal2-x-mark-line-left', '.swal2-x-mark-line-right']; _i < _arr.length; _i++) {\n    var sel = _arr[_i];\n    dom.setStyle(icon, sel, 'backgroundColor', params.iconColor);\n  }\n\n  dom.setStyle(icon, '.swal2-success-ring', 'borderColor', params.iconColor);\n};\n\nvar iconContent = function iconContent(content) {\n  return \"<div class=\\\"\".concat(swalClasses['icon-content'], \"\\\">\").concat(content, \"</div>\");\n};","import { swalClasses } from '../../classes.js';\nimport { warn } from '../../utils.js';\nimport * as dom from '../../dom/index.js';\n\nvar createStepElement = function createStepElement(step) {\n  var stepEl = document.createElement('li');\n  dom.addClass(stepEl, swalClasses['progress-step']);\n  dom.setInnerHtml(stepEl, step);\n  return stepEl;\n};\n\nvar createLineElement = function createLineElement(params) {\n  var lineEl = document.createElement('li');\n  dom.addClass(lineEl, swalClasses['progress-step-line']);\n\n  if (params.progressStepsDistance) {\n    lineEl.style.width = params.progressStepsDistance;\n  }\n\n  return lineEl;\n};\n\nexport var renderProgressSteps = function renderProgressSteps(instance, params) {\n  var progressStepsContainer = dom.getProgressSteps();\n\n  if (!params.progressSteps || params.progressSteps.length === 0) {\n    return dom.hide(progressStepsContainer);\n  }\n\n  dom.show(progressStepsContainer);\n  progressStepsContainer.textContent = '';\n\n  if (params.currentProgressStep >= params.progressSteps.length) {\n    warn('Invalid currentProgressStep parameter, it should be less than progressSteps.length ' + '(currentProgressStep like JS arrays starts from 0)');\n  }\n\n  params.progressSteps.forEach(function (step, index) {\n    var stepEl = createStepElement(step);\n    progressStepsContainer.appendChild(stepEl);\n\n    if (index === params.currentProgressStep) {\n      dom.addClass(stepEl, swalClasses['active-progress-step']);\n    }\n\n    if (index !== params.progressSteps.length - 1) {\n      var lineEl = createLineElement(params);\n      progressStepsContainer.appendChild(lineEl);\n    }\n  });\n};","import { swalClasses } from '../../classes.js';\nimport * as dom from '../../dom/index.js';\nexport var renderPopup = function renderPopup(instance, params) {\n  var container = dom.getContainer();\n  var popup = dom.getPopup(); // Width\n  // https://github.com/sweetalert2/sweetalert2/issues/2170\n\n  if (params.toast) {\n    dom.applyNumericalStyle(container, 'width', params.width);\n    popup.style.width = '100%';\n    popup.insertBefore(dom.getLoader(), dom.getIcon());\n  } else {\n    dom.applyNumericalStyle(popup, 'width', params.width);\n  } // Padding\n\n\n  dom.applyNumericalStyle(popup, 'padding', params.padding); // Color\n\n  if (params.color) {\n    popup.style.color = params.color;\n  } // Background\n\n\n  if (params.background) {\n    popup.style.background = params.background;\n  }\n\n  dom.hide(dom.getValidationMessage()); // Classes\n\n  addClasses(popup, params);\n};\n\nvar addClasses = function addClasses(popup, params) {\n  // Default Class + showClass when updating Swal.update({})\n  popup.className = \"\".concat(swalClasses.popup, \" \").concat(dom.isVisible(popup) ? params.showClass.popup : '');\n\n  if (params.toast) {\n    dom.addClass([document.documentElement, document.body], swalClasses['toast-shown']);\n    dom.addClass(popup, swalClasses.toast);\n  } else {\n    dom.addClass(popup, swalClasses.modal);\n  } // Custom class\n\n\n  dom.applyCustomClass(popup, params, 'popup');\n\n  if (typeof params.customClass === 'string') {\n    dom.addClass(popup, params.customClass);\n  } // Icon class (#1842)\n\n\n  if (params.icon) {\n    dom.addClass(popup, swalClasses[\"icon-\".concat(params.icon)]);\n  }\n};","import { getPopup } from '../getters.js';\nimport { renderActions } from './renderActions.js';\nimport { renderContainer } from './renderContainer.js';\nimport { renderContent } from './renderContent.js';\nimport { renderFooter } from './renderFooter.js';\nimport { renderCloseButton } from './renderCloseButton.js';\nimport { renderIcon } from './renderIcon.js';\nimport { renderImage } from './renderImage.js';\nimport { renderProgressSteps } from './renderProgressSteps.js';\nimport { renderTitle } from './renderTitle.js';\nimport { renderPopup } from './renderPopup.js';\nexport var render = function render(instance, params) {\n  renderPopup(instance, params);\n  renderContainer(instance, params);\n  renderProgressSteps(instance, params);\n  renderIcon(instance, params);\n  renderImage(instance, params);\n  renderTitle(instance, params);\n  renderCloseButton(instance, params);\n  renderContent(instance, params);\n  renderActions(instance, params);\n  renderFooter(instance, params);\n\n  if (typeof params.didRender === 'function') {\n    params.didRender(getPopup());\n  }\n};","import { swalClasses } from '../../classes.js';\nimport * as dom from '../../dom/index.js';\nexport var renderImage = function renderImage(instance, params) {\n  var image = dom.getImage();\n\n  if (!params.imageUrl) {\n    return dom.hide(image);\n  }\n\n  dom.show(image, ''); // Src, alt\n\n  image.setAttribute('src', params.imageUrl);\n  image.setAttribute('alt', params.imageAlt); // Width, height\n\n  dom.applyNumericalStyle(image, 'width', params.imageWidth);\n  dom.applyNumericalStyle(image, 'height', params.imageHeight); // Class\n\n  image.className = swalClasses.image;\n  dom.applyCustomClass(image, params, 'image');\n};","import * as dom from '../../dom/index.js';\nexport var renderTitle = function renderTitle(instance, params) {\n  var title = dom.getTitle();\n  dom.toggle(title, params.title || params.titleText, 'block');\n\n  if (params.title) {\n    dom.parseHtmlToContainer(params.title, title);\n  }\n\n  if (params.titleText) {\n    title.innerText = params.titleText;\n  } // Custom class\n\n\n  dom.applyCustomClass(title, params, 'title');\n};","import * as dom from '../../dom/index.js';\nexport var renderCloseButton = function renderCloseButton(instance, params) {\n  var closeButton = dom.getCloseButton();\n  dom.setInnerHtml(closeButton, params.closeButtonHtml); // Custom class\n\n  dom.applyCustomClass(closeButton, params, 'closeButton');\n  dom.toggle(closeButton, params.showCloseButton);\n  closeButton.setAttribute('aria-label', params.closeButtonAriaLabel);\n};","import * as dom from '../../dom/index.js';\nexport var renderFooter = function renderFooter(instance, params) {\n  var footer = dom.getFooter();\n  dom.toggle(footer, params.footer);\n\n  if (params.footer) {\n    dom.parseHtmlToContainer(params.footer, footer);\n  } // Custom class\n\n\n  dom.applyCustomClass(footer, params, 'footer');\n};","export var DismissReason = Object.freeze({\n  cancel: 'cancel',\n  backdrop: 'backdrop',\n  close: 'close',\n  esc: 'esc',\n  timer: 'timer'\n});","import { getContainer } from './dom/getters.js';\nimport { toArray } from './utils.js'; // From https://developer.paciellogroup.com/blog/2018/06/the-current-state-of-modal-dialog-accessibility/\n// Adding aria-hidden=\"true\" to elements outside of the active modal dialog ensures that\n// elements not within the active modal dialog will not be surfaced if a user opens a screen\n// readers list of elements (headings, form controls, landmarks, etc.) in the document.\n\nexport var setAriaHidden = function setAriaHidden() {\n  var bodyChildren = toArray(document.body.children);\n  bodyChildren.forEach(function (el) {\n    if (el === getContainer() || el.contains(getContainer())) {\n      return;\n    }\n\n    if (el.hasAttribute('aria-hidden')) {\n      el.setAttribute('data-previous-aria-hidden', el.getAttribute('aria-hidden'));\n    }\n\n    el.setAttribute('aria-hidden', 'true');\n  });\n};\nexport var unsetAriaHidden = function unsetAriaHidden() {\n  var bodyChildren = toArray(document.body.children);\n  bodyChildren.forEach(function (el) {\n    if (el.hasAttribute('data-previous-aria-hidden')) {\n      el.setAttribute('aria-hidden', el.getAttribute('data-previous-aria-hidden'));\n      el.removeAttribute('data-previous-aria-hidden');\n    } else {\n      el.removeAttribute('aria-hidden');\n    }\n  });\n};","import defaultParams from './params.js';\nimport { capitalizeFirstLetter, toArray, warn } from './utils.js';\nvar swalStringParams = ['swal-title', 'swal-html', 'swal-footer'];\nexport var getTemplateParams = function getTemplateParams(params) {\n  var template = typeof params.template === 'string' ? document.querySelector(params.template) : params.template;\n\n  if (!template) {\n    return {};\n  }\n  /** @type {DocumentFragment} */\n\n\n  var templateContent = template.content;\n  showWarningsForElements(templateContent);\n  var result = Object.assign(getSwalParams(templateContent), getSwalButtons(templateContent), getSwalImage(templateContent), getSwalIcon(templateContent), getSwalInput(templateContent), getSwalStringParams(templateContent, swalStringParams));\n  return result;\n};\n/**\n * @param {DocumentFragment} templateContent\n */\n\nvar getSwalParams = function getSwalParams(templateContent) {\n  var result = {};\n  toArray(templateContent.querySelectorAll('swal-param')).forEach(function (param) {\n    showWarningsForAttributes(param, ['name', 'value']);\n    var paramName = param.getAttribute('name');\n    var value = param.getAttribute('value');\n\n    if (typeof defaultParams[paramName] === 'boolean' && value === 'false') {\n      result[paramName] = false;\n    }\n\n    if (typeof defaultParams[paramName] === 'object') {\n      result[paramName] = JSON.parse(value);\n    }\n  });\n  return result;\n};\n/**\n * @param {DocumentFragment} templateContent\n */\n\n\nvar getSwalButtons = function getSwalButtons(templateContent) {\n  var result = {};\n  toArray(templateContent.querySelectorAll('swal-button')).forEach(function (button) {\n    showWarningsForAttributes(button, ['type', 'color', 'aria-label']);\n    var type = button.getAttribute('type');\n    result[\"\".concat(type, \"ButtonText\")] = button.innerHTML;\n    result[\"show\".concat(capitalizeFirstLetter(type), \"Button\")] = true;\n\n    if (button.hasAttribute('color')) {\n      result[\"\".concat(type, \"ButtonColor\")] = button.getAttribute('color');\n    }\n\n    if (button.hasAttribute('aria-label')) {\n      result[\"\".concat(type, \"ButtonAriaLabel\")] = button.getAttribute('aria-label');\n    }\n  });\n  return result;\n};\n/**\n * @param {DocumentFragment} templateContent\n */\n\n\nvar getSwalImage = function getSwalImage(templateContent) {\n  var result = {};\n  /** @type {HTMLElement} */\n\n  var image = templateContent.querySelector('swal-image');\n\n  if (image) {\n    showWarningsForAttributes(image, ['src', 'width', 'height', 'alt']);\n\n    if (image.hasAttribute('src')) {\n      result.imageUrl = image.getAttribute('src');\n    }\n\n    if (image.hasAttribute('width')) {\n      result.imageWidth = image.getAttribute('width');\n    }\n\n    if (image.hasAttribute('height')) {\n      result.imageHeight = image.getAttribute('height');\n    }\n\n    if (image.hasAttribute('alt')) {\n      result.imageAlt = image.getAttribute('alt');\n    }\n  }\n\n  return result;\n};\n/**\n * @param {DocumentFragment} templateContent\n */\n\n\nvar getSwalIcon = function getSwalIcon(templateContent) {\n  var result = {};\n  /** @type {HTMLElement} */\n\n  var icon = templateContent.querySelector('swal-icon');\n\n  if (icon) {\n    showWarningsForAttributes(icon, ['type', 'color']);\n\n    if (icon.hasAttribute('type')) {\n      result.icon = icon.getAttribute('type');\n    }\n\n    if (icon.hasAttribute('color')) {\n      result.iconColor = icon.getAttribute('color');\n    }\n\n    result.iconHtml = icon.innerHTML;\n  }\n\n  return result;\n};\n/**\n * @param {DocumentFragment} templateContent\n */\n\n\nvar getSwalInput = function getSwalInput(templateContent) {\n  var result = {};\n  /** @type {HTMLElement} */\n\n  var input = templateContent.querySelector('swal-input');\n\n  if (input) {\n    showWarningsForAttributes(input, ['type', 'label', 'placeholder', 'value']);\n    result.input = input.getAttribute('type') || 'text';\n\n    if (input.hasAttribute('label')) {\n      result.inputLabel = input.getAttribute('label');\n    }\n\n    if (input.hasAttribute('placeholder')) {\n      result.inputPlaceholder = input.getAttribute('placeholder');\n    }\n\n    if (input.hasAttribute('value')) {\n      result.inputValue = input.getAttribute('value');\n    }\n  }\n\n  var inputOptions = templateContent.querySelectorAll('swal-input-option');\n\n  if (inputOptions.length) {\n    result.inputOptions = {};\n    toArray(inputOptions).forEach(function (option) {\n      showWarningsForAttributes(option, ['value']);\n      var optionValue = option.getAttribute('value');\n      var optionName = option.innerHTML;\n      result.inputOptions[optionValue] = optionName;\n    });\n  }\n\n  return result;\n};\n/**\n * @param {DocumentFragment} templateContent\n * @param {string[]} paramNames\n */\n\n\nvar getSwalStringParams = function getSwalStringParams(templateContent, paramNames) {\n  var result = {};\n\n  for (var i in paramNames) {\n    var paramName = paramNames[i];\n    /** @type {HTMLElement} */\n\n    var tag = templateContent.querySelector(paramName);\n\n    if (tag) {\n      showWarningsForAttributes(tag, []);\n      result[paramName.replace(/^swal-/, '')] = tag.innerHTML.trim();\n    }\n  }\n\n  return result;\n};\n/**\n * @param {DocumentFragment} templateContent\n */\n\n\nvar showWarningsForElements = function showWarningsForElements(templateContent) {\n  var allowedElements = swalStringParams.concat(['swal-param', 'swal-button', 'swal-image', 'swal-icon', 'swal-input', 'swal-input-option']);\n  toArray(templateContent.children).forEach(function (el) {\n    var tagName = el.tagName.toLowerCase();\n\n    if (allowedElements.indexOf(tagName) === -1) {\n      warn(\"Unrecognized element <\".concat(tagName, \">\"));\n    }\n  });\n};\n/**\n * @param {HTMLElement} el\n * @param {string[]} allowedAttributes\n */\n\n\nvar showWarningsForAttributes = function showWarningsForAttributes(el, allowedAttributes) {\n  toArray(el.attributes).forEach(function (attribute) {\n    if (allowedAttributes.indexOf(attribute.name) === -1) {\n      warn([\"Unrecognized attribute \\\"\".concat(attribute.name, \"\\\" on <\").concat(el.tagName.toLowerCase(), \">.\"), \"\".concat(allowedAttributes.length ? \"Allowed attributes are: \".concat(allowedAttributes.join(', ')) : 'To set the value, use HTML within the element.')]);\n    }\n  });\n};","export default {\n  email: function email(string, validationMessage) {\n    return /^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z0-9-]{2,24}$/.test(string) ? Promise.resolve() : Promise.resolve(validationMessage || 'Invalid email address');\n  },\n  url: function url(string, validationMessage) {\n    // taken from https://stackoverflow.com/a/3809435 with a small change from #1306 and #2013\n    return /^https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-z]{2,63}\\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(string) ? Promise.resolve() : Promise.resolve(validationMessage || 'Invalid URL');\n  }\n};","import { warn } from './utils.js';\nimport * as dom from './dom/index.js';\nimport defaultInputValidators from './defaultInputValidators.js';\n\nfunction setDefaultInputValidators(params) {\n  // Use default `inputValidator` for supported input types if not provided\n  if (!params.inputValidator) {\n    Object.keys(defaultInputValidators).forEach(function (key) {\n      if (params.input === key) {\n        params.inputValidator = defaultInputValidators[key];\n      }\n    });\n  }\n}\n\nfunction validateCustomTargetElement(params) {\n  // Determine if the custom target element is valid\n  if (!params.target || typeof params.target === 'string' && !document.querySelector(params.target) || typeof params.target !== 'string' && !params.target.appendChild) {\n    warn('Target parameter is not valid, defaulting to \"body\"');\n    params.target = 'body';\n  }\n}\n/**\n * Set type, text and actions on popup\n *\n * @param params\n */\n\n\nexport default function setParameters(params) {\n  setDefaultInputValidators(params); // showLoaderOnConfirm && preConfirm\n\n  if (params.showLoaderOnConfirm && !params.preConfirm) {\n    warn('showLoaderOnConfirm is set to true, but preConfirm is not defined.\\n' + 'showLoaderOnConfirm should be used together with preConfirm, see usage example:\\n' + 'https://sweetalert2.github.io/#ajax-request');\n  }\n\n  validateCustomTargetElement(params); // Replace newlines with <br> in title\n\n  if (typeof params.title === 'string') {\n    params.title = params.title.split('\\n').join('<br />');\n  }\n\n  dom.init(params);\n}","import _classCallCheck from \"G:/Documents/Code/gmmurray.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"G:/Documents/Code/gmmurray.github.io/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nvar Timer = /*#__PURE__*/function () {\n  function Timer(callback, delay) {\n    _classCallCheck(this, Timer);\n\n    this.callback = callback;\n    this.remaining = delay;\n    this.running = false;\n    this.start();\n  }\n\n  _createClass(Timer, [{\n    key: \"start\",\n    value: function start() {\n      if (!this.running) {\n        this.running = true;\n        this.started = new Date();\n        this.id = setTimeout(this.callback, this.remaining);\n      }\n\n      return this.remaining;\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      if (this.running) {\n        this.running = false;\n        clearTimeout(this.id);\n        this.remaining -= new Date().getTime() - this.started.getTime();\n      }\n\n      return this.remaining;\n    }\n  }, {\n    key: \"increase\",\n    value: function increase(n) {\n      var running = this.running;\n\n      if (running) {\n        this.stop();\n      }\n\n      this.remaining += n;\n\n      if (running) {\n        this.start();\n      }\n\n      return this.remaining;\n    }\n  }, {\n    key: \"getTimerLeft\",\n    value: function getTimerLeft() {\n      if (this.running) {\n        this.stop();\n        this.start();\n      }\n\n      return this.remaining;\n    }\n  }, {\n    key: \"isRunning\",\n    value: function isRunning() {\n      return this.running;\n    }\n  }]);\n\n  return Timer;\n}();\n\nexport { Timer as default };","import * as dom from './dom/index.js';\nexport var fixScrollbar = function fixScrollbar() {\n  // for queues, do not do this more than once\n  if (dom.states.previousBodyPadding !== null) {\n    return;\n  } // if the body has overflow\n\n\n  if (document.body.scrollHeight > window.innerHeight) {\n    // add padding so the content doesn't shift after removal of scrollbar\n    dom.states.previousBodyPadding = parseInt(window.getComputedStyle(document.body).getPropertyValue('padding-right'));\n    document.body.style.paddingRight = \"\".concat(dom.states.previousBodyPadding + dom.measureScrollbar(), \"px\");\n  }\n};\nexport var undoScrollbar = function undoScrollbar() {\n  if (dom.states.previousBodyPadding !== null) {\n    document.body.style.paddingRight = \"\".concat(dom.states.previousBodyPadding, \"px\");\n    dom.states.previousBodyPadding = null;\n  }\n};","import { swalClasses } from '../classes.js'; // Measure scrollbar width for padding body during modal show/hide\n// https://github.com/twbs/bootstrap/blob/master/js/src/modal.js\n\nexport var measureScrollbar = function measureScrollbar() {\n  var scrollDiv = document.createElement('div');\n  scrollDiv.className = swalClasses['scrollbar-measure'];\n  document.body.appendChild(scrollDiv);\n  var scrollbarWidth = scrollDiv.getBoundingClientRect().width - scrollDiv.clientWidth;\n  document.body.removeChild(scrollDiv);\n  return scrollbarWidth;\n};","/* istanbul ignore file */\nimport * as dom from './dom/index.js';\nimport { swalClasses } from '../utils/classes.js'; // Fix iOS scrolling http://stackoverflow.com/q/39626302\n\nexport var iOSfix = function iOSfix() {\n  var iOS = // @ts-ignore\n  /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream || navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1;\n\n  if (iOS && !dom.hasClass(document.body, swalClasses.iosfix)) {\n    var offset = document.body.scrollTop;\n    document.body.style.top = \"\".concat(offset * -1, \"px\");\n    dom.addClass(document.body, swalClasses.iosfix);\n    lockBodyScroll();\n    addBottomPaddingForTallPopups();\n  }\n};\n/**\n * https://github.com/sweetalert2/sweetalert2/issues/1948\n */\n\nvar addBottomPaddingForTallPopups = function addBottomPaddingForTallPopups() {\n  var ua = navigator.userAgent;\n  var iOS = !!ua.match(/iPad/i) || !!ua.match(/iPhone/i);\n  var webkit = !!ua.match(/WebKit/i);\n  var iOSSafari = iOS && webkit && !ua.match(/CriOS/i);\n\n  if (iOSSafari) {\n    var bottomPanelHeight = 44;\n\n    if (dom.getPopup().scrollHeight > window.innerHeight - bottomPanelHeight) {\n      dom.getContainer().style.paddingBottom = \"\".concat(bottomPanelHeight, \"px\");\n    }\n  }\n};\n/**\n * https://github.com/sweetalert2/sweetalert2/issues/1246\n */\n\n\nvar lockBodyScroll = function lockBodyScroll() {\n  var container = dom.getContainer();\n  var preventTouchMove;\n\n  container.ontouchstart = function (e) {\n    preventTouchMove = shouldPreventTouchMove(e);\n  };\n\n  container.ontouchmove = function (e) {\n    if (preventTouchMove) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  };\n};\n\nvar shouldPreventTouchMove = function shouldPreventTouchMove(event) {\n  var target = event.target;\n  var container = dom.getContainer();\n\n  if (isStylus(event) || isZoom(event)) {\n    return false;\n  }\n\n  if (target === container) {\n    return true;\n  }\n\n  if (!dom.isScrollable(container) && target.tagName !== 'INPUT' && // #1603\n  target.tagName !== 'TEXTAREA' && // #2266\n  !(dom.isScrollable(dom.getHtmlContainer()) && // #1944\n  dom.getHtmlContainer().contains(target))) {\n    return true;\n  }\n\n  return false;\n};\n/**\n * https://github.com/sweetalert2/sweetalert2/issues/1786\n *\n * @param {*} event\n * @returns {boolean}\n */\n\n\nvar isStylus = function isStylus(event) {\n  return event.touches && event.touches.length && event.touches[0].touchType === 'stylus';\n};\n/**\n * https://github.com/sweetalert2/sweetalert2/issues/1891\n *\n * @param {TouchEvent} event\n * @returns {boolean}\n */\n\n\nvar isZoom = function isZoom(event) {\n  return event.touches && event.touches.length > 1;\n};\n\nexport var undoIOSfix = function undoIOSfix() {\n  if (dom.hasClass(document.body, swalClasses.iosfix)) {\n    var offset = parseInt(document.body.style.top, 10);\n    dom.removeClass(document.body, swalClasses.iosfix);\n    document.body.style.top = '';\n    document.body.scrollTop = offset * -1;\n  }\n};","import * as dom from './dom/index.js';\nimport { swalClasses } from './classes.js';\nimport { fixScrollbar } from './scrollbarFix.js';\nimport { iOSfix } from './iosFix.js';\nimport { setAriaHidden } from './aria.js';\nimport globalState from '../globalState.js';\nexport var SHOW_CLASS_TIMEOUT = 10;\n/**\n * Open popup, add necessary classes and styles, fix scrollbar\n *\n * @param params\n */\n\nexport var openPopup = function openPopup(params) {\n  var container = dom.getContainer();\n  var popup = dom.getPopup();\n\n  if (typeof params.willOpen === 'function') {\n    params.willOpen(popup);\n  }\n\n  var bodyStyles = window.getComputedStyle(document.body);\n  var initialBodyOverflow = bodyStyles.overflowY;\n  addClasses(container, popup, params); // scrolling is 'hidden' until animation is done, after that 'auto'\n\n  setTimeout(function () {\n    setScrollingVisibility(container, popup);\n  }, SHOW_CLASS_TIMEOUT);\n\n  if (dom.isModal()) {\n    fixScrollContainer(container, params.scrollbarPadding, initialBodyOverflow);\n    setAriaHidden();\n  }\n\n  if (!dom.isToast() && !globalState.previousActiveElement) {\n    globalState.previousActiveElement = document.activeElement;\n  }\n\n  if (typeof params.didOpen === 'function') {\n    setTimeout(function () {\n      return params.didOpen(popup);\n    });\n  }\n\n  dom.removeClass(container, swalClasses['no-transition']);\n};\n\nvar swalOpenAnimationFinished = function swalOpenAnimationFinished(event) {\n  var popup = dom.getPopup();\n\n  if (event.target !== popup) {\n    return;\n  }\n\n  var container = dom.getContainer();\n  popup.removeEventListener(dom.animationEndEvent, swalOpenAnimationFinished);\n  container.style.overflowY = 'auto';\n};\n\nvar setScrollingVisibility = function setScrollingVisibility(container, popup) {\n  if (dom.animationEndEvent && dom.hasCssAnimation(popup)) {\n    container.style.overflowY = 'hidden';\n    popup.addEventListener(dom.animationEndEvent, swalOpenAnimationFinished);\n  } else {\n    container.style.overflowY = 'auto';\n  }\n};\n\nvar fixScrollContainer = function fixScrollContainer(container, scrollbarPadding, initialBodyOverflow) {\n  iOSfix();\n\n  if (scrollbarPadding && initialBodyOverflow !== 'hidden') {\n    fixScrollbar();\n  } // sweetalert2/issues/1247\n\n\n  setTimeout(function () {\n    container.scrollTop = 0;\n  });\n};\n\nvar addClasses = function addClasses(container, popup, params) {\n  dom.addClass(container, params.showClass.backdrop); // this workaround with opacity is needed for https://github.com/sweetalert2/sweetalert2/issues/2059\n\n  popup.style.setProperty('opacity', '0', 'important');\n  dom.show(popup, 'grid');\n  setTimeout(function () {\n    // Animate popup right after showing it\n    dom.addClass(popup, params.showClass.popup); // and remove the opacity workaround\n\n    popup.style.removeProperty('opacity');\n  }, SHOW_CLASS_TIMEOUT); // 10ms in order to fix #2062\n\n  dom.addClass([document.documentElement, document.body], swalClasses.shown);\n\n  if (params.heightAuto && params.backdrop && !params.toast) {\n    dom.addClass([document.documentElement, document.body], swalClasses['height-auto']);\n  }\n};","import * as dom from '../utils/dom/index.js';\nimport Swal from '../sweetalert2.js';\nimport { swalClasses } from '../utils/classes.js';\n/**\n * Shows loader (spinner), this is useful with AJAX requests.\n * By default the loader be shown instead of the \"Confirm\" button.\n */\n\nvar showLoading = function showLoading(buttonToReplace) {\n  var popup = dom.getPopup();\n\n  if (!popup) {\n    new Swal(); // eslint-disable-line no-new\n  }\n\n  popup = dom.getPopup();\n  var loader = dom.getLoader();\n\n  if (dom.isToast()) {\n    dom.hide(dom.getIcon());\n  } else {\n    replaceButton(popup, buttonToReplace);\n  }\n\n  dom.show(loader);\n  popup.setAttribute('data-loading', true);\n  popup.setAttribute('aria-busy', true);\n  popup.focus();\n};\n\nvar replaceButton = function replaceButton(popup, buttonToReplace) {\n  var actions = dom.getActions();\n  var loader = dom.getLoader();\n\n  if (!buttonToReplace && dom.isVisible(dom.getConfirmButton())) {\n    buttonToReplace = dom.getConfirmButton();\n  }\n\n  dom.show(actions);\n\n  if (buttonToReplace) {\n    dom.hide(buttonToReplace);\n    loader.setAttribute('data-button-to-replace', buttonToReplace.className);\n  }\n\n  loader.parentNode.insertBefore(loader, buttonToReplace);\n  dom.addClass([popup, actions], swalClasses.loading);\n};\n\nexport { showLoading, showLoading as enableLoading };","import * as dom from './index.js';\nimport { swalClasses } from '../classes.js';\nimport { getDirectChildByClass } from './domUtils.js';\nimport { asPromise, error, hasToPromiseFn, isPromise } from '../utils.js';\nimport { showLoading } from '../../staticMethods/showLoading.js';\nexport var handleInputOptionsAndValue = function handleInputOptionsAndValue(instance, params) {\n  if (params.input === 'select' || params.input === 'radio') {\n    handleInputOptions(instance, params);\n  } else if (['text', 'email', 'number', 'tel', 'textarea'].includes(params.input) && (hasToPromiseFn(params.inputValue) || isPromise(params.inputValue))) {\n    showLoading(dom.getConfirmButton());\n    handleInputValue(instance, params);\n  }\n};\nexport var getInputValue = function getInputValue(instance, innerParams) {\n  var input = instance.getInput();\n\n  if (!input) {\n    return null;\n  }\n\n  switch (innerParams.input) {\n    case 'checkbox':\n      return getCheckboxValue(input);\n\n    case 'radio':\n      return getRadioValue(input);\n\n    case 'file':\n      return getFileValue(input);\n\n    default:\n      return innerParams.inputAutoTrim ? input.value.trim() : input.value;\n  }\n};\n\nvar getCheckboxValue = function getCheckboxValue(input) {\n  return input.checked ? 1 : 0;\n};\n\nvar getRadioValue = function getRadioValue(input) {\n  return input.checked ? input.value : null;\n};\n\nvar getFileValue = function getFileValue(input) {\n  return input.files.length ? input.getAttribute('multiple') !== null ? input.files : input.files[0] : null;\n};\n\nvar handleInputOptions = function handleInputOptions(instance, params) {\n  var popup = dom.getPopup();\n\n  var processInputOptions = function processInputOptions(inputOptions) {\n    return populateInputOptions[params.input](popup, formatInputOptions(inputOptions), params);\n  };\n\n  if (hasToPromiseFn(params.inputOptions) || isPromise(params.inputOptions)) {\n    showLoading(dom.getConfirmButton());\n    asPromise(params.inputOptions).then(function (inputOptions) {\n      instance.hideLoading();\n      processInputOptions(inputOptions);\n    });\n  } else if (typeof params.inputOptions === 'object') {\n    processInputOptions(params.inputOptions);\n  } else {\n    error(\"Unexpected type of inputOptions! Expected object, Map or Promise, got \".concat(typeof params.inputOptions));\n  }\n};\n\nvar handleInputValue = function handleInputValue(instance, params) {\n  var input = instance.getInput();\n  dom.hide(input);\n  asPromise(params.inputValue).then(function (inputValue) {\n    input.value = params.input === 'number' ? parseFloat(inputValue) || 0 : \"\".concat(inputValue);\n    dom.show(input);\n    input.focus();\n    instance.hideLoading();\n  }).catch(function (err) {\n    error(\"Error in inputValue promise: \".concat(err));\n    input.value = '';\n    dom.show(input);\n    input.focus();\n    instance.hideLoading();\n  });\n};\n\nvar populateInputOptions = {\n  select: function select(popup, inputOptions, params) {\n    var select = getDirectChildByClass(popup, swalClasses.select);\n\n    var renderOption = function renderOption(parent, optionLabel, optionValue) {\n      var option = document.createElement('option');\n      option.value = optionValue;\n      dom.setInnerHtml(option, optionLabel);\n      option.selected = isSelected(optionValue, params.inputValue);\n      parent.appendChild(option);\n    };\n\n    inputOptions.forEach(function (inputOption) {\n      var optionValue = inputOption[0];\n      var optionLabel = inputOption[1]; // <optgroup> spec:\n      // https://www.w3.org/TR/html401/interact/forms.html#h-17.6\n      // \"...all OPTGROUP elements must be specified directly within a SELECT element (i.e., groups may not be nested)...\"\n      // check whether this is a <optgroup>\n\n      if (Array.isArray(optionLabel)) {\n        // if it is an array, then it is an <optgroup>\n        var optgroup = document.createElement('optgroup');\n        optgroup.label = optionValue;\n        optgroup.disabled = false; // not configurable for now\n\n        select.appendChild(optgroup);\n        optionLabel.forEach(function (o) {\n          return renderOption(optgroup, o[1], o[0]);\n        });\n      } else {\n        // case of <option>\n        renderOption(select, optionLabel, optionValue);\n      }\n    });\n    select.focus();\n  },\n  radio: function radio(popup, inputOptions, params) {\n    var radio = getDirectChildByClass(popup, swalClasses.radio);\n    inputOptions.forEach(function (inputOption) {\n      var radioValue = inputOption[0];\n      var radioLabel = inputOption[1];\n      var radioInput = document.createElement('input');\n      var radioLabelElement = document.createElement('label');\n      radioInput.type = 'radio';\n      radioInput.name = swalClasses.radio;\n      radioInput.value = radioValue;\n\n      if (isSelected(radioValue, params.inputValue)) {\n        radioInput.checked = true;\n      }\n\n      var label = document.createElement('span');\n      dom.setInnerHtml(label, radioLabel);\n      label.className = swalClasses.label;\n      radioLabelElement.appendChild(radioInput);\n      radioLabelElement.appendChild(label);\n      radio.appendChild(radioLabelElement);\n    });\n    var radios = radio.querySelectorAll('input');\n\n    if (radios.length) {\n      radios[0].focus();\n    }\n  }\n};\n/**\n * Converts `inputOptions` into an array of `[value, label]`s\n * @param inputOptions\n */\n\nvar formatInputOptions = function formatInputOptions(inputOptions) {\n  var result = [];\n\n  if (typeof Map !== 'undefined' && inputOptions instanceof Map) {\n    inputOptions.forEach(function (value, key) {\n      var valueFormatted = value;\n\n      if (typeof valueFormatted === 'object') {\n        // case of <optgroup>\n        valueFormatted = formatInputOptions(valueFormatted);\n      }\n\n      result.push([key, valueFormatted]);\n    });\n  } else {\n    Object.keys(inputOptions).forEach(function (key) {\n      var valueFormatted = inputOptions[key];\n\n      if (typeof valueFormatted === 'object') {\n        // case of <optgroup>\n        valueFormatted = formatInputOptions(valueFormatted);\n      }\n\n      result.push([key, valueFormatted]);\n    });\n  }\n\n  return result;\n};\n\nvar isSelected = function isSelected(optionValue, inputValue) {\n  return inputValue && inputValue.toString() === optionValue.toString();\n};","import * as dom from '../utils/dom/index.js';\nimport { swalClasses } from '../utils/classes.js';\nimport privateProps from '../privateProps.js';\n/**\n * Hides loader and shows back the button which was hidden by .showLoading()\n */\n\nfunction hideLoading() {\n  // do nothing if popup is closed\n  var innerParams = privateProps.innerParams.get(this);\n\n  if (!innerParams) {\n    return;\n  }\n\n  var domCache = privateProps.domCache.get(this);\n  dom.hide(domCache.loader);\n\n  if (dom.isToast()) {\n    if (innerParams.icon) {\n      dom.show(dom.getIcon());\n    }\n  } else {\n    showRelatedButton(domCache);\n  }\n\n  dom.removeClass([domCache.popup, domCache.actions], swalClasses.loading);\n  domCache.popup.removeAttribute('aria-busy');\n  domCache.popup.removeAttribute('data-loading');\n  domCache.confirmButton.disabled = false;\n  domCache.denyButton.disabled = false;\n  domCache.cancelButton.disabled = false;\n}\n\nvar showRelatedButton = function showRelatedButton(domCache) {\n  var buttonToReplace = domCache.popup.getElementsByClassName(domCache.loader.getAttribute('data-button-to-replace'));\n\n  if (buttonToReplace.length) {\n    dom.show(buttonToReplace[0], 'inline-block');\n  } else if (dom.allButtonsAreHidden()) {\n    dom.hide(domCache.actions);\n  }\n};\n\nexport { hideLoading, hideLoading as disableLoading };","import * as dom from '../utils/dom/index.js';\nimport privateProps from '../privateProps.js';\n/**\n * Gets the input DOM node, this method works with input parameter.\n * @returns {HTMLElement | null}\n */\n\nexport function getInput(instance) {\n  var innerParams = privateProps.innerParams.get(instance || this);\n  var domCache = privateProps.domCache.get(instance || this);\n\n  if (!domCache) {\n    return null;\n  }\n\n  return dom.getInput(domCache.popup, innerParams.input);\n}","/**\n * This module contains `WeakMap`s for each effectively-\"private  property\" that a `Swal` has.\n * For example, to set the private property \"foo\" of `this` to \"bar\", you can `privateProps.foo.set(this, 'bar')`\n * This is the approach that Babel will probably take to implement private methods/fields\n *   https://github.com/tc39/proposal-private-methods\n *   https://github.com/babel/babel/pull/7555\n * Once we have the changes from that PR in Babel, and our core class fits reasonable in *one module*\n *   then we can use that language feature.\n */\nexport default {\n  swalPromiseResolve: new WeakMap(),\n  swalPromiseReject: new WeakMap()\n};","import * as dom from '../utils/dom/index.js';\nimport * as domUtils from '../utils/dom/domUtils.js';\nexport { getContainer, getPopup, getTitle, getHtmlContainer, getImage, getIcon, getInputLabel, getCloseButton, getActions, getConfirmButton, getDenyButton, getCancelButton, getLoader, getFooter, getTimerProgressBar, getFocusableElements, getValidationMessage, isLoading } from '../utils/dom/index.js';\n/*\n * Global function to determine if SweetAlert2 popup is shown\n */\n\nexport var isVisible = function isVisible() {\n  return domUtils.isVisible(dom.getPopup());\n};\n/*\n * Global function to click 'Confirm' button\n */\n\nexport var clickConfirm = function clickConfirm() {\n  return dom.getConfirmButton() && dom.getConfirmButton().click();\n};\n/*\n * Global function to click 'Deny' button\n */\n\nexport var clickDeny = function clickDeny() {\n  return dom.getDenyButton() && dom.getDenyButton().click();\n};\n/*\n * Global function to click 'Cancel' button\n */\n\nexport var clickCancel = function clickCancel() {\n  return dom.getCancelButton() && dom.getCancelButton().click();\n};","import * as dom from './utils/dom/index.js';\nimport { DismissReason } from './utils/DismissReason.js';\nimport { callIfFunction } from './utils/utils.js';\nimport { clickConfirm } from './staticMethods/dom.js';\nimport privateProps from './privateProps.js';\nexport var removeKeydownHandler = function removeKeydownHandler(globalState) {\n  if (globalState.keydownTarget && globalState.keydownHandlerAdded) {\n    globalState.keydownTarget.removeEventListener('keydown', globalState.keydownHandler, {\n      capture: globalState.keydownListenerCapture\n    });\n    globalState.keydownHandlerAdded = false;\n  }\n};\nexport var addKeydownHandler = function addKeydownHandler(instance, globalState, innerParams, dismissWith) {\n  removeKeydownHandler(globalState);\n\n  if (!innerParams.toast) {\n    globalState.keydownHandler = function (e) {\n      return keydownHandler(instance, e, dismissWith);\n    };\n\n    globalState.keydownTarget = innerParams.keydownListenerCapture ? window : dom.getPopup();\n    globalState.keydownListenerCapture = innerParams.keydownListenerCapture;\n    globalState.keydownTarget.addEventListener('keydown', globalState.keydownHandler, {\n      capture: globalState.keydownListenerCapture\n    });\n    globalState.keydownHandlerAdded = true;\n  }\n}; // Focus handling\n\nexport var setFocus = function setFocus(innerParams, index, increment) {\n  var focusableElements = dom.getFocusableElements(); // search for visible elements and select the next possible match\n\n  if (focusableElements.length) {\n    index = index + increment; // rollover to first item\n\n    if (index === focusableElements.length) {\n      index = 0; // go to last item\n    } else if (index === -1) {\n      index = focusableElements.length - 1;\n    }\n\n    return focusableElements[index].focus();\n  } // no visible focusable elements, focus the popup\n\n\n  dom.getPopup().focus();\n};\nvar arrowKeysNextButton = ['ArrowRight', 'ArrowDown'];\nvar arrowKeysPreviousButton = ['ArrowLeft', 'ArrowUp'];\n\nvar keydownHandler = function keydownHandler(instance, e, dismissWith) {\n  var innerParams = privateProps.innerParams.get(instance);\n\n  if (!innerParams) {\n    return; // This instance has already been destroyed\n  } // Ignore keydown during IME composition\n  // https://developer.mozilla.org/en-US/docs/Web/API/Document/keydown_event#ignoring_keydown_during_ime_composition\n  // https://github.com/sweetalert2/sweetalert2/issues/720\n  // https://github.com/sweetalert2/sweetalert2/issues/2406\n\n\n  if (e.isComposing || e.keyCode === 229) {\n    return;\n  }\n\n  if (innerParams.stopKeydownPropagation) {\n    e.stopPropagation();\n  } // ENTER\n\n\n  if (e.key === 'Enter') {\n    handleEnter(instance, e, innerParams);\n  } // TAB\n  else if (e.key === 'Tab') {\n      handleTab(e, innerParams);\n    } // ARROWS - switch focus between buttons\n    else if ([].concat(arrowKeysNextButton, arrowKeysPreviousButton).includes(e.key)) {\n        handleArrows(e.key);\n      } // ESC\n      else if (e.key === 'Escape') {\n          handleEsc(e, innerParams, dismissWith);\n        }\n};\n\nvar handleEnter = function handleEnter(instance, e, innerParams) {\n  // https://github.com/sweetalert2/sweetalert2/issues/2386\n  if (!callIfFunction(innerParams.allowEnterKey)) {\n    return;\n  }\n\n  if (e.target && instance.getInput() && e.target.outerHTML === instance.getInput().outerHTML) {\n    if (['textarea', 'file'].includes(innerParams.input)) {\n      return; // do not submit\n    }\n\n    clickConfirm();\n    e.preventDefault();\n  }\n};\n\nvar handleTab = function handleTab(e, innerParams) {\n  var targetElement = e.target;\n  var focusableElements = dom.getFocusableElements();\n  var btnIndex = -1;\n\n  for (var i = 0; i < focusableElements.length; i++) {\n    if (targetElement === focusableElements[i]) {\n      btnIndex = i;\n      break;\n    }\n  } // Cycle to the next button\n\n\n  if (!e.shiftKey) {\n    setFocus(innerParams, btnIndex, 1);\n  } // Cycle to the prev button\n  else {\n      setFocus(innerParams, btnIndex, -1);\n    }\n\n  e.stopPropagation();\n  e.preventDefault();\n};\n\nvar handleArrows = function handleArrows(key) {\n  var confirmButton = dom.getConfirmButton();\n  var denyButton = dom.getDenyButton();\n  var cancelButton = dom.getCancelButton();\n\n  if (![confirmButton, denyButton, cancelButton].includes(document.activeElement)) {\n    return;\n  }\n\n  var sibling = arrowKeysNextButton.includes(key) ? 'nextElementSibling' : 'previousElementSibling';\n  var buttonToFocus = document.activeElement;\n\n  for (var i = 0; i < dom.getActions().children.length; i++) {\n    buttonToFocus = buttonToFocus[sibling];\n\n    if (!buttonToFocus) {\n      return;\n    }\n\n    if (dom.isVisible(buttonToFocus) && buttonToFocus instanceof HTMLButtonElement) {\n      break;\n    }\n  }\n\n  if (buttonToFocus instanceof HTMLButtonElement) {\n    buttonToFocus.focus();\n  }\n};\n\nvar handleEsc = function handleEsc(e, innerParams, dismissWith) {\n  if (callIfFunction(innerParams.allowEscapeKey)) {\n    e.preventDefault();\n    dismissWith(DismissReason.esc);\n  }\n};","import { undoScrollbar } from '../utils/scrollbarFix.js';\nimport { undoIOSfix } from '../utils/iosFix.js';\nimport { unsetAriaHidden } from '../utils/aria.js';\nimport * as dom from '../utils/dom/index.js';\nimport { swalClasses } from '../utils/classes.js';\nimport globalState, { restoreActiveElement } from '../globalState.js';\nimport privateProps from '../privateProps.js';\nimport privateMethods from '../privateMethods.js';\nimport { removeKeydownHandler } from '../keydown-handler.js';\n/*\n * Instance method to close sweetAlert\n */\n\nfunction removePopupAndResetState(instance, container, returnFocus, didClose) {\n  if (dom.isToast()) {\n    triggerDidCloseAndDispose(instance, didClose);\n  } else {\n    restoreActiveElement(returnFocus).then(function () {\n      return triggerDidCloseAndDispose(instance, didClose);\n    });\n    removeKeydownHandler(globalState);\n  }\n\n  var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent); // workaround for #2088\n  // for some reason removing the container in Safari will scroll the document to bottom\n\n  if (isSafari) {\n    container.setAttribute('style', 'display:none !important');\n    container.removeAttribute('class');\n    container.innerHTML = '';\n  } else {\n    container.remove();\n  }\n\n  if (dom.isModal()) {\n    undoScrollbar();\n    undoIOSfix();\n    unsetAriaHidden();\n  }\n\n  removeBodyClasses();\n}\n\nfunction removeBodyClasses() {\n  dom.removeClass([document.documentElement, document.body], [swalClasses.shown, swalClasses['height-auto'], swalClasses['no-backdrop'], swalClasses['toast-shown']]);\n}\n\nexport function close(resolveValue) {\n  resolveValue = prepareResolveValue(resolveValue);\n  var swalPromiseResolve = privateMethods.swalPromiseResolve.get(this);\n  var didClose = triggerClosePopup(this);\n\n  if (this.isAwaitingPromise()) {\n    // A swal awaiting for a promise (after a click on Confirm or Deny) cannot be dismissed anymore #2335\n    if (!resolveValue.isDismissed) {\n      handleAwaitingPromise(this);\n      swalPromiseResolve(resolveValue);\n    }\n  } else if (didClose) {\n    // Resolve Swal promise\n    swalPromiseResolve(resolveValue);\n  }\n}\nexport function isAwaitingPromise() {\n  return !!privateProps.awaitingPromise.get(this);\n}\n\nvar triggerClosePopup = function triggerClosePopup(instance) {\n  var popup = dom.getPopup();\n\n  if (!popup) {\n    return false;\n  }\n\n  var innerParams = privateProps.innerParams.get(instance);\n\n  if (!innerParams || dom.hasClass(popup, innerParams.hideClass.popup)) {\n    return false;\n  }\n\n  dom.removeClass(popup, innerParams.showClass.popup);\n  dom.addClass(popup, innerParams.hideClass.popup);\n  var backdrop = dom.getContainer();\n  dom.removeClass(backdrop, innerParams.showClass.backdrop);\n  dom.addClass(backdrop, innerParams.hideClass.backdrop);\n  handlePopupAnimation(instance, popup, innerParams);\n  return true;\n};\n\nexport function rejectPromise(error) {\n  var rejectPromise = privateMethods.swalPromiseReject.get(this);\n  handleAwaitingPromise(this);\n\n  if (rejectPromise) {\n    // Reject Swal promise\n    rejectPromise(error);\n  }\n}\nexport var handleAwaitingPromise = function handleAwaitingPromise(instance) {\n  if (instance.isAwaitingPromise()) {\n    privateProps.awaitingPromise.delete(instance); // The instance might have been previously partly destroyed, we must resume the destroy process in this case #2335\n\n    if (!privateProps.innerParams.get(instance)) {\n      instance._destroy();\n    }\n  }\n};\n\nvar prepareResolveValue = function prepareResolveValue(resolveValue) {\n  // When user calls Swal.close()\n  if (typeof resolveValue === 'undefined') {\n    return {\n      isConfirmed: false,\n      isDenied: false,\n      isDismissed: true\n    };\n  }\n\n  return Object.assign({\n    isConfirmed: false,\n    isDenied: false,\n    isDismissed: false\n  }, resolveValue);\n};\n\nvar handlePopupAnimation = function handlePopupAnimation(instance, popup, innerParams) {\n  var container = dom.getContainer(); // If animation is supported, animate\n\n  var animationIsSupported = dom.animationEndEvent && dom.hasCssAnimation(popup);\n\n  if (typeof innerParams.willClose === 'function') {\n    innerParams.willClose(popup);\n  }\n\n  if (animationIsSupported) {\n    animatePopup(instance, popup, container, innerParams.returnFocus, innerParams.didClose);\n  } else {\n    // Otherwise, remove immediately\n    removePopupAndResetState(instance, container, innerParams.returnFocus, innerParams.didClose);\n  }\n};\n\nvar animatePopup = function animatePopup(instance, popup, container, returnFocus, didClose) {\n  globalState.swalCloseEventFinishedCallback = removePopupAndResetState.bind(null, instance, container, returnFocus, didClose);\n  popup.addEventListener(dom.animationEndEvent, function (e) {\n    if (e.target === popup) {\n      globalState.swalCloseEventFinishedCallback();\n      delete globalState.swalCloseEventFinishedCallback;\n    }\n  });\n};\n\nvar triggerDidCloseAndDispose = function triggerDidCloseAndDispose(instance, didClose) {\n  setTimeout(function () {\n    if (typeof didClose === 'function') {\n      didClose.bind(instance.params)();\n    }\n\n    instance._destroy();\n  });\n};\n\nexport { close as closePopup, close as closeModal, close as closeToast };","import privateProps from '../privateProps.js';\n\nfunction setButtonsDisabled(instance, buttons, disabled) {\n  var domCache = privateProps.domCache.get(instance);\n  buttons.forEach(function (button) {\n    domCache[button].disabled = disabled;\n  });\n}\n\nfunction setInputDisabled(input, disabled) {\n  if (!input) {\n    return false;\n  }\n\n  if (input.type === 'radio') {\n    var radiosContainer = input.parentNode.parentNode;\n    var radios = radiosContainer.querySelectorAll('input');\n\n    for (var i = 0; i < radios.length; i++) {\n      radios[i].disabled = disabled;\n    }\n  } else {\n    input.disabled = disabled;\n  }\n}\n\nexport function enableButtons() {\n  setButtonsDisabled(this, ['confirmButton', 'denyButton', 'cancelButton'], false);\n}\nexport function disableButtons() {\n  setButtonsDisabled(this, ['confirmButton', 'denyButton', 'cancelButton'], true);\n}\nexport function enableInput() {\n  return setInputDisabled(this.getInput(), false);\n}\nexport function disableInput() {\n  return setInputDisabled(this.getInput(), true);\n}","import * as dom from '../utils/dom/index.js';\nimport { swalClasses } from '../utils/classes.js';\nimport privateProps from '../privateProps.js'; // Show block with validation message\n\nexport function showValidationMessage(error) {\n  var domCache = privateProps.domCache.get(this);\n  var params = privateProps.innerParams.get(this);\n  dom.setInnerHtml(domCache.validationMessage, error);\n  domCache.validationMessage.className = swalClasses['validation-message'];\n\n  if (params.customClass && params.customClass.validationMessage) {\n    dom.addClass(domCache.validationMessage, params.customClass.validationMessage);\n  }\n\n  dom.show(domCache.validationMessage);\n  var input = this.getInput();\n\n  if (input) {\n    input.setAttribute('aria-invalid', true);\n    input.setAttribute('aria-describedby', swalClasses['validation-message']);\n    dom.focusInput(input);\n    dom.addClass(input, swalClasses.inputerror);\n  }\n} // Hide block with validation message\n\nexport function resetValidationMessage() {\n  var domCache = privateProps.domCache.get(this);\n\n  if (domCache.validationMessage) {\n    dom.hide(domCache.validationMessage);\n  }\n\n  var input = this.getInput();\n\n  if (input) {\n    input.removeAttribute('aria-invalid');\n    input.removeAttribute('aria-describedby');\n    dom.removeClass(input, swalClasses.inputerror);\n  }\n}","import privateProps from '../privateProps.js';\nexport function getProgressSteps() {\n  var domCache = privateProps.domCache.get(this);\n  return domCache.progressSteps;\n}","import * as dom from '../../src/utils/dom/index.js';\nimport { warn } from '../../src/utils/utils.js';\nimport privateProps from '../privateProps.js';\nimport { isUpdatableParameter } from '../../src/utils/params.js';\n/**\n * Updates popup parameters.\n */\n\nexport function update(params) {\n  var popup = dom.getPopup();\n  var innerParams = privateProps.innerParams.get(this);\n\n  if (!popup || dom.hasClass(popup, innerParams.hideClass.popup)) {\n    return warn(\"You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.\");\n  }\n\n  var validUpdatableParams = filterValidParams(params);\n  var updatedParams = Object.assign({}, innerParams, validUpdatableParams);\n  dom.render(this, updatedParams);\n  privateProps.innerParams.set(this, updatedParams);\n  Object.defineProperties(this, {\n    params: {\n      value: Object.assign({}, this.params, params),\n      writable: false,\n      enumerable: true\n    }\n  });\n}\n\nvar filterValidParams = function filterValidParams(params) {\n  var validUpdatableParams = {};\n  Object.keys(params).forEach(function (param) {\n    if (isUpdatableParameter(param)) {\n      validUpdatableParams[param] = params[param];\n    } else {\n      warn(\"Invalid parameter to update: \\\"\".concat(param, \"\\\". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\\n\\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md\"));\n    }\n  });\n  return validUpdatableParams;\n};","import globalState from '../globalState.js';\nimport privateProps from '../privateProps.js';\nimport privateMethods from '../privateMethods.js';\nexport function _destroy() {\n  var domCache = privateProps.domCache.get(this);\n  var innerParams = privateProps.innerParams.get(this);\n\n  if (!innerParams) {\n    disposeWeakMaps(this); // The WeakMaps might have been partly destroyed, we must recall it to dispose any remaining WeakMaps #2335\n\n    return; // This instance has already been destroyed\n  } // Check if there is another Swal closing\n\n\n  if (domCache.popup && globalState.swalCloseEventFinishedCallback) {\n    globalState.swalCloseEventFinishedCallback();\n    delete globalState.swalCloseEventFinishedCallback;\n  } // Check if there is a swal disposal defer timer\n\n\n  if (globalState.deferDisposalTimer) {\n    clearTimeout(globalState.deferDisposalTimer);\n    delete globalState.deferDisposalTimer;\n  }\n\n  if (typeof innerParams.didDestroy === 'function') {\n    innerParams.didDestroy();\n  }\n\n  disposeSwal(this);\n}\n\nvar disposeSwal = function disposeSwal(instance) {\n  disposeWeakMaps(instance); // Unset this.params so GC will dispose it (#1569)\n\n  delete instance.params; // Unset globalState props so GC will dispose globalState (#1569)\n\n  delete globalState.keydownHandler;\n  delete globalState.keydownTarget; // Unset currentInstance\n\n  delete globalState.currentInstance;\n};\n\nvar disposeWeakMaps = function disposeWeakMaps(instance) {\n  // If the current instance is awaiting a promise result, we keep the privateMethods to call them once the promise result is retrieved #2335\n  if (instance.isAwaitingPromise()) {\n    unsetWeakMaps(privateProps, instance);\n    privateProps.awaitingPromise.set(instance, true);\n  } else {\n    unsetWeakMaps(privateMethods, instance);\n    unsetWeakMaps(privateProps, instance);\n  }\n};\n\nvar unsetWeakMaps = function unsetWeakMaps(obj, instance) {\n  for (var i in obj) {\n    obj[i].delete(instance);\n  }\n};","var _this = this;\n\nimport { isVisible } from './utils/dom/domUtils.js';\nimport { getInputValue } from './utils/dom/inputUtils.js';\nimport { getDenyButton, getValidationMessage } from './utils/dom/getters.js';\nimport { asPromise, capitalizeFirstLetter, error } from './utils/utils.js';\nimport { showLoading } from './staticMethods/showLoading.js';\nimport { DismissReason } from './utils/DismissReason.js';\nimport privateProps from './privateProps.js';\nimport { handleAwaitingPromise } from './instanceMethods.js';\nexport var handleConfirmButtonClick = function handleConfirmButtonClick(instance) {\n  var innerParams = privateProps.innerParams.get(instance);\n  instance.disableButtons();\n\n  if (innerParams.input) {\n    handleConfirmOrDenyWithInput(instance, 'confirm');\n  } else {\n    confirm(instance, true);\n  }\n};\nexport var handleDenyButtonClick = function handleDenyButtonClick(instance) {\n  var innerParams = privateProps.innerParams.get(instance);\n  instance.disableButtons();\n\n  if (innerParams.returnInputValueOnDeny) {\n    handleConfirmOrDenyWithInput(instance, 'deny');\n  } else {\n    deny(instance, false);\n  }\n};\nexport var handleCancelButtonClick = function handleCancelButtonClick(instance, dismissWith) {\n  instance.disableButtons();\n  dismissWith(DismissReason.cancel);\n};\n\nvar handleConfirmOrDenyWithInput = function handleConfirmOrDenyWithInput(instance, type\n/* 'confirm' | 'deny' */\n) {\n  var innerParams = privateProps.innerParams.get(instance);\n\n  if (!innerParams.input) {\n    return error(\"The \\\"input\\\" parameter is needed to be set when using returnInputValueOn\".concat(capitalizeFirstLetter(type)));\n  }\n\n  var inputValue = getInputValue(instance, innerParams);\n\n  if (innerParams.inputValidator) {\n    handleInputValidator(instance, inputValue, type);\n  } else if (!instance.getInput().checkValidity()) {\n    instance.enableButtons();\n    instance.showValidationMessage(innerParams.validationMessage);\n  } else if (type === 'deny') {\n    deny(instance, inputValue);\n  } else {\n    confirm(instance, inputValue);\n  }\n};\n\nvar handleInputValidator = function handleInputValidator(instance, inputValue, type\n/* 'confirm' | 'deny' */\n) {\n  var innerParams = privateProps.innerParams.get(instance);\n  instance.disableInput();\n  var validationPromise = Promise.resolve().then(function () {\n    return asPromise(innerParams.inputValidator(inputValue, innerParams.validationMessage));\n  });\n  validationPromise.then(function (validationMessage) {\n    instance.enableButtons();\n    instance.enableInput();\n\n    if (validationMessage) {\n      instance.showValidationMessage(validationMessage);\n    } else if (type === 'deny') {\n      deny(instance, inputValue);\n    } else {\n      confirm(instance, inputValue);\n    }\n  });\n};\n\nvar deny = function deny(instance, value) {\n  var innerParams = privateProps.innerParams.get(instance || _this);\n\n  if (innerParams.showLoaderOnDeny) {\n    showLoading(getDenyButton());\n  }\n\n  if (innerParams.preDeny) {\n    privateProps.awaitingPromise.set(instance || _this, true); // Flagging the instance as awaiting a promise so it's own promise's reject/resolve methods doesn't get destroyed until the result from this preDeny's promise is received\n\n    var preDenyPromise = Promise.resolve().then(function () {\n      return asPromise(innerParams.preDeny(value, innerParams.validationMessage));\n    });\n    preDenyPromise.then(function (preDenyValue) {\n      if (preDenyValue === false) {\n        instance.hideLoading();\n        handleAwaitingPromise(instance);\n      } else {\n        instance.closePopup({\n          isDenied: true,\n          value: typeof preDenyValue === 'undefined' ? value : preDenyValue\n        });\n      }\n    }).catch(function (error) {\n      return rejectWith(instance || _this, error);\n    });\n  } else {\n    instance.closePopup({\n      isDenied: true,\n      value: value\n    });\n  }\n};\n\nvar succeedWith = function succeedWith(instance, value) {\n  instance.closePopup({\n    isConfirmed: true,\n    value: value\n  });\n};\n\nvar rejectWith = function rejectWith(instance, error) {\n  instance.rejectPromise(error);\n};\n\nvar confirm = function confirm(instance, value) {\n  var innerParams = privateProps.innerParams.get(instance || _this);\n\n  if (innerParams.showLoaderOnConfirm) {\n    showLoading();\n  }\n\n  if (innerParams.preConfirm) {\n    instance.resetValidationMessage();\n    privateProps.awaitingPromise.set(instance || _this, true); // Flagging the instance as awaiting a promise so it's own promise's reject/resolve methods doesn't get destroyed until the result from this preConfirm's promise is received\n\n    var preConfirmPromise = Promise.resolve().then(function () {\n      return asPromise(innerParams.preConfirm(value, innerParams.validationMessage));\n    });\n    preConfirmPromise.then(function (preConfirmValue) {\n      if (isVisible(getValidationMessage()) || preConfirmValue === false) {\n        instance.hideLoading();\n        handleAwaitingPromise(instance);\n      } else {\n        succeedWith(instance, typeof preConfirmValue === 'undefined' ? value : preConfirmValue);\n      }\n    }).catch(function (error) {\n      return rejectWith(instance || _this, error);\n    });\n  } else {\n    succeedWith(instance, value);\n  }\n};","import { callIfFunction } from './utils/utils.js';\nimport { DismissReason } from './utils/DismissReason.js';\nimport privateProps from './privateProps.js';\nexport var handlePopupClick = function handlePopupClick(instance, domCache, dismissWith) {\n  var innerParams = privateProps.innerParams.get(instance);\n\n  if (innerParams.toast) {\n    handleToastClick(instance, domCache, dismissWith);\n  } else {\n    // Ignore click events that had mousedown on the popup but mouseup on the container\n    // This can happen when the user drags a slider\n    handleModalMousedown(domCache); // Ignore click events that had mousedown on the container but mouseup on the popup\n\n    handleContainerMousedown(domCache);\n    handleModalClick(instance, domCache, dismissWith);\n  }\n};\n\nvar handleToastClick = function handleToastClick(instance, domCache, dismissWith) {\n  // Closing toast by internal click\n  domCache.popup.onclick = function () {\n    var innerParams = privateProps.innerParams.get(instance);\n\n    if (innerParams && (isAnyButtonShown(innerParams) || innerParams.timer || innerParams.input)) {\n      return;\n    }\n\n    dismissWith(DismissReason.close);\n  };\n};\n/**\n * @param {*} innerParams\n * @returns {boolean}\n */\n\n\nvar isAnyButtonShown = function isAnyButtonShown(innerParams) {\n  return innerParams.showConfirmButton || innerParams.showDenyButton || innerParams.showCancelButton || innerParams.showCloseButton;\n};\n\nvar ignoreOutsideClick = false;\n\nvar handleModalMousedown = function handleModalMousedown(domCache) {\n  domCache.popup.onmousedown = function () {\n    domCache.container.onmouseup = function (e) {\n      domCache.container.onmouseup = undefined; // We only check if the mouseup target is the container because usually it doesn't\n      // have any other direct children aside of the popup\n\n      if (e.target === domCache.container) {\n        ignoreOutsideClick = true;\n      }\n    };\n  };\n};\n\nvar handleContainerMousedown = function handleContainerMousedown(domCache) {\n  domCache.container.onmousedown = function () {\n    domCache.popup.onmouseup = function (e) {\n      domCache.popup.onmouseup = undefined; // We also need to check if the mouseup target is a child of the popup\n\n      if (e.target === domCache.popup || domCache.popup.contains(e.target)) {\n        ignoreOutsideClick = true;\n      }\n    };\n  };\n};\n\nvar handleModalClick = function handleModalClick(instance, domCache, dismissWith) {\n  domCache.container.onclick = function (e) {\n    var innerParams = privateProps.innerParams.get(instance);\n\n    if (ignoreOutsideClick) {\n      ignoreOutsideClick = false;\n      return;\n    }\n\n    if (e.target === domCache.container && callIfFunction(innerParams.allowOutsideClick)) {\n      dismissWith(DismissReason.backdrop);\n    }\n  };\n};","import { error } from '../utils/utils.js';\n\nvar isJqueryElement = function isJqueryElement(elem) {\n  return typeof elem === 'object' && elem.jquery;\n};\n\nvar isElement = function isElement(elem) {\n  return elem instanceof Element || isJqueryElement(elem);\n};\n\nexport var argsToParams = function argsToParams(args) {\n  var params = {};\n\n  if (typeof args[0] === 'object' && !isElement(args[0])) {\n    Object.assign(params, args[0]);\n  } else {\n    ;\n    ['title', 'html', 'icon'].forEach(function (name, index) {\n      var arg = args[index];\n\n      if (typeof arg === 'string' || isElement(arg)) {\n        params[name] = arg;\n      } else if (arg !== undefined) {\n        error(\"Unexpected type of \".concat(name, \"! Expected \\\"string\\\" or \\\"Element\\\", got \").concat(typeof arg));\n      }\n    });\n  }\n\n  return params;\n};","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nimport isNativeReflectConstruct from \"@babel/runtime/helpers/esm/isNativeReflectConstruct\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","import _construct from \"G:/Documents/Code/gmmurray.github.io/node_modules/@babel/runtime/helpers/esm/construct\";\nexport function fire() {\n  var Swal = this; // eslint-disable-line @typescript-eslint/no-this-alias\n\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return _construct(Swal, args);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import superPropBase from \"@babel/runtime/helpers/esm/superPropBase\";\nexport default function _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}","import getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","import _classCallCheck from \"G:/Documents/Code/gmmurray.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"G:/Documents/Code/gmmurray.github.io/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _get from \"G:/Documents/Code/gmmurray.github.io/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"G:/Documents/Code/gmmurray.github.io/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"G:/Documents/Code/gmmurray.github.io/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"G:/Documents/Code/gmmurray.github.io/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n/**\n * Returns an extended version of `Swal` containing `params` as defaults.\n * Useful for reusing Swal configuration.\n *\n * For example:\n *\n * Before:\n * const textPromptOptions = { input: 'text', showCancelButton: true }\n * const {value: firstName} = await Swal.fire({ ...textPromptOptions, title: 'What is your first name?' })\n * const {value: lastName} = await Swal.fire({ ...textPromptOptions, title: 'What is your last name?' })\n *\n * After:\n * const TextPrompt = Swal.mixin({ input: 'text', showCancelButton: true })\n * const {value: firstName} = await TextPrompt('What is your first name?')\n * const {value: lastName} = await TextPrompt('What is your last name?')\n *\n * @param mixinParams\n */\nexport function mixin(mixinParams) {\n  var MixinSwal = /*#__PURE__*/function (_this) {\n    _inherits(MixinSwal, _this);\n\n    var _super = _createSuper(MixinSwal);\n\n    function MixinSwal() {\n      _classCallCheck(this, MixinSwal);\n\n      return _super.apply(this, arguments);\n    }\n\n    _createClass(MixinSwal, [{\n      key: \"_main\",\n      value: function _main(params, priorityMixinParams) {\n        return _get(_getPrototypeOf(MixinSwal.prototype), \"_main\", this).call(this, params, Object.assign({}, mixinParams, priorityMixinParams));\n      }\n    }]);\n\n    return MixinSwal;\n  }(this);\n\n  return MixinSwal;\n}","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import { animateTimerProgressBar, stopTimerProgressBar } from '../utils/dom/domUtils.js';\nimport globalState from '../globalState.js';\n/**\n * If `timer` parameter is set, returns number of milliseconds of timer remained.\n * Otherwise, returns undefined.\n */\n\nexport var getTimerLeft = function getTimerLeft() {\n  return globalState.timeout && globalState.timeout.getTimerLeft();\n};\n/**\n * Stop timer. Returns number of milliseconds of timer remained.\n * If `timer` parameter isn't set, returns undefined.\n */\n\nexport var stopTimer = function stopTimer() {\n  if (globalState.timeout) {\n    stopTimerProgressBar();\n    return globalState.timeout.stop();\n  }\n};\n/**\n * Resume timer. Returns number of milliseconds of timer remained.\n * If `timer` parameter isn't set, returns undefined.\n */\n\nexport var resumeTimer = function resumeTimer() {\n  if (globalState.timeout) {\n    var remaining = globalState.timeout.start();\n    animateTimerProgressBar(remaining);\n    return remaining;\n  }\n};\n/**\n * Resume timer. Returns number of milliseconds of timer remained.\n * If `timer` parameter isn't set, returns undefined.\n */\n\nexport var toggleTimer = function toggleTimer() {\n  var timer = globalState.timeout;\n  return timer && (timer.running ? stopTimer() : resumeTimer());\n};\n/**\n * Increase timer. Returns number of milliseconds of an updated timer.\n * If `timer` parameter isn't set, returns undefined.\n */\n\nexport var increaseTimer = function increaseTimer(n) {\n  if (globalState.timeout) {\n    var remaining = globalState.timeout.increase(n);\n    animateTimerProgressBar(remaining, true);\n    return remaining;\n  }\n};\n/**\n * Check if timer is running. Returns true if timer is running\n * or false if timer is paused or stopped.\n * If `timer` parameter isn't set, returns undefined\n */\n\nexport var isTimerRunning = function isTimerRunning() {\n  return globalState.timeout && globalState.timeout.isRunning();\n};","var bodyClickListenerAdded = false;\nvar clickHandlers = {};\nexport function bindClickHandler() {\n  var attr = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'data-swal-template';\n  clickHandlers[attr] = this;\n\n  if (!bodyClickListenerAdded) {\n    document.body.addEventListener('click', bodyClickListener);\n    bodyClickListenerAdded = true;\n  }\n}\n\nvar bodyClickListener = function bodyClickListener(event) {\n  for (var el = event.target; el && el !== document; el = el.parentNode) {\n    for (var attr in clickHandlers) {\n      var template = el.getAttribute(attr);\n\n      if (template) {\n        clickHandlers[attr].fire({\n          template: template\n        });\n        return;\n      }\n    }\n  }\n};","import \"core-js/modules/es.promise.finally.js\";\nimport _classCallCheck from \"G:/Documents/Code/gmmurray.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"G:/Documents/Code/gmmurray.github.io/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport defaultParams, { showWarningsForParams } from './utils/params.js';\nimport * as dom from './utils/dom/index.js';\nimport { callIfFunction } from './utils/utils.js';\nimport { DismissReason } from './utils/DismissReason.js';\nimport { unsetAriaHidden } from './utils/aria.js';\nimport { getTemplateParams } from './utils/getTemplateParams.js';\nimport setParameters from './utils/setParameters.js';\nimport Timer from './utils/Timer.js';\nimport { openPopup } from './utils/openPopup.js';\nimport { handleInputOptionsAndValue } from './utils/dom/inputUtils.js';\nimport { handleCancelButtonClick, handleConfirmButtonClick, handleDenyButtonClick } from './buttons-handlers.js';\nimport { handlePopupClick } from './popup-click-handler.js';\nimport { addKeydownHandler, setFocus } from './keydown-handler.js';\nimport * as staticMethods from './staticMethods.js';\nimport * as instanceMethods from './instanceMethods.js';\nimport privateProps from './privateProps.js';\nimport privateMethods from './privateMethods.js';\nimport globalState from './globalState.js';\nvar currentInstance;\n\nvar SweetAlert = /*#__PURE__*/function () {\n  function SweetAlert() {\n    _classCallCheck(this, SweetAlert);\n\n    // Prevent run in Node env\n    if (typeof window === 'undefined') {\n      return;\n    }\n\n    currentInstance = this; // @ts-ignore\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var outerParams = Object.freeze(this.constructor.argsToParams(args));\n    Object.defineProperties(this, {\n      params: {\n        value: outerParams,\n        writable: false,\n        enumerable: true,\n        configurable: true\n      }\n    }); // @ts-ignore\n\n    var promise = this._main(this.params);\n\n    privateProps.promise.set(this, promise);\n  }\n\n  _createClass(SweetAlert, [{\n    key: \"_main\",\n    value: function _main(userParams) {\n      var mixinParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      showWarningsForParams(Object.assign({}, mixinParams, userParams));\n\n      if (globalState.currentInstance) {\n        globalState.currentInstance._destroy();\n\n        if (dom.isModal()) {\n          unsetAriaHidden();\n        }\n      }\n\n      globalState.currentInstance = this;\n      var innerParams = prepareParams(userParams, mixinParams);\n      setParameters(innerParams);\n      Object.freeze(innerParams); // clear the previous timer\n\n      if (globalState.timeout) {\n        globalState.timeout.stop();\n        delete globalState.timeout;\n      } // clear the restore focus timeout\n\n\n      clearTimeout(globalState.restoreFocusTimeout);\n      var domCache = populateDomCache(this);\n      dom.render(this, innerParams);\n      privateProps.innerParams.set(this, innerParams);\n      return swalPromise(this, domCache, innerParams);\n    } // `catch` cannot be the name of a module export, so we define our thenable methods here instead\n\n  }, {\n    key: \"then\",\n    value: function then(onFulfilled) {\n      var promise = privateProps.promise.get(this);\n      return promise.then(onFulfilled);\n    }\n  }, {\n    key: \"finally\",\n    value: function _finally(onFinally) {\n      var promise = privateProps.promise.get(this);\n      return promise.finally(onFinally);\n    }\n  }]);\n\n  return SweetAlert;\n}();\n\nvar swalPromise = function swalPromise(instance, domCache, innerParams) {\n  return new Promise(function (resolve, reject) {\n    // functions to handle all closings/dismissals\n    var dismissWith = function dismissWith(dismiss) {\n      instance.closePopup({\n        isDismissed: true,\n        dismiss: dismiss\n      });\n    };\n\n    privateMethods.swalPromiseResolve.set(instance, resolve);\n    privateMethods.swalPromiseReject.set(instance, reject);\n\n    domCache.confirmButton.onclick = function () {\n      return handleConfirmButtonClick(instance);\n    };\n\n    domCache.denyButton.onclick = function () {\n      return handleDenyButtonClick(instance);\n    };\n\n    domCache.cancelButton.onclick = function () {\n      return handleCancelButtonClick(instance, dismissWith);\n    };\n\n    domCache.closeButton.onclick = function () {\n      return dismissWith(DismissReason.close);\n    };\n\n    handlePopupClick(instance, domCache, dismissWith);\n    addKeydownHandler(instance, globalState, innerParams, dismissWith);\n    handleInputOptionsAndValue(instance, innerParams);\n    openPopup(innerParams);\n    setupTimer(globalState, innerParams, dismissWith);\n    initFocus(domCache, innerParams); // Scroll container to top on open (#1247, #1946)\n\n    setTimeout(function () {\n      domCache.container.scrollTop = 0;\n    });\n  });\n};\n\nvar prepareParams = function prepareParams(userParams, mixinParams) {\n  var templateParams = getTemplateParams(userParams);\n  var params = Object.assign({}, defaultParams, mixinParams, templateParams, userParams); // precedence is described in #2131\n\n  params.showClass = Object.assign({}, defaultParams.showClass, params.showClass);\n  params.hideClass = Object.assign({}, defaultParams.hideClass, params.hideClass);\n  return params;\n};\n\nvar populateDomCache = function populateDomCache(instance) {\n  var domCache = {\n    popup: dom.getPopup(),\n    container: dom.getContainer(),\n    actions: dom.getActions(),\n    confirmButton: dom.getConfirmButton(),\n    denyButton: dom.getDenyButton(),\n    cancelButton: dom.getCancelButton(),\n    loader: dom.getLoader(),\n    closeButton: dom.getCloseButton(),\n    validationMessage: dom.getValidationMessage(),\n    progressSteps: dom.getProgressSteps()\n  };\n  privateProps.domCache.set(instance, domCache);\n  return domCache;\n};\n\nvar setupTimer = function setupTimer(globalState, innerParams, dismissWith) {\n  var timerProgressBar = dom.getTimerProgressBar();\n  dom.hide(timerProgressBar);\n\n  if (innerParams.timer) {\n    globalState.timeout = new Timer(function () {\n      dismissWith('timer');\n      delete globalState.timeout;\n    }, innerParams.timer);\n\n    if (innerParams.timerProgressBar) {\n      dom.show(timerProgressBar);\n      dom.applyCustomClass(timerProgressBar, innerParams, 'timerProgressBar');\n      setTimeout(function () {\n        if (globalState.timeout && globalState.timeout.running) {\n          // timer can be already stopped or unset at this point\n          dom.animateTimerProgressBar(innerParams.timer);\n        }\n      });\n    }\n  }\n};\n\nvar initFocus = function initFocus(domCache, innerParams) {\n  if (innerParams.toast) {\n    return;\n  }\n\n  if (!callIfFunction(innerParams.allowEnterKey)) {\n    return blurActiveElement();\n  }\n\n  if (!focusButton(domCache, innerParams)) {\n    setFocus(innerParams, -1, 1);\n  }\n};\n\nvar focusButton = function focusButton(domCache, innerParams) {\n  if (innerParams.focusDeny && dom.isVisible(domCache.denyButton)) {\n    domCache.denyButton.focus();\n    return true;\n  }\n\n  if (innerParams.focusCancel && dom.isVisible(domCache.cancelButton)) {\n    domCache.cancelButton.focus();\n    return true;\n  }\n\n  if (innerParams.focusConfirm && dom.isVisible(domCache.confirmButton)) {\n    domCache.confirmButton.focus();\n    return true;\n  }\n\n  return false;\n};\n\nvar blurActiveElement = function blurActiveElement() {\n  if (document.activeElement instanceof HTMLElement && typeof document.activeElement.blur === 'function') {\n    document.activeElement.blur();\n  }\n}; // Assign instance methods from src/instanceMethods/*.js to prototype\n\n\nObject.assign(SweetAlert.prototype, instanceMethods); // Assign static methods from src/staticMethods/*.js to constructor\n\nObject.assign(SweetAlert, staticMethods); // Proxy to instance methods to constructor, for now, for backwards compatibility\n\nObject.keys(instanceMethods).forEach(function (key) {\n  SweetAlert[key] = function () {\n    if (currentInstance) {\n      var _currentInstance;\n\n      return (_currentInstance = currentInstance)[key].apply(_currentInstance, arguments);\n    }\n  };\n});\nSweetAlert.DismissReason = DismissReason;\nSweetAlert.version = '11.4.9';\nexport default SweetAlert;","import SweetAlert from './SweetAlert.js';\nvar Swal = SweetAlert; // @ts-ignore\n\nSwal.default = Swal;\nexport default Swal;","import { Coordinates } from './position';\r\nimport { Direction } from 'grid-engine';\r\nimport { LevelScene } from '../scenes/LevelScene';\r\nimport { SpriteDefinition } from './assetDefinitions';\r\n\r\nexport interface LevelCast {\r\n  player: PlayerCharacter;\r\n  npcs: NpcCharacter[];\r\n  items: ItemDefinition[];\r\n  doors: DoorDefinition[];\r\n  portals: PortalDefinition[];\r\n}\r\n\r\nexport type PerformInteraction = (scene: LevelScene) => any;\r\n\r\nexport interface Interaction {\r\n  friendlyName?: string;\r\n}\r\n\r\nexport enum PortalType {\r\n  SCENE,\r\n  COORDINATE,\r\n}\r\n\r\nexport interface ItemDefinition extends Interaction {\r\n  handler: PerformInteraction;\r\n  x: number;\r\n  y: number;\r\n  sprite?: Phaser.GameObjects.Sprite;\r\n}\r\nexport interface DoorDefinition extends Interaction {\r\n  from: Coordinates[];\r\n  to: Coordinates;\r\n  face?: Direction;\r\n  inactive?: boolean;\r\n  inactiveMoveDir?: Direction;\r\n  inactiveDialog?: string;\r\n  layer?: string;\r\n}\r\n\r\nexport interface PortalDefinition extends Interaction {\r\n  from: Coordinates;\r\n  type: PortalType;\r\n  to: string | Coordinates;\r\n  dialog?: string;\r\n  face?: Direction;\r\n  layer?: string;\r\n}\r\n\r\nexport interface Character {\r\n  sprite?: Phaser.GameObjects.Sprite;\r\n  definition: SpriteDefinition;\r\n  startingX: number;\r\n  startingY: number;\r\n  startingSpeed: number;\r\n  facingDirection?: Direction;\r\n}\r\n\r\nexport interface PlayerCharacter extends Character {}\r\n\r\nexport interface NpcCharacter extends Character, Interaction {\r\n  radius?: number;\r\n  handler?: PerformInteraction;\r\n}\r\n","import { AnyCallback } from '../types/callback';\r\nimport Swal from 'sweetalert2/src/sweetalert2';\r\n\r\nconst default_settings = {\r\n  allowOutsideClick: false,\r\n  allowEscapeKey: false,\r\n  allowEnterKey: false,\r\n};\r\n\r\nexport const showAlert = (\r\n  title: string,\r\n  text: string,\r\n  callback: AnyCallback | undefined = undefined,\r\n) =>\r\n  Swal.fire({\r\n    title,\r\n    text,\r\n    ...default_settings,\r\n  }).then(() => {\r\n    if (callback) {\r\n      callback();\r\n    }\r\n  });\r\n\r\nexport const showConfirm = (\r\n  text: string,\r\n  confirmCallback: () => any,\r\n  postCallback: AnyCallback | undefined = undefined,\r\n) =>\r\n  Swal.fire({\r\n    title: 'Are you sure?',\r\n    text,\r\n    confirmButtonText: 'Yes',\r\n    showCancelButton: true,\r\n    cancelButtonText: 'No',\r\n    ...default_settings,\r\n  }).then((result: { isConfirmed: boolean }) => {\r\n    if (postCallback) {\r\n      postCallback();\r\n    }\r\n\r\n    if (result.isConfirmed) {\r\n      confirmCallback();\r\n    }\r\n  });\r\n","import {\r\n  ADD_BUFF_EVENT,\r\n  ADD_DEBUFF_EVENT,\r\n  HUD_INITIALIZED_EVENT,\r\n  HUD_SHUTDOWN_EVENT,\r\n  UPDATE_BOTTOM_CENTER_TEXT_EVENT,\r\n  UPDATE_CENTER_TEXT_EVENT,\r\n  UPDATE_HEALTH_EVENT,\r\n  UPDATE_TOP_LEFT_TEXT_EVENT,\r\n  UPDATE_UNLOCKED_FEATURES_EVENT,\r\n} from '../ui/events';\r\nimport {\r\n  CREDIT_SCENE_KEY,\r\n  INVENTORY_PHASER_EVENT_KEY,\r\n  LEVEL_FOUR_BATTLE_TEXT_DURATION,\r\n  LEVEL_FOUR_DAMAGE_DELAY_MS,\r\n  LEVEL_FOUR_ENEMY_WALK_VELOCITY,\r\n  LEVEL_FOUR_JUMP_VELOCITY,\r\n  LEVEL_FOUR_MESSAGE_DISPLAY_DURATION,\r\n  LEVEL_FOUR_PLAYER_DEPTH,\r\n  LEVEL_FOUR_SCENE_KEY,\r\n  LEVEL_FOUR_STAR_MODE_DURATION,\r\n  LEVEL_FOUR_WALK_VELOCITY,\r\n  QUESTS_PHASER_EVENT_KEY,\r\n  TALENTS_PHASER_EVENT_KEY,\r\n  TILE_SIZE,\r\n  WASD_KEY_STRING,\r\n} from '../constants';\r\nimport {\r\n  LevelFourEnemy,\r\n  LevelFourFoodDefinition,\r\n  LevelFourInvisibleInteractionDefinition,\r\n  LevelFourObjectiveDefinition,\r\n} from '../types/levelFour';\r\nimport { Scene, Tilemaps } from 'phaser';\r\nimport {\r\n  getLevelFourAnimationMap,\r\n  levelFourEnemies,\r\n  levelFourExitPortal,\r\n  levelFourFoods,\r\n  levelFourInvisibleInteractions,\r\n  levelFourLayers,\r\n  levelFourObjectives,\r\n} from '../cast/levelFour';\r\nimport { store, storeDispatch } from '../redux/store';\r\n\r\nimport AnimatedTilesPlugin from 'phaser-animated-tiles-phaser3.5';\r\nimport { CharacterSelector } from '../characterSelect/characterSelector';\r\nimport { Coordinates } from '../types/position';\r\nimport { OverlayContentKey } from '../types/overlayContent';\r\nimport { SceneConfig } from '../types/SceneConfig';\r\nimport { TileMapDefinition } from '../types/assetDefinitions';\r\nimport { UIEventEmitter } from '../ui/eventEmitter';\r\nimport { UnlockedFeatures } from '../types/savedData';\r\nimport { createAnimation } from '../helpers/createAnimation';\r\nimport { generateJavascriptFrameworks } from '../helpers/generateJavascriptFramework';\r\nimport { levelFourMapDefinition } from '../assetDefinitions/tiles';\r\nimport { loadUnlockedFeatures } from '../helpers/localStorage';\r\nimport { overlayActions } from '../redux/overlaySlice';\r\nimport { purplePortalSpriteDefinition } from '../assetDefinitions/sprites';\r\nimport { showAlert } from '../helpers/sweetAlerts';\r\n\r\nconst START_X = 0;\r\nconst START_Y = 34;\r\n// const START_X = 142;\r\n// const START_Y = 36;\r\n\r\nexport class LevelFour extends Scene {\r\n  public uiEventEmitter: UIEventEmitter;\r\n  public characterSelector: CharacterSelector;\r\n  public animatedTiles: AnimatedTilesPlugin;\r\n  public player: Phaser.Types.Physics.Arcade.SpriteWithDynamicBody;\r\n  public enemies: Record<string, LevelFourEnemy>;\r\n  public food: Record<\r\n    string,\r\n    {\r\n      definition: LevelFourFoodDefinition;\r\n      container: Phaser.GameObjects.Container;\r\n    }\r\n  >;\r\n  public objectives: Record<\r\n    string,\r\n    {\r\n      definition: LevelFourObjectiveDefinition;\r\n      container: Phaser.GameObjects.Container;\r\n    }\r\n  >;\r\n  public invisibleInteractions: {\r\n    defintion: LevelFourInvisibleInteractionDefinition;\r\n    rectangle: Phaser.GameObjects.Rectangle;\r\n  }[];\r\n  public exitPortal: Phaser.Types.Physics.Arcade.SpriteWithDynamicBody;\r\n\r\n  private _map: Tilemaps.Tilemap | null = null;\r\n  private _mapDefinition: TileMapDefinition;\r\n  private _cursors: Phaser.Types.Input.Keyboard.CursorKeys;\r\n  private _wasd: object;\r\n  private _unlockedFeatures: UnlockedFeatures;\r\n\r\n  // state\r\n  private _playerHealth = 100;\r\n  private _invulnerable = false;\r\n  private _damageOverride = false;\r\n  private _introMessageOverride = false;\r\n  private _centerMessageVisible = false;\r\n  private _completedObjectiveCount = 0;\r\n  private _completedObjectiveOverride = false;\r\n\r\n  constructor() {\r\n    super(LEVEL_FOUR_SCENE_KEY);\r\n    this._mapDefinition = levelFourMapDefinition;\r\n  }\r\n\r\n  public create = ({ uiEmitter, characterSelector }: SceneConfig) => {\r\n    this.uiEventEmitter = uiEmitter;\r\n    this.characterSelector = characterSelector;\r\n\r\n    // set map and player character\r\n    this._setMap()._setPlayer();\r\n\r\n    this._setExitPortal();\r\n\r\n    this._setEnemies();\r\n\r\n    this._setFood();\r\n\r\n    this._setObjectives();\r\n\r\n    this._setInvisibleInteractions();\r\n\r\n    // set map layers\r\n    const tilesets = this._addMapTilesets();\r\n    this._createMapLayers(tilesets);\r\n\r\n    // set cursors\r\n    this._setCursors();\r\n    this._setWasd();\r\n    this._setUIKeybinds();\r\n\r\n    // set camera\r\n    this._setCamera();\r\n\r\n    // create animations\r\n    this._createAnimations();\r\n\r\n    this._initializeHUD();\r\n\r\n    this._showIntroText();\r\n  };\r\n\r\n  public update = () => {\r\n    this._handlePlayerMovement();\r\n    Object.keys(this.enemies).forEach(key => this._moveEnemy(key));\r\n  };\r\n\r\n  private _initializeHUD = () => {\r\n    this.time.delayedCall(\r\n      100,\r\n      () => {\r\n        const unlockedFeatures = this._loadUnlockedFeatures();\r\n        this.uiEventEmitter.emit(HUD_INITIALIZED_EVENT, true, true, true, true);\r\n        this.uiEventEmitter.emit(UPDATE_HEALTH_EVENT, 100);\r\n        this.uiEventEmitter.emit(\r\n          UPDATE_TOP_LEFT_TEXT_EVENT,\r\n          this._getObjectiveText(),\r\n        );\r\n        this.uiEventEmitter.emit(\r\n          UPDATE_UNLOCKED_FEATURES_EVENT,\r\n          unlockedFeatures,\r\n          {\r\n            inventory: () => this.createOverlay(OverlayContentKey.PROJECTS),\r\n            quests: () => this.createOverlay(OverlayContentKey.EXPERIENCES),\r\n            talents: () => this.createOverlay(OverlayContentKey.SKILLS),\r\n          },\r\n        );\r\n      },\r\n      [],\r\n      this,\r\n    );\r\n  };\r\n\r\n  private _setMap = () => {\r\n    this._map = this.make.tilemap({\r\n      key: this._mapDefinition.key,\r\n      tileWidth: TILE_SIZE,\r\n      tileHeight: TILE_SIZE,\r\n    });\r\n    this.animatedTiles.init(this._map);\r\n\r\n    return this;\r\n  };\r\n\r\n  private _setPlayer = () => {\r\n    if (!this._map) return;\r\n\r\n    const startPosition = this._map.tileToWorldXY(START_X, START_Y);\r\n\r\n    this.player = this.physics.add\r\n      .sprite(\r\n        startPosition.x,\r\n        startPosition.y,\r\n        this.characterSelector.getPlayerDefinition().key,\r\n      )\r\n      .setCollideWorldBounds(true)\r\n      .setDepth(LEVEL_FOUR_PLAYER_DEPTH);\r\n\r\n    this.player.body.setSize(this.player.width * 0.8, this.player.height, true);\r\n\r\n    return this;\r\n  };\r\n\r\n  private _setExitPortal = () => {\r\n    if (!this._map) return;\r\n\r\n    const position = this._map.tileToWorldXY(\r\n      levelFourExitPortal.position.x,\r\n      levelFourExitPortal.position.y,\r\n    );\r\n\r\n    this.exitPortal = this.physics.add\r\n      .sprite(position.x, position.y, purplePortalSpriteDefinition.key)\r\n      .setDepth(LEVEL_FOUR_PLAYER_DEPTH)\r\n      .setImmovable(true);\r\n\r\n    this.exitPortal.setFlipX(true).setSize(TILE_SIZE, this.exitPortal.height);\r\n\r\n    createAnimation(\r\n      this,\r\n      {\r\n        ...levelFourExitPortal.anim,\r\n      },\r\n      purplePortalSpriteDefinition.key,\r\n    );\r\n\r\n    this.exitPortal.setVisible(false);\r\n  };\r\n\r\n  private _setEnemies = () => {\r\n    if (!this._map) return;\r\n\r\n    if (!this.enemies) {\r\n      this.enemies = {};\r\n    }\r\n\r\n    levelFourEnemies.forEach(lfe => {\r\n      const startPosition = this._map!.tileToWorldXY(\r\n        lfe.startPos.x,\r\n        lfe.startPos.y,\r\n      );\r\n\r\n      const sprite = this.add.sprite(0, 0, lfe.textureKey);\r\n      const text = this.add\r\n        .text(0, -20, lfe.name, { fontSize: '1rem', fontFamily: 'Monospace' })\r\n        .setScale(0.5)\r\n        .setOrigin(0.5);\r\n\r\n      const container = this.add\r\n        .container(startPosition.x, startPosition.y, [sprite, text])\r\n        .setDepth(LEVEL_FOUR_PLAYER_DEPTH);\r\n\r\n      if (lfe.textureKey === 'slime') {\r\n        container.setSize(sprite.width * 0.8, sprite.height * 0.6);\r\n      } else {\r\n        container.setSize(sprite.width * 0.8, sprite.height).setScale(0.8);\r\n      }\r\n\r\n      this.physics.world.enable(container);\r\n\r\n      (container.body as Phaser.Physics.Arcade.Body)\r\n        .setCollideWorldBounds(true)\r\n        .setImmovable(true);\r\n\r\n      this.enemies[lfe.id] = {\r\n        container,\r\n        sprite,\r\n        definition: lfe,\r\n        mapBounds: {\r\n          left: this._map!.tileToWorldX(lfe.bounds.left),\r\n          right: this._map!.tileToWorldX(lfe.bounds.right),\r\n        },\r\n      };\r\n\r\n      this.physics.add.collider(\r\n        this.enemies[lfe.id].container,\r\n        this.player,\r\n        () => this.dealDamage(lfe.damage),\r\n      );\r\n    });\r\n\r\n    return this;\r\n  };\r\n\r\n  private _setFood = () => {\r\n    if (!this._map) return;\r\n\r\n    if (!this.food) {\r\n      this.food = {};\r\n    }\r\n\r\n    levelFourFoods.forEach(lff => {\r\n      const position = this._map!.tileToWorldXY(lff.position.x, lff.position.y);\r\n\r\n      const image = this.add.image(0, 0, lff.textureKey);\r\n\r\n      const text = this.add\r\n        .text(0, -15, lff.name, {\r\n          fontSize: '1.5rem',\r\n          fontFamily: 'Monospace',\r\n        })\r\n        .setScale(0.5)\r\n        .setOrigin(0.5);\r\n\r\n      const container = this.add\r\n        .container(position.x, position.y, [image, text])\r\n        .setDepth(LEVEL_FOUR_PLAYER_DEPTH)\r\n        .setScale(0.6)\r\n        .setSize(image.width, image.height);\r\n\r\n      this.physics.world.enable(container);\r\n\r\n      (container.body as Phaser.Physics.Arcade.Body)\r\n        .setCollideWorldBounds(true)\r\n        .setImmovable(true);\r\n\r\n      this.food[lff.id] = {\r\n        container,\r\n        definition: lff,\r\n      };\r\n\r\n      this.physics.add.collider(\r\n        this.food[lff.id].container,\r\n        this.player,\r\n        () => {\r\n          if (lff.value === 0) {\r\n            this._handleStarModeFoodCollision(lff.id);\r\n          } else {\r\n            this._handleHealingFoodCollision(lff.id, lff.value);\r\n          }\r\n        },\r\n      );\r\n    });\r\n\r\n    return this;\r\n  };\r\n\r\n  private _setObjectives = () => {\r\n    if (!this._map) return;\r\n\r\n    if (!this.objectives) {\r\n      this.objectives = {};\r\n    }\r\n\r\n    const names = generateJavascriptFrameworks();\r\n\r\n    levelFourObjectives.forEach((lfo, i) => {\r\n      lfo.name = names[i];\r\n\r\n      const position = this._map!.tileToWorldXY(lfo.position.x, lfo.position.y);\r\n\r\n      const image = this.add.image(0, 0, lfo.textureKey).setScale(0.05);\r\n\r\n      const text = this.add\r\n        .text(0, -15, lfo.name, {\r\n          fontSize: '1.5rem',\r\n          fontFamily: 'Monospace',\r\n        })\r\n        .setScale(0.3)\r\n        .setOrigin(0.5);\r\n\r\n      const container = this.add\r\n        .container(position.x, position.y, [image, text])\r\n        .setDepth(LEVEL_FOUR_PLAYER_DEPTH)\r\n        .setSize(image.width * 0.05, image.height * 0.05);\r\n\r\n      this.physics.world.enable(container);\r\n\r\n      (container.body as Phaser.Physics.Arcade.Body)\r\n        .setCollideWorldBounds(true)\r\n        .setImmovable(true);\r\n\r\n      this.objectives[lfo.id] = {\r\n        container,\r\n        definition: lfo,\r\n      };\r\n\r\n      this.physics.add.collider(\r\n        this.objectives[lfo.id].container,\r\n        this.player,\r\n        () => this._handleObjectiveCollision(lfo.id),\r\n      );\r\n    });\r\n\r\n    return this;\r\n  };\r\n\r\n  private _setInvisibleInteractions = () => {\r\n    if (!this._map) return;\r\n\r\n    if (!this.invisibleInteractions) {\r\n      this.invisibleInteractions = [];\r\n    }\r\n\r\n    levelFourInvisibleInteractions.forEach((lfii, index) => {\r\n      const position = this._map!.tileToWorldXY(\r\n        lfii.position.x,\r\n        lfii.position.y,\r\n      );\r\n\r\n      const rectangle = this.add.rectangle(\r\n        position.x,\r\n        position.y,\r\n        lfii.width,\r\n        lfii.height,\r\n      );\r\n\r\n      this.physics.world.enable(rectangle);\r\n\r\n      (rectangle.body as Phaser.Physics.Arcade.Body)\r\n        .setCollideWorldBounds(true)\r\n        .setImmovable(true);\r\n\r\n      this.physics.add.collider(rectangle, this.player, () =>\r\n        this._handleInvisibleInteraction(lfii),\r\n      );\r\n\r\n      this.invisibleInteractions.push({ defintion: lfii, rectangle });\r\n    });\r\n  };\r\n\r\n  private _addMapTilesets = () => {\r\n    const tilesets: string[] = [];\r\n\r\n    this._mapDefinition.tilesets.forEach(ts => {\r\n      this._map?.addTilesetImage(ts.name, ts.key);\r\n      tilesets.push(ts.name);\r\n    });\r\n\r\n    return tilesets;\r\n  };\r\n\r\n  private _createMapLayers = (tilesets: string[]) => {\r\n    if (!this._map || !this.player) return;\r\n\r\n    this._map.layers.forEach((l, i) => {\r\n      const layer = this._map?.createLayer(i, tilesets, 0, 0).setDepth(10);\r\n      const definedLayer = levelFourLayers[l.name];\r\n      if (definedLayer && layer) {\r\n        const { depth, configure } = definedLayer;\r\n        if (depth) {\r\n          layer.setDepth(depth);\r\n        }\r\n\r\n        if (configure) {\r\n          configure(layer, this);\r\n        }\r\n      }\r\n    });\r\n\r\n    return this;\r\n  };\r\n\r\n  private _setCursors = () => {\r\n    this._cursors = this.input.keyboard.createCursorKeys();\r\n    return this;\r\n  };\r\n\r\n  private _setWasd = () => {\r\n    this._wasd = this.input.keyboard.addKeys(WASD_KEY_STRING);\r\n    return this;\r\n  };\r\n\r\n  private _setUIKeybinds = () => {\r\n    const callback = (event: any) => {\r\n      const { inventory, questLog, talentTree } = this._unlockedFeatures ?? {};\r\n      if (event.key === INVENTORY_PHASER_EVENT_KEY && inventory) {\r\n        this.createOverlay(OverlayContentKey.PROJECTS);\r\n      }\r\n\r\n      if (event.key === QUESTS_PHASER_EVENT_KEY && questLog) {\r\n        this.createOverlay(OverlayContentKey.EXPERIENCES);\r\n      }\r\n\r\n      if (event.key === TALENTS_PHASER_EVENT_KEY && talentTree) {\r\n        this.createOverlay(OverlayContentKey.SKILLS);\r\n      }\r\n    };\r\n\r\n    this.input.keyboard.on('keydown', callback, this);\r\n    return this;\r\n  };\r\n\r\n  private _setCamera = () => {\r\n    if (!this._map || !this.player) return;\r\n\r\n    this.cameras.main\r\n      .setBounds(0, 0, this._map.widthInPixels, this._map.heightInPixels)\r\n      .startFollow(this.player)\r\n      .setZoom(2.5);\r\n\r\n    return this;\r\n  };\r\n\r\n  private _createAnimations = () => {\r\n    const {\r\n      key: playerDefinitionKey,\r\n    } = this.characterSelector.getPlayerDefinition();\r\n    const animationMap = getLevelFourAnimationMap(playerDefinitionKey);\r\n\r\n    Object.keys(animationMap).forEach(spriteKey => {\r\n      Object.keys(animationMap[spriteKey]).forEach(animationKey => {\r\n        createAnimation(this, animationMap[spriteKey][animationKey], spriteKey);\r\n      });\r\n    });\r\n\r\n    return this;\r\n  };\r\n\r\n  private _handlePlayerMovement = () => {\r\n    if (!this.player) return;\r\n\r\n    const {\r\n      key: playerDefinitionKey,\r\n    } = this.characterSelector.getPlayerDefinition();\r\n    const animationMap = getLevelFourAnimationMap(playerDefinitionKey);\r\n\r\n    if (this._cursors.left.isDown || this._wasd['A'].isDown) {\r\n      this.player.body.setVelocityX(-LEVEL_FOUR_WALK_VELOCITY);\r\n      this.player.anims.play(\r\n        animationMap[playerDefinitionKey]['walk'].key,\r\n        true,\r\n      );\r\n      this.player.flipX = true;\r\n    } else if (this._cursors.right.isDown || this._wasd['D'].isDown) {\r\n      this.player.body.setVelocityX(LEVEL_FOUR_WALK_VELOCITY);\r\n      this.player.anims.play(\r\n        animationMap[playerDefinitionKey]['walk'].key,\r\n        true,\r\n      );\r\n      this.player.flipX = false;\r\n    } else {\r\n      this.player.body.setVelocityX(0);\r\n      this.player.anims.play(animationMap[playerDefinitionKey]['idle'].key);\r\n    }\r\n    if (\r\n      (this._cursors.up.isDown || this._wasd['W'].isDown) &&\r\n      this.player.body.onFloor()\r\n    ) {\r\n      this.player.body.setVelocityY(-LEVEL_FOUR_JUMP_VELOCITY);\r\n    }\r\n\r\n    if (!this.player.body.onFloor()) {\r\n      this.player.anims.pause();\r\n    }\r\n  };\r\n\r\n  private _moveEnemy = (id: string) => {\r\n    if (!this._map || !this.enemies[id]) return;\r\n    const {\r\n      key: playerDefinitionKey,\r\n    } = this.characterSelector.getPlayerDefinition();\r\n    const animationMap = getLevelFourAnimationMap(playerDefinitionKey);\r\n\r\n    // if enemy is at left bound, move right\r\n    if (this.enemies[id].container.x <= this.enemies[id].mapBounds.left) {\r\n      (this.enemies[id].container\r\n        .body as Phaser.Physics.Arcade.Body).setVelocityX(\r\n        LEVEL_FOUR_ENEMY_WALK_VELOCITY,\r\n      );\r\n      if (animationMap[this.enemies[id].definition.textureKey]) {\r\n        this.enemies[id].sprite.anims.play(\r\n          animationMap[this.enemies[id].definition.textureKey]['walk'].key,\r\n          true,\r\n        );\r\n        this.enemies[id].sprite.flipX = true;\r\n      }\r\n    } else if (\r\n      this.enemies[id].container.x >= this.enemies[id].mapBounds.right\r\n    ) {\r\n      // if enemy is at right bound, move left\r\n      (this.enemies[id].container\r\n        .body as Phaser.Physics.Arcade.Body).setVelocityX(\r\n        -LEVEL_FOUR_ENEMY_WALK_VELOCITY,\r\n      );\r\n      if (animationMap[this.enemies[id].definition.textureKey]) {\r\n        this.enemies[id].sprite.anims.play(\r\n          animationMap[this.enemies[id].definition.textureKey]['walk'].key,\r\n          true,\r\n        );\r\n        this.enemies[id].sprite.flipX = false;\r\n      }\r\n    }\r\n  };\r\n\r\n  public handleLavaCollision = () => {\r\n    this.player.body.setVelocityY(-LEVEL_FOUR_JUMP_VELOCITY);\r\n    this.dealDamage(10);\r\n  };\r\n\r\n  private _loadUnlockedFeatures = () => {\r\n    const unlockedFeatures = loadUnlockedFeatures();\r\n    if (unlockedFeatures) {\r\n      this._unlockedFeatures = {\r\n        ...(unlockedFeatures as UnlockedFeatures),\r\n      };\r\n      storeDispatch(overlayActions.updateUnlockedFeatures(unlockedFeatures));\r\n    }\r\n\r\n    return this._unlockedFeatures;\r\n  };\r\n\r\n  public createOverlay = (contentKey: OverlayContentKey) => {\r\n    this.scene.pause();\r\n    store.dispatch(\r\n      overlayActions.overlayOpened({\r\n        contentKey,\r\n        pausedScene: this.scene.key,\r\n      }),\r\n    );\r\n\r\n    return this;\r\n  };\r\n\r\n  public dealDamage = (value: number) => {\r\n    if (this._invulnerable || this._damageOverride) return;\r\n    this.uiEventEmitter.emit(\r\n      ADD_DEBUFF_EVENT,\r\n      `-${value} hp`,\r\n      LEVEL_FOUR_BATTLE_TEXT_DURATION,\r\n    );\r\n    this._changeHealth(-value);\r\n    this._invulnerable = true;\r\n    this.time.delayedCall(\r\n      LEVEL_FOUR_DAMAGE_DELAY_MS,\r\n      () => {\r\n        this._invulnerable = false;\r\n      },\r\n      [],\r\n      this,\r\n    );\r\n  };\r\n\r\n  public restoreHealth = (value: number) => {\r\n    if (this._playerHealth === 100) return;\r\n\r\n    this.uiEventEmitter.emit(\r\n      ADD_BUFF_EVENT,\r\n      `+${value} hp`,\r\n      LEVEL_FOUR_BATTLE_TEXT_DURATION,\r\n    );\r\n\r\n    this._changeHealth(value);\r\n  };\r\n\r\n  private _changeHealth = (value: number) => {\r\n    let newHealth = this._playerHealth + value;\r\n    if (newHealth < 0) {\r\n      newHealth = 0;\r\n    }\r\n\r\n    if (newHealth > 100) {\r\n      newHealth = 100;\r\n    }\r\n\r\n    this._playerHealth = newHealth;\r\n    this.uiEventEmitter.emit(UPDATE_HEALTH_EVENT, this._playerHealth);\r\n\r\n    if (this._playerHealth <= 0) {\r\n      this._handleDeath();\r\n    }\r\n  };\r\n\r\n  private _handleDeath = () => {\r\n    this.cameras.main.setAlpha(0.5);\r\n    this.scene.pause();\r\n    this.uiEventEmitter.emit(UPDATE_CENTER_TEXT_EVENT, 'You failed!');\r\n    setTimeout(() => {\r\n      this.scene.restart();\r\n      this._playerHealth = 100;\r\n      this._invulnerable = false;\r\n      this._completedObjectiveCount = 0;\r\n      this.uiEventEmitter.emit(HUD_SHUTDOWN_EVENT);\r\n      this._initializeHUD();\r\n    }, 2500);\r\n  };\r\n\r\n  private _toggleStarMode = () => {\r\n    this.player.setImmovable(true);\r\n    this._invulnerable = true;\r\n    this.uiEventEmitter.emit(\r\n      ADD_BUFF_EVENT,\r\n      'flow state achieved',\r\n      LEVEL_FOUR_BATTLE_TEXT_DURATION,\r\n    );\r\n    this.time.delayedCall(\r\n      LEVEL_FOUR_STAR_MODE_DURATION,\r\n      () => {\r\n        this._invulnerable = false;\r\n        this.player.setImmovable(false);\r\n        this.uiEventEmitter.emit(\r\n          ADD_DEBUFF_EVENT,\r\n          'context switching',\r\n          LEVEL_FOUR_BATTLE_TEXT_DURATION,\r\n        );\r\n      },\r\n      [],\r\n      this,\r\n    );\r\n  };\r\n\r\n  private _removeFood = (id: string) => {\r\n    this.food[id].container.destroy();\r\n    delete this.food[id];\r\n  };\r\n\r\n  private _removeObjective = (id: string) => {\r\n    this.objectives[id].container.destroy();\r\n    delete this.objectives[id];\r\n  };\r\n\r\n  private _handleHealingFoodCollision = (id: string, value: number) => {\r\n    if (this._playerHealth < 100) {\r\n      this.restoreHealth(value);\r\n      this._removeFood(id);\r\n      return;\r\n    }\r\n\r\n    if (this._centerMessageVisible) {\r\n      return;\r\n    }\r\n\r\n    this._centerMessageVisible = true;\r\n\r\n    this.uiEventEmitter.emit(\r\n      UPDATE_BOTTOM_CENTER_TEXT_EVENT,\r\n      'You already have full health!',\r\n    );\r\n\r\n    this.time.delayedCall(\r\n      LEVEL_FOUR_MESSAGE_DISPLAY_DURATION,\r\n      () => {\r\n        this.uiEventEmitter.emit(UPDATE_BOTTOM_CENTER_TEXT_EVENT, '');\r\n        this._centerMessageVisible = false;\r\n      },\r\n      [],\r\n      this,\r\n    );\r\n  };\r\n\r\n  private _handleStarModeFoodCollision = (id: string) => {\r\n    this._toggleStarMode();\r\n    this._removeFood(id);\r\n  };\r\n\r\n  private _handleObjectiveCollision = (id: string) => {\r\n    this._completedObjectiveCount++;\r\n    this.uiEventEmitter.emit(\r\n      UPDATE_TOP_LEFT_TEXT_EVENT,\r\n      this._getObjectiveText(),\r\n    );\r\n\r\n    let messageText: string;\r\n\r\n    if (\r\n      this._completedObjectiveCount === levelFourObjectives.length ||\r\n      this._completedObjectiveOverride\r\n    ) {\r\n      messageText = `You've learned enough to escape this place.`;\r\n      this._enableExitPortal();\r\n    } else {\r\n      messageText = `You mastered ${\r\n        this.objectives[id].definition.name\r\n      } in ${Math.floor(Math.random() * 7)} day(s)!`;\r\n    }\r\n\r\n    this.uiEventEmitter.emit(UPDATE_CENTER_TEXT_EVENT, messageText);\r\n\r\n    this.time.delayedCall(\r\n      LEVEL_FOUR_MESSAGE_DISPLAY_DURATION,\r\n      () => this.uiEventEmitter.emit(UPDATE_CENTER_TEXT_EVENT, ''),\r\n      [],\r\n      this,\r\n    );\r\n\r\n    this._removeObjective(id);\r\n  };\r\n\r\n  private _getObjectiveText = () =>\r\n    `Javascript Frameworks Mastered: ${this._completedObjectiveCount}/${levelFourObjectives.length}`;\r\n\r\n  private _handleInvisibleInteraction = (\r\n    definition: LevelFourInvisibleInteractionDefinition,\r\n  ) => {\r\n    if (definition.handlerKey === 'ladder') {\r\n      this._handleLadderCollision(definition.payload.position);\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  private _handleLadderCollision = (position: Coordinates) => {\r\n    if (!this._map) return;\r\n\r\n    const newPos = this._map!.tileToWorldXY(position.x, position.y);\r\n\r\n    this._movePlayer(newPos);\r\n  };\r\n\r\n  private _movePlayer = (position: Coordinates) => {\r\n    if (!this.player) return;\r\n\r\n    this.player.setX(position.x).setY(position.y);\r\n  };\r\n\r\n  private _showIntroText = () => {\r\n    if (this._introMessageOverride) return;\r\n    this.scene.pause();\r\n    showAlert(\r\n      'Welcome',\r\n      `You must prove your worth as a high quality developer by mastering the latest flavor of the month JavaScript frameworks as soon as possible. You will encounter the same challenges that all developers face but if you are resourceful you may find ways to endure.`,\r\n      () => {\r\n        this.scene.resume();\r\n      },\r\n    );\r\n  };\r\n\r\n  private _enableExitPortal = () => {\r\n    this.exitPortal.setVisible(true);\r\n    this.exitPortal.anims.play(levelFourExitPortal.anim.key, true);\r\n    this.physics.add.collider(\r\n      this.exitPortal,\r\n      this.player,\r\n      this._handleLevelComplete,\r\n    );\r\n  };\r\n\r\n  private _handleLevelComplete = () => {\r\n    this.time.delayedCall(\r\n      1000,\r\n      () => {\r\n        this.cameras.main.fade(2500, 0, 0, 0);\r\n      },\r\n      [],\r\n      this,\r\n    );\r\n    setTimeout(() => {\r\n      this.scene.start(CREDIT_SCENE_KEY);\r\n      this.uiEventEmitter.emit(HUD_SHUTDOWN_EVENT);\r\n    }, 3500);\r\n  };\r\n}\r\n","// core\r\nexport const HUD_INITIALIZED_EVENT = 'hud-initialized';\r\nexport const HUD_SHUTDOWN_EVENT = 'hud-shutdown';\r\n\r\n// basic text\r\nexport const UPDATE_TOP_LEFT_TEXT_EVENT = 'update-top-left-text';\r\nexport const UPDATE_TOP_CENTER_TEXT_EVENT = 'update-top-center-text';\r\nexport const UPDATE_CENTER_TEXT_EVENT = 'update-center-text';\r\nexport const UPDATE_BOTTOM_CENTER_TEXT_EVENT = 'update-bottom-center-text';\r\n\r\n// health bar\r\nexport const UPDATE_HEALTH_EVENT = 'update-health';\r\n\r\n// unlocked features\r\nexport const UPDATE_UNLOCKED_FEATURES_EVENT = 'update-unlocked-features';\r\n\r\n// battle text\r\nexport const ADD_BUFF_EVENT = 'add-buff';\r\nexport const ADD_DEBUFF_EVENT = 'add-debuff';\r\n","import {\r\n  Character,\r\n  DoorDefinition,\r\n  ItemDefinition,\r\n  LevelCast,\r\n  NpcCharacter,\r\n  PlayerCharacter,\r\n  PortalDefinition,\r\n  PortalType,\r\n} from '../types/interactions';\r\nimport { CharacterData, Direction, GridEngine } from 'grid-engine';\r\nimport {\r\n  ENTER_EVENT_KEY,\r\n  INVENTORY_PHASER_EVENT_KEY,\r\n  LEVEL_ONE_SCENE_KEY,\r\n  PLAYER_MOVED_EVENT,\r\n  QUESTS_PHASER_EVENT_KEY,\r\n  RANDOM_MOVEMENT_DELAY,\r\n  SCALE,\r\n  SCALED_TILE_SIZE,\r\n  SPACE_EVENT_KEY,\r\n  TALENTS_PHASER_EVENT_KEY,\r\n  WASD_KEY_STRING,\r\n} from '../constants';\r\nimport { Geom, Scene, Tilemaps } from 'phaser';\r\nimport {\r\n  HUD_SHUTDOWN_EVENT,\r\n  UPDATE_BOTTOM_CENTER_TEXT_EVENT,\r\n  UPDATE_UNLOCKED_FEATURES_EVENT,\r\n} from '../ui/events';\r\nimport {\r\n  loadAllSavedData,\r\n  loadLevelSavedData,\r\n  loadUnlockedFeatures,\r\n  saveLevelData,\r\n  updateUnlockedFeatures,\r\n} from '../helpers/localStorage';\r\nimport { store, storeDispatch } from '../redux/store';\r\n\r\nimport AnimatedTilesPlugin from 'phaser-animated-tiles-phaser3.5';\r\nimport { CharacterSelector } from '../characterSelect/characterSelector';\r\nimport { Coordinates } from '../types/position';\r\nimport DialogPlugin from '../dialog/plugin';\r\nimport { OverlayContentKey } from '../types/overlayContent';\r\nimport PhaserTooltip from '../PhaserTooltip/phaserTooltip';\r\nimport { SceneConfig } from '../types/SceneConfig';\r\nimport { TileMapDefinition } from '../types/assetDefinitions';\r\nimport { UIEventEmitter } from '../ui/eventEmitter';\r\nimport { UnlockedFeatures } from '../types/savedData';\r\nimport { overlayActions } from '../redux/overlaySlice';\r\n\r\nexport class LevelScene extends Scene {\r\n  // UI\r\n  public uiEventEmitter: UIEventEmitter;\r\n\r\n  // character selector\r\n  public characterSelector: CharacterSelector;\r\n\r\n  // plugins\r\n  public gridEngine: GridEngine;\r\n  public dialog: DialogPlugin;\r\n  public dialogDisabled = false;\r\n  public phaserTooltip: PhaserTooltip;\r\n\r\n  // characters\r\n  public playerCharacter?: PlayerCharacter = undefined;\r\n  public characters: Character[] = [];\r\n  public facingCharacter?: NpcCharacter = undefined;\r\n  public cast?: LevelCast = undefined;\r\n\r\n  // tiles\r\n  public map: Tilemaps.Tilemap | null = null;\r\n  public animatedTiles: AnimatedTilesPlugin;\r\n  public mapDefinition: TileMapDefinition | null = null;\r\n  public levelNumber: number = 0;\r\n\r\n  // interactables\r\n  public doors: DoorDefinition[] = [];\r\n  public facingDoor?: DoorDefinition = undefined;\r\n  public portals: PortalDefinition[] = [];\r\n  public facingPortal?: PortalDefinition = undefined;\r\n  public items: ItemDefinition[] = [];\r\n  public facingItem?: ItemDefinition = undefined;\r\n\r\n  // dev mode\r\n  public isDev = process.env.NODE_ENV === 'development';\r\n\r\n  // movement\r\n  public isMovementPaused: boolean = false;\r\n  public speedModifier: number = 1;\r\n\r\n  // unlocked features\r\n  public unlockedFeatures: UnlockedFeatures;\r\n\r\n  /**\r\n   * sets player character and combines with npc characters to set characters\r\n   *\r\n   * @returns this scene (chainable)\r\n   */\r\n  public setCharacters = () => {\r\n    if (!this.cast) return this;\r\n\r\n    const player = this._createPlayerCharacter(this.cast.player);\r\n    const npcs = this._createNpcCharacters(this.cast.npcs);\r\n\r\n    this.playerCharacter = player;\r\n    this.characters = [player, ...npcs];\r\n\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * sets up main camera to follow player character\r\n   *\r\n   * @returns this scene (chainable)\r\n   */\r\n  public setCamera = () => {\r\n    const { playerCharacter: { sprite = undefined } = {} } = this;\r\n\r\n    if (!sprite) return;\r\n\r\n    this.cameras.main\r\n      .startFollow(sprite, true)\r\n      .setFollowOffset(-sprite.width, -sprite.height)\r\n      .setZoom(1)\r\n      .setRoundPixels(true);\r\n\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * sets items\r\n   *\r\n   * @returns this scene (chainable)\r\n   */\r\n  public setItems = (): this => {\r\n    if (!this.cast) return this;\r\n\r\n    const createdItems = this._createItems(this.cast.items);\r\n\r\n    this.items = [...createdItems];\r\n\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * sets portals\r\n   *\r\n   * @param portals\r\n   * @returns this scene (chainable)\r\n   */\r\n  public setPortals = () => {\r\n    if (!this.cast) return this;\r\n\r\n    this.portals = this.cast.portals;\r\n\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * sets doors\r\n   *\r\n   * @param doors\r\n   * @returns this scene (chainable)\r\n   */\r\n  public setDoors = () => {\r\n    if (!this.cast) return this;\r\n\r\n    this.doors = this.cast.doors;\r\n\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * sets tilemap, tilesets, layers, and animated layer if applicable. also creates the grid engine map + characters\r\n   *\r\n   * @returns this scene (chainable)\r\n   */\r\n  public setMap = () => {\r\n    if (!this.mapDefinition) throw new Error('no tilemap defined');\r\n    const addedMap = this.make.tilemap({\r\n      key: this.mapDefinition.key,\r\n    });\r\n    const tilesetNames: string[] = [];\r\n\r\n    this.mapDefinition.tilesets.forEach(ts => {\r\n      addedMap.addTilesetImage(ts.name, ts.key);\r\n      tilesetNames.push(ts.name);\r\n    });\r\n\r\n    for (let i = 0; i < addedMap.layers.length; i++) {\r\n      const layer = addedMap.createLayer(i, tilesetNames, 0, 0);\r\n      layer.scale = SCALE;\r\n    }\r\n\r\n    if (\r\n      addedMap.layers.some(l =>\r\n        this.mapDefinition?.animatedLayer.includes(l.name),\r\n      )\r\n    ) {\r\n      this.animatedTiles.init(addedMap);\r\n    }\r\n\r\n    this.map = addedMap;\r\n    this._setGridEngineMap();\r\n\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * sets up any character layer transitions\r\n   *\r\n   * @returns this scene (chainable)\r\n   */\r\n  public setCharacterLayerTransitions = () => {\r\n    if (!this.mapDefinition?.characterLayer || !this.gridEngine) {\r\n      return this;\r\n    }\r\n\r\n    const {\r\n      characterLayer: { lower, upper, transitions },\r\n    } = this.mapDefinition;\r\n\r\n    transitions.forEach(({ x, y, toUpper }) => {\r\n      let fromLayer: string;\r\n      let toLayer: string;\r\n\r\n      if (toUpper) {\r\n        fromLayer = lower;\r\n        toLayer = upper;\r\n      } else {\r\n        fromLayer = upper;\r\n        toLayer = lower;\r\n      }\r\n\r\n      this.gridEngine.setTransition({ x, y }, fromLayer, toLayer);\r\n    });\r\n\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * sets up collision handlers and controls for supporting arrow keys and WASD. add to update method\r\n   *\r\n   * @returns this scene (chainable)\r\n   */\r\n  public useGridPlayerControls = () => {\r\n    if (!this.playerCharacter) {\r\n      return this;\r\n    }\r\n    if (this.dialog.visible || this.isMovementPaused) {\r\n      return this;\r\n    }\r\n    const cursors = this.input.keyboard.createCursorKeys();\r\n    const wasd = this.input.keyboard.addKeys(WASD_KEY_STRING);\r\n    const {\r\n      definition: { key },\r\n    } = this.playerCharacter;\r\n\r\n    if (cursors.shift.isDown) {\r\n      this.gridEngine.setSpeed(\r\n        this.playerCharacter.definition.key,\r\n        this.playerCharacter.startingSpeed * 2 * this.speedModifier,\r\n      );\r\n    } else {\r\n      this.gridEngine.setSpeed(\r\n        this.playerCharacter.definition.key,\r\n        this.playerCharacter.startingSpeed * this.speedModifier,\r\n      );\r\n    }\r\n\r\n    let moved = false;\r\n    if (cursors.left.isDown || wasd['A'].isDown) {\r\n      this.gridEngine.move(key, Direction.LEFT);\r\n      moved = true;\r\n    } else if (cursors.right.isDown || wasd['D'].isDown) {\r\n      this.gridEngine.move(key, Direction.RIGHT);\r\n      moved = true;\r\n    } else if (cursors.up.isDown || wasd['W'].isDown) {\r\n      this.gridEngine.move(key, Direction.UP);\r\n      moved = true;\r\n    } else if (cursors.down.isDown || wasd['S'].isDown) {\r\n      this.gridEngine.move(key, Direction.DOWN);\r\n      moved = true;\r\n    }\r\n\r\n    if (moved) {\r\n      this.events.emit(PLAYER_MOVED_EVENT);\r\n    }\r\n\r\n    if (!this.gridEngine.isMoving(key) && this.doors.length > 0) {\r\n      this._handleDoorCollision();\r\n    }\r\n\r\n    if (!this.gridEngine.isMoving(key) && this.portals.length > 0) {\r\n      this._handlePortalCollision();\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * determines if the player is facing an item, character, door, or portal based on player position\r\n   *\r\n   * credit to https://github.com/Annoraaq/grid-engine/issues/235#issuecomment-1061049631 for the idea\r\n   *\r\n   * @returns this scene (chainable)\r\n   */\r\n  public setFacing = () => {\r\n    if (!this.playerCharacter) return;\r\n    this.facingCharacter = undefined;\r\n    this.facingDoor = undefined;\r\n    this.facingItem = undefined;\r\n    this.facingPortal = undefined;\r\n\r\n    const { x, y } = this.gridEngine.getFacingPosition(\r\n      this.playerCharacter.definition.key,\r\n    );\r\n\r\n    const tileRect = this._createTileRectangle(x, y);\r\n    let bottomCenterTextValue: string | undefined = undefined;\r\n    this.facingItem = this.items.find(item =>\r\n      Geom.Intersects.RectangleToRectangle(item.sprite!.getBounds(), tileRect),\r\n    );\r\n\r\n    if (this.facingItem) {\r\n      bottomCenterTextValue = this.facingItem.friendlyName;\r\n    } else {\r\n      this.facingCharacter = this.characters\r\n        .filter(c => c.definition.key !== this.playerCharacter?.definition.key)\r\n        .find(o =>\r\n          Geom.Intersects.RectangleToRectangle(o.sprite!.getBounds(), tileRect),\r\n        );\r\n    }\r\n\r\n    if (this.facingCharacter) {\r\n      bottomCenterTextValue = this.facingCharacter.friendlyName;\r\n    } else {\r\n      this.facingPortal = this.portals.find(p =>\r\n        Geom.Intersects.RectangleToRectangle(\r\n          this._createTileRectangle(p.from.x, p.from.y),\r\n          tileRect,\r\n        ),\r\n      );\r\n    }\r\n\r\n    if (this.facingPortal) {\r\n      bottomCenterTextValue = this.facingPortal.friendlyName;\r\n    } else {\r\n      this.facingDoor = this.doors.find(d =>\r\n        Geom.Intersects.RectangleToRectangle(\r\n          this._createTileRectangle(d.from[0].x, d.from[0].y),\r\n          tileRect,\r\n        ),\r\n      );\r\n    }\r\n\r\n    if (this.facingDoor) {\r\n      bottomCenterTextValue = this.facingDoor.friendlyName;\r\n    }\r\n\r\n    if (bottomCenterTextValue && !this.dialog.visible) {\r\n      this.addHudBottomCenterText(bottomCenterTextValue);\r\n    } else {\r\n      this.removeHudBottomCenterText();\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * attaches keyboard listener for handling interactions\r\n   *\r\n   * @returns this scene (chainable)\r\n   */\r\n  public attachKeyboardListener = () => {\r\n    this.input.keyboard.on(\r\n      'keydown',\r\n      event => {\r\n        this.handleInteraction(event).handleUIKeybinds(event);\r\n      },\r\n      this,\r\n    );\r\n\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * handler for keydown events\r\n   *\r\n   * @param event keyboard down event\r\n   * @returns this scene (chainable)\r\n   */\r\n  public handleInteraction = event => {\r\n    // if a non-interact key is pressed or there is nothing to interact with: nothing to see here\r\n    if (\r\n      !(event.key === ENTER_EVENT_KEY || event.key === SPACE_EVENT_KEY) ||\r\n      (!this.facingItem && !this.facingCharacter && !this.dialog.visible)\r\n    ) {\r\n      return this;\r\n    }\r\n\r\n    if (this.facingCharacter) {\r\n      this._handleCharacterInteraction();\r\n    } else if (this.facingItem) {\r\n      this._handleItemInteraction();\r\n    } else {\r\n      // dialog interaction\r\n      this.handleCloseDialog();\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * handler for keydown ui keybind events\r\n   * @param event keyboard down event\r\n   * @returns this scene (chainable)\r\n   */\r\n  public handleUIKeybinds = event => {\r\n    const { inventory, questLog, talentTree } = this.unlockedFeatures;\r\n    if (event.key === INVENTORY_PHASER_EVENT_KEY && inventory) {\r\n      this.createOverlay(OverlayContentKey.PROJECTS);\r\n    }\r\n\r\n    if (event.key === QUESTS_PHASER_EVENT_KEY && questLog) {\r\n      this.createOverlay(OverlayContentKey.EXPERIENCES);\r\n    }\r\n\r\n    if (event.key === TALENTS_PHASER_EVENT_KEY && talentTree) {\r\n      this.createOverlay(OverlayContentKey.SKILLS);\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * creates and opens the dialog window\r\n   *\r\n   * @param text\r\n   */\r\n  public createNewDialog = (text: string, callback?: () => any) => {\r\n    this.dialog.setText(text);\r\n    this.dialog.toggleWindow(true, callback);\r\n    this.removeHudBottomCenterText(); // the hud bottom text should always be removed so it doesnt overlap with dialog\r\n  };\r\n\r\n  /**\r\n   * closes the dialog window\r\n   */\r\n  public handleCloseDialog = (force: boolean = false) => {\r\n    if (this.dialogDisabled && !force) return;\r\n    this.dialog.toggleWindow(false);\r\n  };\r\n\r\n  /**\r\n   * if the character is supposed to move, it will be scheduled to move again in x seconds (default 30)\r\n   *\r\n   * @param character\r\n   * @returns  this scene (chainable)\r\n   */\r\n  public resumeMovement = (character: NpcCharacter, seconds: number = 30) => {\r\n    const {\r\n      definition: { key },\r\n      radius,\r\n    } = character;\r\n    if (radius !== undefined && !this.gridEngine.isMoving(key)) {\r\n      this.time.delayedCall(\r\n        seconds * 1000,\r\n        () => {\r\n          if (!this.dialog.visible) {\r\n            this.gridEngine.moveRandomly(key, RANDOM_MOVEMENT_DELAY, radius);\r\n          }\r\n        },\r\n        [],\r\n        this,\r\n      );\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * stops the character's movement if they are moving\r\n   *\r\n   * @param character\r\n   * @returns this scene (chainable)\r\n   */\r\n  public pauseMovement = (character: NpcCharacter) => {\r\n    const {\r\n      definition: { key },\r\n    } = character;\r\n\r\n    if (this.gridEngine.isMoving(key)) {\r\n      this.gridEngine.stopMovement(key);\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * repeatedly tries to turn the character towards the player\r\n   *\r\n   * @param character\r\n   * @returns this scene (chainable)\r\n   */\r\n  public turnCharacterTowardsPlayer = (character: NpcCharacter) => {\r\n    if (!this.playerCharacter) return;\r\n\r\n    const {\r\n      definition: { key },\r\n    } = character;\r\n    if (this.gridEngine.isMoving(key)) {\r\n      // sometimes the movement doesn't stop fast enough and we can't turn the character\r\n      // this helps with that so we keep trying to turn the character without blowing up the stack\r\n      return this.time.delayedCall(\r\n        50,\r\n        () => this.turnCharacterTowardsPlayer(character),\r\n        [],\r\n        this,\r\n      );\r\n    }\r\n    let newDir: Direction | undefined;\r\n    const playerDir = this.gridEngine.getFacingDirection(\r\n      this.playerCharacter.definition.key,\r\n    );\r\n    switch (playerDir) {\r\n      case Direction.DOWN:\r\n        newDir = Direction.UP;\r\n        break;\r\n      case Direction.UP:\r\n        newDir = Direction.DOWN;\r\n        break;\r\n      case Direction.LEFT:\r\n        newDir = Direction.RIGHT;\r\n        break;\r\n      case Direction.RIGHT:\r\n        newDir = Direction.LEFT;\r\n        break;\r\n    }\r\n\r\n    if (newDir) {\r\n      this.gridEngine.turnTowards(key, newDir);\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * adds and shows hud bottom text\r\n   *\r\n   * @param text\r\n   * @returns this scene (chainable)\r\n   */\r\n  public addHudBottomCenterText = (text: string) => {\r\n    if (this.uiEventEmitter) {\r\n      this.uiEventEmitter.emit(UPDATE_BOTTOM_CENTER_TEXT_EVENT, text);\r\n    }\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * hides hud bottom text\r\n   *\r\n   * @returns this scene (chainable)\r\n   */\r\n  public removeHudBottomCenterText = () => {\r\n    if (this.uiEventEmitter) {\r\n      this.uiEventEmitter.emit(UPDATE_BOTTOM_CENTER_TEXT_EVENT);\r\n    }\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * @param character player without sprite\r\n   * @returns character with created sprite\r\n   */\r\n  private _createPlayerCharacter = (\r\n    character: PlayerCharacter,\r\n  ): PlayerCharacter => {\r\n    const {\r\n      definition: { key, scale },\r\n    } = character;\r\n    return {\r\n      ...character,\r\n      sprite: this.add.sprite(0, 0, key).setScale(scale),\r\n    };\r\n  };\r\n\r\n  /**\r\n   * @param characters npc characters without sprites\r\n   * @returns npc characters with created sprites\r\n   */\r\n  private _createNpcCharacters = (\r\n    characters: NpcCharacter[],\r\n  ): NpcCharacter[] => {\r\n    return characters.map(c => ({\r\n      ...c,\r\n      sprite: this.add\r\n        .sprite(0, 0, c.definition.key)\r\n        .setScale(c.definition.scale),\r\n    }));\r\n  };\r\n\r\n  /**\r\n   * @param items items without sprites\r\n   * @returns items with created sprites\r\n   */\r\n  private _createItems = (items: ItemDefinition[]): ItemDefinition[] => {\r\n    return items.map(item => ({\r\n      ...item,\r\n      sprite: this.add\r\n        .sprite(0, 0, '')\r\n        .setScale(SCALE)\r\n        .setVisible(false),\r\n    }));\r\n  };\r\n\r\n  /**\r\n   * uses the scene's characters and items to create a grid engine map\r\n   *\r\n   * @returns this scene (chainable)\r\n   */\r\n  private _setGridEngineMap = () => {\r\n    if (this.gridEngine && this.map) {\r\n      const characters = [\r\n        ...this._createGridEngineCharacters(),\r\n        ...this._createGridEngineItems(),\r\n      ];\r\n\r\n      this.gridEngine.create(this.map, { characters });\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * creates grid engine characters using the scene's characters\r\n   *\r\n   * @returns grid engine characters\r\n   */\r\n  private _createGridEngineCharacters = (): CharacterData[] => {\r\n    return this.characters\r\n      .filter(c => !!c.sprite)\r\n      .map(\r\n        ({\r\n          sprite,\r\n          definition: { key, walkingAnimationMapping },\r\n          startingX,\r\n          startingY,\r\n          startingSpeed,\r\n          facingDirection,\r\n        }) => ({\r\n          id: key,\r\n          startPosition: {\r\n            x: startingX,\r\n            y: startingY,\r\n          },\r\n          speed: startingSpeed,\r\n          sprite: sprite!,\r\n          walkingAnimationMapping,\r\n          facingDirection,\r\n        }),\r\n      );\r\n  };\r\n\r\n  /**\r\n   * creates grid engine items (basically characters) using the scene's items\r\n   * @returns grid engine items\r\n   */\r\n  private _createGridEngineItems = (): CharacterData[] => {\r\n    return this.items\r\n      .filter(i => !!i.sprite)\r\n      .map(({ x, y, sprite }) => ({\r\n        id: this._getItemId(x, y),\r\n        collides: true,\r\n        startPosition: { x, y },\r\n        sprite: sprite!,\r\n      }));\r\n  };\r\n\r\n  /**\r\n   * handles the player interacting with a character\r\n   *\r\n   * @returns this scene (chainable)\r\n   */\r\n  private _handleCharacterInteraction = () => {\r\n    if (!this.facingCharacter) return this;\r\n\r\n    // if the dialog is open, just close it and have the character go back to wandering\r\n    if (this.dialog.visible) {\r\n      this.resumeMovement(this.facingCharacter);\r\n      this.handleCloseDialog();\r\n      return this;\r\n    }\r\n\r\n    // first we pause the character's movement\r\n    this.pauseMovement(this.facingCharacter).turnCharacterTowardsPlayer(\r\n      this.facingCharacter,\r\n    );\r\n\r\n    if (this.facingCharacter.handler) {\r\n      this.facingCharacter.handler(this);\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * handles the player interacting with an item\r\n   *\r\n   * @returns this scene (chainable)\r\n   */\r\n  private _handleItemInteraction = () => {\r\n    if (!this.facingItem) return this;\r\n\r\n    if (this.dialog.visible) {\r\n      this.handleCloseDialog();\r\n      return this;\r\n    }\r\n\r\n    if (this.facingItem && this.facingItem.handler) {\r\n      this.facingItem.handler(this);\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * handles when the player uses a door. triggers movement\r\n   *\r\n   * @returns this scene (chainable)\r\n   */\r\n  private _handleDoorCollision = () => {\r\n    if (!this.playerCharacter) return;\r\n\r\n    const pos = this.gridEngine.getPosition(\r\n      this.playerCharacter.definition.key,\r\n    );\r\n    const match = this.doors.find(door =>\r\n      door.from.some(\r\n        coordinate => coordinate.x === pos.x && coordinate.y === pos.y,\r\n      ),\r\n    );\r\n\r\n    if (match) {\r\n      if (!match.inactive) {\r\n        this.cameras.main.flash(750, 0, 0, 0);\r\n        this.gridEngine.setPosition(\r\n          this.characterSelector.getPlayerDefinition().key,\r\n          match.to,\r\n          match.layer,\r\n        );\r\n        if (match.face) {\r\n          this.gridEngine.turnTowards(\r\n            this.playerCharacter.definition.key,\r\n            match.face,\r\n          );\r\n        }\r\n      } else {\r\n        if (match.inactiveDialog) {\r\n          this.createNewDialog(match.inactiveDialog);\r\n        }\r\n        if (match.inactiveMoveDir) {\r\n          this.gridEngine.move(\r\n            this.playerCharacter.definition.key,\r\n            match.inactiveMoveDir,\r\n          );\r\n        }\r\n      }\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * handles the player using a portal. similar to doors except the portal can trigger dialogs OR movement\r\n   *\r\n   * @returns this scene (chainable)\r\n   */\r\n  private _handlePortalCollision = () => {\r\n    if (!this.playerCharacter) return;\r\n\r\n    const pos = this.gridEngine.getPosition(\r\n      this.playerCharacter.definition.key,\r\n    );\r\n    const match = this.portals.find(\r\n      portal => portal.from.x === pos.x && portal.from.y === pos.y,\r\n    );\r\n\r\n    if (match) {\r\n      if (match.dialog) {\r\n        this.createNewDialog(match.dialog);\r\n      }\r\n\r\n      if (match.type === PortalType.SCENE && typeof match.to === 'string') {\r\n        this.dialogDisabled = true;\r\n        this.time.delayedCall(\r\n          1000,\r\n          () => {\r\n            this.cameras.main.fade(2500, 0, 0, 0);\r\n          },\r\n          [],\r\n          this,\r\n        );\r\n\r\n        setTimeout(() => {\r\n          if (!this.playerCharacter) return;\r\n\r\n          this.handleCloseDialog(true);\r\n\r\n          if (this.scene.key === LEVEL_ONE_SCENE_KEY) {\r\n            this.scene.sleep(this.scene.key);\r\n          } else {\r\n            this.scene.stop();\r\n          }\r\n\r\n          this.scene.run(\r\n            match.to as string,\r\n            new SceneConfig(this.uiEventEmitter, this.characterSelector),\r\n          );\r\n          this.uiEventEmitter.emit(HUD_SHUTDOWN_EVENT);\r\n          this.cameras.main.resetFX();\r\n          this.gridEngine.setPosition(this.playerCharacter.definition.key, {\r\n            x: this.playerCharacter.startingX,\r\n            y: this.playerCharacter.startingY,\r\n          });\r\n          this.dialogDisabled = false;\r\n        }, 3500);\r\n      } else if (\r\n        match.type === PortalType.COORDINATE &&\r\n        typeof match.to === 'object'\r\n      ) {\r\n        this.cameras.main.flash(1500, 0, 0, 0);\r\n        this.gridEngine.setPosition(\r\n          this.playerCharacter.definition.key,\r\n          match.to,\r\n          match.layer,\r\n        );\r\n        if (match.face) {\r\n          this.gridEngine.turnTowards(\r\n            this.playerCharacter.definition.key,\r\n            match.face,\r\n          );\r\n        }\r\n      }\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * creates a rectangle geometry suitable for grid engine sizing\r\n   *\r\n   * @param x\r\n   * @param y\r\n   * @returns the rectangle\r\n   */\r\n  private _createTileRectangle = (x: number, y: number): Geom.Rectangle => {\r\n    return new Geom.Rectangle(\r\n      x * SCALED_TILE_SIZE,\r\n      y * SCALED_TILE_SIZE,\r\n      SCALED_TILE_SIZE,\r\n      SCALED_TILE_SIZE,\r\n    );\r\n  };\r\n\r\n  /**\r\n   * toggles movement to the opposite of the current value\r\n   *\r\n   */\r\n  public toggleMovement = () => {\r\n    this.isMovementPaused = !this.isMovementPaused;\r\n  };\r\n\r\n  public loadAllSavedData = () => loadAllSavedData();\r\n\r\n  /**\r\n   * Retrieves saved data if it exists for this level\r\n   */\r\n  public loadLevelSavedData<T>(): T | null {\r\n    return loadLevelSavedData(this.scene.key);\r\n  }\r\n\r\n  /**\r\n   * updates the save for this level\r\n   *\r\n   * @param data\r\n   */\r\n  public saveLevelData<T>(data: T) {\r\n    return saveLevelData(data, this.scene.key);\r\n  }\r\n\r\n  public updateUnlockedFeatures = (\r\n    key: keyof UnlockedFeatures,\r\n    value: boolean,\r\n  ) => {\r\n    this.unlockedFeatures = {\r\n      ...this.unlockedFeatures,\r\n      [key]: value,\r\n    };\r\n\r\n    storeDispatch(overlayActions.updateUnlockedFeatures(this.unlockedFeatures));\r\n\r\n    updateUnlockedFeatures(this.unlockedFeatures);\r\n\r\n    this.updateHudUnlockedFeatures();\r\n\r\n    return this;\r\n  };\r\n\r\n  public loadUnlockedFeatures = () => {\r\n    const unlockedFeatures = loadUnlockedFeatures();\r\n    if (unlockedFeatures) {\r\n      this.unlockedFeatures = {\r\n        ...(unlockedFeatures as UnlockedFeatures),\r\n      };\r\n\r\n      storeDispatch(\r\n        overlayActions.updateUnlockedFeatures(this.unlockedFeatures),\r\n      );\r\n\r\n      this.updateHudUnlockedFeatures();\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  public updateHudUnlockedFeatures = () => {\r\n    this.uiEventEmitter.emit(\r\n      UPDATE_UNLOCKED_FEATURES_EVENT,\r\n      this.unlockedFeatures,\r\n      {\r\n        inventory: () => this.createOverlay(OverlayContentKey.PROJECTS),\r\n        quests: () => this.createOverlay(OverlayContentKey.EXPERIENCES),\r\n        talents: () => this.createOverlay(OverlayContentKey.SKILLS),\r\n      },\r\n    );\r\n\r\n    return this;\r\n  };\r\n\r\n  public removeItem = (coordinates: Coordinates) => {\r\n    const removeIndex = this.items.findIndex(\r\n      item => item.x === coordinates.x && item.y === coordinates.y,\r\n    );\r\n    if (removeIndex === -1) return;\r\n\r\n    const itemToRemove = this.items[removeIndex];\r\n\r\n    if (!itemToRemove) return;\r\n\r\n    this.gridEngine.removeCharacter(\r\n      this._getItemId(itemToRemove.x, itemToRemove.y),\r\n    );\r\n\r\n    if (itemToRemove.sprite) {\r\n      itemToRemove.sprite.destroy();\r\n    }\r\n\r\n    this.items = this.items.filter((_, index) => index !== removeIndex);\r\n  };\r\n\r\n  private _getItemId = (x: number, y: number) =>\r\n    `object_${this.levelNumber}_${x}_${y}`;\r\n\r\n  public setSpeedModifier = (amount: number) => {\r\n    this.speedModifier = amount;\r\n  };\r\n\r\n  public resetBackgroundColor = () => {\r\n    this.cameras.main.setBackgroundColor('#000');\r\n  };\r\n\r\n  public createOverlay = (contentKey: OverlayContentKey) => {\r\n    this.scene.pause();\r\n    store.dispatch(\r\n      overlayActions.overlayOpened({\r\n        contentKey,\r\n        pausedScene: this.scene.key,\r\n      }),\r\n    );\r\n\r\n    return this;\r\n  };\r\n}\r\n","import {\r\n  BASE_PLAYER_SPEED,\r\n  DEFAULT_PORTAL_TEXT,\r\n  LEVEL_FOUR_SCENE_KEY,\r\n  LEVEL_THREE_SCENE_KEY,\r\n  LEVEL_TWO_SCENE_KEY,\r\n} from '../constants';\r\nimport {\r\n  DoorDefinition,\r\n  ItemDefinition,\r\n  LevelCast,\r\n  NpcCharacter,\r\n  PerformInteraction,\r\n  PortalDefinition,\r\n  PortalType,\r\n} from '../types/interactions';\r\nimport {\r\n  gregSpriteDefinition,\r\n  greyCatSpriteDefinition,\r\n  whiteCatSpriteDefinition,\r\n} from '../assetDefinitions/sprites';\r\n\r\nimport { Direction } from 'grid-engine';\r\nimport { LevelOne } from '../scenes/LevelOne';\r\nimport { OverlayContentKey } from '../types/overlayContent';\r\nimport { SpriteDefinition } from '../types/assetDefinitions';\r\n\r\nconst player = {\r\n  startingX: 24,\r\n  startingY: 52,\r\n  startingSpeed: BASE_PLAYER_SPEED,\r\n};\r\n\r\nconst catInteraction: PerformInteraction = params => {\r\n  const text = 'Meow meow!';\r\n\r\n  params.createNewDialog(text);\r\n};\r\n\r\nconst npcs: NpcCharacter[] = [\r\n  {\r\n    definition: gregSpriteDefinition,\r\n    startingX: 24,\r\n    startingY: 43,\r\n    startingSpeed: 4,\r\n    friendlyName: 'Greg',\r\n    handler: params => {\r\n      const text = `Hello and welcome to my game! I am Greg and I am here to help you explore this world. You've already learned how to interact with people and things (space or enter) and you can use the arrow keys to move. Feel free to explore the area but stop by my house before heading out of town!`;\r\n\r\n      params.createNewDialog(text);\r\n    },\r\n    radius: 4,\r\n  },\r\n  {\r\n    definition: greyCatSpriteDefinition,\r\n    startingX: 7,\r\n    startingY: 93,\r\n    startingSpeed: 2,\r\n    friendlyName: 'Khufu',\r\n    handler: params => catInteraction(params),\r\n    radius: 2,\r\n  },\r\n  {\r\n    definition: whiteCatSpriteDefinition,\r\n    startingX: 23,\r\n    startingY: 95,\r\n    startingSpeed: 2,\r\n    friendlyName: 'Dre',\r\n    handler: params => catInteraction(params),\r\n    radius: 2,\r\n  },\r\n];\r\n\r\nconst items: ItemDefinition[] = [\r\n  {\r\n    x: 7,\r\n    y: 91,\r\n    handler: params => {\r\n      (params as LevelOne)\r\n        .updateUnlockedFeatures('talentTree', true)\r\n        .createOverlay(OverlayContentKey.SKILLS);\r\n    },\r\n    friendlyName: `Greg's battlestation`,\r\n  },\r\n  {\r\n    x: 10,\r\n    y: 91,\r\n    handler: params =>\r\n      (params as LevelOne).createOverlay(OverlayContentKey.UNF),\r\n    friendlyName: 'Framed medal',\r\n  },\r\n  {\r\n    x: 12,\r\n    y: 90,\r\n    handler: params => (params as LevelOne).createOverlay(OverlayContentKey.UF),\r\n    friendlyName: 'Trophy',\r\n  },\r\n  {\r\n    x: 20,\r\n    y: 92,\r\n    handler: params =>\r\n      (params as LevelOne).createOverlay(OverlayContentKey.BIO),\r\n    friendlyName: 'Musings',\r\n  },\r\n  {\r\n    x: 23,\r\n    y: 92,\r\n    handler: params => params.createNewDialog('Sweet nectar of the gods!'),\r\n    friendlyName: 'Black gold',\r\n  },\r\n  {\r\n    x: 38,\r\n    y: 76,\r\n    handler: params =>\r\n      params.createNewDialog(\r\n        'You power on the Game Cube. What will you play today, Super Smash Bros: Melee or Mario Kart: Double Dash?',\r\n      ),\r\n    friendlyName: 'Game Cube',\r\n  },\r\n  {\r\n    x: 40,\r\n    y: 75,\r\n    handler: params => params.createNewDialog('A wild Magikarp appears!'),\r\n    friendlyName: 'Fish tank',\r\n  },\r\n  {\r\n    x: 44,\r\n    y: 78,\r\n    handler: params =>\r\n      params.createNewDialog(`I can't even remember what I bought...`),\r\n    friendlyName: 'Packages',\r\n  },\r\n  {\r\n    x: 23,\r\n    y: 34,\r\n    handler: ({ createNewDialog }) =>\r\n      createNewDialog(`LEFT: Greg's house. STRAIGHT: Portal Pond`),\r\n    friendlyName: 'Sign post',\r\n  },\r\n];\r\nconst portals: PortalDefinition[] = [\r\n  {\r\n    from: {\r\n      x: 16,\r\n      y: 9,\r\n    },\r\n    type: PortalType.SCENE,\r\n    to: LEVEL_TWO_SCENE_KEY,\r\n    dialog: DEFAULT_PORTAL_TEXT,\r\n    friendlyName: 'Mysterious Forest',\r\n  },\r\n  {\r\n    from: {\r\n      x: 28,\r\n      y: 9,\r\n    },\r\n    type: PortalType.SCENE,\r\n    to: LEVEL_THREE_SCENE_KEY,\r\n    dialog: DEFAULT_PORTAL_TEXT,\r\n    friendlyName: 'Creepy Catacombs',\r\n  },\r\n  {\r\n    from: {\r\n      x: 40,\r\n      y: 9,\r\n    },\r\n    type: PortalType.SCENE,\r\n    to: LEVEL_FOUR_SCENE_KEY,\r\n    dialog: DEFAULT_PORTAL_TEXT,\r\n    friendlyName: 'rightmost portal',\r\n  },\r\n];\r\nconst doors: DoorDefinition[] = [\r\n  {\r\n    from: [\r\n      { x: 19, y: 29 },\r\n      { x: 20, y: 29 },\r\n    ],\r\n    to: { x: 15, y: 98 },\r\n    friendlyName: 'Go inside',\r\n  },\r\n  {\r\n    from: [{ x: 15, y: 99 }],\r\n    to: { x: 20, y: 31 },\r\n    friendlyName: 'Go outside',\r\n  },\r\n  {\r\n    from: [{ x: 18, y: 91 }],\r\n    to: { x: 46, y: 78 },\r\n    friendlyName: 'Go upstairs',\r\n    face: Direction.DOWN,\r\n  },\r\n  {\r\n    from: [\r\n      { x: 46, y: 77 },\r\n      { x: 46, y: 76 },\r\n    ],\r\n    to: { x: 17, y: 91 },\r\n    friendlyName: 'Go downstairs',\r\n    face: Direction.LEFT,\r\n  },\r\n];\r\n\r\nexport const getLevelOneCast = (definition: SpriteDefinition): LevelCast => ({\r\n  npcs,\r\n  items,\r\n  portals,\r\n  doors,\r\n  player: {\r\n    ...player,\r\n    definition,\r\n  },\r\n});\r\n","import { HUD_INITIALIZED_EVENT, HUD_SHUTDOWN_EVENT } from '../ui/events';\r\nimport { LEVEL_ONE_SCENE_KEY, RANDOM_MOVEMENT_DELAY } from '../constants';\r\nimport {\r\n  gregSpriteDefinition,\r\n  greyCatSpriteDefinition,\r\n  whiteCatSpriteDefinition,\r\n} from '../assetDefinitions/sprites';\r\n\r\nimport { CharacterSelector } from '../characterSelect/characterSelector';\r\nimport { LevelScene } from './LevelScene';\r\nimport { SceneConfig } from '../types/SceneConfig';\r\nimport { getLevelOneCast } from '../cast/levelOne';\r\nimport { levelOneMapDefinition } from '../assetDefinitions/tiles';\r\n\r\nexport class LevelOne extends LevelScene {\r\n  constructor() {\r\n    super(LEVEL_ONE_SCENE_KEY);\r\n    this.levelNumber = 1;\r\n    this.mapDefinition = levelOneMapDefinition;\r\n  }\r\n\r\n  public create = ({ uiEmitter, characterSelector }: SceneConfig) => {\r\n    this.uiEventEmitter = uiEmitter;\r\n    this.characterSelector = characterSelector;\r\n    this.cast = getLevelOneCast(this.characterSelector.getPlayerDefinition());\r\n\r\n    this.setCharacters()\r\n      ?.setItems()\r\n      ?.setPortals()\r\n      ?.setDoors()\r\n      ?.setCamera()\r\n      ?.setMap()\r\n      ?.attachKeyboardListener();\r\n\r\n    this._initializeHUD();\r\n\r\n    this.dialog.init();\r\n\r\n    if (!this.isDev) {\r\n      this.createNewDialog(\r\n        'hint: move using the arrow or WASD keys. interact using space or enter',\r\n      );\r\n    }\r\n\r\n    this.initialCharacterMovement();\r\n    this.scale.on('resize', (gameSize: Phaser.Structs.Size) => {\r\n      this.dialog.updateDimensions(gameSize);\r\n    });\r\n\r\n    this.events.on('wake', () => this._initializeHUD());\r\n  };\r\n\r\n  public update = () => {\r\n    this.useGridPlayerControls().setFacing();\r\n  };\r\n\r\n  public shutdown = () => {\r\n    this.uiEventEmitter.emit(HUD_SHUTDOWN_EVENT);\r\n  };\r\n\r\n  public initialCharacterMovement = () => {\r\n    const greg = this.characters.find(\r\n      c => c.definition!.key === gregSpriteDefinition.key,\r\n    );\r\n    const khufu = this.characters.find(\r\n      c => c.definition!.key === greyCatSpriteDefinition.key,\r\n    );\r\n    const dre = this.characters.find(\r\n      c => c.definition!.key === whiteCatSpriteDefinition.key,\r\n    );\r\n\r\n    // start with greg off screen and running towards player. then go to walking speed\r\n    if (greg) {\r\n      this.gridEngine.moveTo(greg.definition!.key, { x: 24, y: 50 });\r\n      this.gridEngine.setSpeed(greg.definition!.key, 2);\r\n    }\r\n    // start the cats mving around randomly with delay so they aren't synchronized\r\n    if (khufu) {\r\n      this.gridEngine.moveRandomly(\r\n        khufu.definition!.key,\r\n        RANDOM_MOVEMENT_DELAY,\r\n        khufu.startingSpeed,\r\n      );\r\n    }\r\n    if (dre) {\r\n      this.gridEngine.moveRandomly(\r\n        dre.definition!.key,\r\n        RANDOM_MOVEMENT_DELAY + 200,\r\n        dre.startingSpeed,\r\n      );\r\n    }\r\n  };\r\n\r\n  private _initializeHUD = () => {\r\n    this.time.delayedCall(\r\n      100,\r\n      () => {\r\n        this.uiEventEmitter.emit(\r\n          HUD_INITIALIZED_EVENT,\r\n          true,\r\n          false,\r\n          true,\r\n          false,\r\n        );\r\n        this.loadUnlockedFeatures();\r\n      },\r\n      [],\r\n      this,\r\n    );\r\n  };\r\n}\r\n","import {\r\n  BASE_PLAYER_SPEED,\r\n  DEFAULT_PORTAL_TEXT,\r\n  LEVEL_ONE_SCENE_KEY,\r\n} from '../constants';\r\nimport {\r\n  DoorDefinition,\r\n  LevelCast,\r\n  NpcCharacter,\r\n  PlayerCharacter,\r\n  PortalDefinition,\r\n  PortalType,\r\n} from '../types/interactions';\r\nimport {\r\n  LevelThreeDifficulty,\r\n  LevelThreeDifficultySettingsMap,\r\n  LevelThreeEnemiesDefinition,\r\n  LevelThreeItem,\r\n  OrbMap,\r\n  PotionType,\r\n} from '../types/levelThree';\r\nimport {\r\n  goblinSpriteDefinition,\r\n  skeletonOneSpriteDefinition,\r\n  skeletonTwoSpriteDefinition,\r\n  soldierSpriteDefinition,\r\n} from '../assetDefinitions/sprites';\r\n\r\nimport { CharacterSelector } from '../characterSelect/characterSelector';\r\nimport { Coordinates } from '../types/position';\r\nimport { Direction } from 'grid-engine';\r\nimport { LevelThree } from '../scenes/LevelThree';\r\nimport { OverlayContentKey } from '../types/overlayContent';\r\nimport { SpriteDefinition } from '../types/assetDefinitions';\r\n\r\nexport const orbMap: OrbMap = {\r\n  1: {\r\n    location: {\r\n      primary: {\r\n        x: 5,\r\n        y: 10,\r\n      },\r\n      all: [\r\n        {\r\n          x: 4,\r\n          y: 10,\r\n        },\r\n        {\r\n          x: 5,\r\n          y: 10,\r\n        },\r\n        {\r\n          x: 6,\r\n          y: 10,\r\n        },\r\n        {\r\n          x: 4,\r\n          y: 11,\r\n        },\r\n        {\r\n          x: 5,\r\n          y: 11,\r\n        },\r\n        {\r\n          x: 6,\r\n          y: 11,\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  2: {\r\n    location: {\r\n      primary: {\r\n        x: 86,\r\n        y: 16,\r\n      },\r\n      all: [\r\n        {\r\n          x: 85,\r\n          y: 16,\r\n        },\r\n        {\r\n          x: 86,\r\n          y: 16,\r\n        },\r\n        {\r\n          x: 87,\r\n          y: 16,\r\n        },\r\n        {\r\n          x: 85,\r\n          y: 17,\r\n        },\r\n        {\r\n          x: 86,\r\n          y: 17,\r\n        },\r\n        {\r\n          x: 87,\r\n          y: 17,\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  3: {\r\n    location: {\r\n      primary: {\r\n        x: 65,\r\n        y: 32,\r\n      },\r\n      all: [\r\n        {\r\n          x: 64,\r\n          y: 32,\r\n        },\r\n        {\r\n          x: 65,\r\n          y: 32,\r\n        },\r\n        {\r\n          x: 66,\r\n          y: 32,\r\n        },\r\n        {\r\n          x: 64,\r\n          y: 33,\r\n        },\r\n        {\r\n          x: 65,\r\n          y: 33,\r\n        },\r\n        {\r\n          x: 66,\r\n          y: 33,\r\n        },\r\n      ],\r\n    },\r\n  },\r\n};\r\n\r\nconst player = {\r\n  startingX: 4,\r\n  startingY: 47,\r\n  // startingX: 47,\r\n  // startingY: 68,\r\n  startingSpeed: BASE_PLAYER_SPEED,\r\n};\r\n\r\nconst npcs: NpcCharacter[] = [\r\n  {\r\n    definition: soldierSpriteDefinition,\r\n    startingX: 2,\r\n    startingY: 46,\r\n    startingSpeed: 2,\r\n    friendlyName: 'Dungeon difficulty guide',\r\n    handler: params => (params as LevelThree).handleGuideInteraction(),\r\n    facingDirection: Direction.RIGHT,\r\n  },\r\n];\r\n\r\nconst items: LevelThreeItem[] = [\r\n  {\r\n    // p1 health mini 1\r\n    x: 20,\r\n    y: 47,\r\n    handler: params =>\r\n      (params as LevelThree).handlePotionConsume(PotionType.MINI_HEALTH, {\r\n        x: 20,\r\n        y: 47,\r\n      }),\r\n    friendlyName: 'Mini health potion',\r\n  },\r\n  {\r\n    // p1 health mini 2\r\n    x: 24,\r\n    y: 19,\r\n    handler: params =>\r\n      (params as LevelThree).handlePotionConsume(PotionType.MINI_HEALTH, {\r\n        x: 24,\r\n        y: 19,\r\n      }),\r\n    friendlyName: 'Mini health potion',\r\n  },\r\n  {\r\n    // p1 speed potion\r\n    x: 7,\r\n    y: 8,\r\n    handler: params =>\r\n      (params as LevelThree).handlePotionConsume(PotionType.SPEED, {\r\n        x: 7,\r\n        y: 8,\r\n      }),\r\n    friendlyName: 'Speed potion',\r\n  },\r\n  {\r\n    // p2 normal health\r\n    x: 94,\r\n    y: 9,\r\n    handler: params =>\r\n      (params as LevelThree).handlePotionConsume(PotionType.HEALTH, {\r\n        x: 94,\r\n        y: 9,\r\n      }),\r\n    friendlyName: 'Big health potion',\r\n  },\r\n  {\r\n    // p2 mini health (hidden)\r\n    x: 81,\r\n    y: 12,\r\n    handler: params =>\r\n      (params as LevelThree).handlePotionConsume(PotionType.MINI_HEALTH, {\r\n        x: 81,\r\n        y: 12,\r\n      }),\r\n    friendlyName: 'Hidden mini health potion',\r\n  },\r\n  {\r\n    // p2 mini health\r\n    x: 80,\r\n    y: 31,\r\n    handler: params =>\r\n      (params as LevelThree).handlePotionConsume(PotionType.MINI_HEALTH, {\r\n        x: 80,\r\n        y: 31,\r\n      }),\r\n    friendlyName: 'Mini health potion',\r\n  },\r\n  {\r\n    // p2 speed potion\r\n    x: 80,\r\n    y: 23,\r\n    handler: params =>\r\n      (params as LevelThree).handlePotionConsume(PotionType.SPEED, {\r\n        x: 80,\r\n        y: 23,\r\n      }),\r\n    friendlyName: 'Speed potion',\r\n  },\r\n  {\r\n    // p3 mini health 1\r\n    x: 50,\r\n    y: 77,\r\n    handler: params =>\r\n      (params as LevelThree).handlePotionConsume(PotionType.MINI_HEALTH, {\r\n        x: 50,\r\n        y: 77,\r\n      }),\r\n    friendlyName: 'Mini health potion',\r\n  },\r\n  {\r\n    // p3 mini health 2\r\n    x: 43,\r\n    y: 82,\r\n    handler: params =>\r\n      (params as LevelThree).handlePotionConsume(PotionType.MINI_HEALTH, {\r\n        x: 43,\r\n        y: 82,\r\n      }),\r\n    friendlyName: 'Mini health potion',\r\n  },\r\n  {\r\n    // orb 1\r\n    x: orbMap[1].location.primary.x,\r\n    y: orbMap[1].location.primary.y,\r\n    handler: params => (params as LevelThree).handleOrbCollection(1),\r\n    friendlyName: 'First orb',\r\n  },\r\n  {\r\n    // orb 2\r\n    x: orbMap[2].location.primary.x,\r\n    y: orbMap[2].location.primary.y,\r\n    handler: params => (params as LevelThree).handleOrbCollection(2),\r\n    friendlyName: 'Second orb',\r\n  },\r\n  {\r\n    // orb 3\r\n    x: orbMap[3].location.primary.x,\r\n    y: orbMap[3].location.primary.y,\r\n    handler: params => (params as LevelThree).handleOrbCollection(3),\r\n    friendlyName: 'Third orb',\r\n  },\r\n  {\r\n    // featured projects\r\n    x: 82,\r\n    y: 83,\r\n    handler: params => {\r\n      (params as LevelThree)\r\n        .updateUnlockedFeatures('inventory', true)\r\n        .createOverlay(OverlayContentKey.PROJECTS);\r\n    },\r\n    friendlyName: 'Treasure',\r\n  },\r\n  {\r\n    // pile of gold in treasure room\r\n    x: 85,\r\n    y: 86,\r\n    handler: params =>\r\n      params.createNewDialog(\r\n        'Looks like enough gold to buy a rune scimmy on the GE',\r\n      ),\r\n    friendlyName: `25k gold`,\r\n  },\r\n  {\r\n    // skip key\r\n    x: 3,\r\n    y: 40,\r\n    handler: params => (params as LevelThree).handleLevelSkip(),\r\n    friendlyName: 'Old key',\r\n  },\r\n];\r\n\r\nconst portals: PortalDefinition[] = [\r\n  {\r\n    from: {\r\n      x: 48,\r\n      y: 89,\r\n    },\r\n    type: PortalType.COORDINATE,\r\n    to: {\r\n      x: 82,\r\n      y: 86,\r\n    },\r\n    dialog: DEFAULT_PORTAL_TEXT,\r\n    friendlyName: 'treasure',\r\n    layer: 'ground',\r\n    face: Direction.UP,\r\n  },\r\n  {\r\n    from: {\r\n      x: 82,\r\n      y: 81,\r\n    },\r\n    type: PortalType.SCENE,\r\n    to: LEVEL_ONE_SCENE_KEY,\r\n    dialog: DEFAULT_PORTAL_TEXT,\r\n    friendlyName: 'Back to beginning',\r\n  },\r\n];\r\n\r\nconst doors: DoorDefinition[] = [\r\n  {\r\n    // p1 to go downstairs\r\n    from: [\r\n      {\r\n        x: 38,\r\n        y: 29,\r\n      },\r\n      {\r\n        x: 38,\r\n        y: 30,\r\n      },\r\n    ],\r\n    to: { x: 53, y: 9 },\r\n    friendlyName: 'Descend',\r\n    face: Direction.DOWN,\r\n    layer: 'ground',\r\n    inactive: true,\r\n    inactiveDialog: 'You must gather this floors orbs before descending',\r\n    inactiveMoveDir: Direction.RIGHT,\r\n  },\r\n  {\r\n    // p2 to go downstairs\r\n    from: [\r\n      {\r\n        x: 59,\r\n        y: 43,\r\n      },\r\n      {\r\n        x: 60,\r\n        y: 43,\r\n      },\r\n      {\r\n        x: 61,\r\n        y: 43,\r\n      },\r\n    ],\r\n    to: { x: 47, y: 63 },\r\n    friendlyName: 'Descend',\r\n    face: Direction.DOWN,\r\n    layer: 'ground',\r\n    inactive: true,\r\n    inactiveDialog: 'You must gather this floors orbs before descending',\r\n    inactiveMoveDir: Direction.DOWN,\r\n  },\r\n  {\r\n    // p2 to go upstairs\r\n    from: [\r\n      {\r\n        x: 53,\r\n        y: 6,\r\n      },\r\n      {\r\n        x: 54,\r\n        y: 6,\r\n      },\r\n    ],\r\n    to: {\r\n      x: 39,\r\n      y: 31,\r\n    },\r\n    friendlyName: 'Ascend',\r\n    face: Direction.DOWN,\r\n    layer: 'ground',\r\n  },\r\n  {\r\n    // p3 to go upstairs\r\n    from: [\r\n      {\r\n        x: 46,\r\n        y: 60,\r\n      },\r\n      {\r\n        x: 47,\r\n        y: 60,\r\n      },\r\n      {\r\n        x: 48,\r\n        y: 60,\r\n      },\r\n    ],\r\n    to: {\r\n      x: 60,\r\n      y: 46,\r\n    },\r\n    friendlyName: 'Ascend',\r\n    face: Direction.DOWN,\r\n    layer: 'ground',\r\n  },\r\n];\r\n\r\nexport const getLevelThreeCast = (definition: SpriteDefinition): LevelCast => ({\r\n  player: {\r\n    ...player,\r\n    definition,\r\n  },\r\n  npcs,\r\n  items,\r\n  portals,\r\n  doors,\r\n});\r\n\r\nexport const levelThreeDifficultySettingsMap: LevelThreeDifficultySettingsMap = {\r\n  [LevelThreeDifficulty.EASY]: {\r\n    friendlyName: 'Easy',\r\n    message: `I can't blame you, nightmare is pretty hard`,\r\n    healthPotions: {\r\n      mini: 20,\r\n      normal: 50,\r\n    },\r\n    player: {\r\n      speedMod: 1.5,\r\n      speedDuration: 5000,\r\n    },\r\n    enemy: {\r\n      damageMod: 1,\r\n      critsEnabled: false,\r\n      speedMod: 1,\r\n      followEnabled: false,\r\n    },\r\n    fire: {\r\n      speedModifier: 1,\r\n      damageModifier: 1,\r\n    },\r\n  },\r\n  [LevelThreeDifficulty.NORMAL]: {\r\n    friendlyName: 'Normal',\r\n    message: `You want a bit more of a challenge? I respect that.`,\r\n    healthPotions: {\r\n      mini: 20,\r\n      normal: 50,\r\n    },\r\n    player: {\r\n      speedMod: 1.5,\r\n      speedDuration: 6000,\r\n    },\r\n    enemy: {\r\n      damageMod: 2,\r\n      critsEnabled: false,\r\n      speedMod: 1,\r\n      followEnabled: false,\r\n    },\r\n    fire: {\r\n      speedModifier: 0.8,\r\n      damageModifier: 1.5,\r\n    },\r\n  },\r\n  [LevelThreeDifficulty.HEROIC]: {\r\n    friendlyName: 'Heroic',\r\n    message: `Finally, someone who wants a real challenge.`,\r\n    healthPotions: {\r\n      mini: 15,\r\n      normal: 50,\r\n    },\r\n    player: {\r\n      speedMod: 1.5,\r\n      speedDuration: 7000,\r\n    },\r\n    enemy: {\r\n      damageMod: 2,\r\n      critsEnabled: true,\r\n      speedMod: 1,\r\n      followEnabled: false,\r\n    },\r\n    fire: {\r\n      speedModifier: 0.6,\r\n      damageModifier: 2,\r\n    },\r\n  },\r\n  [LevelThreeDifficulty.LEGENDARY]: {\r\n    friendlyName: 'Legendary',\r\n    message: `This is going to be legend - wait for it - dary.`,\r\n    healthPotions: {\r\n      mini: 10,\r\n      normal: 50,\r\n    },\r\n    player: {\r\n      speedMod: 1.5,\r\n      speedDuration: 8000,\r\n    },\r\n    enemy: {\r\n      damageMod: 2,\r\n      critsEnabled: true,\r\n      speedMod: 2,\r\n      followEnabled: false,\r\n    },\r\n    fire: {\r\n      speedModifier: 0.5,\r\n      damageModifier: 3,\r\n    },\r\n  },\r\n  [LevelThreeDifficulty.NIGHTMARE]: {\r\n    friendlyName: 'Nightmare',\r\n    message: `Now your nightmare comes to life.`,\r\n    healthPotions: {\r\n      mini: 10,\r\n      normal: 50,\r\n    },\r\n    player: {\r\n      speedMod: 1.5,\r\n      speedDuration: 10000,\r\n    },\r\n    enemy: {\r\n      damageMod: 2,\r\n      critsEnabled: true,\r\n      speedMod: 2,\r\n      followEnabled: true,\r\n    },\r\n    fire: {\r\n      speedModifier: 0.4,\r\n      damageModifier: 4,\r\n    },\r\n  },\r\n};\r\n\r\nexport const levelThreeFireColumnLocations: Coordinates[] = [\r\n  {\r\n    x: 46,\r\n    y: 78,\r\n  },\r\n  {\r\n    x: 46,\r\n    y: 79,\r\n  },\r\n  {\r\n    x: 46,\r\n    y: 80,\r\n  },\r\n  { x: 49, y: 75 },\r\n  { x: 50, y: 75 },\r\n  { x: 51, y: 75 },\r\n  { x: 44, y: 82 },\r\n  { x: 44, y: 83 },\r\n  { x: 48, y: 85 },\r\n  { x: 48, y: 86 },\r\n  { x: 52, y: 85 },\r\n  { x: 52, y: 86 },\r\n  { x: 52, y: 88 },\r\n  { x: 52, y: 89 },\r\n  { x: 51, y: 88 },\r\n  { x: 51, y: 89 },\r\n];\r\n\r\nexport const levelThreeFireExplosionLocations: Coordinates[] = [\r\n  {\r\n    x: 43,\r\n    y: 78,\r\n  },\r\n  {\r\n    x: 43,\r\n    y: 79,\r\n  },\r\n  {\r\n    x: 43,\r\n    y: 80,\r\n  },\r\n  {\r\n    x: 50,\r\n    y: 85,\r\n  },\r\n  {\r\n    x: 50,\r\n    y: 86,\r\n  },\r\n];\r\n\r\nexport const levelThreeFireBarrierLocations: Coordinates[] = [\r\n  {\r\n    x: 40,\r\n    y: 77,\r\n  },\r\n  {\r\n    x: 41,\r\n    y: 77,\r\n  },\r\n  {\r\n    x: 48,\r\n    y: 77,\r\n  },\r\n  {\r\n    x: 48,\r\n    y: 76,\r\n  },\r\n  {\r\n    x: 48,\r\n    y: 75,\r\n  },\r\n  {\r\n    x: 49,\r\n    y: 74,\r\n  },\r\n  {\r\n    x: 49,\r\n    y: 73,\r\n  },\r\n  {\r\n    x: 50,\r\n    y: 73,\r\n  },\r\n  {\r\n    x: 50,\r\n    y: 72,\r\n  },\r\n  {\r\n    x: 51,\r\n    y: 72,\r\n  },\r\n  {\r\n    x: 52,\r\n    y: 72,\r\n  },\r\n  {\r\n    x: 52,\r\n    y: 73,\r\n  },\r\n  {\r\n    x: 52,\r\n    y: 75,\r\n  },\r\n  {\r\n    x: 52,\r\n    y: 76,\r\n  },\r\n  {\r\n    x: 52,\r\n    y: 77,\r\n  },\r\n  {\r\n    x: 51,\r\n    y: 84,\r\n  },\r\n  {\r\n    x: 50,\r\n    y: 84,\r\n  },\r\n  {\r\n    x: 49,\r\n    y: 84,\r\n  },\r\n  {\r\n    x: 48,\r\n    y: 84,\r\n  },\r\n  {\r\n    x: 48,\r\n    y: 83,\r\n  },\r\n  {\r\n    x: 47,\r\n    y: 82,\r\n  },\r\n  {\r\n    x: 46,\r\n    y: 81,\r\n  },\r\n  {\r\n    x: 45,\r\n    y: 81,\r\n  },\r\n  {\r\n    x: 44,\r\n    y: 81,\r\n  },\r\n  {\r\n    x: 43,\r\n    y: 81,\r\n  },\r\n  {\r\n    x: 42,\r\n    y: 81,\r\n  },\r\n  {\r\n    x: 42,\r\n    y: 82,\r\n  },\r\n  {\r\n    x: 42,\r\n    y: 83,\r\n  },\r\n  {\r\n    x: 52,\r\n    y: 87,\r\n  },\r\n  {\r\n    x: 51,\r\n    y: 87,\r\n  },\r\n  {\r\n    x: 50,\r\n    y: 87,\r\n  },\r\n  {\r\n    x: 49,\r\n    y: 87,\r\n  },\r\n  {\r\n    x: 48,\r\n    y: 87,\r\n  },\r\n  {\r\n    x: 47,\r\n    y: 87,\r\n  },\r\n  {\r\n    x: 47,\r\n    y: 88,\r\n  },\r\n  {\r\n    x: 47,\r\n    y: 89,\r\n  },\r\n];\r\n\r\nexport const levelThreeEnemiesDefinition: LevelThreeEnemiesDefinition = {\r\n  options: [\r\n    goblinSpriteDefinition,\r\n    skeletonOneSpriteDefinition,\r\n    skeletonTwoSpriteDefinition,\r\n  ],\r\n  locations: [\r\n    {\r\n      x: 17,\r\n      y: 41,\r\n    },\r\n    {\r\n      x: 20,\r\n      y: 41,\r\n    },\r\n    {\r\n      x: 24,\r\n      y: 41,\r\n    },\r\n    {\r\n      x: 15,\r\n      y: 28,\r\n    },\r\n    {\r\n      x: 15,\r\n      y: 22,\r\n    },\r\n    {\r\n      x: 25,\r\n      y: 28,\r\n    },\r\n    {\r\n      x: 25,\r\n      y: 22,\r\n    },\r\n    {\r\n      x: 5,\r\n      y: 20,\r\n    },\r\n    {\r\n      x: 38,\r\n      y: 37,\r\n    },\r\n    {\r\n      x: 65,\r\n      y: 10,\r\n    },\r\n    {\r\n      x: 72,\r\n      y: 10,\r\n    },\r\n    {\r\n      x: 85,\r\n      y: 11,\r\n    },\r\n    {\r\n      x: 81,\r\n      y: 16,\r\n    },\r\n    {\r\n      x: 86,\r\n      y: 21,\r\n    },\r\n    {\r\n      x: 92,\r\n      y: 17,\r\n    },\r\n    {\r\n      x: 93,\r\n      y: 33,\r\n    },\r\n    {\r\n      x: 73,\r\n      y: 32,\r\n    },\r\n    {\r\n      x: 79,\r\n      y: 40,\r\n    },\r\n    {\r\n      x: 70,\r\n      y: 46,\r\n    },\r\n  ],\r\n  startingSpeed: 2,\r\n  radius: 4,\r\n};\r\n","import {\r\n  ADD_BUFF_EVENT,\r\n  ADD_DEBUFF_EVENT,\r\n  HUD_INITIALIZED_EVENT,\r\n  HUD_SHUTDOWN_EVENT,\r\n  UPDATE_CENTER_TEXT_EVENT,\r\n  UPDATE_HEALTH_EVENT,\r\n  UPDATE_TOP_CENTER_TEXT_EVENT,\r\n  UPDATE_TOP_LEFT_TEXT_EVENT,\r\n} from '../ui/events';\r\nimport {\r\n  LEVEL_THREE_BACKGROUND_COLOR,\r\n  LEVEL_THREE_BUFF_DEBUFF_DURATION,\r\n  LEVEL_THREE_FIRE_ANIMATION_REPEAT_DELAY,\r\n  LEVEL_THREE_FIRE_BASE_DAMAGE,\r\n  LEVEL_THREE_FIRE_INVULNERABILITY_PERIOD,\r\n  LEVEL_THREE_SCENE_KEY,\r\n  ORB_LAYER_NAME,\r\n  POTION_LAYER_NAME,\r\n} from '../constants';\r\nimport {\r\n  LevelThreeDifficulty,\r\n  LevelThreeEnemiesDefinition,\r\n  LevelThreeFireType,\r\n  PotionType,\r\n} from '../types/levelThree';\r\nimport {\r\n  getLevelThreeCast,\r\n  levelThreeDifficultySettingsMap,\r\n  levelThreeEnemiesDefinition,\r\n  levelThreeFireBarrierLocations,\r\n  levelThreeFireColumnLocations,\r\n  levelThreeFireExplosionLocations,\r\n  orbMap,\r\n} from '../cast/levelThree';\r\nimport {\r\n  levelThreeActions,\r\n  levelThreeSelectors,\r\n} from '../redux/levelThreeSlice';\r\nimport {\r\n  levelThreeFireBarrierDefinition,\r\n  levelThreeFireExplosionDefinition,\r\n  levelthreeFireColumnDefinition,\r\n} from '../assetDefinitions/sprites';\r\nimport { store, storeDispatch } from '../redux/store';\r\n\r\nimport { CharacterData } from 'grid-engine';\r\nimport { Coordinates } from '../types/position';\r\nimport { LevelScene } from './LevelScene';\r\nimport { SceneConfig } from '../types/SceneConfig';\r\nimport { levelThreeMapDefinition } from '../assetDefinitions/tiles';\r\nimport { showConfirm } from '../helpers/sweetAlerts';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nexport class LevelThree extends LevelScene {\r\n  private _justHitByEnemy = false;\r\n\r\n  constructor() {\r\n    super(LEVEL_THREE_SCENE_KEY);\r\n    this.levelNumber = 3;\r\n    this.mapDefinition = levelThreeMapDefinition;\r\n  }\r\n\r\n  public create = ({ uiEmitter, characterSelector }: SceneConfig) => {\r\n    this.uiEventEmitter = uiEmitter;\r\n    this.characterSelector = characterSelector;\r\n    this.cast = getLevelThreeCast(this.characterSelector.getPlayerDefinition());\r\n\r\n    this.setCharacters()!\r\n      .setItems()!\r\n      .setPortals()!\r\n      .setDoors()!\r\n      .setCamera()!\r\n      .setMap()!\r\n      .setPortals()!\r\n      .setCharacterLayerTransitions()!\r\n      ._setBackground()!\r\n      ._setFireBarriers()!\r\n      ._setFireColumns()!\r\n      ._setFireExplosions()!\r\n      ._setFireCollisionListeners()!\r\n      ._initializeEnemyCharacters()!\r\n      .attachKeyboardListener();\r\n\r\n    this._initializeHUD();\r\n\r\n    this.dialog.init();\r\n\r\n    this.handleCloseDialog();\r\n\r\n    this.scale.on('resize', (gameSize: Phaser.Structs.Size) => {\r\n      this.dialog.updateDimensions(gameSize);\r\n    });\r\n\r\n    this._showStarterDialog();\r\n  };\r\n\r\n  public update = () => {\r\n    this.useGridPlayerControls()\r\n      ?.setFacing()\r\n      ?._handlePlayerEnemyMovement();\r\n  };\r\n\r\n  public shutdown = () => {\r\n    this.uiEventEmitter.emit(HUD_SHUTDOWN_EVENT);\r\n  };\r\n\r\n  public handlePotionConsume = (type: PotionType, coordinates: Coordinates) => {\r\n    let taken = false;\r\n    switch (type) {\r\n      case PotionType.MINI_HEALTH:\r\n      case PotionType.HEALTH:\r\n        taken = this._takeHealthPotion(type);\r\n        break;\r\n      case PotionType.SPEED:\r\n        taken = this._takeSpeedPotion();\r\n        break;\r\n    }\r\n\r\n    if (!taken) {\r\n      return;\r\n    }\r\n\r\n    this.map?.removeTileAt(\r\n      coordinates.x,\r\n      coordinates.y,\r\n      true,\r\n      true,\r\n      POTION_LAYER_NAME,\r\n    );\r\n    this.removeItem(coordinates);\r\n  };\r\n\r\n  public handleOrbCollection = (orb: 1 | 2 | 3) => {\r\n    this.createNewDialog('You absorb the power of the magical orb...');\r\n\r\n    const {\r\n      location: { primary, all },\r\n    } = orbMap[orb];\r\n\r\n    all.forEach(tile =>\r\n      this.map?.removeTileAt(tile.x, tile.y, true, true, ORB_LAYER_NAME),\r\n    );\r\n\r\n    this.removeItem(primary);\r\n\r\n    storeDispatch(levelThreeActions.orbCollected(orb));\r\n\r\n    this._updateOrbText();\r\n\r\n    this._unlockStairs();\r\n  };\r\n\r\n  private _takeHealthPotion = (\r\n    type: PotionType.MINI_HEALTH | PotionType.HEALTH,\r\n  ) => {\r\n    const difficulty = levelThreeSelectors.selectLevelThreeDifficultySettings(\r\n      store.getState(),\r\n    );\r\n    const { healthPotions } = levelThreeDifficultySettingsMap[difficulty];\r\n    const health = levelThreeSelectors.selectLevelThreeHealth(store.getState());\r\n    if (health === 100) {\r\n      this.uiEventEmitter.emit(\r\n        UPDATE_TOP_CENTER_TEXT_EVENT,\r\n        'You already have full health!',\r\n      );\r\n      this.time.delayedCall(\r\n        2000,\r\n        () => this.uiEventEmitter.emit(UPDATE_TOP_CENTER_TEXT_EVENT),\r\n        [],\r\n        this,\r\n      );\r\n      return false;\r\n    }\r\n\r\n    const potionHealthValue =\r\n      type === PotionType.MINI_HEALTH\r\n        ? healthPotions.mini\r\n        : healthPotions.normal;\r\n\r\n    this._displayBuff(`+${potionHealthValue} hp`);\r\n    storeDispatch(levelThreeActions.healthChanged(potionHealthValue));\r\n    const currentHealth = levelThreeSelectors.selectLevelThreeHealth(\r\n      store.getState(),\r\n    );\r\n    this.uiEventEmitter.emit(UPDATE_HEALTH_EVENT, currentHealth);\r\n    return true;\r\n  };\r\n\r\n  private _takeSpeedPotion = () => {\r\n    const baseModifier = 1;\r\n\r\n    const difficulty = levelThreeSelectors.selectLevelThreeDifficultySettings(\r\n      store.getState(),\r\n    );\r\n    const {\r\n      player: { speedMod, speedDuration },\r\n    } = levelThreeDifficultySettingsMap[difficulty];\r\n\r\n    this.setSpeedModifier(speedMod);\r\n    this._displayBuff(`${speedMod}x speed for ${speedDuration / 1000} seconds`);\r\n    this.time.delayedCall(\r\n      speedDuration,\r\n      () => {\r\n        this.setSpeedModifier(baseModifier);\r\n        this._displayDebuff('-speed buff');\r\n      },\r\n      [],\r\n      this,\r\n    );\r\n    return true;\r\n  };\r\n\r\n  private _displayBuff = (value: string) => {\r\n    this.uiEventEmitter.emit(\r\n      ADD_BUFF_EVENT,\r\n      value,\r\n      LEVEL_THREE_BUFF_DEBUFF_DURATION,\r\n    );\r\n  };\r\n\r\n  private _displayDebuff = (value: string) => {\r\n    this.uiEventEmitter.emit(\r\n      ADD_DEBUFF_EVENT,\r\n      value,\r\n      LEVEL_THREE_BUFF_DEBUFF_DURATION,\r\n    );\r\n  };\r\n\r\n  private _unlockStairs = () => {\r\n    const orbs = levelThreeSelectors.selectLevelThreeOrbs(store.getState());\r\n    const firstStairActive = orbs[1];\r\n    const secondStairActive = orbs[2] && orbs[2];\r\n\r\n    const updatedDoors = [...this.doors];\r\n    if (firstStairActive) {\r\n      updatedDoors[0].inactive = false;\r\n    }\r\n\r\n    if (secondStairActive) {\r\n      updatedDoors[1].inactive = false;\r\n    }\r\n\r\n    this.doors = [...updatedDoors];\r\n    this.setDoors();\r\n  };\r\n\r\n  private _setBackground = () => {\r\n    this.cameras.main.setBackgroundColor(LEVEL_THREE_BACKGROUND_COLOR);\r\n    return this;\r\n  };\r\n\r\n  private _setFireColumns = () => {\r\n    const {\r\n      key,\r\n      scale,\r\n      frameCount,\r\n      frameRate,\r\n    } = levelthreeFireColumnDefinition;\r\n    const animKey = `${key}-animation`;\r\n\r\n    levelThreeFireColumnLocations.forEach(position => {\r\n      const sprite = this.add\r\n        .sprite(0, 0, key)\r\n        .setScale(scale)\r\n        .setVisible(true);\r\n\r\n      this._createDamagingFireAnimation(key, animKey, frameRate, {\r\n        end: frameCount - 1,\r\n      });\r\n\r\n      const animationLengthMs = (frameCount / frameRate) * 1000;\r\n\r\n      sprite\r\n        .on('animationstart', () =>\r\n          this._onFireAnimationStart(\r\n            sprite,\r\n            animationLengthMs,\r\n            LevelThreeFireType.COLUMN,\r\n          ),\r\n        )\r\n        .on('animationrepeat', () =>\r\n          this._onFireAnimationRepeat(\r\n            sprite,\r\n            animationLengthMs,\r\n            position,\r\n            LevelThreeFireType.COLUMN,\r\n          ),\r\n        )\r\n        .play(animKey);\r\n\r\n      this.gridEngine.addCharacter({\r\n        id: key,\r\n        startPosition: position,\r\n        sprite,\r\n        collides: false,\r\n      });\r\n    });\r\n\r\n    return this;\r\n  };\r\n\r\n  private _setFireExplosions = () => {\r\n    const {\r\n      key,\r\n      scale,\r\n      frameCount,\r\n      frameRate,\r\n    } = levelThreeFireExplosionDefinition;\r\n    const animKey = `${key}-animation`;\r\n\r\n    levelThreeFireExplosionLocations.forEach(position => {\r\n      const sprite = this.add\r\n        .sprite(0, 0, key)\r\n        .setScale(scale)\r\n        .setVisible(true);\r\n\r\n      this._createDamagingFireAnimation(key, animKey, frameRate, {\r\n        frames: [0, 2, 3, 5],\r\n      });\r\n\r\n      const animationLengthMs = (frameCount / frameRate) * 1000;\r\n\r\n      sprite\r\n        .on('animationstart', () =>\r\n          this._onFireAnimationStart(\r\n            sprite,\r\n            animationLengthMs,\r\n            LevelThreeFireType.EXPLOSION,\r\n          ),\r\n        )\r\n        .on('animationrepeat', () =>\r\n          this._onFireAnimationRepeat(\r\n            sprite,\r\n            animationLengthMs,\r\n            position,\r\n            LevelThreeFireType.EXPLOSION,\r\n          ),\r\n        )\r\n        .play(animKey);\r\n\r\n      this.gridEngine.addCharacter({\r\n        id: key,\r\n        startPosition: position,\r\n        sprite,\r\n        collides: false,\r\n      });\r\n    });\r\n\r\n    return this;\r\n  };\r\n\r\n  private _setFireBarriers = () => {\r\n    const {\r\n      key,\r\n      scale,\r\n      frameCount,\r\n      frameRate,\r\n      offsetY,\r\n    } = levelThreeFireBarrierDefinition;\r\n    const animKey = `${key}-animation`;\r\n\r\n    levelThreeFireBarrierLocations.forEach(position => {\r\n      const sprite = this.add\r\n        .sprite(0, 0, key)\r\n        .setScale(scale)\r\n        .setVisible(true);\r\n\r\n      this._createPassiveFireAnimation(key, animKey, frameRate, {\r\n        end: frameCount - 1,\r\n      });\r\n\r\n      sprite.play(animKey);\r\n\r\n      this.gridEngine.addCharacter({\r\n        id: key,\r\n        startPosition: position,\r\n        sprite,\r\n        collides: true,\r\n        offsetY,\r\n      });\r\n    });\r\n\r\n    return this;\r\n  };\r\n\r\n  private _onFireAnimationStart = (\r\n    sprite: Phaser.GameObjects.Sprite,\r\n    animationLength: number,\r\n    type: LevelThreeFireType,\r\n  ) => {\r\n    sprite.setVisible(true);\r\n    storeDispatch(levelThreeActions.activeFiresChanged({ type, active: true }));\r\n    this.time.delayedCall(\r\n      animationLength,\r\n      () => sprite.setVisible(false),\r\n      [],\r\n      this,\r\n    );\r\n  };\r\n\r\n  private _onFireAnimationRepeat = (\r\n    sprite: Phaser.GameObjects.Sprite,\r\n    animationLength: number,\r\n    position: Coordinates,\r\n    type: LevelThreeFireType,\r\n  ) => {\r\n    storeDispatch(levelThreeActions.activeFiresChanged({ type, active: true }));\r\n    sprite.setVisible(true);\r\n\r\n    if (this._isStandingInActiveFire(position, type)) {\r\n      this._dealFireDamage();\r\n    }\r\n\r\n    // do damage to the player if they are in it,\r\n    // but only once per LEVEL_THREE_FIRE_INVULNERABILITY_PERIOD\r\n    const loop = this.time.addEvent({\r\n      loop: true,\r\n      delay: LEVEL_THREE_FIRE_INVULNERABILITY_PERIOD,\r\n      callbackScope: this,\r\n      callback: () => {\r\n        if (this._isStandingInActiveFire(position, type)) {\r\n          this._dealFireDamage();\r\n        }\r\n      },\r\n    });\r\n\r\n    this.time.delayedCall(\r\n      animationLength,\r\n      () => {\r\n        loop.remove();\r\n        //clearInterval(interval);\r\n        storeDispatch(\r\n          levelThreeActions.activeFiresChanged({ type, active: false }),\r\n        );\r\n        sprite.setVisible(false);\r\n      },\r\n      [],\r\n      this,\r\n    );\r\n  };\r\n\r\n  private _createDamagingFireAnimation = (\r\n    key: string,\r\n    animKey: string,\r\n    frameRate: number,\r\n    frameConfig: Phaser.Types.Animations.GenerateFrameNumbers,\r\n  ) => {\r\n    const difficulty = levelThreeSelectors.selectLevelThreeDifficultySettings(\r\n      store.getState(),\r\n    );\r\n    const {\r\n      fire: { speedModifier },\r\n    } = levelThreeDifficultySettingsMap[difficulty];\r\n\r\n    this.anims.create({\r\n      key: animKey,\r\n      frameRate,\r\n      frames: this.anims.generateFrameNumbers(key, frameConfig),\r\n      repeat: -1,\r\n      // delay changes based on current difficulty\r\n      repeatDelay: LEVEL_THREE_FIRE_ANIMATION_REPEAT_DELAY * speedModifier,\r\n    });\r\n\r\n    return this;\r\n  };\r\n\r\n  private _createPassiveFireAnimation = (\r\n    key: string,\r\n    animKey: string,\r\n    frameRate: number,\r\n    frameConfig: Phaser.Types.Animations.GenerateFrameNumbers,\r\n  ) => {\r\n    this.anims.create({\r\n      key: animKey,\r\n      frameRate,\r\n      frames: this.anims.generateFrameNumbers(key, frameConfig),\r\n      repeat: -1,\r\n    });\r\n\r\n    return this;\r\n  };\r\n\r\n  private _dealFireDamage = () => {\r\n    const difficulty = levelThreeSelectors.selectLevelThreeDifficultySettings(\r\n      store.getState(),\r\n    );\r\n    const {\r\n      fire: { damageModifier },\r\n    } = levelThreeDifficultySettingsMap[difficulty];\r\n\r\n    this._dealDamage(LEVEL_THREE_FIRE_BASE_DAMAGE * damageModifier);\r\n  };\r\n\r\n  private _dealDamage = (amount: number, isCrit: boolean = false) => {\r\n    const currTime = new Date();\r\n    const prevTime = levelThreeSelectors.selectLevelThreeLastDamageTimestamp(\r\n      store.getState(),\r\n    );\r\n    const difference = currTime.getTime() - new Date(prevTime!).getTime(); // be fair and only damage at most every 1 second\r\n\r\n    if (difference < LEVEL_THREE_FIRE_INVULNERABILITY_PERIOD) {\r\n      return;\r\n    }\r\n\r\n    this._displayDebuff(`-${amount}hp${isCrit ? ' (critical hit)' : ''}`);\r\n    storeDispatch(levelThreeActions.healthChanged(-amount));\r\n    const currentHealth = levelThreeSelectors.selectLevelThreeHealth(\r\n      store.getState(),\r\n    );\r\n    this.uiEventEmitter.emit(UPDATE_HEALTH_EVENT, currentHealth);\r\n    if (currentHealth <= 0) {\r\n      this._handleDeath();\r\n    }\r\n    this.time.delayedCall(\r\n      LEVEL_THREE_FIRE_INVULNERABILITY_PERIOD,\r\n      () => (this._justHitByEnemy = false),\r\n      [],\r\n      this,\r\n    );\r\n  };\r\n\r\n  private _setFireCollisionListeners = () => {\r\n    if (!this.playerCharacter) return;\r\n\r\n    this.gridEngine\r\n      .steppedOn(\r\n        [this.playerCharacter.definition.key],\r\n        levelThreeFireColumnLocations,\r\n      )\r\n      .subscribe(({ enterTile }) => {\r\n        storeDispatch(\r\n          levelThreeActions.standingInFireChanged({\r\n            x: enterTile.x,\r\n            y: enterTile.y,\r\n          }),\r\n        );\r\n        const isActive = levelThreeSelectors.selectLevelThreeActiveFires(\r\n          store.getState(),\r\n        );\r\n\r\n        if (isActive[LevelThreeFireType.COLUMN]) {\r\n          this._dealFireDamage();\r\n        }\r\n      });\r\n\r\n    this.gridEngine\r\n      .steppedOn(\r\n        [this.playerCharacter.definition.key],\r\n        levelThreeFireExplosionLocations,\r\n      )\r\n      .subscribe(({ enterTile }) => {\r\n        storeDispatch(\r\n          levelThreeActions.standingInFireChanged({ ...enterTile }),\r\n        );\r\n        const isActive = levelThreeSelectors.selectLevelThreeActiveFires(\r\n          store.getState(),\r\n        );\r\n        if (isActive[LevelThreeFireType.EXPLOSION]) {\r\n          this._dealFireDamage();\r\n        }\r\n      });\r\n\r\n    this.gridEngine.positionChangeStarted().subscribe(({ charId }) => {\r\n      if (!this.playerCharacter) return;\r\n      if (charId === this.playerCharacter.definition.key) {\r\n        storeDispatch(levelThreeActions.standingInFireChanged(undefined));\r\n      }\r\n    });\r\n\r\n    return this;\r\n  };\r\n\r\n  private _isStandingInActiveFire = (\r\n    position: Coordinates,\r\n    type: LevelThreeFireType,\r\n  ) => {\r\n    const isActive = levelThreeSelectors.selectLevelThreeActiveFires(\r\n      store.getState(),\r\n    );\r\n    const location = levelThreeSelectors.selectLevelThreeStandingInFire(\r\n      store.getState(),\r\n    );\r\n\r\n    return (\r\n      isActive[type] &&\r\n      location &&\r\n      location.x === position.x &&\r\n      location.y === position.y\r\n    );\r\n  };\r\n\r\n  private _handleDeath = () => {\r\n    this.uiEventEmitter.emit(UPDATE_CENTER_TEXT_EVENT, 'You died!');\r\n\r\n    const playerIsDead = levelThreeSelectors.selectLevelThreePlayerIsDead(\r\n      store.getState(),\r\n    );\r\n\r\n    if (playerIsDead) return;\r\n    storeDispatch(levelThreeActions.levelRestarted());\r\n    this._restartLevel();\r\n  };\r\n\r\n  private _initializeEnemyCharacters = () => {\r\n    const enemies: CharacterData[] = this._createEnemyGridEngineCharacters(\r\n      levelThreeEnemiesDefinition,\r\n    );\r\n\r\n    const keys: string[] = [];\r\n\r\n    enemies.forEach(e => {\r\n      this.gridEngine.addCharacter(e);\r\n      this.gridEngine.moveRandomly(e.id, 1000 + 1000 * Math.random() * 1, 4);\r\n      keys.push(e.id);\r\n    });\r\n\r\n    storeDispatch(levelThreeActions.enemiesChanged(keys));\r\n    return this;\r\n  };\r\n\r\n  private _createEnemyGridEngineCharacters = (\r\n    enemiesDefinition: LevelThreeEnemiesDefinition,\r\n  ) => {\r\n    const { options, startingSpeed, locations } = enemiesDefinition;\r\n    const difficulty = levelThreeSelectors.selectLevelThreeDifficultySettings(\r\n      store.getState(),\r\n    );\r\n    const { enemy } = levelThreeDifficultySettingsMap[difficulty];\r\n\r\n    return locations.map(l => {\r\n      const randomCharacterNumber = Math.floor(Math.random() * options.length);\r\n      const definition = options[randomCharacterNumber];\r\n      const sprite = this.add\r\n        .sprite(0, 0, definition.key)\r\n        .setScale(definition.scale);\r\n\r\n      return {\r\n        id: uuidv4(),\r\n        startPosition: {\r\n          x: l.x,\r\n          y: l.y,\r\n        },\r\n        speed: startingSpeed * enemy.speedMod,\r\n        sprite,\r\n        walkingAnimationMapping: definition.walkingAnimationMapping,\r\n      };\r\n    });\r\n  };\r\n\r\n  private _handlePlayerEnemyMovement = () => {\r\n    if (this._justHitByEnemy || !this.playerCharacter) return;\r\n\r\n    const { definition } = this.playerCharacter;\r\n    const enemyIds = levelThreeSelectors.selectLevelThreeEnemies(\r\n      store.getState(),\r\n    );\r\n    if ((enemyIds ?? []).length === 0) return;\r\n\r\n    const enemyPositions = enemyIds.map(id => ({\r\n      id,\r\n      pos: this.gridEngine.getPosition(id),\r\n    }));\r\n\r\n    const playerPos = this.gridEngine.getPosition(definition.key);\r\n\r\n    if (\r\n      enemyPositions.some(enemyPos =>\r\n        this._isCharacterAdjacent(playerPos, enemyPos.pos),\r\n      )\r\n    ) {\r\n      const difficulty = levelThreeSelectors.selectLevelThreeDifficultySettings(\r\n        store.getState(),\r\n      );\r\n      const { enemy } = levelThreeDifficultySettingsMap[difficulty];\r\n      let damage = 10 * enemy.damageMod;\r\n      let isCrit = false;\r\n      if (enemy.critsEnabled) {\r\n        const random = Math.random() * 100;\r\n        if (random <= 5) {\r\n          damage *= 1.5;\r\n          isCrit = true;\r\n        }\r\n      }\r\n      this._dealDamage(damage, isCrit);\r\n      this._justHitByEnemy = true;\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  private _isCharacterAdjacent = (\r\n    player: Coordinates,\r\n    character: Coordinates,\r\n  ) => {\r\n    const isAbove = player.x === character.x && player.y === character.y + 1;\r\n    const isBelow = player.x === character.x && player.y === character.y - 1;\r\n    const isLeft = player.x === character.x - 1 && player.y === character.y;\r\n    const isRight = player.x === character.x + 1 && player.y === character.y;\r\n    return isAbove || isBelow || isLeft || isRight;\r\n  };\r\n\r\n  public handleLevelSkip = () => {\r\n    this.scene.pause();\r\n    showConfirm(\r\n      'Collecting this key will skip all the fun stuff on this level and take you straight to the treasure room.',\r\n      this._onConfirmSkip,\r\n      () => this.scene.resume(),\r\n    );\r\n  };\r\n\r\n  private _onConfirmSkip = () => {\r\n    if (!this.playerCharacter) return;\r\n\r\n    this.createNewDialog('You pick up the old key...');\r\n    this.cameras.main.flash(2500, 0, 0, 0);\r\n    this.gridEngine.setPosition(\r\n      this.playerCharacter.definition.key,\r\n      { x: 82, y: 86 },\r\n      'ground',\r\n    );\r\n  };\r\n\r\n  public handleGuideInteraction = () => {\r\n    let newDifficulty: LevelThreeDifficulty;\r\n    const currDifficulty = levelThreeSelectors.selectLevelThreeDifficultySettings(\r\n      store.getState(),\r\n    );\r\n\r\n    if (currDifficulty === LevelThreeDifficulty.NIGHTMARE) {\r\n      newDifficulty = LevelThreeDifficulty.EASY;\r\n    } else {\r\n      newDifficulty = currDifficulty + 1;\r\n    }\r\n\r\n    this.scene.pause();\r\n    showConfirm(\r\n      'This will increase the level difficulty and restart the level',\r\n      () => this._onDifficultyChangeConfirmed(newDifficulty),\r\n      () => this.scene.resume(),\r\n    );\r\n  };\r\n\r\n  private _onDifficultyChangeConfirmed = (difficulty: LevelThreeDifficulty) => {\r\n    const callback = () => {\r\n      this.uiEventEmitter.emit(\r\n        UPDATE_CENTER_TEXT_EVENT,\r\n        `${levelThreeDifficultySettingsMap[difficulty].friendlyName} difficulty selected`,\r\n      );\r\n      storeDispatch(levelThreeActions.difficultyChanged(difficulty));\r\n      this._restartLevel();\r\n    };\r\n    this.createNewDialog(\r\n      levelThreeDifficultySettingsMap[difficulty].message,\r\n      callback,\r\n    );\r\n  };\r\n\r\n  private _restartLevel = () => {\r\n    const cameraFade = 2500;\r\n    const cameraFadeInterval = 1000;\r\n    this.isMovementPaused = true;\r\n    setTimeout(() => {\r\n      this.cameras.main.fade(cameraFade, 0, 0, 0);\r\n    }, cameraFadeInterval);\r\n    setTimeout(() => {\r\n      this.scene.restart();\r\n      this.uiEventEmitter.emit(HUD_SHUTDOWN_EVENT);\r\n      this.isMovementPaused = false;\r\n    }, cameraFade + cameraFadeInterval);\r\n  };\r\n\r\n  private _showDifficultyText = () => {\r\n    const difficulty = levelThreeSelectors.selectLevelThreeDifficultySettings(\r\n      store.getState(),\r\n    );\r\n    const text = `${levelThreeDifficultySettingsMap[difficulty].friendlyName}`;\r\n    this.uiEventEmitter.emit(UPDATE_TOP_LEFT_TEXT_EVENT, text);\r\n\r\n    return this;\r\n  };\r\n\r\n  private _updateOrbText = () => {\r\n    const orbs = levelThreeSelectors.selectLevelThreeOrbs(store.getState());\r\n\r\n    const count = Object.keys(orbs).reduce(\r\n      (prevValue, currKey) => (orbs[currKey] ? prevValue + 1 : prevValue),\r\n      0,\r\n    );\r\n    this.uiEventEmitter.emit(UPDATE_TOP_CENTER_TEXT_EVENT, `${count}/3 orbs`);\r\n\r\n    return this;\r\n  };\r\n\r\n  private _showStarterDialog = () => {\r\n    if (this.isDev) return;\r\n    const content = `Welcome to the Creepy Catacombs. Your goal here is simple: survive. To escape you will need to collect the three orbs scattered throughout this cursed place. But beware: there are rumors of skeletons who cause harm just by being in their presence...`;\r\n\r\n    this.createNewDialog(content);\r\n\r\n    return this;\r\n  };\r\n\r\n  private _initializeHUD = () => {\r\n    this.time.delayedCall(\r\n      100,\r\n      () => {\r\n        this.uiEventEmitter.emit(HUD_INITIALIZED_EVENT, true, true, true, true);\r\n        this.loadUnlockedFeatures();\r\n        this.uiEventEmitter.emit(UPDATE_HEALTH_EVENT, 100);\r\n        this._showDifficultyText()._updateOrbText();\r\n      },\r\n      [],\r\n      this,\r\n    );\r\n  };\r\n}\r\n","import {\r\n  BASE_PLAYER_SPEED,\r\n  DEFAULT_PORTAL_TEXT,\r\n  LEVEL_ONE_SCENE_KEY,\r\n} from '../constants';\r\nimport { FireNumber, LevelTwoItem, PillarTwoSolution } from '../types/levelTwo';\r\nimport {\r\n  LevelCast,\r\n  NpcCharacter,\r\n  PlayerCharacter,\r\n  PortalDefinition,\r\n  PortalType,\r\n} from '../types/interactions';\r\n\r\nimport { CharacterSelector } from '../characterSelect/characterSelector';\r\nimport { LevelTwo } from '../scenes/LevelTwo';\r\nimport { OverlayContentKey } from '../types/overlayContent';\r\nimport { SpriteDefinition } from '../types/assetDefinitions';\r\nimport { gregSpriteDefinition } from '../assetDefinitions/sprites';\r\n\r\nconst player = {\r\n  // startingX: 19,\r\n  // startingY: 66,\r\n  startingX: 23,\r\n  startingY: 31,\r\n  startingSpeed: BASE_PLAYER_SPEED,\r\n};\r\n\r\nconst npcs: NpcCharacter[] = [\r\n  {\r\n    definition: gregSpriteDefinition,\r\n    startingX: 20,\r\n    startingY: 12,\r\n    startingSpeed: 2,\r\n    friendlyName: 'Greg',\r\n    handler: params => (params as LevelTwo).handleGregInteraction(),\r\n  },\r\n];\r\n\r\nconst items: LevelTwoItem[] = [\r\n  {\r\n    // angel\r\n    x: 24,\r\n    y: 27,\r\n    handler: params => (params as LevelTwo).handleAngelInteraction(),\r\n    friendlyName: 'Guide',\r\n  },\r\n  {\r\n    x: 40,\r\n    y: 10,\r\n    handler: params => (params as LevelTwo).showNextFire(FireNumber.ONE),\r\n    friendlyName: 'First fire',\r\n    pillar: 3,\r\n  },\r\n  {\r\n    x: 43,\r\n    y: 13,\r\n    handler: params => (params as LevelTwo).showNextFire(FireNumber.TWO),\r\n    friendlyName: 'Second fire',\r\n    pillar: 3,\r\n  },\r\n  {\r\n    x: 40,\r\n    y: 16,\r\n    handler: params => (params as LevelTwo).showNextFire(FireNumber.THREE),\r\n    friendlyName: 'Third fire',\r\n    pillar: 3,\r\n  },\r\n  {\r\n    x: 37,\r\n    y: 13,\r\n    handler: params => (params as LevelTwo).showNextFire(FireNumber.FOUR),\r\n    friendlyName: 'Fourth fire',\r\n    pillar: 3,\r\n  },\r\n  {\r\n    // pillar 3\r\n    x: 37,\r\n    y: 30,\r\n    handler: params => (params as LevelTwo).handlePillarThreeInteraction(),\r\n    friendlyName: 'Pillar of Matching',\r\n  },\r\n  {\r\n    // pillar 1\r\n    x: 2,\r\n    y: 41,\r\n    handler: params => (params as LevelTwo).handlePillarOneInteraction(),\r\n    friendlyName: 'Monolith of Exploration',\r\n  },\r\n  {\r\n    // pillar 2\r\n    x: 7,\r\n    y: 10,\r\n    handler: params => (params as LevelTwo).handlePillarTwoInteraction(),\r\n    friendlyName: 'Column of Choice',\r\n  },\r\n  {\r\n    // barrel\r\n    x: 2,\r\n    y: 30,\r\n    handler: params =>\r\n      (params as LevelTwo).handlePillarOneItemInteraction('Barrel'),\r\n    friendlyName: 'Barrel',\r\n    pillar: 1,\r\n    hint: `Don't confuse me for a keg`,\r\n  },\r\n  {\r\n    // small urn\r\n    x: 36,\r\n    y: 43,\r\n    handler: params =>\r\n      (params as LevelTwo).handlePillarOneItemInteraction('Small urn'),\r\n    friendlyName: 'Small urn',\r\n    pillar: 1,\r\n    hint: `I may remind you of a vase but just know that I am small`,\r\n  },\r\n  {\r\n    // bowl\r\n    x: 39,\r\n    y: 43,\r\n    handler: params =>\r\n      (params as LevelTwo).handlePillarOneItemInteraction('Bowl'),\r\n    friendlyName: 'Bowl',\r\n    pillar: 1,\r\n    hint: `Do you put milk or cereal first?`,\r\n  },\r\n  {\r\n    // crate\r\n    x: 21,\r\n    y: 23,\r\n    handler: params =>\r\n      (params as LevelTwo).handlePillarOneItemInteraction('Crate'),\r\n    friendlyName: 'Crate',\r\n    pillar: 1,\r\n    hint: `You can use me to transport all of your stuff`,\r\n  },\r\n  {\r\n    // chest\r\n    x: 5,\r\n    y: 16,\r\n    handler: params =>\r\n      (params as LevelTwo).handlePillarOneItemInteraction('Chest'),\r\n    friendlyName: 'Chest',\r\n    pillar: 1,\r\n    hint: `Pirates are currently looking for me`,\r\n  },\r\n  {\r\n    // large urn\r\n    x: 1,\r\n    y: 13,\r\n    handler: params =>\r\n      (params as LevelTwo).handlePillarOneItemInteraction('Large urn'),\r\n    friendlyName: 'Large urn',\r\n    pillar: 1,\r\n    hint: 'I may remind you of a vase but just know that I am large',\r\n  },\r\n  {\r\n    // help sign\r\n    x: 32,\r\n    y: 25,\r\n    handler: params =>\r\n      params.createNewDialog(\r\n        `Confused? Try speaking with your guide (the angel over there) to get started. Each pillar will give you a hint to help you solve its mystery.`,\r\n      ),\r\n    friendlyName: 'Help',\r\n  },\r\n  {\r\n    // skip button\r\n    x: 7,\r\n    y: 25,\r\n    handler: params => (params as LevelTwo).handleSkipButton(),\r\n    friendlyName: 'Strange button (skip level)',\r\n  },\r\n  {\r\n    // experiences chest\r\n    x: 19,\r\n    y: 64,\r\n    handler: params => {\r\n      (params as LevelTwo)\r\n        .updateUnlockedFeatures('questLog', true)\r\n        .createOverlay(OverlayContentKey.EXPERIENCES);\r\n    },\r\n    friendlyName: 'Treasure',\r\n  },\r\n];\r\n\r\nconst portals: PortalDefinition[] = [\r\n  {\r\n    from: {\r\n      x: 18,\r\n      y: 27,\r\n    },\r\n    type: PortalType.COORDINATE,\r\n    to: {\r\n      x: 19,\r\n      y: 67,\r\n    },\r\n    dialog: 'The portal has taken you to a mysterious area...',\r\n    friendlyName: 'Escape portal',\r\n    layer: 'ground',\r\n  },\r\n  {\r\n    from: {\r\n      x: 19,\r\n      y: 61,\r\n    },\r\n    type: PortalType.SCENE,\r\n    to: LEVEL_ONE_SCENE_KEY,\r\n    dialog: DEFAULT_PORTAL_TEXT,\r\n    friendlyName: 'Back to beginning',\r\n  },\r\n];\r\n\r\nexport const getLevelTwoCast = (definition: SpriteDefinition): LevelCast => ({\r\n  player: {\r\n    ...player,\r\n    definition,\r\n  },\r\n  npcs,\r\n  items,\r\n  portals,\r\n  doors: [],\r\n});\r\n\r\nexport const fireStartLocations = {\r\n  [FireNumber.ONE]: {\r\n    x: 40,\r\n    y: 10,\r\n  },\r\n  [FireNumber.TWO]: {\r\n    x: 43,\r\n    y: 13,\r\n  },\r\n  [FireNumber.THREE]: {\r\n    x: 40,\r\n    y: 16,\r\n  },\r\n  [FireNumber.FOUR]: {\r\n    x: 37,\r\n    y: 13,\r\n  },\r\n};\r\n\r\nexport const pillarTwoSolutions: PillarTwoSolution[] = [\r\n  {\r\n    question: `Here's your question: what is Greg's favorite animal?`,\r\n    options: [\r\n      {\r\n        id: 1,\r\n        text: 'Baluga whale',\r\n      },\r\n      {\r\n        id: 2,\r\n        text: 'Poison dart frog',\r\n      },\r\n      {\r\n        id: 3,\r\n        text: 'Siamese cat',\r\n      },\r\n      {\r\n        id: 4,\r\n        text: 'Cardigan welsh corgi',\r\n      },\r\n    ],\r\n    answer: 2,\r\n    hint: `Frogs...why'd it have to be frogs?!`,\r\n  },\r\n  {\r\n    question: `Get to the bottom of this: on a warm summer day, what is Greg's favorite drink?`,\r\n    options: [\r\n      {\r\n        id: 1,\r\n        text: 'Coca-Cola',\r\n      },\r\n      {\r\n        id: 2,\r\n        text: `Barq's Root Beer`,\r\n      },\r\n      {\r\n        id: 3,\r\n        text: 'Orange Crush',\r\n      },\r\n      {\r\n        id: 4,\r\n        text: 'Spring Water',\r\n      },\r\n    ],\r\n    answer: 2,\r\n    hint: `Let's just get to the root of the problem.`,\r\n  },\r\n  {\r\n    question: `Can you solve this? What is Greg's favorite fantasy/fiction world?`,\r\n    options: [\r\n      {\r\n        id: 1,\r\n        text: 'Lord of the Rings',\r\n      },\r\n      {\r\n        id: 2,\r\n        text: `Star Wars`,\r\n      },\r\n      {\r\n        id: 3,\r\n        text: 'Star Trek',\r\n      },\r\n      {\r\n        id: 4,\r\n        text: 'Harry Potter',\r\n      },\r\n    ],\r\n    answer: 2,\r\n    hint: `I can't talk right now, I'm listening to Duel of the Fates.`,\r\n  },\r\n  {\r\n    question: `Something simple for you. What is Greg's favorite Marvel character`,\r\n    options: [\r\n      {\r\n        id: 1,\r\n        text: 'Thor',\r\n      },\r\n      {\r\n        id: 2,\r\n        text: `Thanos`,\r\n      },\r\n      {\r\n        id: 3,\r\n        text: 'Spider Man',\r\n      },\r\n      {\r\n        id: 4,\r\n        text: 'Black Panther',\r\n      },\r\n    ],\r\n    answer: 4,\r\n    hint: `Has anyone seen any vibranium lately? I need to find some.`,\r\n  },\r\n];\r\n\r\nexport const angelMessages = {\r\n  0: `Hello traveler. You seem lost, did you just arrive here? To go back you will need to use the portal just over there but, unfortunately, it is broken! To fix it you will need to activate the three pillars scattered across this area. Solve each pillar's mystery to obtain its power.`,\r\n  1: `Well done, you've successfully gained the power of one obelisk thus far. Keep up the good work and you'll be out of here in no time.`,\r\n  2: `Two pillars unlocked! Very good. You got this, just one more!`,\r\n  3: `Congratulations! The portal is open! Go through it to earn your reward and travel back to where you came from.`,\r\n};\r\n","export const convertSecondsToTimeString = (seconds: number) =>\r\n  new Date(seconds * 1000).toISOString().substring(14, 19);\r\n","import {\r\n  DEFAULT_FIRE_ANIMATION_FPS,\r\n  LEVEL_TWO_SCENE_KEY,\r\n  PILLAR_ONE_ACTIVE_NAME,\r\n  PILLAR_THREE_ACTIVE_NAME,\r\n  PILLAR_TWO_ACTIVE_NAME,\r\n  PORTAL_ACTIVE_NAME,\r\n  RANDOM_MOVEMENT_DELAY,\r\n  TILEMAPLAYER_TYPE,\r\n} from '../constants';\r\nimport {\r\n  FireColor,\r\n  FireNumber,\r\n  ILevelTwoProgress,\r\n  IPillarOneState,\r\n  IPillarThreeState,\r\n  IPillarTwoState,\r\n  LevelTwoItem,\r\n  LevelTwoProgress,\r\n  PillarThreeState,\r\n  PuzzleFires,\r\n} from '../types/levelTwo';\r\nimport {\r\n  HUD_INITIALIZED_EVENT,\r\n  UPDATE_TOP_CENTER_TEXT_EVENT,\r\n  UPDATE_TOP_LEFT_TEXT_EVENT,\r\n} from '../ui/events';\r\nimport {\r\n  angelMessages,\r\n  fireStartLocations,\r\n  getLevelTwoCast,\r\n  pillarTwoSolutions,\r\n} from '../cast/levelTwo';\r\nimport {\r\n  fireSpriteDefinitions,\r\n  gregSpriteDefinition,\r\n} from '../assetDefinitions/sprites';\r\nimport { getRandomSolution, shuffleArray } from '../helpers/solutions';\r\nimport { showAlert, showConfirm } from '../helpers/sweetAlerts';\r\n\r\nimport { LevelScene } from './LevelScene';\r\nimport { LevelTwoSavedData } from '../types/savedData';\r\nimport McDialogPlugin from '../mcDialog/plugin';\r\nimport { SceneConfig } from '../types/SceneConfig';\r\nimport { convertSecondsToTimeString } from '../helpers/time';\r\nimport { getFireColorName } from '../helpers/fireColor';\r\nimport { levelTwoMapDefinition } from '../assetDefinitions/tiles';\r\nimport { randomEnum } from '../helpers/randomEnum';\r\n\r\nexport class LevelTwo extends LevelScene {\r\n  private progress: ILevelTwoProgress;\r\n  private pillarOneState: IPillarOneState;\r\n  private pillarTwoState: IPillarTwoState;\r\n  private puzzleFireState: IPillarThreeState;\r\n  private _timerInterval: Phaser.Time.TimerEvent;\r\n  private _timerElapsed: number = 0;\r\n\r\n  public mcDialog: McDialogPlugin;\r\n\r\n  constructor() {\r\n    super(LEVEL_TWO_SCENE_KEY);\r\n    this.levelNumber = 2;\r\n    this.mapDefinition = levelTwoMapDefinition;\r\n    this.puzzleFireState = new PillarThreeState();\r\n    this.progress = new LevelTwoProgress();\r\n  }\r\n\r\n  public create = ({ uiEmitter, characterSelector }: SceneConfig) => {\r\n    this.uiEventEmitter = uiEmitter;\r\n    this.characterSelector = characterSelector;\r\n    this.cast = getLevelTwoCast(this.characterSelector.getPlayerDefinition());\r\n\r\n    this.setCharacters()\r\n      ?.setItems()\r\n      ?.setPortals()\r\n      ?.setDoors()\r\n      ?.setCamera()\r\n      ?.setMap()\r\n      ?.setCharacterLayerTransitions()\r\n      ?.attachKeyboardListener()\r\n      ?._initializeFireState()\r\n      ?._createPillarOneSolution()\r\n      ?._createPillarTwoSolution()\r\n      ?._createPillarThreeSolution();\r\n\r\n    this._initializeHUD();\r\n\r\n    this.dialog.init();\r\n    this.mcDialog.init();\r\n\r\n    this.handleCloseDialog();\r\n\r\n    this._initializeCharacterMovement();\r\n\r\n    this._timerInterval = this._timerInterval ?? this._addTimerInterval();\r\n\r\n    this.scale.on('resize', (gameSize: Phaser.Structs.Size) => {\r\n      this.dialog.updateDimensions(gameSize);\r\n      this.mcDialog.updateDimensions(gameSize);\r\n    });\r\n  };\r\n\r\n  public update = () => {\r\n    this.useGridPlayerControls()\r\n      ?.setFacing()\r\n      ?._handleMcDialogStatus();\r\n  };\r\n\r\n  private _initializeFireState = () => {\r\n    const fireNumbers = [\r\n      FireNumber.ONE,\r\n      FireNumber.TWO,\r\n      FireNumber.THREE,\r\n      FireNumber.FOUR,\r\n    ];\r\n\r\n    fireNumbers.forEach(num => {\r\n      this.puzzleFireState[num] = { ...this._makeFires(num) };\r\n      this._changeActiveFire(num, FireColor.WHITE);\r\n    });\r\n\r\n    return this;\r\n  };\r\n\r\n  private _makeFires = (number: FireNumber): PuzzleFires => {\r\n    const result: PuzzleFires = {\r\n      active: undefined,\r\n      fires: {\r\n        [FireColor.BLUE]: undefined,\r\n        [FireColor.WHITE]: undefined,\r\n        [FireColor.GREEN]: undefined,\r\n        [FireColor.PURPLE]: undefined,\r\n      },\r\n    };\r\n\r\n    fireSpriteDefinitions.forEach(d => {\r\n      const texture = d.key;\r\n      const spriteKey = `${texture}-${number}`;\r\n      const animKey = `${spriteKey}-flicker`;\r\n\r\n      const sprite = this.add\r\n        .sprite(0, 0, texture)\r\n        .setScale(d.scale)\r\n        .setVisible(false);\r\n\r\n      const animation = this.anims.create({\r\n        key: animKey,\r\n        frameRate: DEFAULT_FIRE_ANIMATION_FPS,\r\n        frames: this.anims.generateFrameNumbers(d.key, {\r\n          start: 0,\r\n          end: 7,\r\n        }),\r\n        repeat: -1,\r\n      }) as Phaser.Animations.Animation;\r\n\r\n      sprite.play(animKey);\r\n\r\n      result.fires[d.color] = {\r\n        sprite,\r\n        animation,\r\n        characterId: spriteKey,\r\n      };\r\n    });\r\n\r\n    return result;\r\n  };\r\n\r\n  private _changeActiveFire = (number: FireNumber, newColor: FireColor) => {\r\n    const fire = this.puzzleFireState[number];\r\n    const currColor = fire.active;\r\n    const currPuzzleFire = fire.fires[currColor ?? ''];\r\n\r\n    const newPuzzleFire = fire.fires[newColor];\r\n\r\n    if (currColor !== undefined) {\r\n      // remove old grid character and turn off visibility\r\n      currPuzzleFire.sprite.setVisible(false);\r\n      this.gridEngine.removeCharacter(currPuzzleFire.characterId);\r\n    }\r\n\r\n    // add new grid character and turn on visibility\r\n    newPuzzleFire!.sprite!.setVisible(true);\r\n    this.gridEngine.addCharacter({\r\n      id: newPuzzleFire!.characterId!,\r\n      startPosition: fireStartLocations[number],\r\n      sprite: newPuzzleFire!.sprite!,\r\n    });\r\n    fire.active = newColor;\r\n\r\n    return this;\r\n  };\r\n\r\n  public showNextFire = (number: FireNumber) => {\r\n    if (this.progress[3].completed) {\r\n      return this;\r\n    }\r\n\r\n    let nextColor: FireColor | undefined = undefined;\r\n    switch (this.puzzleFireState[number].active) {\r\n      case FireColor.WHITE:\r\n        nextColor = FireColor.BLUE;\r\n        break;\r\n      case FireColor.BLUE:\r\n        nextColor = FireColor.GREEN;\r\n        break;\r\n      case FireColor.GREEN:\r\n        nextColor = FireColor.PURPLE;\r\n        break;\r\n      case FireColor.PURPLE:\r\n        nextColor = FireColor.WHITE;\r\n        break;\r\n    }\r\n\r\n    if (nextColor !== undefined) {\r\n      this._changeActiveFire(number, nextColor);\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  public handlePillarThreeInteraction = () => {\r\n    const isSolved = this._isPuzzleFireSolved();\r\n    if (isSolved) {\r\n      this.createNewDialog('Well done, the power of this obelisk is yours');\r\n      this._completePillar(3);\r\n      return;\r\n    }\r\n\r\n    const { solution } = this.puzzleFireState;\r\n    const fire1 = getFireColorName(solution[FireNumber.ONE]);\r\n    const fire2 = getFireColorName(solution[FireNumber.TWO]);\r\n    const fire3 = getFireColorName(solution[FireNumber.THREE]);\r\n    const fire4 = getFireColorName(solution[FireNumber.FOUR]);\r\n\r\n    this.createNewDialog(\r\n      `To solve this puzzle you must master the fire. Here's a hint: first comes ${fire1}, then comes ${fire2}. Master these and you are halfway there. Next is ${fire3} and finally there is ${fire4}. Start at 12 o'clock and you will unlock the power of this pillar.`,\r\n    );\r\n  };\r\n\r\n  private _createPillarThreeSolution = () => {\r\n    const solution = {} as Record<FireNumber, FireColor>;\r\n    for (let i = 0; i < 4; i++) {\r\n      const color = randomEnum(FireColor);\r\n      solution[i as FireNumber] = color;\r\n    }\r\n\r\n    this.puzzleFireState = {\r\n      ...this.puzzleFireState,\r\n      solution,\r\n    };\r\n\r\n    if (this.isDev) {\r\n      console.log(\r\n        Object.values(solution).map(color => getFireColorName(color)),\r\n      );\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  private _isPuzzleFireSolved = () => {\r\n    const { solution } = this.puzzleFireState;\r\n    const { active: active1 } = this.puzzleFireState[FireNumber.ONE];\r\n    const { active: active2 } = this.puzzleFireState[FireNumber.TWO];\r\n    const { active: active3 } = this.puzzleFireState[FireNumber.THREE];\r\n    const { active: active4 } = this.puzzleFireState[FireNumber.FOUR];\r\n\r\n    return (\r\n      solution[FireNumber.ONE] === active1 &&\r\n      solution[FireNumber.TWO] === active2 &&\r\n      solution[FireNumber.THREE] === active3 &&\r\n      solution[FireNumber.FOUR] === active4\r\n    );\r\n  };\r\n\r\n  private _activatePillar = (number: 1 | 2 | 3) => {\r\n    let layerName: string;\r\n    if (number === 1) {\r\n      layerName = PILLAR_ONE_ACTIVE_NAME;\r\n    } else if (number === 2) {\r\n      layerName = PILLAR_TWO_ACTIVE_NAME;\r\n    } else {\r\n      layerName = PILLAR_THREE_ACTIVE_NAME;\r\n    }\r\n    const layers = this.children.list.filter(\r\n      go => go.type === TILEMAPLAYER_TYPE,\r\n    ) as Phaser.Tilemaps.TilemapLayer[];\r\n    const activeLayer = layers.find(l => l.layer.name === layerName);\r\n    if (activeLayer) {\r\n      this.time.addEvent({\r\n        delay: 200,\r\n        callbackScope: this,\r\n        repeat: 10,\r\n        callback: () => {\r\n          activeLayer.setAlpha(activeLayer.alpha + 0.1);\r\n        },\r\n      });\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  private _createPillarOneSolution = () => {\r\n    const options = (this.cast!.items as LevelTwoItem[]).filter(\r\n      i => i.pillar === 1 && i.hint !== undefined,\r\n    );\r\n    const solution = getRandomSolution(options);\r\n    if (!solution) {\r\n      throw new Error('Unable to create pillar one solution');\r\n    }\r\n\r\n    const { friendlyName: itemName, hint } = solution;\r\n\r\n    this.pillarOneState = {\r\n      solution: {\r\n        itemName: itemName!,\r\n        hint: hint!,\r\n      },\r\n      isFound: false,\r\n    };\r\n\r\n    return this;\r\n  };\r\n\r\n  public handlePillarOneItemInteraction = (itemName: string) => {\r\n    if (itemName === this.pillarOneState.solution.itemName) {\r\n      this.pillarOneState.isFound = true;\r\n      this.createNewDialog(`You find a key in the ${itemName}!`);\r\n    } else {\r\n      this.createNewDialog(`It appears to be a regular old ${itemName}`);\r\n    }\r\n  };\r\n\r\n  public handlePillarOneInteraction = () => {\r\n    if (this.pillarOneState.isFound) {\r\n      this.createNewDialog('Well done, the power of this obelisk is yours');\r\n      this._completePillar(1);\r\n      return;\r\n    }\r\n\r\n    this.createNewDialog(\r\n      `Unlocking this pillar is truly random, but here's a hint: ${this.pillarOneState.solution.hint}`,\r\n    );\r\n  };\r\n\r\n  private _completePillar = (pillar: 1 | 2 | 3, skip = false) => {\r\n    this.progress = {\r\n      ...this.progress,\r\n      [pillar]: {\r\n        ...this.progress[pillar],\r\n        completed: true,\r\n      },\r\n    };\r\n    this._activatePillar(pillar);\r\n\r\n    if (!skip && this._isLevelComplete()) {\r\n      this._completeLevel();\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  private _isLevelComplete = () => this._getNumCompletedPillars() === 3;\r\n\r\n  private _getNumCompletedPillars = () =>\r\n    [\r\n      this.progress[1].completed,\r\n      this.progress[2].completed,\r\n      this.progress[3].completed,\r\n    ].filter(p => !!p).length;\r\n\r\n  private _completeLevel = (skipped = false) => {\r\n    this._timerInterval.remove();\r\n    if (!skipped) {\r\n      const isRecord = this._saveTime();\r\n      if (isRecord) {\r\n        this.scene.pause();\r\n        showAlert(\r\n          'New record',\r\n          'Good job, this is your fastest clear of this level',\r\n          () => {\r\n            this.scene.resume();\r\n            this._displayRecord(this._timerElapsed);\r\n          },\r\n        );\r\n      }\r\n    } else {\r\n      this._timerElapsed = 0;\r\n      this._completePillar(1, true)\r\n        ._completePillar(2, true)\r\n        ._completePillar(3, true)\r\n        ._addPillarTrackerHudText(this._getNumCompletedPillars());\r\n    }\r\n    this.createNewDialog('You hear the sound of a portal opening up nearby...');\r\n    this._activatePortal();\r\n  };\r\n\r\n  public handleAngelInteraction = () => {\r\n    const numComplete = this._getNumCompletedPillars();\r\n\r\n    this.createNewDialog(angelMessages[numComplete]);\r\n  };\r\n\r\n  public handlePillarTwoInteraction = () => {\r\n    if (this.mcDialog.visible) return;\r\n    if (this.pillarTwoState.isComplete) {\r\n      this.createNewDialog('Well done, the power of this obelisk is yours');\r\n      this._completePillar(2);\r\n      return;\r\n    }\r\n\r\n    this._createMultipleChoiceDialog();\r\n  };\r\n\r\n  private _createPillarTwoSolution = () => {\r\n    const solution = getRandomSolution(pillarTwoSolutions);\r\n\r\n    this.pillarTwoState = {\r\n      solution: {\r\n        ...solution!,\r\n        options: shuffleArray(solution!.options),\r\n      },\r\n      isComplete: false,\r\n    };\r\n\r\n    return this;\r\n  };\r\n\r\n  public handlePillarTwoAnswerChoice = (answer: number) => {\r\n    this._removeMultipleChoiceDialog();\r\n    if (answer == this.pillarTwoState.solution.answer) {\r\n      this.pillarTwoState = {\r\n        ...this.pillarTwoState,\r\n        isComplete: true,\r\n      };\r\n      return this.handlePillarTwoInteraction(); // completes pillar\r\n    }\r\n\r\n    this.createNewDialog(\r\n      'Sorry, that is not the correct answer. Maybe Greg can help with the next one?',\r\n    );\r\n    this._createPillarTwoSolution(); // create a new solution so they can't just brute force the answer (where's the fun in that?)\r\n  };\r\n\r\n  private _createMultipleChoiceDialog = () => {\r\n    const { question, options } = this.pillarTwoState.solution;\r\n    this.mcDialog.setQuestionText(question);\r\n    this.mcDialog.setOptionsText(options);\r\n    this.mcDialog.setOnSelect(this.handlePillarTwoAnswerChoice);\r\n    this.mcDialog.toggleWindow(true);\r\n    this.toggleMovement();\r\n  };\r\n\r\n  private _removeMultipleChoiceDialog = () => {\r\n    this.toggleMovement();\r\n    this.mcDialog.toggleWindow(false);\r\n  };\r\n\r\n  public handleGregInteraction = () => {\r\n    if (this.pillarTwoState.isComplete) {\r\n      return this.createNewDialog(`Seems like you don't need help from me.`);\r\n    }\r\n    this.createNewDialog(this.pillarTwoState.solution.hint);\r\n  };\r\n\r\n  private _initializeCharacterMovement = () => {\r\n    const greg = this.characters.find(\r\n      c => c.definition.key === gregSpriteDefinition.key,\r\n    );\r\n    if (greg) {\r\n      this.gridEngine.moveRandomly(\r\n        greg.definition.key,\r\n        RANDOM_MOVEMENT_DELAY,\r\n        greg.startingSpeed + 1,\r\n      );\r\n    }\r\n  };\r\n\r\n  private _handleMcDialogStatus = () => {\r\n    if (!this.mcDialog.visible && this.isMovementPaused) this.toggleMovement();\r\n  };\r\n\r\n  private _addPillarTrackerHudText = (count: number = 0, time = 0) => {\r\n    this.uiEventEmitter.emit(\r\n      UPDATE_TOP_LEFT_TEXT_EVENT,\r\n      `Pillars unlocked: ${count}/3`,\r\n      `Time: ${convertSecondsToTimeString(time)}`,\r\n    );\r\n  };\r\n\r\n  private _addTimerInterval = () =>\r\n    this.time.addEvent({\r\n      loop: true,\r\n      delay: 1000,\r\n      callbackScope: this,\r\n      callback: () => {\r\n        const newTime = this._timerElapsed + 1;\r\n        this._addPillarTrackerHudText(this._getNumCompletedPillars(), newTime);\r\n        this._timerElapsed = newTime;\r\n      },\r\n    });\r\n\r\n  private _saveTime = () => {\r\n    const { time } = this.loadLevelSavedData<LevelTwoSavedData>() ?? {};\r\n    if (!time || this._timerElapsed < time) {\r\n      this.saveLevelData<LevelTwoSavedData>({ time: this._timerElapsed });\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  private _initializeCurrentRecord = () => {\r\n    const { time } = this.loadLevelSavedData<LevelTwoSavedData>() ?? {};\r\n    if (time !== undefined) {\r\n      this._displayRecord(time);\r\n    }\r\n  };\r\n\r\n  private _displayRecord = (seconds: number) =>\r\n    this.uiEventEmitter.emit(\r\n      UPDATE_TOP_CENTER_TEXT_EVENT,\r\n      `Record: ${convertSecondsToTimeString(seconds)}`,\r\n    );\r\n\r\n  private _activatePortal = () => {\r\n    const layers = this.children.list.filter(\r\n      go => go.type === TILEMAPLAYER_TYPE,\r\n    ) as Phaser.Tilemaps.TilemapLayer[];\r\n    const activeLayer = layers.find(l => l.layer.name === PORTAL_ACTIVE_NAME);\r\n    if (activeLayer) {\r\n      this.time.addEvent({\r\n        repeat: 10,\r\n        delay: 200,\r\n        callbackScope: this,\r\n        callback: () => {\r\n          activeLayer.setAlpha(activeLayer.alpha + 0.1);\r\n        },\r\n      });\r\n    }\r\n\r\n    this.setPortals();\r\n    return this;\r\n  };\r\n\r\n  public handleSkipButton = () => {\r\n    this.scene.pause();\r\n    showConfirm(\r\n      'Pressing this button will skip all the fun stuff on this level and grant you access to the rewards and ability to leave this level',\r\n      this._onSkip,\r\n      () => this.scene.resume(),\r\n    );\r\n  };\r\n\r\n  private _onSkip = () => {\r\n    this.createNewDialog('You press the strange button...');\r\n    this._completeLevel(true);\r\n  };\r\n\r\n  private _initializeHUD = () => {\r\n    this.time.delayedCall(\r\n      100,\r\n      () => {\r\n        this.uiEventEmitter.emit(\r\n          HUD_INITIALIZED_EVENT,\r\n          true,\r\n          false,\r\n          true,\r\n          false,\r\n        );\r\n        this._initializeCurrentRecord();\r\n        this.loadUnlockedFeatures();\r\n        this._addPillarTrackerHudText();\r\n      },\r\n      [],\r\n      this,\r\n    );\r\n  };\r\n}\r\n","export function randomEnum<T>(anEnum: T): T[keyof T] {\r\n  const enumValues = (Object.keys(anEnum)\r\n    .map(n => Number.parseInt(n))\r\n    .filter(n => !Number.isNaN(n)) as unknown) as T[keyof T][];\r\n  const randomIndex = Math.floor(Math.random() * enumValues.length);\r\n  const randomEnumValue = enumValues[randomIndex];\r\n  return randomEnumValue;\r\n}\r\n","import { ImageDefinition } from '../types/assetDefinitions';\r\nimport { getImageSource } from '../helpers/getAssetSource';\r\n\r\nexport const coffeeCupImageDefinition: ImageDefinition = {\r\n  key: 'coffee-cup-image',\r\n  source: getImageSource('coffee_cup'),\r\n};\r\n\r\nexport const tunaRollImageDefinition: ImageDefinition = {\r\n  key: 'tuna-roll-image',\r\n  source: getImageSource('tuna_roll'),\r\n};\r\n\r\nexport const pizzaPartyImageDefinition: ImageDefinition = {\r\n  key: 'pizza-party-image',\r\n  source: getImageSource('pizza_party'),\r\n};\r\n\r\nexport const javascriptPixelImageDefinition: ImageDefinition = {\r\n  key: 'javascript-pixel-image',\r\n  source: getImageSource('javascript_pixel'),\r\n};\r\n","import {\r\n  PlayerSpriteDefinition,\r\n  SpriteDefinition,\r\n} from '../types/assetDefinitions';\r\n\r\nimport { playerCharacterOptions } from '../assetDefinitions/sprites';\r\n\r\nlet instance: CharacterSelector | null = null;\r\nexport class CharacterSelector {\r\n  private _defaultPlayerDefinition: SpriteDefinition;\r\n  private _selectedPlayerDefinition: SpriteDefinition | null = null;\r\n\r\n  constructor() {\r\n    this._defaultPlayerDefinition = this._createDefaultCharacter();\r\n  }\r\n\r\n  private _createDefaultCharacter = () => {\r\n    const options = Object.values(playerCharacterOptions);\r\n\r\n    const num = Math.floor(Math.random() * options.length);\r\n\r\n    return options[num];\r\n  };\r\n\r\n  public getPlayerDefinition = () => {\r\n    return this._selectedPlayerDefinition ?? this._defaultPlayerDefinition;\r\n  };\r\n\r\n  public setPlayerDefinition = (definition?: PlayerSpriteDefinition) => {\r\n    this._selectedPlayerDefinition = definition ?? null;\r\n  };\r\n\r\n  static getInstance = () => instance ?? new CharacterSelector();\r\n}\r\n","import { HUD_INITIALIZED_EVENT, UPDATE_HEALTH_EVENT } from './events';\r\n\r\nlet instance: UIEventEmitter | null = null;\r\nexport class UIEventEmitter extends Phaser.Events.EventEmitter {\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  static getInstance = () => instance ?? new UIEventEmitter();\r\n}\r\n","import {\r\n  ASSETS_BASE_URL,\r\n  CHARACTER_SELECT_SCENE_KEY,\r\n  LOADING_SCENE_KEY,\r\n  THEME_DARK_YELLOW_NUMBER,\r\n  THEME_WHITE,\r\n  THEME_YELLOW_NUMBER,\r\n  UI_SCENE_KEY,\r\n} from '../constants';\r\nimport {\r\n  acidBlobSpriteDefinition,\r\n  beetleSpriteDefinition,\r\n  fantasyIconsSpriteDefinition,\r\n  fireSpriteDefinitions,\r\n  goblinSpriteDefinition,\r\n  gregSpriteDefinition,\r\n  greyCatSpriteDefinition,\r\n  levelThreeFireBarrierDefinition,\r\n  levelThreeFireExplosionDefinition,\r\n  levelthreeFireColumnDefinition,\r\n  playerCharacterOptions,\r\n  purplePortalSpriteDefinition,\r\n  skeletonOneSpriteDefinition,\r\n  skeletonTwoSpriteDefinition,\r\n  slimeSpriteDefinition,\r\n  soldierSpriteDefinition,\r\n  whiteCatSpriteDefinition,\r\n} from '../assetDefinitions/sprites';\r\nimport {\r\n  coffeeCupImageDefinition,\r\n  javascriptPixelImageDefinition,\r\n  pizzaPartyImageDefinition,\r\n  tunaRollImageDefinition,\r\n} from '../assetDefinitions/images';\r\nimport { getGameHeight, getGameWidth } from '../helpers/gameDimensions';\r\nimport {\r\n  levelFourMapDefinition,\r\n  levelOneMapDefinition,\r\n  levelThreeMapDefinition,\r\n  levelTwoMapDefinition,\r\n} from '../assetDefinitions/tiles';\r\n\r\nimport { CharacterSelector } from '../characterSelect/characterSelector';\r\nimport { Scene } from 'phaser';\r\nimport { SceneConfig } from '../types/SceneConfig';\r\nimport { UIEventEmitter } from '../ui/eventEmitter';\r\n\r\nconst spriteDefinitions = [\r\n  ...Object.values(playerCharacterOptions),\r\n  gregSpriteDefinition,\r\n  greyCatSpriteDefinition,\r\n  whiteCatSpriteDefinition,\r\n  ...fireSpriteDefinitions,\r\n  levelthreeFireColumnDefinition,\r\n  levelThreeFireExplosionDefinition,\r\n  levelThreeFireBarrierDefinition,\r\n  goblinSpriteDefinition,\r\n  skeletonOneSpriteDefinition,\r\n  skeletonTwoSpriteDefinition,\r\n  soldierSpriteDefinition,\r\n  fantasyIconsSpriteDefinition,\r\n  beetleSpriteDefinition,\r\n  acidBlobSpriteDefinition,\r\n  slimeSpriteDefinition,\r\n  purplePortalSpriteDefinition,\r\n];\r\nconst tileDefinitions = [\r\n  levelOneMapDefinition,\r\n  levelTwoMapDefinition,\r\n  levelThreeMapDefinition,\r\n  levelFourMapDefinition,\r\n];\r\n\r\nconst imageDefinitions = [\r\n  coffeeCupImageDefinition,\r\n  tunaRollImageDefinition,\r\n  pizzaPartyImageDefinition,\r\n  javascriptPixelImageDefinition,\r\n];\r\n\r\nexport class LoadingScene extends Scene {\r\n  public isDev = process.env.NODE_ENV === 'development';\r\n  public progressBox?: Phaser.GameObjects.Graphics;\r\n  public progressText?: Phaser.GameObjects.Text;\r\n  public progressBar?: Phaser.GameObjects.Graphics;\r\n  public uiEmitter: UIEventEmitter;\r\n  public characterSelector: CharacterSelector;\r\n  constructor() {\r\n    super(LOADING_SCENE_KEY);\r\n    this.uiEmitter = UIEventEmitter.getInstance();\r\n    this.characterSelector = CharacterSelector.getInstance();\r\n  }\r\n\r\n  public preload = () => {\r\n    // handle loading https://gamedevacademy.org/creating-a-preloading-screen-in-phaser-3/ loading bar tutorial\r\n    this._createProgress();\r\n    this.load.on('progress', this._updateProgress);\r\n    this.load.on('complete', this._removeProgress);\r\n\r\n    this._setBaseLoadUrl()\r\n      ._loadSprites()\r\n      ._loadTiles()\r\n      ._loadImages();\r\n  };\r\n\r\n  public create = () => {\r\n    if (!this.isDev) {\r\n      this._showLogoIntro();\r\n    }\r\n    this._startFirstScene();\r\n  };\r\n\r\n  private _createProgress = () => {\r\n    const width = this._getGameWidth() / 2;\r\n    this.progressBox = this.add\r\n      .graphics()\r\n      .fillStyle(THEME_DARK_YELLOW_NUMBER, 1)\r\n      .fillRect(width - width / 2, width, width, 50)\r\n      .setScrollFactor(0)\r\n      .setDepth(1);\r\n\r\n    this.progressText = this.make.text({\r\n      x: width,\r\n      y: width + 25,\r\n      text: '0%',\r\n      style: {\r\n        font: '20px monospace',\r\n        color: THEME_WHITE,\r\n      },\r\n      scrollFactor: 0,\r\n      origin: 0.5,\r\n      depth: 3,\r\n    });\r\n\r\n    this.progressBar = this.add\r\n      .graphics()\r\n      .setScrollFactor(0)\r\n      .setDepth(2);\r\n\r\n    return this;\r\n  };\r\n\r\n  private _updateProgress = (value: number) => {\r\n    if (!this.progressBar) return;\r\n\r\n    const boxWidth = this._getGameWidth() / 2;\r\n\r\n    this.progressBar\r\n      .clear()\r\n      .fillStyle(THEME_YELLOW_NUMBER, 1)\r\n      .fillRect(\r\n        boxWidth - boxWidth / 2 + 10,\r\n        boxWidth + 10,\r\n        (boxWidth - 15) * value,\r\n        30,\r\n      );\r\n\r\n    if (this.progressText) {\r\n      this.progressText.setText(`${parseInt((value * 100).toString())}%`);\r\n    }\r\n\r\n    return;\r\n  };\r\n\r\n  private _removeProgress = () => {\r\n    if (this.progressBox) this.progressBox.destroy();\r\n    if (this.progressText) this.progressText.destroy();\r\n    if (this.progressBar) this.progressBar.destroy();\r\n  };\r\n\r\n  private _setBaseLoadUrl = () => {\r\n    this.load.baseURL = ASSETS_BASE_URL;\r\n    return this;\r\n  };\r\n\r\n  private _loadSprites = () => {\r\n    spriteDefinitions.forEach(({ key, source, frameWidth, frameHeight }) => {\r\n      this.load.spritesheet(key, source, { frameWidth, frameHeight });\r\n    });\r\n\r\n    return this;\r\n  };\r\n\r\n  private _loadTiles = () => {\r\n    tileDefinitions.forEach(({ key, source, tilesets }) => {\r\n      this.load.tilemapTiledJSON(key, source);\r\n\r\n      tilesets.forEach(({ key: tsKey, source: tsSource }) => {\r\n        this.load.image(tsKey, tsSource);\r\n      });\r\n    });\r\n\r\n    return this;\r\n  };\r\n\r\n  private _loadImages = () => {\r\n    this.load.image('logo', '../../../assets/game/images/logo_transparent.png');\r\n\r\n    imageDefinitions.forEach(({ key, source }) => {\r\n      this.load.image(key, source);\r\n    });\r\n\r\n    return this;\r\n  };\r\n\r\n  private _showLogoIntro = () => {\r\n    const width = this._getGameWidth() / 2;\r\n    const height = this._getGameHeight() / 2;\r\n    this.add.image(width, height, 'logo').setScale(0.25);\r\n    return this;\r\n  };\r\n\r\n  private _startFirstScene = () => {\r\n    this.time.delayedCall(\r\n      this.isDev ? 0 : 2000,\r\n      () => {\r\n        this.scene.launch(UI_SCENE_KEY, this.uiEmitter);\r\n        this.scene.start(\r\n          CHARACTER_SELECT_SCENE_KEY,\r\n          new SceneConfig(this.uiEmitter, this.characterSelector),\r\n        );\r\n      },\r\n      [],\r\n      this,\r\n    );\r\n\r\n    return this;\r\n  };\r\n\r\n  private _getGameWidth = () => getGameWidth(this);\r\n\r\n  private _getGameHeight = () => getGameHeight(this);\r\n}\r\n","import {\r\n  THEME_DARK_BLUE_NUMBER,\r\n  THEME_DARK_YELLOW,\r\n  THEME_DARK_YELLOW_NUMBER,\r\n} from '../constants';\r\n\r\nexport interface McDialogConfig {\r\n  borderThickness?: number;\r\n  borderColor?: number;\r\n  borderAlpha?: number;\r\n  windowAlpha?: number;\r\n  windowColor?: number;\r\n  windowHeight?: number;\r\n  padding?: number;\r\n  depth?: number;\r\n  closeBtnColor?: string;\r\n  closeBtnFontSize?: number;\r\n  fontSize?: number;\r\n  speed?: number;\r\n  answerLimit?: number;\r\n  answerFontSize?: number;\r\n}\r\n\r\nexport const defaultMcDialogConfig: McDialogConfig = {\r\n  borderThickness: 3,\r\n  borderColor: THEME_DARK_YELLOW_NUMBER,\r\n  borderAlpha: 1,\r\n  windowAlpha: 0.9,\r\n  windowColor: THEME_DARK_BLUE_NUMBER,\r\n  windowHeight: 150,\r\n  padding: 32,\r\n  depth: 50,\r\n  closeBtnColor: THEME_DARK_YELLOW,\r\n  closeBtnFontSize: 24,\r\n  fontSize: 20,\r\n  speed: 5,\r\n  answerLimit: 4,\r\n  answerFontSize: 16,\r\n};\r\n\r\nexport interface WindowConfig {\r\n  x: number;\r\n  y: number;\r\n  width: number;\r\n  height: number;\r\n}\r\n","import { MC_DIALOG_PLUGIN_KEY, THEME_WHITE, THEME_YELLOW } from '../constants';\r\nimport { McDialogConfig, WindowConfig, defaultMcDialogConfig } from './config';\r\nimport { getGameHeight, getGameWidth } from '../helpers/gameDimensions';\r\n\r\nimport Phaser from 'phaser';\r\n\r\nexport default class McDialogPlugin extends Phaser.Plugins.ScenePlugin {\r\n  public config: McDialogConfig = defaultMcDialogConfig;\r\n\r\n  public eventCounter: number = 0;\r\n  public visible: boolean = false;\r\n  public questionText: Phaser.GameObjects.Text;\r\n  public optionsText: Record<number, Phaser.GameObjects.Text> = {};\r\n  public optionsRect: Record<number, WindowConfig> = {};\r\n  public optionsRectIdLookup: Record<number, number> = {};\r\n  public dialogText: string[];\r\n  public graphics: Phaser.GameObjects.Graphics;\r\n  public closeBtnText: Phaser.GameObjects.Text;\r\n  public timedEvent: Phaser.Time.TimerEvent;\r\n\r\n  private _scaledTextSize = this.config.fontSize;\r\n\r\n  public constructor(\r\n    scene: Phaser.Plugins.ScenePlugin['scene'],\r\n    pluginManager: Phaser.Plugins.PluginManager,\r\n  ) {\r\n    super(scene, pluginManager, MC_DIALOG_PLUGIN_KEY);\r\n    this.scene = scene;\r\n  }\r\n\r\n  public boot = () => {\r\n    const { events } = this.systems;\r\n\r\n    events.on('shutdown', this.shutdown, this);\r\n    events.on('destroy', this.destroy, this);\r\n  };\r\n\r\n  public shutdown = () => {\r\n    if (this.timedEvent) this.timedEvent.remove();\r\n    if (this.questionText) this.questionText.destroy();\r\n    if (this.closeBtnText) this.closeBtnText.destroy();\r\n    if (this.graphics) this.graphics.destroy();\r\n\r\n    Object.keys(this.optionsText).forEach(key => {\r\n      if (this.optionsText[key]) this.optionsText[key].destroy();\r\n    });\r\n  };\r\n\r\n  public destroy = () => {\r\n    this.shutdown();\r\n  };\r\n\r\n  public init = (config?: McDialogConfig) => {\r\n    if (!config) config = {};\r\n\r\n    this.setConfig(config)\r\n      ._createWindow()\r\n      .updateDimensions();\r\n  };\r\n\r\n  public setConfig = (config?: McDialogConfig) => {\r\n    Object.keys(this.config).forEach(key => {\r\n      this.config[key] = (config ?? {})[key] ?? this.config[key];\r\n    });\r\n\r\n    return this;\r\n  };\r\n\r\n  public toggleWindow = (newValue: boolean = !this.visible) => {\r\n    this.visible = newValue;\r\n    this._toggleVisibility(this.visible);\r\n  };\r\n\r\n  public setQuestionText = (question: string, animate: boolean = true) => {\r\n    this.eventCounter = 0;\r\n    this.dialogText = question.split('');\r\n    if (this.timedEvent) this.timedEvent.remove();\r\n\r\n    const temp = animate ? '' : question;\r\n    this._setQuestionText(temp);\r\n\r\n    if (animate) {\r\n      this.timedEvent = this.scene.time.addEvent({\r\n        delay: 150 - this.config.speed! * 30,\r\n        callback: this._animateText,\r\n        callbackScope: this,\r\n        loop: true,\r\n      });\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  public setOptionsText = (options: { id: number; text: string }[]) => {\r\n    const limitedOptions = options.slice(0, this.config.answerLimit);\r\n    limitedOptions.forEach(({ id, text }, index) => {\r\n      this.optionsText[id] = this._makeOptionsText(id, text, index);\r\n    });\r\n  };\r\n\r\n  public updateDimensions = (gameSize?: Phaser.Structs.Size) => {\r\n    let width = gameSize ? gameSize.width : this._getGameWidth();\r\n\r\n    let factor: number;\r\n    if (width <= 400) {\r\n      factor = 0.6;\r\n    } else if (width <= 600) {\r\n      factor = 0.8;\r\n    } else {\r\n      factor = 1;\r\n    }\r\n    this._scaledTextSize = this.config.fontSize! * factor;\r\n  };\r\n\r\n  private _setQuestionText = (text: string) => {\r\n    if (this.questionText) this.questionText.destroy();\r\n\r\n    const x = this.config.padding! + 10;\r\n    const y = this._getWindowYPosition() - this.config.padding! + 10;\r\n\r\n    this.questionText = this.scene.make.text({\r\n      x,\r\n      y,\r\n      text,\r\n      style: {\r\n        wordWrap: {\r\n          width: this._getGameWidth() - this.config.padding! * 2 - 50,\r\n          useAdvancedWrap: true,\r\n        },\r\n        color: THEME_WHITE,\r\n        fontSize: `${this._scaledTextSize}px`,\r\n        fontFamily: 'Monospace',\r\n      },\r\n      depth: this.config.depth,\r\n      scrollFactor: 0,\r\n    });\r\n  };\r\n\r\n  private _animateText = () => {\r\n    this.eventCounter++;\r\n    this.questionText.setText(\r\n      this.questionText.text + this.dialogText[this.eventCounter - 1],\r\n    );\r\n    if (this.eventCounter === this.dialogText.length) {\r\n      this.timedEvent.remove();\r\n    }\r\n  };\r\n\r\n  private _makeOptionsText = (id: number, text: string, index: number) => {\r\n    if (this.optionsText[id]) this.optionsText[id].destroy();\r\n\r\n    const currentRect = this.optionsRect[index];\r\n    const textObject = (this.optionsText[id] = this.scene.make.text({\r\n      x: currentRect.x + currentRect.width / 2,\r\n      y: currentRect.y + currentRect.height / 2,\r\n      text,\r\n      depth: this.config.depth,\r\n      scrollFactor: 0,\r\n      style: {\r\n        color: THEME_YELLOW,\r\n        fontSize: `${this._scaledTextSize}px`,\r\n        fontFamily: 'Monospace',\r\n      },\r\n      origin: 0.5,\r\n    }));\r\n\r\n    textObject\r\n      .setInteractive()\r\n      .on('pointerover', () => textObject.setColor(THEME_WHITE))\r\n      .on('pointerout', () => textObject.setColor(THEME_YELLOW));\r\n\r\n    return textObject;\r\n  };\r\n\r\n  private _getGameWidth = () => getGameWidth(this.scene);\r\n  private _getGameHeight = () => getGameHeight(this.scene);\r\n\r\n  private _createWindow = () => {\r\n    const windowDimensions = this._calculateWindowDimensions();\r\n    const optionRects = this._calculateOptionDimensions();\r\n\r\n    this.graphics = this.scene.add\r\n      .graphics()\r\n      .setDepth(this.config.depth!)\r\n      .setScrollFactor(0);\r\n\r\n    this._createOuterWindow(windowDimensions)\r\n      ._createInnerWindow(windowDimensions)\r\n      ._createCloseModalButton()\r\n      ._createCloseModalButtonBorder();\r\n\r\n    optionRects.forEach((option, index) => {\r\n      this.optionsRect = {\r\n        ...(this.optionsRect ?? {}),\r\n        [index]: option,\r\n      };\r\n      this._createOptionWindow(option);\r\n    });\r\n\r\n    this._toggleVisibility(this.visible);\r\n\r\n    return this;\r\n  };\r\n\r\n  private _calculateWindowDimensions = (): WindowConfig => {\r\n    const gameWidth = this._getGameWidth();\r\n    const gameHeight = this._getGameHeight();\r\n\r\n    return {\r\n      x: this.config.padding!,\r\n      y: this._getWindowYPosition() - this.config.padding!,\r\n      width: gameWidth - this.config.padding! * 2,\r\n      height: gameHeight / 2,\r\n    };\r\n  };\r\n\r\n  private _createOuterWindow = ({ x, y, width, height }: WindowConfig) => {\r\n    this.graphics\r\n      .lineStyle(\r\n        this.config.borderThickness!,\r\n        this.config.borderColor!,\r\n        this.config.borderAlpha,\r\n      )\r\n      .strokeRect(x, y, width, height);\r\n    return this;\r\n  };\r\n\r\n  private _createInnerWindow = ({ x, y, width, height }: WindowConfig) => {\r\n    this.graphics\r\n      .fillStyle(this.config.windowColor!, this.config.windowAlpha!)\r\n      .fillRect(x + 1, y + 1, width - 1, height - 1);\r\n\r\n    return this;\r\n  };\r\n\r\n  private _calculateOptionDimensions = (): WindowConfig[] => {\r\n    const width = this._getOptionWidth();\r\n    const height = this._getOptionHeight();\r\n    const leftOptionX = this.config.padding! * 2;\r\n    const rightOptionX = this._getGameWidth() - leftOptionX - width;\r\n    const rowOneY = this._getWindowYPosition() + this.config.padding!;\r\n    const rowTwoY = rowOneY + height + this.config.padding!;\r\n\r\n    return [\r\n      {\r\n        x: leftOptionX,\r\n        y: rowOneY,\r\n        width,\r\n        height,\r\n      },\r\n      {\r\n        x: rightOptionX,\r\n        y: rowOneY,\r\n        width,\r\n        height,\r\n      },\r\n      {\r\n        x: leftOptionX,\r\n        y: rowTwoY,\r\n        width,\r\n        height,\r\n      },\r\n      {\r\n        x: rightOptionX,\r\n        y: rowTwoY,\r\n        width,\r\n        height,\r\n      },\r\n    ];\r\n  };\r\n\r\n  private _createOptionWindow = ({ x, y, width, height }: WindowConfig) => {\r\n    this.graphics\r\n      .lineStyle(\r\n        this.config.borderThickness!,\r\n        this.config.borderColor!,\r\n        this.config.borderAlpha,\r\n      )\r\n      .strokeRect(x, y, width, height);\r\n  };\r\n\r\n  private _createCloseModalButton = () => {\r\n    const closeButton = this.scene.make.text({\r\n      x:\r\n        this._getGameWidth() -\r\n        this.config.padding! -\r\n        this.config.closeBtnFontSize!,\r\n      y: this._getWindowYPosition() - this.config.padding! + 3,\r\n      text: 'X',\r\n      style: {\r\n        font: `bold ${this.config.closeBtnFontSize}px Monospace`,\r\n        color: this.config.closeBtnColor,\r\n      },\r\n      depth: this.config.depth! + 1,\r\n      scrollFactor: 0,\r\n    });\r\n\r\n    closeButton.setInteractive();\r\n\r\n    closeButton.on('pointerover', () => closeButton.setColor(THEME_WHITE));\r\n    closeButton.on('pointerout', () =>\r\n      closeButton.setColor(this.config.closeBtnColor!),\r\n    );\r\n    closeButton.on('pointerdown', () => {\r\n      this.toggleWindow();\r\n      if (this.timedEvent) this.timedEvent.remove();\r\n    });\r\n\r\n    this.closeBtnText = closeButton;\r\n    return this;\r\n  };\r\n\r\n  private _createCloseModalButtonBorder = () => {\r\n    const width = this.config.closeBtnFontSize! + 8;\r\n    const x = this._getGameWidth() - this.config.padding! - width;\r\n    const y = this._getWindowYPosition() - this.config.padding!;\r\n    this.graphics.strokeRect(x, y, width, width);\r\n    return this;\r\n  };\r\n\r\n  private _getWindowYPosition = () =>\r\n    this._getGameHeight() - this._getGameHeight() / 2;\r\n\r\n  private _toggleVisibility = (value: boolean) => {\r\n    if (this.questionText) this.questionText.setVisible(value);\r\n    if (this.graphics) this.graphics.setVisible(value);\r\n    if (this.closeBtnText) this.closeBtnText.setVisible(value);\r\n\r\n    if (this.optionsText) {\r\n      Object.keys(this.optionsText).forEach(key => {\r\n        if (this.optionsText[key]) this.optionsText[key].setVisible(value);\r\n      });\r\n    }\r\n  };\r\n\r\n  public setOnSelect = (func: Function) => {\r\n    Object.keys(this.optionsText).forEach(key => {\r\n      if (!this.optionsText[key]) return;\r\n      this.optionsText[key].on('pointerdown', () => func(key));\r\n    });\r\n  };\r\n\r\n  private _getOptionWidth = () =>\r\n    this._getGameWidth() / 2 - this.config.padding! * 3;\r\n\r\n  private _getOptionHeight = () =>\r\n    this._getGameHeight() / 4 - this.config.padding! * 2;\r\n}\r\n","import Phaser from 'phaser';\r\n\r\n// IMPORTANT: credit https://github.com/netgfx/Phaser-tooltip\r\nexport class PhaserTooltip {\r\n  constructor(scene, pluginManager) {\r\n    /**\r\n     * A handy reference to the Plugin Manager that is responsible for this plugin.\r\n     * Can be used as a route to gain access to game systems and  events.\r\n     *\r\n     * @name Phaser.Plugins.BasePlugin#pluginManager\r\n     * @type {Phaser.Plugins.PluginManager}\r\n     * @protected\r\n     * @since 3.8.0\r\n     */\r\n    this.pluginManager = pluginManager;\r\n\r\n    /**\r\n     * A reference to the Game instance this plugin is running under.\r\n     *\r\n     * @name Phaser.Plugins.BasePlugin#game\r\n     * @type {Phaser.Game}\r\n     * @protected\r\n     * @since 3.8.0\r\n     */\r\n    this.game = pluginManager.game;\r\n\r\n    /**\r\n     * A reference to the Scene that has installed this plugin.\r\n     * Only set if it's a Scene Plugin, otherwise `null`.\r\n     * This property is only set when the plugin is instantiated and added to the Scene, not before.\r\n     * You cannot use it during the `init` method, but you can during the `boot` method.\r\n     *\r\n     * @name Phaser.Plugins.BasePlugin#scene\r\n     * @type {?Phaser.Scene}\r\n     * @protected\r\n     * @since 3.8.0\r\n     */\r\n    this.scene = scene;\r\n\r\n    /**\r\n     * A reference to the Scene Systems of the Scene that has installed this plugin.\r\n     * Only set if it's a Scene Plugin, otherwise `null`.\r\n     * This property is only set when the plugin is instantiated and added to the Scene, not before.\r\n     * You cannot use it during the `init` method, but you can during the `boot` method.\r\n     *\r\n     * @name Phaser.Plugins.BasePlugin#systems\r\n     * @type {?Phaser.Scenes.Systems}\r\n     * @protected\r\n     * @since 3.8.0\r\n     */\r\n    this.systems = scene.sys;\r\n\r\n    /**\r\n     * The Sticks that this plugin is responsible for.\r\n     * @type {Set}\r\n     */\r\n    this.sticks = null;\r\n\r\n    /**\r\n     * The Buttons that this plugin is responsible for.\r\n     * @type {Set}\r\n     */\r\n    this.buttons = null;\r\n\r\n    /**\r\n     * Internal var to track the Input pointer total.\r\n     * @type {integer}\r\n     * @private\r\n     */\r\n    this._pointerTotal = 0;\r\n\r\n    scene.sys.events.once('boot', this.boot, this);\r\n\r\n    this.tooltipCollection = {};\r\n    this.target = null;\r\n  }\r\n\r\n  /**\r\n   * The boot method.\r\n   *\r\n   * @private\r\n   */\r\n  boot() {\r\n    this.systems.events.once('destroy', this.destroy, this);\r\n\r\n    //  Because they may load the plugin via the Loader\r\n    if (this.systems.settings.active) {\r\n      this.start();\r\n    } else {\r\n      this.systems.events.on('start', this.start, this);\r\n    }\r\n  }\r\n\r\n  start() {\r\n    this.systems.events.on('update', this.update, this);\r\n    this.systems.events.once('shutdown', this.shutdown, this);\r\n  }\r\n\r\n  /**\r\n   * Called automatically by the Phaser Plugin Manager.\r\n   *\r\n   * Updates all Stick and Button objects.\r\n   *\r\n   * @param {integer} time - The current game timestep.\r\n   */\r\n  update(time) {\r\n    // if(this.con)\r\n    // this.con.list[0]\r\n  }\r\n\r\n  /**\r\n   * Shuts down the event listeners for this plugin.\r\n   */\r\n  shutdown() {\r\n    const eventEmitter = this.systems.events;\r\n\r\n    eventEmitter.off('update', this.update, this);\r\n    eventEmitter.off('shutdown', this.shutdown, this);\r\n  }\r\n\r\n  /**\r\n   * Removes and calls `destroy` on all Stick and Button objects in this plugin.\r\n   */\r\n  destroy() {\r\n    this.shutdown();\r\n\r\n    // clean up //\r\n  }\r\n\r\n  test() {}\r\n\r\n  hideTooltip(id, animate) {\r\n    if (animate) {\r\n      let isTweening = this.scene.tweens.isTweening(\r\n        this.tooltipCollection[id].container,\r\n      );\r\n      if (isTweening) {\r\n        this.scene.tweens.killTweensOf(this.tooltipCollection[id].container);\r\n      }\r\n\r\n      this.tween = this.scene.tweens.add({\r\n        targets: this.tooltipCollection[id].container,\r\n        alpha: 0,\r\n        ease: 'Power1',\r\n        duration: 250,\r\n        delay: 0,\r\n        onComplete: o => {\r\n          //this.tween = null;\r\n        },\r\n      });\r\n    } else {\r\n      this.tooltipCollection[id].container.visible = false;\r\n    }\r\n  }\r\n\r\n  showTooltip(id, animate) {\r\n    if (animate) {\r\n      this.tooltipCollection[id].container.alpha = 0;\r\n      this.tooltipCollection[id].container.visible = true;\r\n      this.scene.children.bringToTop(this.tooltipCollection[id].container);\r\n\r\n      let isTweening = this.scene.tweens.isTweening(\r\n        this.tooltipCollection[id].container,\r\n      );\r\n      if (isTweening) {\r\n        this.scene.tweens.killTweensOf(this.tooltipCollection[id].container);\r\n      }\r\n\r\n      this.tween = this.scene.tweens.add({\r\n        targets: this.tooltipCollection[id].container,\r\n        alpha: 1,\r\n        ease: 'Power1',\r\n        duration: 250,\r\n        delay: 0,\r\n        onComplete: o => {\r\n          //this.tween = null;\r\n        },\r\n      });\r\n    } else {\r\n      this.tooltipCollection[id].container.visible = true;\r\n      this.scene.children.bringToTop(this.tooltipCollection[id].container);\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   *\r\n   * @param {*} options\r\n   * @memberof FloatingTextUI\r\n   */\r\n  createTooltip(options) {\r\n    let background;\r\n\r\n    let container = this.scene.add\r\n      .container(0, 0)\r\n      .setDepth(49)\r\n      .setScrollFactor(0);\r\n\r\n    let content;\r\n    if (\r\n      options.content === undefined &&\r\n      options.text.text !== undefined &&\r\n      options.html === undefined\r\n    ) {\r\n      content = this.createLabel(container, 0, 0, options);\r\n    } else if (options.html !== undefined) {\r\n      content = options.html;\r\n    } else {\r\n      content = options.content;\r\n      content.x = content.displayWidth / 2;\r\n    }\r\n\r\n    container.width = content.displayWidth;\r\n    container.height = content.displayHeight;\r\n\r\n    if (options.hasBackground) {\r\n      background = this.createBackground(\r\n        container,\r\n        content,\r\n        options.x,\r\n        options.y,\r\n        options.background.width,\r\n        options.background.height,\r\n        options,\r\n      );\r\n      if (options.content === undefined && options.html === undefined) {\r\n        content.x = background.rect.centerX - content.displayWidth * 0.5;\r\n        content.y = background.rect.centerY - content.displayHeight * 0.5;\r\n      } else {\r\n        content.x = background.rect.centerX;\r\n        content.y = background.rect.centerY;\r\n      }\r\n\r\n      container.width = background.rect.width;\r\n      container.height = background.rect.height;\r\n    }\r\n\r\n    container.add(content);\r\n    container.x = options.x;\r\n    container.y = options.y;\r\n\r\n    this.tooltipCollection[options.id] = {\r\n      container: container,\r\n      target: options.target,\r\n      options: options,\r\n    };\r\n    this.target = options.target;\r\n    return container;\r\n  }\r\n\r\n  /**\r\n   *\r\n   *\r\n   * @param {*} id\r\n   * @returns\r\n   * @memberof PhaserTooltip\r\n   */\r\n  getTarget(id) {\r\n    return this.tooltipCollection[id].target;\r\n  }\r\n\r\n  getHeight(id) {\r\n    return this.tooltipCollection[id].container.height;\r\n  }\r\n\r\n  /**\r\n   *\r\n   *\r\n   * @param {*} id\r\n   * @returns\r\n   * @memberof PhaserTooltip\r\n   */\r\n  getPadding(id) {\r\n    var paddingTop = this.tooltipCollection[id].options.paddingTop || 12;\r\n    var paddingBottom = this.tooltipCollection[id].options.paddingBottom || 12;\r\n    var paddingLeft = this.tooltipCollection[id].options.paddingLeft || 16;\r\n    var paddingRight = this.tooltipCollection[id].options.paddingRight || 16;\r\n    return {\r\n      paddingLeft: paddingLeft,\r\n      paddingRight: paddingRight,\r\n      paddingTop: paddingTop,\r\n      paddingBottom: paddingBottom,\r\n    };\r\n  }\r\n\r\n  /**\r\n   *\r\n   *\r\n   * @param {*} x\r\n   * @param {*} y\r\n   * @param {*} options\r\n   * @memberof FloatingTextUI\r\n   */\r\n  createLabel(container, x, y, options) {\r\n    let text = this.scene.add\r\n      .text(x, y, options.text.text, {\r\n        fontFamily: options.text.fontFamily || 'new_rockerregular',\r\n        fontSize: options.text.fontSize || 19,\r\n        color: options.text.textColor || '#ffffff',\r\n        fontStyle: options.text.fontStyle || '',\r\n        align: options.text.align || 'center',\r\n      })\r\n      .setDepth(99)\r\n      .setScrollFactor(0)\r\n      .setOrigin(0.5);\r\n\r\n    if (options.hasShadow) {\r\n      let shadowColor = options.text.shadowColor || '#1e1e1e';\r\n      let blur = options.text.blur || 1;\r\n      let shadowStroke = options.text.shadowStroke || false;\r\n      let shadowFill = options.text.shadowFill || true;\r\n      text.setShadow(0, 0, shadowColor, blur, shadowStroke, shadowFill);\r\n    }\r\n\r\n    return text;\r\n  }\r\n\r\n  /**\r\n   *\r\n   *\r\n   * @param {*} x\r\n   * @param {*} y\r\n   * @param {*} width\r\n   * @param {*} height\r\n   * @param {*} color\r\n   * @param {*} border\r\n   * @param {*} borderColor\r\n   * @memberof FloatingTextUI\r\n   */\r\n  createBackground(container, content, x, y, width, height, options) {\r\n    var paddingTop = options.paddingTop || 12;\r\n    var paddingBottom = options.paddingBottom || 12;\r\n    var paddingLeft = options.paddingLeft || 16;\r\n    var paddingRight = options.paddingRight || 16;\r\n    let lineStyle = options.background.lineStyle || {\r\n      width: 2,\r\n      color: 0x000000,\r\n      alpha: 0.9,\r\n    };\r\n    let fillStyle = options.background.fillStyle || {\r\n      color: 0x000000,\r\n      alpha: 0.9,\r\n    };\r\n\r\n    var graphics = this.scene.add\r\n      .graphics({\r\n        lineStyle: lineStyle,\r\n        fillStyle: fillStyle,\r\n      })\r\n      .setDepth(100)\r\n      .setScrollFactor(0);\r\n\r\n    let _width =\r\n      width >= content.displayWidth + paddingLeft + paddingRight\r\n        ? width\r\n        : content.displayWidth + paddingLeft + paddingRight;\r\n    let _height =\r\n      height >= content.displayHeight + paddingTop + paddingBottom\r\n        ? height\r\n        : content.displayHeight + paddingTop + paddingBottom;\r\n\r\n    var rect = new Phaser.Geom.Rectangle(\r\n      options.html === undefined\r\n        ? -_width / 2 + container.width / 2\r\n        : -_width / 2,\r\n      0,\r\n      _width,\r\n      _height,\r\n    );\r\n    rect.width = _width;\r\n    rect.height = _height;\r\n    graphics.fillRectShape(rect);\r\n    container.add(graphics);\r\n\r\n    return { rect: rect, graphic: graphics };\r\n  }\r\n\r\n  showLabel() {}\r\n}\r\nexport default PhaserTooltip;\r\n","import {\r\n  INVENTORY_KEY,\r\n  QUESTS_KEY,\r\n  TALENTS_KEY,\r\n  THEME_DANGER_EFFECT_NUMBER,\r\n  THEME_NEGATIVE_EFFECT,\r\n  THEME_NEGATIVE_EFFECT_NUMBER,\r\n  THEME_POSITIVE_EFFECT,\r\n  THEME_POSTIVE_EFFECT_NUMBER,\r\n  THEME_WHITE,\r\n} from '../../constants';\r\n\r\nimport { fantasyIconsSpriteDefinition } from '../../assetDefinitions/sprites';\r\n\r\nconst BASE_DEPTH = 49;\r\n\r\nexport interface BasicTextConfig {\r\n  margin?: number;\r\n  fontSize?: number;\r\n  fontFamily?: string;\r\n  fontColor?: string;\r\n  depth?: number;\r\n}\r\n\r\nconst defaultBasicTextConfig: BasicTextConfig = {\r\n  margin: 25,\r\n  fontSize: 18,\r\n  fontFamily: 'Monospace',\r\n  fontColor: THEME_WHITE,\r\n  depth: BASE_DEPTH,\r\n};\r\n\r\nexport interface TopTextConfig extends BasicTextConfig {\r\n  padding?: number;\r\n}\r\n\r\nconst defaultTopTextConfig: TopTextConfig = {\r\n  ...defaultBasicTextConfig,\r\n  padding: 32,\r\n};\r\n\r\nexport interface CenterTextConfig extends BasicTextConfig {\r\n  fontStyle: string;\r\n  paddingX: number;\r\n  paddingY: number;\r\n}\r\n\r\nexport interface BuffDebuffTextConfig extends BasicTextConfig {\r\n  paddingX: number;\r\n  fontStyle: string;\r\n  align: 'right' | 'left';\r\n}\r\n\r\nexport interface FeatureTextConfig extends BasicTextConfig {\r\n  getPaddingX: (num: number) => number;\r\n  paddingY: number;\r\n  text: string;\r\n  align: string;\r\n}\r\n\r\nexport interface SpriteConfig {\r\n  spriteKey: string;\r\n  frame: number;\r\n}\r\n\r\nexport interface FeatureSpriteConfig extends SpriteConfig {\r\n  getPaddingX: (num: number) => number;\r\n  paddingY: number;\r\n  width: number;\r\n  height: number;\r\n  hoverText: string;\r\n  depth: number;\r\n  scale: number;\r\n}\r\n\r\nconst defaultCenterTextConfig: CenterTextConfig = {\r\n  ...defaultBasicTextConfig,\r\n  fontSize: defaultBasicTextConfig.fontSize! * 2,\r\n  fontStyle: 'bold',\r\n  paddingX: 16,\r\n  paddingY: 64,\r\n};\r\n\r\nconst defaultBuffTextConfig: BuffDebuffTextConfig = {\r\n  ...defaultBasicTextConfig,\r\n  fontColor: THEME_POSITIVE_EFFECT,\r\n  paddingX: 128,\r\n  fontStyle: 'bold',\r\n  align: 'left',\r\n};\r\n\r\nconst defaultDebuffTextConfig: BuffDebuffTextConfig = {\r\n  ...defaultBasicTextConfig,\r\n  fontColor: THEME_NEGATIVE_EFFECT,\r\n  paddingX: -128,\r\n  fontStyle: 'bold',\r\n  align: 'right',\r\n};\r\n\r\nconst defaultFeatureTextConfig: FeatureTextConfig = {\r\n  ...defaultBasicTextConfig,\r\n  getPaddingX: num => num * 48 + 48,\r\n  paddingY: 36,\r\n  text: '',\r\n  align: 'center',\r\n  fontSize: 14,\r\n};\r\n\r\nconst defaultFeatureSpriteConfig: FeatureSpriteConfig = {\r\n  getPaddingX: num => num * 48 + 48,\r\n  paddingY: 48,\r\n  width: 48,\r\n  height: 48,\r\n  spriteKey: fantasyIconsSpriteDefinition.key,\r\n  frame: 15,\r\n  hoverText: '',\r\n  depth: BASE_DEPTH,\r\n  scale: 1.5,\r\n};\r\n\r\nexport interface HpBarConfig {\r\n  backgroundColor: number;\r\n  lowColor: number;\r\n  mediumColor: number;\r\n  highColor: number;\r\n  barHeight: number;\r\n  paddingX: number;\r\n  paddingY: number;\r\n}\r\n\r\nconst defaultHpBarConfig: HpBarConfig = {\r\n  backgroundColor: 0x000,\r\n  lowColor: THEME_NEGATIVE_EFFECT_NUMBER,\r\n  mediumColor: THEME_DANGER_EFFECT_NUMBER,\r\n  highColor: THEME_POSTIVE_EFFECT_NUMBER,\r\n  barHeight: 10,\r\n  paddingX: 32,\r\n  paddingY: 32,\r\n};\r\n\r\nexport interface HudConfig {\r\n  texts: {\r\n    bottomCenter?: BasicTextConfig;\r\n    topLeft?: TopTextConfig;\r\n    topCenter?: TopTextConfig;\r\n    center?: CenterTextConfig;\r\n    hp?: {\r\n      label?: TopTextConfig;\r\n      value?: TopTextConfig;\r\n    };\r\n    buffs?: BuffDebuffTextConfig;\r\n    debuffs?: BuffDebuffTextConfig;\r\n    inventory?: FeatureTextConfig;\r\n    quest?: FeatureTextConfig;\r\n    talents?: FeatureTextConfig;\r\n  };\r\n  bars: {\r\n    hp?: HpBarConfig;\r\n  };\r\n  sprites: {\r\n    featured: {\r\n      inventory: FeatureSpriteConfig;\r\n      quests: FeatureSpriteConfig;\r\n      talents: FeatureSpriteConfig;\r\n    };\r\n  } & Record<string, Record<string, SpriteConfig>>;\r\n  maxHealth: number;\r\n}\r\n\r\nexport const DEFAULT_CONFIG: HudConfig = {\r\n  texts: {\r\n    bottomCenter: {\r\n      ...defaultBasicTextConfig,\r\n    },\r\n    topLeft: {\r\n      ...defaultTopTextConfig,\r\n    },\r\n    topCenter: {\r\n      ...defaultTopTextConfig,\r\n    },\r\n    center: {\r\n      ...defaultCenterTextConfig,\r\n    },\r\n    hp: {\r\n      label: { ...defaultTopTextConfig },\r\n      value: { ...defaultTopTextConfig },\r\n    },\r\n    buffs: {\r\n      ...defaultBuffTextConfig,\r\n    },\r\n    debuffs: {\r\n      ...defaultDebuffTextConfig,\r\n    },\r\n    inventory: {\r\n      ...defaultFeatureTextConfig,\r\n      text: INVENTORY_KEY,\r\n    },\r\n    quest: {\r\n      ...defaultFeatureTextConfig,\r\n      text: QUESTS_KEY,\r\n    },\r\n    talents: {\r\n      ...defaultFeatureTextConfig,\r\n      text: TALENTS_KEY,\r\n    },\r\n  },\r\n  bars: {\r\n    hp: { ...defaultHpBarConfig },\r\n  },\r\n  sprites: {\r\n    featured: {\r\n      inventory: {\r\n        ...defaultFeatureSpriteConfig,\r\n        frame: 160,\r\n        hoverText: 'Inventory',\r\n      },\r\n      quests: {\r\n        ...defaultFeatureSpriteConfig,\r\n        frame: 218,\r\n        hoverText: 'Quests',\r\n      },\r\n      talents: {\r\n        ...defaultFeatureSpriteConfig,\r\n        frame: 53,\r\n        hoverText: 'Talents',\r\n      },\r\n    },\r\n  },\r\n  maxHealth: 100,\r\n};\r\n\r\nexport const INACTIVE_FEATURE_SPRITE_FRAME = 15;\r\n","import { BasicTextConfig, TopTextConfig } from '../../../types/hud/shared';\r\nimport { THEME_WHITE, UI_DEPTH } from '../../../constants';\r\n\r\nexport const defaultBasicTextConfig: BasicTextConfig = {\r\n  margin: 25,\r\n  fontSize: 18,\r\n  fontFamily: 'Monospace',\r\n  fontColor: THEME_WHITE,\r\n  depth: UI_DEPTH,\r\n};\r\nexport const defaultTopTextConfig: TopTextConfig = {\r\n  ...defaultBasicTextConfig,\r\n  padding: 32,\r\n};\r\n","import { defaultBasicTextConfig, defaultTopTextConfig } from '../shared/config';\r\n\r\nimport { BasicTextUIConfig } from '../../../types/hud/basicText';\r\nimport { CenterTextConfig } from '../../../hud/config';\r\n\r\nexport const defaultCenterTextConfig: CenterTextConfig = {\r\n  ...defaultBasicTextConfig,\r\n  fontSize: defaultBasicTextConfig.fontSize! * 2,\r\n  fontStyle: 'bold',\r\n  paddingX: 16,\r\n  paddingY: 64,\r\n};\r\n\r\nexport const defaultBasicTextUIConfig: BasicTextUIConfig = {\r\n  bottomCenter: { ...defaultBasicTextConfig },\r\n  topLeft: { ...defaultTopTextConfig },\r\n  topCenter: { ...defaultTopTextConfig },\r\n  center: { ...defaultCenterTextConfig },\r\n};\r\n","export function mergeWithDefault<T>(defaultObject: T, providedObject?: T) {\r\n  if (!providedObject) return defaultObject;\r\n\r\n  Object.keys(providedObject).forEach(key => {\r\n    if (providedObject[key] === undefined) {\r\n      delete providedObject[key];\r\n    }\r\n  });\r\n\r\n  return {\r\n    ...defaultObject,\r\n    ...providedObject,\r\n  };\r\n}\r\n","import { BasicTextUIConfig } from '../../../types/hud/basicText';\r\nimport { Scene } from 'phaser';\r\nimport { defaultBasicTextUIConfig } from './config';\r\nimport { mergeWithDefault } from '../../../helpers/mergeWithDefault';\r\n\r\nexport default class BasicTextUI {\r\n  private _texts: {\r\n    bottomCenter?: Phaser.GameObjects.Text;\r\n    topLeftPrimary?: Phaser.GameObjects.Text;\r\n    topLeftSecondary?: Phaser.GameObjects.Text;\r\n    topCenter?: Phaser.GameObjects.Text;\r\n    center?: Phaser.GameObjects.Text;\r\n  } = {};\r\n\r\n  private _scene: Scene;\r\n  private _config: BasicTextUIConfig;\r\n\r\n  constructor(scene: Scene, config?: BasicTextUIConfig) {\r\n    this._config = mergeWithDefault(defaultBasicTextUIConfig, config);\r\n    this._scene = scene;\r\n    Object.keys(this._config).forEach(key => {\r\n      this._setTextDisplay(key as keyof BasicTextUIConfig, this._config);\r\n    });\r\n  }\r\n\r\n  public shutdown = () => {\r\n    if (this._texts.bottomCenter) {\r\n      this._texts.bottomCenter.destroy();\r\n      this._texts.bottomCenter = undefined;\r\n    }\r\n    if (this._texts.topLeftPrimary) {\r\n      this._texts.topLeftPrimary.destroy();\r\n      this._texts.topLeftPrimary = undefined;\r\n    }\r\n    if (this._texts.topLeftSecondary) {\r\n      this._texts.topLeftSecondary.destroy();\r\n      this._texts.topLeftSecondary = undefined;\r\n    }\r\n    if (this._texts.topCenter) {\r\n      this._texts.topCenter.destroy();\r\n      this._texts.topCenter = undefined;\r\n    }\r\n    if (this._texts.center) {\r\n      this._texts.center.destroy();\r\n      this._texts.center = undefined;\r\n    }\r\n  };\r\n\r\n  public updateBottomCenterText = (value?: string) => {\r\n    this._updateText('bottomCenter', value);\r\n  };\r\n\r\n  public updateTopCenterText = (value?: string) => {\r\n    this._updateText('topCenter', value);\r\n  };\r\n\r\n  public updateCenterText = (value?: string) => {\r\n    this._updateText('center', value);\r\n  };\r\n\r\n  public updateTopLeftText = (primary?: string, secondary?: string) => {\r\n    if (!this._texts.topLeftPrimary) return;\r\n    if (primary) {\r\n      this._updateText('topLeftPrimary', primary);\r\n\r\n      if (secondary) {\r\n        this._setTopLeftSecondaryText(secondary);\r\n      } else {\r\n        this._removeTopLeftSecondaryText();\r\n      }\r\n    } else {\r\n      this._removeTopLeftPrimaryText();\r\n      this._removeTopLeftSecondaryText();\r\n    }\r\n  };\r\n\r\n  private _setTextDisplay = (\r\n    key: keyof BasicTextUIConfig,\r\n    config: BasicTextUIConfig,\r\n  ) => {\r\n    if (key === 'bottomCenter') {\r\n      this._setBottomCenterTextDisplay(config.bottomCenter);\r\n    } else if (key === 'center') {\r\n      this._setCenterTextDisplay(config.center);\r\n    } else if (key === 'topCenter') {\r\n      this._setTopCenterTextDisplay(config.topCenter);\r\n    } else if (key === 'topLeft') {\r\n      this._setTopLeftTextDisplay(config.topLeft);\r\n    }\r\n  };\r\n\r\n  private _setBottomCenterTextDisplay = (\r\n    config: BasicTextUIConfig['bottomCenter'],\r\n  ) => {\r\n    if (this._texts.bottomCenter) this._texts.bottomCenter.destroy();\r\n\r\n    const { fontSize, fontFamily, fontColor, depth, margin } = config!;\r\n\r\n    const x = this._getGameWidth() / 2;\r\n    const y = this._getGameHeight() - margin!;\r\n\r\n    this._texts.bottomCenter = this._scene.make.text({\r\n      x,\r\n      y,\r\n      depth,\r\n      text: '',\r\n      style: {\r\n        color: fontColor,\r\n        fontFamily,\r\n        fontSize: `${fontSize}px`,\r\n      },\r\n      visible: false,\r\n      scrollFactor: 0,\r\n      origin: 0.5,\r\n    });\r\n\r\n    return this;\r\n  };\r\n\r\n  private _setCenterTextDisplay = (config: BasicTextUIConfig['center']) => {\r\n    if (this._texts.center) this._texts.center.destroy();\r\n\r\n    const {\r\n      fontSize,\r\n      fontFamily,\r\n      fontColor,\r\n      depth,\r\n      fontStyle,\r\n      paddingX,\r\n      paddingY,\r\n    } = config!;\r\n\r\n    const centerXY = this._getGameHeight() / 2;\r\n\r\n    const x = centerXY + paddingX;\r\n    const y = centerXY - paddingY;\r\n\r\n    this._texts.center = this._scene.make.text({\r\n      x,\r\n      y,\r\n      depth,\r\n      text: '',\r\n      visible: false,\r\n      scrollFactor: 0,\r\n      origin: 0.5,\r\n      style: {\r\n        color: fontColor,\r\n        fontFamily,\r\n        fontSize: `${fontSize}px`,\r\n        fontStyle,\r\n      },\r\n    });\r\n\r\n    return this;\r\n  };\r\n\r\n  private _setTopCenterTextDisplay = (\r\n    config: BasicTextUIConfig['topCenter'],\r\n  ) => {\r\n    if (this._texts.topCenter) this._texts.topCenter.destroy();\r\n\r\n    const { fontSize, fontFamily, fontColor, depth, padding } = config!;\r\n\r\n    const x = this._getGameWidth() / 2;\r\n    const y = padding;\r\n\r\n    this._texts.topCenter = this._scene.make.text({\r\n      x,\r\n      y,\r\n      depth,\r\n      text: '',\r\n      style: {\r\n        color: fontColor,\r\n        fontFamily,\r\n        fontSize: `${fontSize}px`,\r\n      },\r\n      visible: false,\r\n      scrollFactor: 0,\r\n      origin: 0.5,\r\n    });\r\n\r\n    return this;\r\n  };\r\n\r\n  private _setTopLeftTextDisplay = (config: BasicTextUIConfig['topLeft']) => {\r\n    if (this._texts.topLeftPrimary) this._texts.topLeftPrimary.destroy();\r\n    if (this._texts.topLeftSecondary) this._texts.topLeftSecondary.destroy();\r\n\r\n    const { fontSize, fontFamily, fontColor, depth, padding } = config!;\r\n\r\n    const xPrimary = padding;\r\n    const yPrimary = padding;\r\n\r\n    this._texts.topLeftPrimary = this._scene.make.text({\r\n      x: xPrimary,\r\n      y: yPrimary,\r\n      depth,\r\n      text: '',\r\n      style: {\r\n        color: fontColor,\r\n        fontFamily,\r\n        fontSize: `${fontSize}px`,\r\n      },\r\n      visible: false,\r\n      scrollFactor: 0,\r\n    });\r\n\r\n    this._texts.topLeftSecondary = this._scene.make.text({\r\n      x: xPrimary,\r\n      y: yPrimary! + fontSize! + 10,\r\n      depth,\r\n      text: '',\r\n      style: {\r\n        color: fontColor,\r\n        fontFamily,\r\n        fontSize: `${fontSize}px`,\r\n      },\r\n      visible: false,\r\n      scrollFactor: 0,\r\n    });\r\n\r\n    return this;\r\n  };\r\n\r\n  private _updateText = (textKey: keyof typeof this._texts, value?: string) => {\r\n    if (!this._texts[textKey]) return;\r\n    if (value !== undefined) {\r\n      this._setText(textKey, value);\r\n    } else {\r\n      this._removeText(textKey);\r\n    }\r\n  };\r\n\r\n  private _setText = (textKey: keyof typeof this._texts, value: string) => {\r\n    this._texts[textKey]?.setText(value).setVisible(true);\r\n  };\r\n\r\n  private _removeText = (textKey: keyof typeof this._texts) => {\r\n    this._texts[textKey]?.setText('').setVisible(false);\r\n  };\r\n\r\n  private _setTopLeftSecondaryText = (value: string) => {\r\n    if (!(this._texts.topLeftPrimary && this._texts.topLeftSecondary)) return;\r\n    this._texts.topLeftSecondary.setText(value).setVisible(true);\r\n  };\r\n\r\n  private _removeTopLeftPrimaryText = () => {\r\n    if (!this._texts.topLeftPrimary) return;\r\n    this._texts.topLeftPrimary.setVisible(false).setText('');\r\n\r\n    this._removeTopLeftSecondaryText();\r\n  };\r\n\r\n  private _removeTopLeftSecondaryText = () => {\r\n    if (!(this._texts.topLeftPrimary && this._texts.topLeftSecondary)) return;\r\n    this._texts.topLeftSecondary.setVisible(false).setText('');\r\n  };\r\n\r\n  private _getGameWidth = () => this._scene.cameras.main.worldView.width;\r\n  private _getGameHeight = () => this._scene.cameras.main.worldView.height;\r\n}\r\n","import {\r\n  BattleTextUIConfig,\r\n  BuffDebuffTextConfig,\r\n} from '../../../types/hud/battleText';\r\nimport {\r\n  THEME_NEGATIVE_EFFECT,\r\n  THEME_POSITIVE_EFFECT,\r\n} from '../../../constants';\r\n\r\nimport { defaultBasicTextConfig } from '../shared/config';\r\n\r\nconst defaultBuffTextConfig: BuffDebuffTextConfig = {\r\n  ...defaultBasicTextConfig,\r\n  fontColor: THEME_POSITIVE_EFFECT,\r\n  paddingX: 128,\r\n  fontStyle: 'bold',\r\n  align: 'left',\r\n};\r\n\r\nconst defaultDebuffTextConfig: BuffDebuffTextConfig = {\r\n  ...defaultBasicTextConfig,\r\n  fontColor: THEME_NEGATIVE_EFFECT,\r\n  paddingX: -128,\r\n  fontStyle: 'bold',\r\n  align: 'right',\r\n};\r\n\r\nexport const defaultBattleTextUIConfig: BattleTextUIConfig = {\r\n  buffs: { ...defaultBuffTextConfig },\r\n  debuffs: { ...defaultDebuffTextConfig },\r\n};\r\n","import {\r\n  BattleTextUIConfig,\r\n  BuffDebuffTextConfig,\r\n} from '../../../types/hud/battleText';\r\n\r\nimport { Scene } from 'phaser';\r\nimport { defaultBattleTextUIConfig } from './config';\r\nimport { mergeWithDefault } from '../../../helpers/mergeWithDefault';\r\n\r\nexport default class BattleTextUI {\r\n  private _scene: Scene;\r\n  private _config: BattleTextUIConfig;\r\n\r\n  private _buffs?: Phaser.GameObjects.Text[];\r\n  private _debuffs?: Phaser.GameObjects.Text[];\r\n\r\n  constructor(scene: Scene, config?: BattleTextUIConfig) {\r\n    this._config = mergeWithDefault(defaultBattleTextUIConfig, config);\r\n    this._scene = scene;\r\n    Object.keys(this._config).forEach(key => {\r\n      this._setDisplay(key as keyof BattleTextUIConfig, this._config);\r\n    });\r\n  }\r\n\r\n  public shutdown = () => {\r\n    if (this._buffs) {\r\n      this._buffs.forEach(buff => buff.shutdown());\r\n    }\r\n\r\n    if (this._debuffs) {\r\n      this._debuffs.forEach(debuff => debuff.shutdown());\r\n    }\r\n  };\r\n\r\n  public addBuffText = (value: string, duration: number) => {\r\n    this._addBuffDebuffText(value, duration, 'buffs', this._buffs);\r\n  };\r\n\r\n  public addDebuffText = (value: string, duration: number) => {\r\n    this._addBuffDebuffText(value, duration, 'debuffs', this._debuffs);\r\n  };\r\n\r\n  private _setDisplay = (\r\n    key: keyof BattleTextUIConfig,\r\n    config: BattleTextUIConfig,\r\n  ) => {\r\n    if (false) {\r\n    }\r\n  };\r\n\r\n  private _addBuffDebuffText = (\r\n    value: string,\r\n    fadeScrollDuration: number,\r\n    type: 'buffs' | 'debuffs',\r\n    texts?: Phaser.GameObjects.Text[],\r\n  ) => {\r\n    if (!texts) {\r\n      texts = [];\r\n    }\r\n\r\n    const config = type === 'buffs' ? this._config.buffs : this._config.debuffs;\r\n\r\n    const newText = this._createBuffDebuffTextDisplay(config!, value);\r\n\r\n    const newTextIndex = texts.length;\r\n\r\n    texts.push(newText);\r\n\r\n    this._fadeScrollBuffDebuffText(newText, fadeScrollDuration);\r\n    this._scene.time.delayedCall(\r\n      fadeScrollDuration,\r\n      this._removeBuffDebuffText,\r\n      [texts, newTextIndex],\r\n      this,\r\n    );\r\n  };\r\n\r\n  private _createBuffDebuffTextDisplay = (\r\n    config: BuffDebuffTextConfig,\r\n    value: string,\r\n  ) => {\r\n    const {\r\n      fontSize,\r\n      fontFamily,\r\n      fontColor,\r\n      depth,\r\n      paddingX,\r\n      fontStyle,\r\n      align,\r\n    } = config;\r\n\r\n    const centerX = this._getGameWidth() / 2;\r\n    const centerY = this._getGameHeight() / 2;\r\n\r\n    const x = centerX + paddingX;\r\n    const y = centerY;\r\n\r\n    return this._scene.make.text({\r\n      x,\r\n      y,\r\n      depth,\r\n      text: value,\r\n      visible: true,\r\n      scrollFactor: 0,\r\n      origin: 0.5,\r\n      style: {\r\n        color: fontColor,\r\n        fontFamily,\r\n        fontSize: `${fontSize}px`,\r\n        align,\r\n        fontStyle,\r\n      },\r\n    });\r\n  };\r\n\r\n  private _fadeScrollText = (\r\n    text: Phaser.GameObjects.Text,\r\n    delay: number,\r\n    duration: number,\r\n  ) => {\r\n    this._scene.time.delayedCall(\r\n      delay,\r\n      () => {\r\n        this._fadeOutText(text, duration)._scrollDownText(text, duration);\r\n      },\r\n      [],\r\n      this,\r\n    );\r\n  };\r\n\r\n  private _fadeOutText = (text: Phaser.GameObjects.Text, duration: number) => {\r\n    this._scene.add.tween({\r\n      targets: [text],\r\n      duration,\r\n      ease: 'Linear',\r\n      alpha: 0,\r\n    });\r\n\r\n    return this;\r\n  };\r\n\r\n  private _scrollDownText = (\r\n    text: Phaser.GameObjects.Text,\r\n    duration: number,\r\n  ) => {\r\n    this._scene.add.tween({\r\n      targets: [text],\r\n      duration,\r\n      ease: 'Linear',\r\n      y: '+=100',\r\n    });\r\n\r\n    return this;\r\n  };\r\n\r\n  private _fadeScrollBuffDebuffText = (\r\n    text: Phaser.GameObjects.Text,\r\n    fadeScrollDuration: number,\r\n  ) => {\r\n    this._fadeScrollText(text, 0, fadeScrollDuration);\r\n\r\n    return this;\r\n  };\r\n\r\n  private _removeBuffDebuffText = (\r\n    texts: Phaser.GameObjects.Text[],\r\n    index: number,\r\n  ) => {\r\n    texts.splice(index, 1);\r\n  };\r\n\r\n  private _getGameWidth = () => this._scene.cameras.main.worldView.width;\r\n  private _getGameHeight = () => this._scene.cameras.main.worldView.height;\r\n}\r\n","import { HealthBarUIConfig, HpBarConfig } from '../../../types/hud/healthbar';\r\nimport {\r\n  THEME_DANGER_EFFECT_NUMBER,\r\n  THEME_NEGATIVE_EFFECT_NUMBER,\r\n  THEME_POSTIVE_EFFECT_NUMBER,\r\n} from '../../../constants';\r\n\r\nimport { defaultTopTextConfig } from '../shared/config';\r\n\r\nexport const defaultHpBarConfig: HpBarConfig = {\r\n  backgroundColor: 0x000,\r\n  lowColor: THEME_NEGATIVE_EFFECT_NUMBER,\r\n  mediumColor: THEME_DANGER_EFFECT_NUMBER,\r\n  highColor: THEME_POSTIVE_EFFECT_NUMBER,\r\n  barHeight: 10,\r\n  paddingX: 32,\r\n  paddingY: 32,\r\n  maxHealth: 100,\r\n};\r\n\r\nexport const defaultHealthBarUIConfig: HealthBarUIConfig = {\r\n  label: { ...defaultTopTextConfig },\r\n  value: { ...defaultTopTextConfig },\r\n  bar: { ...defaultHpBarConfig },\r\n};\r\n","import { HealthBarUIConfig } from '../../../types/hud/healthbar';\r\nimport { Scene } from 'phaser';\r\nimport { UI_DEPTH } from '../../../constants';\r\nimport { defaultHealthBarUIConfig } from './config';\r\nimport { mergeWithDefault } from '../../../helpers/mergeWithDefault';\r\n\r\nexport default class HealthBarUI {\r\n  private _scene: Scene;\r\n\r\n  private _label: Phaser.GameObjects.Text;\r\n  private _value: Phaser.GameObjects.Text;\r\n  private _barValue: Phaser.GameObjects.Graphics;\r\n  private _barBackground: Phaser.GameObjects.Graphics;\r\n\r\n  private _config: HealthBarUIConfig;\r\n\r\n  constructor(scene: Scene, config?: HealthBarUIConfig) {\r\n    this._config = mergeWithDefault(defaultHealthBarUIConfig, config);\r\n    this._scene = scene;\r\n    Object.keys(this._config).forEach(key => {\r\n      this._setDisplay(key as keyof HealthBarUIConfig, this._config);\r\n    });\r\n  }\r\n\r\n  public shutdown = () => {\r\n    if (this._label) {\r\n      this._label.destroy();\r\n    }\r\n    if (this._value) this._value.destroy();\r\n    if (this._barValue) this._barValue.destroy();\r\n    if (this._barBackground) this._barBackground.destroy();\r\n  };\r\n\r\n  public updateBar = (value: number) => {\r\n    if (!(this._barBackground && this._barValue)) return;\r\n    this._setBarValue(value);\r\n\r\n    return this;\r\n  };\r\n\r\n  public updateValueText = (value?: number) => {\r\n    if (value !== undefined) {\r\n      this._setValueText(value);\r\n    } else {\r\n      this._removeValueText();\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  public updateHealth = (value?: number) => {\r\n    if (value !== undefined) {\r\n      this.updateBar(value)?.updateValueText(value);\r\n    } else {\r\n      this.updateValueText();\r\n    }\r\n  };\r\n\r\n  private _setDisplay = (\r\n    key: keyof HealthBarUIConfig,\r\n    config: HealthBarUIConfig,\r\n  ) => {\r\n    if (key === 'label') {\r\n      this._setLabelDisplay(config.label, config.bar);\r\n    } else if (key === 'value') {\r\n      this._setValueDisplay(config.value, config.bar);\r\n    } else if (key === 'bar') {\r\n      this._setBarDisplay(config.bar);\r\n    }\r\n  };\r\n\r\n  private _setLabelDisplay = (\r\n    labelConfig: HealthBarUIConfig['label'],\r\n    barConfig: HealthBarUIConfig['bar'],\r\n  ) => {\r\n    if (this._label) this._label.destroy();\r\n\r\n    const { fontSize, fontFamily, fontColor, depth } = labelConfig!;\r\n\r\n    const { paddingX, paddingY, barHeight } = barConfig!;\r\n\r\n    const gameWidth = this._getGameWidth();\r\n\r\n    const barWidth = gameWidth / 4;\r\n    const x = gameWidth - barWidth - paddingX;\r\n    const y = paddingY + 2 * barHeight;\r\n\r\n    this._label = this._scene.make.text({\r\n      x,\r\n      y,\r\n      depth,\r\n      text: 'HP',\r\n      visible: true,\r\n      scrollFactor: 0,\r\n      style: {\r\n        color: fontColor,\r\n        fontFamily,\r\n        fontSize: `${fontSize}px`,\r\n      },\r\n      origin: 0,\r\n    });\r\n\r\n    return this;\r\n  };\r\n\r\n  private _setValueDisplay = (\r\n    valueConfig: HealthBarUIConfig['value'],\r\n    barConfig: HealthBarUIConfig['bar'],\r\n  ) => {\r\n    if (this._value) this._value.destroy();\r\n\r\n    const { fontSize, fontFamily, fontColor, depth } = valueConfig!;\r\n\r\n    const { paddingX, paddingY, barHeight } = barConfig!;\r\n\r\n    const gameWidth = this._getGameWidth();\r\n    const x = gameWidth - paddingX;\r\n    const y = paddingY + 2 * barHeight;\r\n\r\n    this._value = this._scene.make\r\n      .text({\r\n        x,\r\n        y,\r\n        depth,\r\n        text: '',\r\n        visible: false,\r\n        scrollFactor: 0,\r\n        style: {\r\n          color: fontColor,\r\n          fontFamily,\r\n          fontSize: `${fontSize}px`,\r\n        },\r\n      })\r\n      .setOrigin(1, 0);\r\n\r\n    return this;\r\n  };\r\n\r\n  private _setBarDisplay = (config: HealthBarUIConfig['bar']) => {\r\n    this._setBarGraphics()._setBarBackground(config);\r\n  };\r\n\r\n  private _setBarGraphics = () => {\r\n    this._barValue = this._scene.add.graphics().setScrollFactor(0);\r\n\r\n    this._barBackground = this._scene.add.graphics().setScrollFactor(0);\r\n\r\n    return this;\r\n  };\r\n\r\n  private _setBarBackground = (config: HealthBarUIConfig['bar']) => {\r\n    if (!this._barBackground) return;\r\n\r\n    const { paddingX, paddingY, barHeight, backgroundColor } = config!;\r\n\r\n    const gameWidth = this._getGameWidth();\r\n\r\n    const barWidth = gameWidth / 4;\r\n\r\n    this._barBackground\r\n      .fillStyle(backgroundColor, 1)\r\n      .fillRect(gameWidth - barWidth - paddingX, paddingY, barWidth, barHeight)\r\n      .setDepth(UI_DEPTH);\r\n\r\n    return this;\r\n  };\r\n\r\n  private _setBarValue = (value: number) => {\r\n    if (!(this._barValue && this._barValue)) return;\r\n\r\n    const {\r\n      paddingX,\r\n      paddingY,\r\n      barHeight,\r\n      lowColor,\r\n      mediumColor,\r\n      highColor,\r\n      maxHealth,\r\n    } = this._config.bar!;\r\n\r\n    const gameWidth = this._getGameWidth();\r\n\r\n    const barWidth = gameWidth / 4;\r\n\r\n    let barColor: number;\r\n    if (value > 30) {\r\n      barColor = highColor;\r\n    } else if (value >= 15) {\r\n      barColor = mediumColor;\r\n    } else {\r\n      barColor = lowColor;\r\n    }\r\n\r\n    this._barValue\r\n      .clear()\r\n      .fillStyle(barColor, 1)\r\n      .fillRect(\r\n        gameWidth - barWidth - paddingX,\r\n        paddingY,\r\n        (barWidth * value) / maxHealth,\r\n        barHeight,\r\n      )\r\n      .setDepth(UI_DEPTH + 1);\r\n\r\n    return this;\r\n  };\r\n\r\n  private _setValueText = (value: number) => {\r\n    if (!this._value) return;\r\n\r\n    const { maxHealth } = this._config.bar!;\r\n    this._value.setText(`${value}/${maxHealth}`).setVisible(true);\r\n  };\r\n\r\n  private _removeValueText = () => {\r\n    if (!this._value.text) return;\r\n    this._value.setVisible(false).setText('');\r\n  };\r\n\r\n  private _getGameWidth = () => this._scene.cameras.main.worldView.width;\r\n  private _getGameHeight = () => this._scene.cameras.main.worldView.height;\r\n}\r\n","export type AnyCallback = (...params: any[]) => any;\r\nexport const noop: AnyCallback = () => {};\r\n","import {\r\n  FeatureSpriteConfig,\r\n  FeatureTextConfig,\r\n  UnlockedFeatureUIConfig,\r\n} from '../../../types/hud/unlockedFeatures';\r\nimport {\r\n  INVENTORY_KEY,\r\n  QUESTS_KEY,\r\n  TALENTS_KEY,\r\n  UI_DEPTH,\r\n} from '../../../constants';\r\n\r\nimport { defaultBasicTextConfig } from '../shared/config';\r\nimport { fantasyIconsSpriteDefinition } from '../../../assetDefinitions/sprites';\r\n\r\nexport const defaultFeatureTextConfig: FeatureTextConfig = {\r\n  ...defaultBasicTextConfig,\r\n  getPaddingX: num => num * 48 + 48,\r\n  paddingY: 36,\r\n  text: '',\r\n  align: 'center',\r\n  fontSize: 14,\r\n};\r\n\r\nconst defaultFeatureSpriteConfig: FeatureSpriteConfig = {\r\n  getPaddingX: num => num * 48 + 48,\r\n  paddingY: 48,\r\n  width: 48,\r\n  height: 48,\r\n  spriteKey: fantasyIconsSpriteDefinition.key,\r\n  frame: 15,\r\n  hoverText: '',\r\n  depth: UI_DEPTH,\r\n  scale: 1.5,\r\n};\r\n\r\nexport const defaultUnlockedFeatureUIConfig: UnlockedFeatureUIConfig = {\r\n  inventoryText: {\r\n    ...defaultFeatureTextConfig,\r\n    text: INVENTORY_KEY,\r\n  },\r\n  inventorySprite: {\r\n    ...defaultFeatureSpriteConfig,\r\n    frame: 160,\r\n    hoverText: 'Inventory',\r\n  },\r\n  questsText: {\r\n    ...defaultFeatureTextConfig,\r\n    text: QUESTS_KEY,\r\n  },\r\n  questsSprite: {\r\n    ...defaultFeatureSpriteConfig,\r\n    frame: 218,\r\n    hoverText: 'Quests',\r\n  },\r\n  talentsText: {\r\n    ...defaultFeatureTextConfig,\r\n    text: TALENTS_KEY,\r\n  },\r\n  talentsSprite: {\r\n    ...defaultFeatureSpriteConfig,\r\n    frame: 53,\r\n    hoverText: 'Talents',\r\n  },\r\n  inactiveSpriteFrame: 15,\r\n};\r\n","import { AnyCallback, noop } from '../../../types/callback';\r\nimport {\r\n  FeatureSpriteConfig,\r\n  FeatureTextConfig,\r\n  UnlockedFeatureUIConfig,\r\n} from '../../../types/hud/unlockedFeatures';\r\nimport {\r\n  UnlockedFeatureCallbacks,\r\n  UnlockedFeatures,\r\n} from '../../../types/savedData';\r\n\r\nimport { Scene } from 'phaser';\r\nimport { UIScene } from '../../../scenes/UIScene';\r\nimport { defaultUnlockedFeatureUIConfig } from './config';\r\nimport { mergeWithDefault } from '../../../helpers/mergeWithDefault';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nexport default class UnlockedFeaturesUI {\r\n  private _scene: Scene;\r\n\r\n  private _sprites: {\r\n    inventoryActive?: Phaser.GameObjects.Sprite;\r\n    inventoryInactive?: Phaser.GameObjects.Sprite;\r\n    questsActive?: Phaser.GameObjects.Sprite;\r\n    questsInactive?: Phaser.GameObjects.Sprite;\r\n    talentsActive?: Phaser.GameObjects.Sprite;\r\n    talentsInactive?: Phaser.GameObjects.Sprite;\r\n  } = {};\r\n\r\n  private _texts: {\r\n    inventory?: Phaser.GameObjects.Text;\r\n    quests?: Phaser.GameObjects.Text;\r\n    talents?: Phaser.GameObjects.Text;\r\n  } = {};\r\n\r\n  private _callbacks: {\r\n    inventory: AnyCallback;\r\n    quests: AnyCallback;\r\n    talents: AnyCallback;\r\n  } = {\r\n    inventory: noop,\r\n    quests: noop,\r\n    talents: noop,\r\n  };\r\n\r\n  private _config: UnlockedFeatureUIConfig;\r\n\r\n  constructor(scene: Scene, config?: UnlockedFeatureUIConfig) {\r\n    this._config = mergeWithDefault(defaultUnlockedFeatureUIConfig, config);\r\n    this._scene = scene;\r\n    Object.keys(this._config).forEach(key => {\r\n      this._setDisplay(key as keyof UnlockedFeatureUIConfig, this._config);\r\n    });\r\n  }\r\n\r\n  public shutdown = () => {\r\n    Object.keys(this._sprites).forEach(key => {\r\n      if (this._sprites[key]) this._sprites[key].destroy();\r\n    });\r\n    Object.keys(this._texts).forEach(key => {\r\n      if (this._texts[key]) this._texts[key].destroy();\r\n    });\r\n    Object.keys(this._callbacks).forEach(key => (this._callbacks[key] = noop));\r\n  };\r\n\r\n  public update = (\r\n    features: UnlockedFeatures,\r\n    callbacks: UnlockedFeatureCallbacks,\r\n  ) => this._update(features, callbacks);\r\n\r\n  private _setDisplay = (\r\n    key: keyof UnlockedFeatureUIConfig,\r\n    config: UnlockedFeatureUIConfig,\r\n  ) => {\r\n    if (key === 'inventoryText') {\r\n      this._setTextDisplay(config.inventoryText!, 0, 'inventory');\r\n    } else if (key === 'questsText') {\r\n      this._setTextDisplay(config.questsText!, 1, 'quests');\r\n    } else if (key === 'talentsText') {\r\n      this._setTextDisplay(config.talentsText!, 2, 'talents');\r\n    } else if (key === 'inventorySprite') {\r\n      this._setSpriteDisplay(\r\n        config.inventorySprite!,\r\n        0,\r\n        'inventory',\r\n        'inventoryActive',\r\n        'inventoryInactive',\r\n      );\r\n    } else if (key === 'questsSprite') {\r\n      this._setSpriteDisplay(\r\n        config.questsSprite!,\r\n        1,\r\n        'quests',\r\n        'questsActive',\r\n        'questsInactive',\r\n      );\r\n    } else if (key === 'talentsSprite') {\r\n      this._setSpriteDisplay(\r\n        config.talentsSprite!,\r\n        2,\r\n        'talents',\r\n        'talentsActive',\r\n        'talentsInactive',\r\n      );\r\n    }\r\n  };\r\n\r\n  private _setTextDisplay = (\r\n    config: FeatureTextConfig,\r\n    position: number,\r\n    textKey: keyof typeof this._texts,\r\n  ) => {\r\n    if (this._texts[textKey]) this._texts[textKey]!.destroy();\r\n\r\n    const {\r\n      fontSize,\r\n      fontFamily,\r\n      fontColor,\r\n      depth,\r\n      getPaddingX,\r\n      align,\r\n      text: content,\r\n    } = config;\r\n\r\n    const x = this._getGameWidth() - getPaddingX(position);\r\n    const y = this._getGameHeight() - 16;\r\n\r\n    this._texts[textKey] = this._scene.make.text({\r\n      x,\r\n      y,\r\n      depth,\r\n      text: content,\r\n      visible: false,\r\n      scrollFactor: 0,\r\n      origin: 0.5,\r\n      style: {\r\n        color: fontColor,\r\n        fontFamily,\r\n        fontSize: `${fontSize}px`,\r\n        align,\r\n      },\r\n    });\r\n\r\n    return this;\r\n  };\r\n\r\n  private _setSpriteDisplay = (\r\n    config: FeatureSpriteConfig,\r\n    position: number,\r\n    callbackKey: keyof typeof this._callbacks,\r\n    activeKey: keyof typeof this._sprites,\r\n    inactiveKey: keyof typeof this._sprites,\r\n  ) => {\r\n    if (this._sprites[activeKey]) this._sprites[activeKey]!.destroy();\r\n    if (this._sprites[inactiveKey]) this._sprites[inactiveKey]!.destroy();\r\n\r\n    const {\r\n      spriteKey,\r\n      getPaddingX,\r\n      paddingY,\r\n      frame,\r\n      hoverText,\r\n      depth,\r\n      scale,\r\n    } = config;\r\n\r\n    const x = this._getGameWidth() - getPaddingX(position);\r\n    const y = this._getGameHeight() - paddingY;\r\n\r\n    this._sprites[activeKey] = this._scene.add\r\n      .sprite(x, y, spriteKey, frame)\r\n      .setScrollFactor(0)\r\n      .setDepth(depth)\r\n      .setVisible(false)\r\n      .setScale(scale);\r\n\r\n    this._sprites[inactiveKey] = this._scene.add\r\n      .sprite(x, y, spriteKey, this._config.inactiveSpriteFrame)\r\n      .setScrollFactor(0)\r\n      .setDepth(depth)\r\n      .setVisible(true)\r\n      .setScale(scale);\r\n\r\n    this._sprites[activeKey]!.on('pointerdown', () =>\r\n      this._callbacks[callbackKey](),\r\n    );\r\n\r\n    this._addTooltip(x, y, activeKey, hoverText);\r\n\r\n    return this;\r\n  };\r\n\r\n  private _addTooltip = (\r\n    x: number,\r\n    y: number,\r\n    spriteKey: keyof typeof this._sprites,\r\n    text: string,\r\n  ) => {\r\n    const id = uuidv4();\r\n    (this._scene as UIScene).phaserTooltip.createTooltip({\r\n      x,\r\n      y: y - 50,\r\n      hasBackground: false,\r\n      text: {\r\n        text,\r\n        fontFamily: 'monospace',\r\n        fontSize: 16,\r\n      },\r\n      id,\r\n      target: this._sprites[spriteKey],\r\n    });\r\n\r\n    (this._scene as UIScene).phaserTooltip.hideTooltip(id);\r\n\r\n    if (this._sprites[spriteKey]) {\r\n      this._sprites[spriteKey]!.on(\r\n        'pointerover',\r\n        () => {\r\n          (this._scene as UIScene).phaserTooltip.showTooltip(id, true);\r\n        },\r\n        this._scene,\r\n      );\r\n      this._sprites[spriteKey]!.on(\r\n        'pointerout',\r\n        () => (this._scene as UIScene).phaserTooltip.hideTooltip(id, true),\r\n        this._scene,\r\n      );\r\n    }\r\n  };\r\n\r\n  private _update = (\r\n    features: UnlockedFeatures,\r\n    updatedCallbacks: UnlockedFeatureCallbacks,\r\n  ) => {\r\n    const { inventory, questLog, talentTree } = features ?? {};\r\n\r\n    const {\r\n      inventory: updatedInventoryCallback,\r\n      quests: updatedQuestsCallback,\r\n      talents: updatedTalentsCallback,\r\n    } = updatedCallbacks;\r\n\r\n    let inventoryOperation = inventory\r\n      ? this._enableFeature\r\n      : this._disableFeature;\r\n\r\n    let questsOperation = questLog ? this._enableFeature : this._disableFeature;\r\n\r\n    let talentsOperation = talentTree\r\n      ? this._enableFeature\r\n      : this._disableFeature;\r\n\r\n    inventoryOperation(\r\n      'inventoryActive',\r\n      'inventoryInactive',\r\n      'inventory',\r\n      'inventory',\r\n      updatedInventoryCallback,\r\n    );\r\n    questsOperation(\r\n      'questsActive',\r\n      'questsInactive',\r\n      'quests',\r\n      'quests',\r\n      updatedQuestsCallback,\r\n    );\r\n    talentsOperation(\r\n      'talentsActive',\r\n      'talentsInactive',\r\n      'talents',\r\n      'talents',\r\n      updatedTalentsCallback,\r\n    );\r\n  };\r\n\r\n  private _enableFeature = (\r\n    activeSpriteKey: keyof typeof this._sprites,\r\n    inactiveSpriteKey: keyof typeof this._sprites,\r\n    textKey: keyof typeof this._texts,\r\n    callbackKey: keyof typeof this._callbacks,\r\n    newCallback: AnyCallback,\r\n  ) => {\r\n    this._sprites[activeSpriteKey]\r\n      ?.setVisible(true)\r\n      ?.setInteractive({ useHandCursor: true });\r\n    this._sprites[inactiveSpriteKey]?.setVisible(false);\r\n    this._texts[textKey]?.setVisible(true);\r\n    this._callbacks[callbackKey] = newCallback;\r\n  };\r\n\r\n  private _disableFeature = (\r\n    activeSpriteKey: keyof typeof this._sprites,\r\n    inactiveSpriteKey: keyof typeof this._sprites,\r\n    textKey: keyof typeof this._texts,\r\n    callbackKey: keyof typeof this._callbacks,\r\n    newCallback: AnyCallback,\r\n  ) => {\r\n    this._sprites[activeSpriteKey]?.setVisible(false)?.disableInteractive();\r\n    this._sprites[inactiveSpriteKey]?.setVisible(true);\r\n    this._texts[textKey]?.setVisible(false);\r\n    this._callbacks[callbackKey] = noop;\r\n  };\r\n\r\n  private _getGameWidth = () => this._scene.cameras.main.worldView.width;\r\n  private _getGameHeight = () => this._scene.cameras.main.worldView.height;\r\n}\r\n","import { DEFAULT_CONFIG, HudConfig } from './config';\r\nimport {\r\n  UnlockedFeatureCallbacks,\r\n  UnlockedFeatures,\r\n} from '../../types/savedData';\r\n\r\nimport BasicTextUI from './basicText/basicTextUi';\r\nimport BattleTextUI from './battleText/BattleTextUI';\r\nimport HealthBarUI from './healthBar/HealthBar';\r\nimport { Scene } from 'phaser';\r\nimport UnlockedFeaturesUI from './unlockedFeatures/UnlockedFeatures';\r\n\r\nexport default class HUD {\r\n  public config: HudConfig = { ...DEFAULT_CONFIG };\r\n\r\n  private _basicText?: BasicTextUI;\r\n  private _healthBar?: HealthBarUI;\r\n  private _unlockedFeatures?: UnlockedFeaturesUI;\r\n  private _battleText?: BattleTextUI;\r\n\r\n  private _scene: Scene;\r\n\r\n  constructor(scene: Scene) {\r\n    this._scene = scene;\r\n  }\r\n\r\n  public shutdown = () => {\r\n    this._basicText?.shutdown();\r\n    this._basicText = undefined;\r\n\r\n    this._healthBar?.shutdown();\r\n    this._healthBar = undefined;\r\n\r\n    this._unlockedFeatures?.shutdown();\r\n    this._unlockedFeatures = undefined;\r\n\r\n    this._battleText?.shutdown();\r\n    this._battleText = undefined;\r\n  };\r\n\r\n  public enableBasicText = () => {\r\n    this._basicText = new BasicTextUI(this._scene);\r\n\r\n    return this;\r\n  };\r\n\r\n  public disableBasicText = () => {\r\n    if (this._basicText) {\r\n      this._basicText.shutdown();\r\n    }\r\n    this._basicText = undefined;\r\n\r\n    return this;\r\n  };\r\n\r\n  public enableHealthBar = () => {\r\n    this._healthBar = new HealthBarUI(this._scene);\r\n\r\n    return this;\r\n  };\r\n\r\n  public disableHealthBar = () => {\r\n    if (this._healthBar) {\r\n      this._healthBar.shutdown();\r\n    }\r\n    this._healthBar = undefined;\r\n\r\n    return this;\r\n  };\r\n\r\n  public enableUnlockedFeatures = () => {\r\n    this._unlockedFeatures = new UnlockedFeaturesUI(this._scene);\r\n\r\n    return this;\r\n  };\r\n\r\n  public disableUnlockedFeatures = () => {\r\n    if (this._unlockedFeatures) {\r\n      this._unlockedFeatures.shutdown();\r\n    }\r\n    this._unlockedFeatures = undefined;\r\n\r\n    return this;\r\n  };\r\n\r\n  public enableBattleText = () => {\r\n    this._battleText = new BattleTextUI(this._scene);\r\n\r\n    return this;\r\n  };\r\n\r\n  public disableBattleText = () => {\r\n    if (this._battleText) {\r\n      this._battleText.shutdown();\r\n    }\r\n    this._battleText = undefined;\r\n\r\n    return this;\r\n  };\r\n\r\n  public updateBottomCenterText = (value?: string) => {\r\n    this._basicText?.updateBottomCenterText(value);\r\n  };\r\n\r\n  public updateTopLeftText = (primary?: string, secondary?: string) => {\r\n    this._basicText?.updateTopLeftText(primary, secondary);\r\n  };\r\n\r\n  public updateTopCenterText = (value?: string) => {\r\n    this._basicText?.updateTopCenterText(value);\r\n  };\r\n\r\n  public updateCenterText = (value?: string) => {\r\n    this._basicText?.updateCenterText(value);\r\n  };\r\n\r\n  public addBuffText = (value: string, duration: number) => {\r\n    this._battleText?.addBuffText(value, duration);\r\n  };\r\n\r\n  public addDebuffText = (value: string, duration: number) => {\r\n    this._battleText?.addDebuffText(value, duration);\r\n  };\r\n\r\n  public updateHealth = (value?: number) => {\r\n    this._healthBar?.updateHealth(value);\r\n  };\r\n\r\n  public updateUnlockedFeatures = (\r\n    features: UnlockedFeatures,\r\n    callbacks: UnlockedFeatureCallbacks,\r\n  ) => {\r\n    this._unlockedFeatures?.update(features, callbacks);\r\n  };\r\n}\r\n","import {\r\n  ADD_BUFF_EVENT,\r\n  ADD_DEBUFF_EVENT,\r\n  HUD_INITIALIZED_EVENT,\r\n  HUD_SHUTDOWN_EVENT,\r\n  UPDATE_BOTTOM_CENTER_TEXT_EVENT,\r\n  UPDATE_CENTER_TEXT_EVENT,\r\n  UPDATE_HEALTH_EVENT,\r\n  UPDATE_TOP_CENTER_TEXT_EVENT,\r\n  UPDATE_TOP_LEFT_TEXT_EVENT,\r\n  UPDATE_UNLOCKED_FEATURES_EVENT,\r\n} from '../ui/events';\r\nimport { UnlockedFeatureCallbacks, UnlockedFeatures } from '../types/savedData';\r\n\r\nimport HUD from '../ui/hud/hud';\r\nimport PhaserTooltip from '../PhaserTooltip/phaserTooltip';\r\nimport { Scene } from 'phaser';\r\nimport { UIEventEmitter } from '../ui/eventEmitter';\r\nimport { UI_SCENE_KEY } from '../constants';\r\n\r\nexport class UIScene extends Scene {\r\n  public hud?: HUD;\r\n  public phaserTooltip: PhaserTooltip;\r\n  private _uiEventEmitter: UIEventEmitter;\r\n\r\n  constructor() {\r\n    super(UI_SCENE_KEY);\r\n  }\r\n\r\n  public create = (uiEventEmitter: UIEventEmitter) => {\r\n    this._uiEventEmitter = uiEventEmitter;\r\n    this._registerEvents();\r\n  };\r\n\r\n  private _initializeHUDHandler = (\r\n    enableBasicText: boolean,\r\n    enableHealthBar: boolean,\r\n    enableUnlockedFeatures: boolean,\r\n    enableBattleText: boolean,\r\n  ) => {\r\n    this.hud = new HUD(this);\r\n    if (enableBasicText) {\r\n      this.hud.enableBasicText();\r\n    } else {\r\n      this.hud.disableBasicText();\r\n    }\r\n\r\n    if (enableHealthBar) {\r\n      this.hud.enableHealthBar();\r\n    } else {\r\n      this.hud.disableHealthBar();\r\n    }\r\n\r\n    if (enableUnlockedFeatures) {\r\n      this.hud.enableUnlockedFeatures();\r\n    } else {\r\n      this.hud.disableUnlockedFeatures();\r\n    }\r\n\r\n    if (enableBattleText) {\r\n      this.hud.enableBattleText();\r\n    } else {\r\n      this.hud.disableBattleText();\r\n    }\r\n  };\r\n\r\n  private _shutdownHandler = () => {\r\n    this.hud?.shutdown();\r\n  };\r\n\r\n  private _updateTopLeftText = (primary?: string, secondary?: string) => {\r\n    this.hud?.updateTopLeftText(primary, secondary);\r\n  };\r\n\r\n  private _updateTopCenterText = (value?: string) => {\r\n    this.hud?.updateTopCenterText(value);\r\n  };\r\n\r\n  private _updateUnlockedFeaturesHandler = (\r\n    features: UnlockedFeatures,\r\n    callbacks: UnlockedFeatureCallbacks,\r\n  ) => {\r\n    this.hud?.updateUnlockedFeatures(features, callbacks);\r\n  };\r\n\r\n  private _updateHealth = (value?: number) => {\r\n    this.hud?.updateHealth(value);\r\n  };\r\n\r\n  private _addBuffText = (value: string, duration: number) => {\r\n    this.hud?.addBuffText(value, duration);\r\n  };\r\n\r\n  private _addDebuffText = (value: string, duration: number) => {\r\n    this.hud?.addDebuffText(value, duration);\r\n  };\r\n\r\n  private _updateCenterText = (value?: string) => {\r\n    this.hud?.updateCenterText(value);\r\n  };\r\n\r\n  private _updateBottomCenterText = (value?: string) => {\r\n    this.hud?.updateBottomCenterText(value);\r\n  };\r\n\r\n  private _registerEvents = () => {\r\n    this._uiEventEmitter.on(\r\n      HUD_INITIALIZED_EVENT,\r\n      this._initializeHUDHandler,\r\n      this,\r\n    );\r\n    this._uiEventEmitter.on(HUD_SHUTDOWN_EVENT, this._shutdownHandler, this);\r\n    this._uiEventEmitter.on(\r\n      UPDATE_TOP_LEFT_TEXT_EVENT,\r\n      this._updateTopLeftText,\r\n      this,\r\n    );\r\n    this._uiEventEmitter.on(\r\n      UPDATE_TOP_CENTER_TEXT_EVENT,\r\n      this._updateTopCenterText,\r\n      this,\r\n    );\r\n    this._uiEventEmitter.on(UPDATE_HEALTH_EVENT, this._updateHealth, this);\r\n    this._uiEventEmitter.on(\r\n      UPDATE_UNLOCKED_FEATURES_EVENT,\r\n      this._updateUnlockedFeaturesHandler,\r\n      this,\r\n    );\r\n    this._uiEventEmitter.on(ADD_BUFF_EVENT, this._addBuffText, this);\r\n    this._uiEventEmitter.on(ADD_DEBUFF_EVENT, this._addDebuffText, this);\r\n    this._uiEventEmitter.on(\r\n      UPDATE_CENTER_TEXT_EVENT,\r\n      this._updateCenterText,\r\n      this,\r\n    );\r\n    this._uiEventEmitter.on(\r\n      UPDATE_BOTTOM_CENTER_TEXT_EVENT,\r\n      this._updateBottomCenterText,\r\n      this,\r\n    );\r\n  };\r\n}\r\n","import {\r\n  ANIMATED_TILES_PLUGIN_KEY,\r\n  DIALOG_PLUGIN_KEY,\r\n  GRID_ENGINE_PLUGIN_KEY,\r\n  MC_DIALOG_PLUGIN_KEY,\r\n  PHASER_TOOLTIP_PLUGIN_KEY,\r\n  TILE_SIZE,\r\n} from './constants';\r\n\r\nimport AnimatedTilesPlugin from 'phaser-animated-tiles-phaser3.5';\r\nimport { CharacterSelectScene } from './scenes/CharacterSelectScene';\r\nimport { CreditsScene } from './scenes/CreditsScene';\r\nimport DialogPlugin from './dialog/plugin';\r\nimport { GridEngine } from 'grid-engine';\r\nimport { LevelFour } from './scenes/LevelFour';\r\nimport { LevelOne } from './scenes/LevelOne';\r\nimport { LevelThree } from './scenes/LevelThree';\r\nimport { LevelTwo } from './scenes/LevelTwo';\r\nimport { LoadingScene } from './scenes/LoadingScene';\r\nimport McDialogPlugin from './mcDialog/plugin';\r\nimport Phaser from 'phaser';\r\nimport PhaserTooltip from './PhaserTooltip/phaserTooltip';\r\nimport { UIScene } from './scenes/UIScene';\r\nimport { getMaxSquareScreenDimension } from './helpers/gameDimensions';\r\n\r\nconst startingDimensions = getMaxSquareScreenDimension(\r\n  window.innerWidth,\r\n  window.innerHeight,\r\n  TILE_SIZE,\r\n);\r\n\r\nexport const gameConfig = {\r\n  title: 'gmmurray-game',\r\n  type: Phaser.CANVAS,\r\n  parent: 'game',\r\n  physics: {\r\n    default: 'arcade',\r\n    arcade: {\r\n      debug: process.env.NODE_ENV === 'development',\r\n      gravity: { y: 750 },\r\n    },\r\n  },\r\n  render: {\r\n    antialiasGL: false,\r\n    pixelArt: true,\r\n  },\r\n  width: startingDimensions,\r\n  height: startingDimensions,\r\n  backgroundColor: '#000',\r\n  autoFocus: true,\r\n  audio: {\r\n    disableWebAudio: false,\r\n  },\r\n  scene: [\r\n    LoadingScene,\r\n    LevelOne,\r\n    LevelTwo,\r\n    LevelThree,\r\n    LevelFour,\r\n    UIScene,\r\n    CreditsScene,\r\n    CharacterSelectScene,\r\n  ],\r\n  plugins: {\r\n    scene: [\r\n      {\r\n        key: GRID_ENGINE_PLUGIN_KEY,\r\n        plugin: GridEngine,\r\n        mapping: GRID_ENGINE_PLUGIN_KEY,\r\n      },\r\n      {\r\n        key: DIALOG_PLUGIN_KEY,\r\n        plugin: DialogPlugin,\r\n        mapping: DIALOG_PLUGIN_KEY,\r\n      },\r\n      {\r\n        key: ANIMATED_TILES_PLUGIN_KEY,\r\n        plugin: AnimatedTilesPlugin,\r\n        mapping: ANIMATED_TILES_PLUGIN_KEY,\r\n      },\r\n      {\r\n        key: MC_DIALOG_PLUGIN_KEY,\r\n        plugin: McDialogPlugin,\r\n        mapping: MC_DIALOG_PLUGIN_KEY,\r\n      },\r\n      {\r\n        key: PHASER_TOOLTIP_PLUGIN_KEY,\r\n        plugin: PhaserTooltip,\r\n        mapping: PHASER_TOOLTIP_PLUGIN_KEY,\r\n      },\r\n    ],\r\n  },\r\n};\r\n","import {\r\n  FC,\r\n  MutableRefObject,\r\n  createContext,\r\n  useCallback,\r\n  useContext,\r\n  useEffect,\r\n  useRef,\r\n  useState,\r\n} from 'react';\r\nimport { PLUGIN_KEYS, TILE_SIZE } from './constants';\r\n\r\nimport { Game } from 'phaser';\r\nimport React from 'react';\r\nimport { gameConfig } from './config';\r\nimport { getMaxSquareScreenDimension } from './helpers/gameDimensions';\r\nimport { useLocation } from '@reach/router';\r\nimport { useWindowSize } from '../helpers/useWindowSize';\r\n\r\ntype GameContextType = {\r\n  game: Game | null;\r\n  gameRef: MutableRefObject<any>;\r\n  dimension: number;\r\n};\r\n\r\nconst GameContext = createContext<GameContextType | null>(null);\r\n\r\nexport const useGameContext = () => useContext(GameContext);\r\n\r\nexport const GameContextProvider: FC = ({ children }) => {\r\n  const location = useLocation();\r\n  const [game, setGame] = useState<Game | null>(null);\r\n  const gameRef = useRef(null);\r\n  const [dimension, setDimension] = useState(0);\r\n\r\n  const { width: windowWidth, height: windowHeight } = useWindowSize();\r\n\r\n  // create a new game instance on load\r\n  useEffect(() => {\r\n    let phaserGame = new Game(gameConfig);\r\n    setGame(phaserGame);\r\n    return () => {\r\n      PLUGIN_KEYS.forEach(key => {\r\n        phaserGame.plugins.removeScenePlugin(key);\r\n      });\r\n      phaserGame.destroy(false, false);\r\n    };\r\n  }, []);\r\n\r\n  // handle window/game resizing\r\n  const handleResizeEvent = useCallback(() => {\r\n    if (!game || !windowWidth || !windowHeight) return;\r\n    const sizeDimension = getMaxSquareScreenDimension(\r\n      windowWidth,\r\n      windowHeight,\r\n      TILE_SIZE,\r\n    );\r\n    game.scale.resize(sizeDimension, sizeDimension);\r\n    const canvasEl = ((gameRef.current as unknown) as HTMLDivElement)\r\n      .children[0] as HTMLCanvasElement;\r\n    if (canvasEl) {\r\n      canvasEl.style.width = `${sizeDimension}px`;\r\n      canvasEl.style.height = `${sizeDimension}px`;\r\n    }\r\n    setDimension(sizeDimension);\r\n  }, [windowWidth, windowHeight, gameRef]);\r\n\r\n  useEffect(() => {\r\n    handleResizeEvent();\r\n  }, [windowWidth, windowHeight]);\r\n\r\n  const value = {\r\n    game,\r\n    gameRef,\r\n    dimension,\r\n  };\r\n\r\n  return <GameContext.Provider value={value}>{children}</GameContext.Provider>;\r\n};\r\n","import { useState, useEffect } from 'react';\r\n\r\ntype WindowSize = {\r\n  width?: number;\r\n  height?: number;\r\n};\r\n\r\n// credit https://usehooks.com/useWindowSize/\r\nexport function useWindowSize() {\r\n  // Initialize state with undefined width/height so server and client renders match\r\n  // Learn more here: https://joshwcomeau.com/react/the-perils-of-rehydration/\r\n  const [windowSize, setWindowSize] = useState<WindowSize>({\r\n    width: undefined,\r\n    height: undefined,\r\n  });\r\n  useEffect(() => {\r\n    // Handler to call on window resize\r\n    function handleResize() {\r\n      // Set window width/height to state\r\n      setWindowSize({\r\n        width: window.innerWidth,\r\n        height: window.innerHeight,\r\n      });\r\n    }\r\n    // Add event listener\r\n    window.addEventListener('resize', handleResize);\r\n    // Call handler right away so state gets updated with initial window size\r\n    handleResize();\r\n    // Remove event listener on cleanup\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []); // Empty array ensures that effect is only run on mount\r\n  return windowSize;\r\n}\r\n","import {\r\n  INVENTORY_REACT_EVENT_KEY,\r\n  QUESTS_REACT_EVENT_KEY,\r\n  TALENTS_REACT_EVENT_KEY,\r\n} from '../constants';\r\nimport React, { useCallback, useEffect } from 'react';\r\nimport { overlayActions, overlaySelectors } from '../redux/overlaySlice';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport Icon from '@mdi/react';\r\nimport { Typewriter } from 'react-simple-typewriter';\r\nimport classNames from 'classnames';\r\nimport { combineCss } from '../helpers/combineCss';\r\nimport { gameCmsActions } from '../redux/gameCmsSlice';\r\nimport { mdiClose } from '@mdi/js';\r\nimport { overlayContentMapping } from './contentMapping';\r\nimport { useGameContext } from '../GameContext';\r\n\r\nconst base_cn = 'game-overlay';\r\nconst container_cn = combineCss(base_cn, 'container');\r\nconst backdrop_cn = combineCss(base_cn, 'backdrop');\r\nconst message_cn = combineCss(base_cn, 'message');\r\nconst message_container_cn = combineCss(message_cn, 'container');\r\nconst message_container_close_button_cn = combineCss(\r\n  message_cn,\r\n  'close-button',\r\n);\r\nconst message_container_close_button_container_cn = combineCss(\r\n  message_container_close_button_cn,\r\n  'container',\r\n);\r\nconst small_button_cn = 'button is-small';\r\nconst message_content_container_cn = combineCss(\r\n  message_cn,\r\n  'content-container',\r\n);\r\n\r\nconst GameOverlayComponent = () => {\r\n  const dispatch = useDispatch();\r\n  const { dimension, game } = useGameContext() ?? {};\r\n  const { pausedScene, contentKey } = useSelector(\r\n    overlaySelectors.selectOverlayState,\r\n  );\r\n  const unlockedFeatures = useSelector(overlaySelectors.selectUnlockedFeatures);\r\n  const content = overlayContentMapping[contentKey ?? ''];\r\n\r\n  const handleClose = useCallback(() => {\r\n    if (!game) return;\r\n\r\n    game.scene.resume(pausedScene!);\r\n    dispatch(overlayActions.overlayClosed());\r\n    dispatch(gameCmsActions.reset());\r\n  }, []);\r\n\r\n  const handleInnerClick = useCallback(\r\n    (e: React.MouseEvent<HTMLDivElement>) => {\r\n      e.stopPropagation();\r\n    },\r\n    [],\r\n  );\r\n\r\n  const handleKeyDown = useCallback(\r\n    (e: KeyboardEvent) => {\r\n      switch (e.code) {\r\n        case 'Escape':\r\n        case 'Space':\r\n        case 'Enter':\r\n        case INVENTORY_REACT_EVENT_KEY:\r\n        case QUESTS_REACT_EVENT_KEY:\r\n        case TALENTS_REACT_EVENT_KEY:\r\n          handleClose();\r\n          break;\r\n        default:\r\n          return;\r\n      }\r\n    },\r\n    [handleClose],\r\n  );\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => window.removeEventListener('keydown', handleKeyDown);\r\n  }, []);\r\n\r\n  const unlocked = unlockedFeatures && unlockedFeatures[content.unlockedKey];\r\n\r\n  return (\r\n    <div className={classNames(base_cn, container_cn)}>\r\n      <div\r\n        className={backdrop_cn}\r\n        style={{ height: dimension, width: dimension }}\r\n      >\r\n        <div className={message_container_cn} onClick={handleClose}>\r\n          <div className={message_cn} onClick={handleInnerClick}>\r\n            <div className={message_container_close_button_container_cn}>\r\n              <button\r\n                className={classNames(\r\n                  small_button_cn,\r\n                  message_container_close_button_cn,\r\n                )}\r\n                onClick={handleClose}\r\n              >\r\n                <Icon path={mdiClose} size={1} />\r\n              </button>\r\n            </div>\r\n            <div className={message_content_container_cn}>\r\n              {content.lead && !unlocked && (\r\n                <div>\r\n                  <Typewriter words={[content.lead]} typeSpeed={30} />\r\n                </div>\r\n              )}\r\n              {content.component}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GameOverlayComponent;\r\n","import GameOverlayComponent from './GameOverlay/GameOverlayComponent';\r\nimport React from 'react';\r\nimport { overlaySelectors } from './redux/overlaySlice';\r\nimport { useGameContext } from './GameContext';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst GameComponent = () => {\r\n  const isOverlayOpen = useSelector(overlaySelectors.selectOverlayOpen);\r\n  const { gameRef } = useGameContext() ?? {};\r\n\r\n  return (\r\n    <div id=\"game\" className=\"game-container\" ref={gameRef}>\r\n      {isOverlayOpen && <GameOverlayComponent />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GameComponent;\r\n","import './gameStyles.scss';\r\n\r\nimport React, { FC, useEffect } from 'react';\r\n\r\nimport { GameCmsContent } from './types/cmsContent';\r\nimport GameComponent from './GameComponent';\r\nimport { GameContextProvider } from './GameContext';\r\nimport { Provider } from 'react-redux';\r\nimport { gameCmsActions } from './redux/gameCmsSlice';\r\nimport { store } from './redux/store';\r\n\r\ntype GameAppProps = {\r\n  cmsContent: GameCmsContent;\r\n};\r\n\r\nconst GameApp: FC<GameAppProps> = ({ cmsContent }) => {\r\n  useEffect(() => {\r\n    if (cmsContent) {\r\n      const content = {};\r\n      const classKeys = Object.keys(new GameCmsContent());\r\n\r\n      classKeys.forEach(key => {\r\n        content[key] = cmsContent[key];\r\n      });\r\n\r\n      store.dispatch(gameCmsActions.dataLoaded(content as GameCmsContent));\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    // @ts-ignore\r\n    <Provider store={store}>\r\n      <GameContextProvider>\r\n        <GameComponent />\r\n      </GameContextProvider>\r\n    </Provider>\r\n  );\r\n};\r\n\r\nexport default GameApp;\r\n","'use strict';\nvar isArray = require('../internals/is-array');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/function-bind-context');\n\n// `FlattenIntoArray` abstract operation\n// https://tc39.github.io/proposal-flatMap/#sec-FlattenIntoArray\nvar flattenIntoArray = function (target, original, source, sourceLen, start, depth, mapper, thisArg) {\n  var targetIndex = start;\n  var sourceIndex = 0;\n  var mapFn = mapper ? bind(mapper, thisArg, 3) : false;\n  var element;\n\n  while (sourceIndex < sourceLen) {\n    if (sourceIndex in source) {\n      element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];\n\n      if (depth > 0 && isArray(element)) {\n        targetIndex = flattenIntoArray(target, original, element, toLength(element.length), targetIndex, depth - 1) - 1;\n      } else {\n        if (targetIndex >= 0x1FFFFFFFFFFFFF) throw TypeError('Exceed the acceptable array length');\n        target[targetIndex] = element;\n      }\n\n      targetIndex++;\n    }\n    sourceIndex++;\n  }\n  return targetIndex;\n};\n\nmodule.exports = flattenIntoArray;\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar fails = require('../internals/fails');\nvar getBuiltIn = require('../internals/get-built-in');\nvar speciesConstructor = require('../internals/species-constructor');\nvar promiseResolve = require('../internals/promise-resolve');\nvar redefine = require('../internals/redefine');\n\n// Safari bug https://bugs.webkit.org/show_bug.cgi?id=200829\nvar NON_GENERIC = !!NativePromise && fails(function () {\n  NativePromise.prototype['finally'].call({ then: function () { /* empty */ } }, function () { /* empty */ });\n});\n\n// `Promise.prototype.finally` method\n// https://tc39.es/ecma262/#sec-promise.prototype.finally\n$({ target: 'Promise', proto: true, real: true, forced: NON_GENERIC }, {\n  'finally': function (onFinally) {\n    var C = speciesConstructor(this, getBuiltIn('Promise'));\n    var isFunction = typeof onFinally == 'function';\n    return this.then(\n      isFunction ? function (x) {\n        return promiseResolve(C, onFinally()).then(function () { return x; });\n      } : onFinally,\n      isFunction ? function (e) {\n        return promiseResolve(C, onFinally()).then(function () { throw e; });\n      } : onFinally\n    );\n  }\n});\n\n// patch native Promise.prototype for native async functions\nif (!IS_PURE && typeof NativePromise == 'function' && !NativePromise.prototype['finally']) {\n  redefine(NativePromise.prototype, 'finally', getBuiltIn('Promise').prototype['finally']);\n}\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name)) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) WellKnownSymbolsStore[name] = Symbol[name];\n    else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n/** Used to stand-in for `undefined` hash values. */\n\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n/** Used as references for various `Number` constants. */\n\nvar MAX_SAFE_INTEGER = 9007199254740991;\n/** `Object#toString` result references. */\n\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\n\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n/** Used to match `RegExp` flags from their coerced string values. */\n\nvar reFlags = /\\w*$/;\n/** Used to detect host constructors (Safari). */\n\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n/** Used to detect unsigned integer values. */\n\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n/** Used to identify `toStringTag` values supported by `_.clone`. */\n\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] = cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] = cloneableTags[boolTag] = cloneableTags[dateTag] = cloneableTags[float32Tag] = cloneableTags[float64Tag] = cloneableTags[int8Tag] = cloneableTags[int16Tag] = cloneableTags[int32Tag] = cloneableTags[mapTag] = cloneableTags[numberTag] = cloneableTags[objectTag] = cloneableTags[regexpTag] = cloneableTags[setTag] = cloneableTags[stringTag] = cloneableTags[symbolTag] = cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] = cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] = cloneableTags[weakMapTag] = false;\n/** Detect free variable `global` from Node.js. */\n\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n/** Detect free variable `self`. */\n\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n/** Used as a reference to the global object. */\n\nvar root = freeGlobal || freeSelf || Function('return this')();\n/** Detect free variable `exports`. */\n\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n/** Detect free variable `module`. */\n\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n/** Detect the popular CommonJS extension `module.exports`. */\n\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n/**\n * Adds the key-value `pair` to `map`.\n *\n * @private\n * @param {Object} map The map to modify.\n * @param {Array} pair The key-value pair to add.\n * @returns {Object} Returns `map`.\n */\n\nfunction addMapEntry(map, pair) {\n  // Don't return `map.set` because it's not chainable in IE 11.\n  map.set(pair[0], pair[1]);\n  return map;\n}\n/**\n * Adds `value` to `set`.\n *\n * @private\n * @param {Object} set The set to modify.\n * @param {*} value The value to add.\n * @returns {Object} Returns `set`.\n */\n\n\nfunction addSetEntry(set, value) {\n  // Don't return `set.add` because it's not chainable in IE 11.\n  set.add(value);\n  return set;\n}\n/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\n\n\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n\n  return array;\n}\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\n\n\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n\n  return array;\n}\n/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\n\n\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n\n  return accumulator;\n}\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\n\n\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n\n  return result;\n}\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\n\n\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\n\n\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n\n  return result;\n}\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\n\n\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n  map.forEach(function (value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\n\n\nfunction overArg(func, transform) {\n  return function (arg) {\n    return func(transform(arg));\n  };\n}\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\n\n\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n  set.forEach(function (value) {\n    result[++index] = value;\n  });\n  return result;\n}\n/** Used for built-in method references. */\n\n\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n/** Used to detect overreaching core-js shims. */\n\nvar coreJsData = root['__core-js_shared__'];\n/** Used to detect methods masquerading as native. */\n\nvar maskSrcKey = function () {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? 'Symbol(src)_1.' + uid : '';\n}();\n/** Used to resolve the decompiled source of functions. */\n\n\nvar funcToString = funcProto.toString;\n/** Used to check objects for own properties. */\n\nvar hasOwnProperty = objectProto.hasOwnProperty;\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\n\nvar objectToString = objectProto.toString;\n/** Used to detect if a method is native. */\n\nvar reIsNative = RegExp('^' + funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&').replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$');\n/** Built-in value references. */\n\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    getPrototype = overArg(Object.getPrototypeOf, Object),\n    objectCreate = Object.create,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice;\n/* Built-in method references for those with the same name as other `lodash` methods. */\n\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n/* Built-in method references that are verified to be native. */\n\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n/** Used to detect maps, sets, and weakmaps. */\n\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n/** Used to convert symbols to primitives and strings. */\n\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\n\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n  this.clear();\n\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\n\n\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\n\n\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\n\n\nfunction hashGet(key) {\n  var data = this.__data__;\n\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\n\n\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\n\n\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = nativeCreate && value === undefined ? HASH_UNDEFINED : value;\n  return this;\n} // Add methods to `Hash`.\n\n\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\n\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n  this.clear();\n\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\n\n\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\n\n\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n\n  var lastIndex = data.length - 1;\n\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n\n  return true;\n}\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\n\n\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n  return index < 0 ? undefined : data[index][1];\n}\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\n\n\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\n\n\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n\n  return this;\n} // Add methods to `ListCache`.\n\n\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\n\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n  this.clear();\n\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\n\n\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash(),\n    'map': new (Map || ListCache)(),\n    'string': new Hash()\n  };\n}\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\n\n\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\n\n\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\n\n\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\n\n\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n} // Add methods to `MapCache`.\n\n\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\n\nfunction Stack(entries) {\n  this.__data__ = new ListCache(entries);\n}\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\n\n\nfunction stackClear() {\n  this.__data__ = new ListCache();\n}\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\n\n\nfunction stackDelete(key) {\n  return this.__data__['delete'](key);\n}\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\n\n\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\n\n\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\n\n\nfunction stackSet(key, value) {\n  var cache = this.__data__;\n\n  if (cache instanceof ListCache) {\n    var pairs = cache.__data__;\n\n    if (!Map || pairs.length < LARGE_ARRAY_SIZE - 1) {\n      pairs.push([key, value]);\n      return this;\n    }\n\n    cache = this.__data__ = new MapCache(pairs);\n  }\n\n  cache.set(key, value);\n  return this;\n} // Add methods to `Stack`.\n\n\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\n\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = isArray(value) || isArguments(value) ? baseTimes(value.length, String) : [];\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) && !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n\n  return result;\n}\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\n\n\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) || value === undefined && !(key in object)) {\n    object[key] = value;\n  }\n}\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\n\n\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n\n  return -1;\n}\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\n\n\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @param {boolean} [isFull] Specify a clone including symbols.\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\n\n\nfunction baseClone(value, isDeep, isFull, customizer, key, object, stack) {\n  var result;\n\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n\n  if (result !== undefined) {\n    return result;\n  }\n\n  if (!isObject(value)) {\n    return value;\n  }\n\n  var isArr = isArray(value);\n\n  if (isArr) {\n    result = initCloneArray(value);\n\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n\n    if (tag == objectTag || tag == argsTag || isFunc && !object) {\n      if (isHostObject(value)) {\n        return object ? value : {};\n      }\n\n      result = initCloneObject(isFunc ? {} : value);\n\n      if (!isDeep) {\n        return copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n\n      result = initCloneByTag(value, tag, baseClone, isDeep);\n    }\n  } // Check for circular references and return its corresponding clone.\n\n\n  stack || (stack = new Stack());\n  var stacked = stack.get(value);\n\n  if (stacked) {\n    return stacked;\n  }\n\n  stack.set(value, result);\n\n  if (!isArr) {\n    var props = isFull ? getAllKeys(value) : keys(value);\n  }\n\n  arrayEach(props || value, function (subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    } // Recursively populate clone (susceptible to call stack limits).\n\n\n    assignValue(result, key, baseClone(subValue, isDeep, isFull, customizer, key, value, stack));\n  });\n  return result;\n}\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} prototype The object to inherit from.\n * @returns {Object} Returns the new object.\n */\n\n\nfunction baseCreate(proto) {\n  return isObject(proto) ? objectCreate(proto) : {};\n}\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\n\n\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n/**\n * The base implementation of `getTag`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\n\n\nfunction baseGetTag(value) {\n  return objectToString.call(value);\n}\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\n\n\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n\n  var pattern = isFunction(value) || isHostObject(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\n\n\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n\n  var result = [];\n\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n\n  return result;\n}\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\n\n\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n\n  var result = new buffer.constructor(buffer.length);\n  buffer.copy(result);\n  return result;\n}\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\n\n\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\n\n\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n/**\n * Creates a clone of `map`.\n *\n * @private\n * @param {Object} map The map to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned map.\n */\n\n\nfunction cloneMap(map, isDeep, cloneFunc) {\n  var array = isDeep ? cloneFunc(mapToArray(map), true) : mapToArray(map);\n  return arrayReduce(array, addMapEntry, new map.constructor());\n}\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\n\n\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n/**\n * Creates a clone of `set`.\n *\n * @private\n * @param {Object} set The set to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned set.\n */\n\n\nfunction cloneSet(set, isDeep, cloneFunc) {\n  var array = isDeep ? cloneFunc(setToArray(set), true) : setToArray(set);\n  return arrayReduce(array, addSetEntry, new set.constructor());\n}\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\n\n\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\n\n\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\n\n\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n  array || (array = Array(length));\n\n  while (++index < length) {\n    array[index] = source[index];\n  }\n\n  return array;\n}\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\n\n\nfunction copyObject(source, props, object, customizer) {\n  object || (object = {});\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n    var newValue = customizer ? customizer(object[key], source[key], key, object, source) : undefined;\n    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n  }\n\n  return object;\n}\n/**\n * Copies own symbol properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\n\n\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\n\n\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\n\n\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key) ? data[typeof key == 'string' ? 'string' : 'hash'] : data.map;\n}\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\n\n\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n/**\n * Creates an array of the own enumerable symbol properties of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\n\n\nvar getSymbols = nativeGetSymbols ? overArg(nativeGetSymbols, Object) : stubArray;\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\n\nvar getTag = baseGetTag; // Fallback for data views, maps, sets, and weak maps in IE 11,\n// for data views in Edge < 14, and promises in Node.js.\n\nif (DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag || Map && getTag(new Map()) != mapTag || Promise && getTag(Promise.resolve()) != promiseTag || Set && getTag(new Set()) != setTag || WeakMap && getTag(new WeakMap()) != weakMapTag) {\n  getTag = function getTag(value) {\n    var result = objectToString.call(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : undefined;\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString:\n          return dataViewTag;\n\n        case mapCtorString:\n          return mapTag;\n\n        case promiseCtorString:\n          return promiseTag;\n\n        case setCtorString:\n          return setTag;\n\n        case weakMapCtorString:\n          return weakMapTag;\n      }\n    }\n\n    return result;\n  };\n}\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\n\n\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = array.constructor(length); // Add properties assigned by `RegExp#exec`.\n\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n\n  return result;\n}\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\n\n\nfunction initCloneObject(object) {\n  return typeof object.constructor == 'function' && !isPrototype(object) ? baseCreate(getPrototype(object)) : {};\n}\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\n\n\nfunction initCloneByTag(object, tag, cloneFunc, isDeep) {\n  var Ctor = object.constructor;\n\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag:\n    case float64Tag:\n    case int8Tag:\n    case int16Tag:\n    case int32Tag:\n    case uint8Tag:\n    case uint8ClampedTag:\n    case uint16Tag:\n    case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return cloneMap(object, isDeep, cloneFunc);\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return cloneSet(object, isDeep, cloneFunc);\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\n\n\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length && (typeof value == 'number' || reIsUint.test(value)) && value > -1 && value % 1 == 0 && value < length;\n}\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\n\n\nfunction isKeyable(value) {\n  var type = typeof value;\n  return type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean' ? value !== '__proto__' : value === null;\n}\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\n\n\nfunction isMasked(func) {\n  return !!maskSrcKey && maskSrcKey in func;\n}\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\n\n\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = typeof Ctor == 'function' && Ctor.prototype || objectProto;\n  return value === proto;\n}\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\n\n\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n\n    try {\n      return func + '';\n    } catch (e) {}\n  }\n\n  return '';\n}\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\n\n\nfunction cloneDeep(value) {\n  return baseClone(value, true, true);\n}\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\n\n\nfunction eq(value, other) {\n  return value === other || value !== value && other !== other;\n}\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\n\n\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') && (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\n\n\nvar isArray = Array.isArray;\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\n\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\n\n\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\n\n\nvar isBuffer = nativeIsBuffer || stubFalse;\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\n\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\n\n\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\n\n\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\n\n\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\n\n\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\n\n\nfunction stubArray() {\n  return [];\n}\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\n\n\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = cloneDeep;","var anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar newPromiseCapability = require('../internals/new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n"],"sourceRoot":""}