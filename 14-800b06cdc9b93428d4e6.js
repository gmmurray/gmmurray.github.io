/*! For license information please see 14-800b06cdc9b93428d4e6.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"/b8u":function(e,t,n){var i=n("STAE");e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},"/qmn":function(e,t,n){var i=n("2oRo");e.exports=i.Promise},"0Hit":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return et})),n.d(t,"b",(function(){return Pt}));n("E9XD");var i=n("ODXe"),r=n("KQm4"),o=n("rePB"),a=n("1OyB"),s=n("vuIU");function c(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var u,d,f,h=Object.create,p=Object.defineProperty,y=Object.defineProperties,m=Object.getOwnPropertyDescriptor,v=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertyNames,b=Object.getOwnPropertySymbols,_=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,O=function(e,t,n){return t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},k=function(e,t){for(var n in t||(t={}))w.call(t,n)&&O(e,n,t[n]);if(b){var i,r=c(b(t));try{for(r.s();!(i=r.n()).done;){n=i.value;x.call(t,n)&&O(e,n,t[n])}}catch(o){r.e(o)}finally{r.f()}}return e},E=function(e,t){return y(e,v(t))},S=(u=function(t,i){var r,o,a,s,c,l,u,d,f,h,p,y,m,v,g,b,_,w,x,O,k,E,S,C;!function(t){var r="object"==typeof e?e:"object"==typeof self?self:"object"==typeof this?this:{};function o(e,t){return e!==r&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(n,i){return e[n]=t?t(n,i):i}}"function"==typeof define&&n("PDX0")?define("tslib",["exports"],(function(e){t(o(r,o(e)))})):"object"==typeof i&&"object"==typeof i.exports?t(o(r,o(i.exports))):t(o(r))}((function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])};r=function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)},o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n},s=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},c=function(e,t){return function(n,i){t(n,i,e)}},l=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(t){o(t)}}function s(e){try{c(i.throw(e))}catch(t){o(t)}}function c(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((i=i.apply(e,t||[])).next())}))},d=function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},f=function(e,t){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(t,n)&&C(t,e,n)},C=Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]},h=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},p=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},y=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e},m=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i},v=function(e,t){for(var n=0,i=t.length,r=e.length;n<i;n++,r++)e[r]=t[n];return e},g=function(e){return this instanceof g?(this.v=e,this):new g(e)},b=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(e){r[e]&&(i[e]=function(t){return new Promise((function(n,i){o.push([e,t,n,i])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof g?Promise.resolve(e.value.v).then(c,l):u(o[0][2],e)}(r[e](t))}catch(n){u(o[0][3],n)}}function c(e){s("next",e)}function l(e){s("throw",e)}function u(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}},_=function(e){var t,n;return t={},i("next"),i("throw",(function(e){throw e})),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,r){t[i]=e[i]?function(t){return(n=!n)?{value:g(e[i](t)),done:"return"===i}:r?r(t):t}:r}},w=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,r){!function(e,t,n,i){Promise.resolve(i).then((function(t){e({value:t,done:n})}),t)}(i,r,(t=e[n](t)).done,t.value)}))}}},x=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};var n=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};O=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&C(t,e,i);return n(t,e),t},k=function(e){return e&&e.__esModule?e:{default:e}},E=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},S=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},e("__extends",r),e("__assign",o),e("__rest",a),e("__decorate",s),e("__param",c),e("__metadata",l),e("__awaiter",u),e("__generator",d),e("__exportStar",f),e("__createBinding",C),e("__values",h),e("__read",p),e("__spread",y),e("__spreadArrays",m),e("__spreadArray",v),e("__await",g),e("__asyncGenerator",b),e("__asyncDelegator",_),e("__asyncValues",w),e("__makeTemplateObject",x),e("__importStar",O),e("__importDefault",k),e("__classPrivateFieldGet",E),e("__classPrivateFieldSet",S)}))},function(){return d||u((d={exports:{}}).exports,d),d.exports}),C=function(){function e(){Object(a.a)(this,e)}return Object(s.a)(e,null,[{key:"get",value:function(){return e.config}},{key:"set",value:function(t){e.config=t}}]),e}(),T=((f=T||{}).DONT_BLOCK="DONT_BLOCK",f.BLOCK_TWO_TILES="BLOCK_TWO_TILES",f.BLOCK_ONE_TILE_AHEAD="BLOCK_ONE_TILE_AHEAD",f.BLOCK_ONE_TILE_BEHIND="BLOCK_ONE_TILE_BEHIND",f);function P(e){return"function"==typeof e}function j(e){return function(t){if(function(e){return P(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(rt){this.error(rt)}}));throw new TypeError("Unable to lift unknown Observable type")}}var D=function(e,t,n){return n=null!=e?h(_(e)):{},function(e,t,n,i){if(t&&"object"==typeof t||"function"==typeof t){var r,o=c(g(t));try{var a=function(){var o=r.value;!w.call(e,o)&&o!==n&&p(e,o,{get:function(){return t[o]},enumerable:!(i=m(t,o))||i.enumerable})};for(o.s();!(r=o.n()).done;)a()}catch(s){o.e(s)}finally{o.f()}}return e}(!t&&e&&e.__esModule?n:p(n,"default",{value:e,enumerable:!0}),e)}(S(),1).default,A=D.__extends,I=(D.__assign,D.__rest,D.__decorate,D.__param,D.__metadata,D.__awaiter),M=D.__generator,L=(D.__exportStar,D.__createBinding,D.__values),N=D.__read,F=(D.__spread,D.__spreadArrays,D.__spreadArray),R=D.__await,B=D.__asyncGenerator,H=(D.__asyncDelegator,D.__asyncValues),W=(D.__makeTemplateObject,D.__importStar,D.__importDefault,D.__classPrivateFieldGet,D.__classPrivateFieldSet,function(e){return e&&"number"==typeof e.length&&"function"!=typeof e});function z(e){return P(null==e?void 0:e.then)}function G(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var U=G((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function V(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var X=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}return e.prototype.unsubscribe=function(){var e,t,n,i,r;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=L(o),s=a.next();!s.done;s=a.next()){s.value.remove(this)}}catch(h){e={error:h}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else o.remove(this);var c=this.initialTeardown;if(P(c))try{c()}catch(h){r=h instanceof U?h.errors:[h]}var l=this._teardowns;if(l){this._teardowns=null;try{for(var u=L(l),d=u.next();!d.done;d=u.next()){var f=d.value;try{q(f)}catch(h){r=null!=r?r:[],h instanceof U?r=F(F([],N(r),!1),N(h.errors),!1):r.push(h)}}}catch(h){n={error:h}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}}if(r)throw new U(r)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)q(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&V(t,e)},e.prototype.remove=function(t){var n=this._teardowns;n&&V(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),K=X.EMPTY;function Y(e){return e instanceof X||e&&"closed"in e&&P(e.remove)&&P(e.add)&&P(e.unsubscribe)}function q(e){P(e)?e():e.unsubscribe()}var $=null,J=null,Q=void 0,Z=!1,ee=!1,te={setTimeout:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=te.delegate;return((null==n?void 0:n.setTimeout)||setTimeout).apply(void 0,F([],N(e),!1))})),clearTimeout:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=te.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)})),delegate:void 0};function ne(e){te.setTimeout((function(){if(!$)throw e;$(e)}))}function ie(){}var re=oe("C",void 0,void 0);function oe(e,t,n){return{kind:e,value:t,error:n}}var ae=null;function se(e){if(Z){var t=!ae;if(t&&(ae={errorThrown:!1,error:null}),e(),t){var n=ae,i=n.errorThrown,r=n.error;if(ae=null,i)throw r}}else e()}function ce(e){Z&&ae&&(ae.errorThrown=!0,ae.error=e)}var le=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,Y(t)&&t.add(n)):n.destination=pe,n}return A(t,e),t.create=function(e,t,n){return new ue(e,t,n)},t.prototype.next=function(e){this.isStopped?he(function(e){return oe("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?he(function(e){return oe("E",void 0,e)}(e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?he(re,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(X),ue=function(e){function t(t,n,i){var r,o=e.call(this)||this;if(P(t))r=t;else if(t){var a;r=t.next,n=t.error,i=t.complete,o&&ee?(a=Object.create(t)).unsubscribe=function(){return o.unsubscribe()}:a=t,r=null==r?void 0:r.bind(a),n=null==n?void 0:n.bind(a),i=null==i?void 0:i.bind(a)}return o.destination={next:r?de(r,o):ie,error:de(null!=n?n:fe,o),complete:i?de(i,o):ie},o}return A(t,e),t}(le);function de(e,t){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{e.apply(void 0,F([],N(t),!1))}catch(f){Z?ce(f):ne(f)}}}function fe(e){throw e}function he(e,t){var n=J;n&&te.setTimeout((function(){return n(e,t)}))}var pe={closed:!0,next:ie,error:fe,complete:ie},ye="function"==typeof Symbol&&Symbol.observable||"@@observable";function me(e){return e}function ve(e){return 0===e.length?me:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var ge=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var i=this,r=function(e){return e&&e instanceof le||function(e){return e&&P(e.next)&&P(e.error)&&P(e.complete)}(e)&&Y(e)}(e)?e:new ue(e,t,n);return se((function(){var e=i,t=e.operator,n=e.source;r.add(t?t.call(r,n):n?i._subscribe(r):i._trySubscribe(r))})),r},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(it){e.error(it)}},e.prototype.forEach=function(e,t){var n=this;return new(t=be(t))((function(t,i){var r;r=n.subscribe((function(t){try{e(t)}catch(n){i(n),null==r||r.unsubscribe()}}),i,t)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[ye]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ve(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=be(e))((function(e,n){var i;t.subscribe((function(e){return i=e}),(function(e){return n(e)}),(function(){return e(i)}))}))},e.create=function(t){return new e(t)},e}();function be(e){var t;return null!==(t=null!=e?e:Q)&&void 0!==t?t:Promise}function _e(e){return P(e[ye])}function we(e){return Symbol.asyncIterator&&P(null==e?void 0:e[Symbol.asyncIterator])}function xe(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var Oe="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function ke(e){return P(null==e?void 0:e[Oe])}function Ee(e){return B(this,arguments,(function(){var t,n,i;return M(this,(function(r){switch(r.label){case 0:t=e.getReader(),r.label=1;case 1:r.trys.push([1,,9,10]),r.label=2;case 2:return[4,R(t.read())];case 3:return n=r.sent(),i=n.value,n.done?[4,R(void 0)]:[3,5];case 4:return[2,r.sent()];case 5:return[4,R(i)];case 6:return[4,r.sent()];case 7:return r.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function Se(e){return P(null==e?void 0:e.getReader)}function Ce(e){if(e instanceof ge)return e;if(null!=e){if(_e(e))return function(e){return new ge((function(t){var n=e[ye]();if(P(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}))}(e);if(W(e))return function(e){return new ge((function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()}))}(e);if(z(e))return function(e){return new ge((function(t){e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,ne)}))}(e);if(we(e))return Te(e);if(ke(e))return function(e){return new ge((function(t){var n,i;try{for(var r=L(e),o=r.next();!o.done;o=r.next()){var a=o.value;if(t.next(a),t.closed)return}}catch(ot){n={error:ot}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}t.complete()}))}(e);if(Se(e))return function(e){return Te(Ee(e))}(e)}throw xe(e)}function Te(e){return new ge((function(t){(function(e,t){var n,i,r,o;return I(this,void 0,void 0,(function(){var a,s;return M(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=H(e),c.label=1;case 1:return[4,n.next()];case 2:if((i=c.sent()).done)return[3,4];if(a=i.value,t.next(a),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=c.sent(),r={error:s},[3,11];case 6:return c.trys.push([6,,9,10]),i&&!i.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(r)throw r.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}var Pe=function(e){function t(t,n,i,r,o){var a=e.call(this,t)||this;return a.onFinalize=o,a._next=n?function(e){try{n(e)}catch(Qe){t.error(Qe)}}:e.prototype._next,a._error=r?function(e){try{r(e)}catch(Qe){t.error(Qe)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=i?function(){try{i()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return A(t,e),t.prototype.unsubscribe=function(){var t,n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))},t}(le);function je(e){return e[e.length-1]}function De(e){return function(e){return e&&P(e.schedule)}(je(e))?e.pop():void 0}function Ae(e,t){return"number"==typeof je(e)?e.pop():t}function Ie(e,t,n,i,r){void 0===i&&(i=0),void 0===r&&(r=!1);var o=t.schedule((function(){n(),r?e.add(this.schedule(null,i)):this.unsubscribe()}),i);if(e.add(o),!r)return o}function Me(e,t){return void 0===t&&(t=0),j((function(n,i){n.subscribe(new Pe(i,(function(n){return Ie(i,e,(function(){return i.next(n)}),t)}),(function(){return Ie(i,e,(function(){return i.complete()}),t)}),(function(n){return Ie(i,e,(function(){return i.error(n)}),t)})))}))}function Le(e,t){return void 0===t&&(t=0),j((function(n,i){i.add(e.schedule((function(){return n.subscribe(i)}),t))}))}function Ne(e,t){if(!e)throw new Error("Iterable cannot be null");return new ge((function(n){Ie(n,t,(function(){var i=e[Symbol.asyncIterator]();Ie(n,t,(function(){i.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function Fe(e,t){if(null!=e){if(_e(e))return function(e,t){return Ce(e).pipe(Le(t),Me(t))}(e,t);if(W(e))return function(e,t){return new ge((function(n){var i=0;return t.schedule((function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||this.schedule())}))}))}(e,t);if(z(e))return function(e,t){return Ce(e).pipe(Le(t),Me(t))}(e,t);if(we(e))return Ne(e,t);if(ke(e))return function(e,t){return new ge((function(n){var i;return Ie(n,t,(function(){i=e[Oe](),Ie(n,t,(function(){var e,t,r;try{t=(e=i.next()).value,r=e.done}catch(ot){return void n.error(ot)}r?n.complete():n.next(t)}),0,!0)})),function(){return P(null==i?void 0:i.return)&&i.return()}}))}(e,t);if(Se(e))return function(e,t){return Ne(Ee(e),t)}(e,t)}throw xe(e)}function Re(e,t){return t?Fe(e,t):Ce(e)}function Be(e,t){return j((function(n,i){var r=0;n.subscribe(new Pe(i,(function(n){i.next(e.call(t,n,r++))})))}))}function He(e,t,n){return void 0===n&&(n=1/0),P(t)?He((function(n,i){return Be((function(e,r){return t(n,e,i,r)}))(Ce(e(n,i)))}),n):("number"==typeof t&&(n=t),j((function(t,i){return function(e,t,n,i,r,o,a,s){var c=[],l=0,u=0,d=!1,f=function(){d&&!c.length&&!l&&t.complete()},h=function(e){return l<i?p(e):c.push(e)},p=function e(s){o&&t.next(s),l++;var d=!1;Ce(n(s,u++)).subscribe(new Pe(t,(function(e){null==r||r(e),o?h(e):t.next(e)}),(function(){d=!0}),void 0,(function(){if(d)try{l--;for(var n=function(){var n=c.shift();a?Ie(t,a,(function(){return e(n)})):e(n)};c.length&&l<i;)n();f()}catch(r){t.error(r)}})))};return e.subscribe(new Pe(t,h,(function(){d=!0,f()}))),function(){null==s||s()}}(t,i,e,n)})))}var We=Array.isArray;function ze(e){return 1===e.length&&We(e[0])?e[0]:e}function Ge(e){return void 0===e&&(e=1/0),He(me,e)}var Ue=G((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),Ve=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return A(t,e),t.prototype.lift=function(e){var t=new Xe(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new Ue},t.prototype.next=function(e){var t=this;se((function(){var n,i;if(t._throwIfClosed(),!t.isStopped){var r=t.observers.slice();try{for(var o=L(r),a=o.next();!a.done;a=o.next()){a.value.next(e)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;se((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;se((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=t.hasError,i=t.isStopped,r=t.observers;return n||i?K:(r.push(e),new X((function(){return V(r,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,i=t.thrownError,r=t.isStopped;n?e.error(i):r&&e.complete()},t.prototype.asObservable=function(){var e=new ge;return e.source=this,e},t.create=function(e,t){return new Xe(e,t)},t}(ge),Xe=function(e){function t(t,n){var i=e.call(this)||this;return i.destination=t,i.source=n,i}return A(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:K},t}(Ve),Ke=new ge((function(e){return e.complete()}));function Ye(e){return e<=0?function(){return Ke}:j((function(t,n){var i=0;t.subscribe(new Pe(n,(function(t){++i<=e&&(n.next(t),e<=i&&n.complete())})))}))}function qe(e,t){return j((function(n,i){var r=0;n.subscribe(new Pe(i,(function(n){return e.call(t,n,r++)&&i.next(n)})))}))}function $e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=De(e),i=Ae(e,1/0);return e=ze(e),j((function(t,r){Ge(i)(Re(F([t],N(e),!1),n)).subscribe(r)}))}function Je(e){return j((function(t,n){Ce(e).subscribe(new Pe(n,(function(){return n.complete()}),ie)),!n.closed&&t.subscribe(n)}))}var Qe,Ze=function(){function e(t,n){Object(a.a)(this,e),"number"==typeof t?(this.x=t,this.y=n||0):(this.x=t.x,this.y=t.y)}return Object(s.a)(e,[{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"add",value:function(t){return new e(this.x+t.x,this.y+t.y)}},{key:"multiply",value:function(t){return new e(this.x*t.x,this.y*t.y)}},{key:"divide",value:function(t){return new e(this.x/t.x,this.y/t.y)}},{key:"subtract",value:function(t){return new e(this.x-t.x,this.y-t.y)}},{key:"equals",value:function(e){return this.x===e.x&&this.y===e.y}},{key:"abs",value:function(){return new e(Math.abs(this.x),Math.abs(this.y))}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"modulo",value:function(t){return new e(this.x%t.x,this.y%t.y)}},{key:"scalarModulo",value:function(t){return new e(this.x%t,this.y%t)}},{key:"scalarMult",value:function(t){return new e(this.x*t,this.y*t)}},{key:"toString",value:function(){return"".concat(this.x,"#").concat(this.y)}}],[{key:"ZERO",get:function(){return new e(0,0)}},{key:"ONE",get:function(){return new e(1,1)}},{key:"UP",get:function(){return new e(0,-1)}},{key:"DOWN",get:function(){return new e(0,1)}},{key:"LEFT",get:function(){return new e(-1,0)}},{key:"RIGHT",get:function(){return new e(1,0)}},{key:"UP_LEFT",get:function(){return new e(-1,-1)}},{key:"UP_RIGHT",get:function(){return new e(1,-1)}},{key:"DOWN_RIGHT",get:function(){return new e(1,1)}},{key:"DOWN_LEFT",get:function(){return new e(-1,1)}}]),e}(),et=((Qe=et||{}).NONE="none",Qe.LEFT="left",Qe.UP_LEFT="up-left",Qe.UP="up",Qe.UP_RIGHT="up-right",Qe.RIGHT="right",Qe.DOWN_RIGHT="down-right",Qe.DOWN="down",Qe.DOWN_LEFT="down-left",Qe);function tt(e){return["down-left","down-right","up-right","up-left"].includes(e)}function nt(e){var t;return(t={},Object(o.a)(t,"up",Ze.UP),Object(o.a)(t,"down",Ze.DOWN),Object(o.a)(t,"left",Ze.LEFT),Object(o.a)(t,"right",Ze.RIGHT),Object(o.a)(t,"none",Ze.ZERO),Object(o.a)(t,"up-left",Ze.UP_LEFT),Object(o.a)(t,"up-right",Ze.UP_RIGHT),Object(o.a)(t,"down-right",Ze.DOWN_RIGHT),Object(o.a)(t,"down-left",Ze.DOWN_LEFT),t)[e]}var it,rt,ot,at=((it=at||{})[it.FOUR=4]="FOUR",it[it.EIGHT=8]="EIGHT",it),st=((rt=st||{}).STOP="STOP",rt.CLOSEST_REACHABLE="CLOSEST_REACHABLE",rt.RETRY="RETRY",rt),ct=function(){function e(){Object(a.a)(this,e)}return Object(s.a)(e,null,[{key:"vec2str",value:function(e){return"".concat(e.x,"#").concat(e.y)}},{key:"equal",value:function(t,n){return e.vec2str(t)==e.vec2str(n)}},{key:"manhattanDistance",value:function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)}},{key:"chebyshevDistance",value:function(e,t){var n=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return Math.max(n,i)}},{key:"scalarMult",value:function(e,t){return e.clone().multiply(new Ze(t,t))}}]),e}(),lt=function(){function e(){Object(a.a)(this,e)}return Object(s.a)(e,[{key:"distance",value:function(e,t){return ct.manhattanDistance(e,t)}},{key:"direction",value:function(e,t){if(ct.equal(e,t))return"none";var n=e.clone().subtract(t);return Math.abs(n.x)>Math.abs(n.y)?n.x>0?"left":"right":n.y>0?"up":"down"}},{key:"neighbours",value:function(e){return[new Ze(e.x,e.y+1),new Ze(e.x+1,e.y),new Ze(e.x-1,e.y),new Ze(e.x,e.y-1)]}},{key:"getDirections",value:function(){return["up","right","down","left"]}}]),e}(),ut=function(){function e(){Object(a.a)(this,e)}return Object(s.a)(e,[{key:"distance",value:function(e,t){return ct.chebyshevDistance(e,t)}},{key:"neighbours",value:function(e){var t=[new Ze(e.x,e.y+1),new Ze(e.x+1,e.y),new Ze(e.x-1,e.y),new Ze(e.x,e.y-1)],n=[new Ze(e.x+1,e.y+1),new Ze(e.x+1,e.y-1),new Ze(e.x-1,e.y+1),new Ze(e.x-1,e.y-1)];return[].concat(t,n)}},{key:"direction",value:function(e,t){return t.x>e.x?t.y>e.y?"down-right":t.y<e.y?"up-right":"right":t.x<e.x?t.y>e.y?"down-left":t.y<e.y?"up-left":"left":t.y<e.y?"up":t.y>e.y?"down":"none"}},{key:"getDirections",value:function(){return["up","right","down","left","down-left","down-right","up-right","up-left"]}}]),e}(),dt=function(){function e(){Object(a.a)(this,e)}return Object(s.a)(e,null,[{key:"create",value:function(e){switch(e){case 4:return new lt;case 8:return new ut}}}]),e}(),ft=function(){function e(){Object(a.a)(this,e)}return Object(s.a)(e,[{key:"getShortestPath",value:function(e,t,n){var i=this.shortestPathBfs(e,t,n);return{path:this.returnPath(i.previous,e,t),closestToTarget:i.closestToTarget}}},{key:"distance",value:function(e,t){return ct.manhattanDistance(e.position,t.position)}},{key:"pos2Str",value:function(e){return"".concat(e.position.toString(),"#").concat(e.layer)}},{key:"equal",value:function(e,t){return!!ct.equal(e.position,t.position)&&e.layer===t.layer}},{key:"shortestPathBfs",value:function(e,t,n){var i=new Map,r=new Set,o=[],a=e,s=this.distance(e,t);for(o.push({node:e,dist:0}),r.add(this.pos2Str(e));o.length>0;){var l=o.shift(),u=l.node,d=l.dist,f=this.distance(u,t);if(f<s&&(s=f,a=u),this.equal(u,t))return{shortestDistance:d,previous:i,closestToTarget:a};var h,p=c(n(u));try{for(p.s();!(h=p.n()).done;){var y=h.value;r.has(this.pos2Str(y))||(i.set(this.pos2Str(y),u),o.push({node:y,dist:d+1}),r.add(this.pos2Str(y)))}}catch(m){p.e(m)}finally{p.f()}}return{shortestDistance:-1,previous:i,closestToTarget:a}}},{key:"returnPath",value:function(e,t,n){var i=[],r=n;for(i.push(r);!this.equal(r,t);){if(!(r=e.get(this.pos2Str(r))))return[];i.push(r)}return i.reverse()}}]),e}(),ht=function(){function e(t,n,i){Object(a.a)(this,e),this.backoffMs=t,this.maxRetries=n,this.onFinished=i,this.retries=0,this.elapsed=0}return Object(s.a)(e,[{key:"retry",value:function(e,t){this.shouldRetry()?(this.elapsed+=e,this.elapsed>=this.backoffMs&&(this.elapsed=0,this.retries++,t())):this.onFinished()}},{key:"reset",value:function(){this.retries=0,this.elapsed=0}},{key:"getMaxRetries",value:function(){return this.maxRetries}},{key:"shouldRetry",value:function(){return-1===this.maxRetries||this.retries<this.maxRetries}}]),e}(),pt=function(e){return e.WAIT="WAIT",e.RETRY="RETRY",e.STOP="STOP",e}(pt||{}),yt=((ot=yt||{}).SUCCESS="SUCCESS",ot.NO_PATH_FOUND_MAX_RETRIES_EXCEEDED="NO_PATH_FOUND_MAX_RETRIES_EXCEEDED",ot.PATH_BLOCKED_MAX_RETRIES_EXCEEDED="PATH_BLOCKED_MAX_RETRIES_EXCEEDED",ot.PATH_BLOCKED="PATH_BLOCKED",ot.NO_PATH_FOUND="NO_PATH_FOUND",ot.PATH_BLOCKED_WAIT_TIMEOUT="PATH_BLOCKED_WAIT_TIMEOUT",ot.MOVEMENT_TERMINATED="MOVEMENT_TERMINATED",ot),mt=function(){function e(t,n,i){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,c=arguments.length>5?arguments[5]:void 0;Object(a.a)(this,e),this.character=t,this.tilemap=n,this.targetPos=i,this.distance=s,this.posOnPath=0,this.stopped=!1,this.getNeighbours=function(e){return r.distanceUtils.neighbours(e.position).filter((function(t){return!r.isBlocking(t,e.layer)})).map((function(t){return{position:t,layer:r.tilemap.getTransition(t,e.layer)||e.layer}}))},this.isBlocking=function(e,t){var n;return!e||!r.tilemap.isInRange(e)||(null!=(n=r.character)&&n.collidesWithTiles()?r.tilemap.isBlocking(t,e,r.character.getCollisionGroups()):r.tilemap.hasBlockingChar(e,t,r.character.getCollisionGroups()))},this.noPathFoundStrategy=(null==c?void 0:c.noPathFoundStrategy)||"STOP",this.pathBlockedStrategy=(null==c?void 0:c.pathBlockedStrategy)||"WAIT",this.noPathFoundRetryable=new ht((null==c?void 0:c.noPathFoundRetryBackoffMs)||200,(null==c?void 0:c.noPathFoundMaxRetries)||-1,(function(){r.stop("NO_PATH_FOUND_MAX_RETRIES_EXCEEDED")})),this.pathBlockedRetryable=new ht((null==c?void 0:c.pathBlockedRetryBackoffMs)||200,(null==c?void 0:c.pathBlockedMaxRetries)||-1,(function(){r.stop("PATH_BLOCKED_MAX_RETRIES_EXCEEDED")})),this.distanceUtils=dt.create(o),this.pathBlockedWaitTimeoutMs=(null==c?void 0:c.pathBlockedWaitTimeoutMs)||-1,this.finished$=new Ve,this.setCharacter(t)}return Object(s.a)(e,[{key:"setPathBlockedStrategy",value:function(e){this.pathBlockedStrategy=e}},{key:"getPathBlockedStrategy",value:function(){return this.pathBlockedStrategy}},{key:"setCharacter",value:function(e){var t=this;this.character=e,this.noPathFoundRetryable.reset(),this.pathBlockedRetryable.reset(),this.pathBlockedWaitElapsed=0,this.calcShortestPath(),this.character.autoMovementSet().pipe(Ye(1),qe((function(e){return e!==t}))).subscribe((function(){t.stop("MOVEMENT_TERMINATED")}))}},{key:"update",value:function(e){var t,n,i,r,o=this;this.stopped||(this.noPathFound()&&("RETRY"===this.noPathFoundStrategy?this.noPathFoundRetryable.retry(e,(function(){return o.calcShortestPath()})):"STOP"===this.noPathFoundStrategy&&this.stop("NO_PATH_FOUND")),this.updatePosOnPath(),this.isBlocking(null==(t=this.nextTileOnPath())?void 0:t.position,null==(n=this.character)?void 0:n.getNextTilePos().layer)?this.applyPathBlockedStrategy(e):this.pathBlockedWaitElapsed=0,this.hasArrived()?(this.stop("SUCCESS"),this.existsDistToTarget()&&this.turnTowardsTarget()):this.isBlocking(null==(i=this.nextTileOnPath())?void 0:i.position,null==(r=this.character)?void 0:r.getNextTilePos().layer)||this.moveCharOnPath())}},{key:"finishedObs",value:function(){return this.finished$}},{key:"resultToReason",value:function(e){switch(e){case"SUCCESS":return"Successfully arrived.";case"MOVEMENT_TERMINATED":return"Movement of character has been replaced before destination was reached.";case"PATH_BLOCKED":return"PathBlockedStrategy STOP: Path blocked.";case"NO_PATH_FOUND_MAX_RETRIES_EXCEEDED":return"NoPathFoundStrategy RETRY: Maximum retries of ".concat(this.noPathFoundRetryable.getMaxRetries()," exceeded.");case"NO_PATH_FOUND":return"NoPathFoundStrategy STOP: No path found.";case"PATH_BLOCKED_MAX_RETRIES_EXCEEDED":return"PathBlockedStrategy RETRY: Maximum retries of ".concat(this.pathBlockedRetryable.getMaxRetries()," exceeded.");case"PATH_BLOCKED_WAIT_TIMEOUT":return"PathBlockedStrategy WAIT: Wait timeout of ".concat(this.pathBlockedWaitTimeoutMs,"ms exceeded.")}}},{key:"applyPathBlockedStrategy",value:function(e){var t=this;"RETRY"===this.pathBlockedStrategy?this.pathBlockedRetryable.retry(e,(function(){return t.calcShortestPath()})):"STOP"===this.pathBlockedStrategy?this.stop("PATH_BLOCKED"):"WAIT"===this.pathBlockedStrategy&&this.pathBlockedWaitTimeoutMs>-1&&(this.pathBlockedWaitElapsed+=e,this.pathBlockedWaitElapsed>=this.pathBlockedWaitTimeoutMs&&this.stop("PATH_BLOCKED_WAIT_TIMEOUT"))}},{key:"moveCharOnPath",value:function(){var e=this.getDir(this.character.getNextTilePos().position,this.nextTileOnPath().position);this.character.move(e)}},{key:"nextTileOnPath",value:function(){return this.shortestPath[this.posOnPath+1]}},{key:"stop",value:function(e){this.finished$.next({position:this.character.getTilePos().position,result:e,description:this.resultToReason(e),layer:this.character.getTilePos().layer}),this.finished$.complete(),this.stopped=!0}},{key:"turnTowardsTarget",value:function(){var e=this.shortestPath[this.posOnPath+1],t=this.getDir(this.character.getNextTilePos().position,e.position);this.character.turnTowards(t)}},{key:"existsDistToTarget",value:function(){return this.posOnPath<this.shortestPath.length-1}},{key:"hasArrived",value:function(){return!this.noPathFound()&&this.posOnPath+Math.max(0,this.distance-this.distOffset)>=this.shortestPath.length-1}},{key:"updatePosOnPath",value:function(){for(var e=this.shortestPath[this.posOnPath];this.posOnPath<this.shortestPath.length-1&&(this.character.getNextTilePos().position.x!=e.position.x||this.character.getNextTilePos().position.y!=e.position.y);)this.posOnPath++,e=this.shortestPath[this.posOnPath]}},{key:"noPathFound",value:function(){return 0===this.shortestPath.length}},{key:"calcShortestPath",value:function(){var e=this.getShortestPath();this.posOnPath=0,this.shortestPath=e.path,this.distOffset=e.distOffset}},{key:"getShortestPath",value:function(){var e=new ft,t=e.getShortestPath(this.character.getNextTilePos(),this.targetPos,this.getNeighbours),n=t.path,i=t.closestToTarget;return 0==n.length&&"CLOSEST_REACHABLE"===this.noPathFoundStrategy?{path:e.getShortestPath(this.character.getNextTilePos(),i,this.getNeighbours).path,distOffset:this.distanceUtils.distance(i.position,this.targetPos.position)}:{path:n,distOffset:0}}},{key:"getDir",value:function(e,t){return this.distanceUtils.direction(e,t)}}]),e}(),vt=function(){function e(t,n,i){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"STOP";Object(a.a)(this,e),this.character=t,this.gridTilemap=n,this.charToFollow=i,this.numberOfDirections=o,this.distance=s,this.noPathFoundStrategy=c,this.character=t,this.updateTarget(this.charToFollow.getTilePos().position,this.charToFollow.getTilePos().layer),this.charToFollow.positionChangeStarted().pipe(Je(this.character.autoMovementSet().pipe(qe((function(e){return e!==r}))))).subscribe((function(e){var t=e.enterTile,n=e.enterLayer;r.updateTarget(t,n)}))}return Object(s.a)(e,[{key:"update",value:function(e){var t;null==(t=this.targetMovement)||t.update(e)}},{key:"updateTarget",value:function(e,t){this.targetMovement=new mt(this.character,this.gridTilemap,{position:new Ze(e),layer:t},this.numberOfDirections,this.distance+1,{noPathFoundStrategy:this.noPathFoundStrategy})}}]),e}(),gt=function(){function e(){Object(a.a)(this,e)}return Object(s.a)(e,null,[{key:"copyOver",value:function(e,t){t.position.x=e.position.x,t.position.y=e.position.y,t.layer=e.layer}},{key:"clone",value:function(e){return{position:e.position.clone(),layer:e.layer}}}]),e}(),bt=function(){function e(t,n,i){var r;Object(a.a)(this,e),this.sprite=t,this.walkingAnimationMapping=n,this.characterIndex=i,this.lastFootLeft=!1,this.directionToFrameRow=(r={},Object(o.a)(r,"down",0),Object(o.a)(r,"down-left",1),Object(o.a)(r,"down-right",2),Object(o.a)(r,"left",1),Object(o.a)(r,"right",2),Object(o.a)(r,"up",3),Object(o.a)(r,"up-left",1),Object(o.a)(r,"up-right",2),r),this._isEnabled=!0}return Object(s.a)(e,[{key:"setIsEnabled",value:function(e){this._isEnabled=e}},{key:"isEnabled",value:function(){return this._isEnabled}},{key:"updateCharacterFrame",value:function(e,t){this._isEnabled&&(t?this.setStandingFrameDuringWalk(e):this.setWalkingFrame(e))}},{key:"setStandingFrame",value:function(e){this._isEnabled&&this._setStandingFrame(e)}},{key:"setWalkingAnimationMapping",value:function(e){this.walkingAnimationMapping=e,this._isEnabled=void 0!==this.walkingAnimationMapping}},{key:"setCharacterIndex",value:function(e){this.characterIndex=e,this._isEnabled=-1!==this.characterIndex}},{key:"getWalkingAnimationMapping",value:function(){return this.walkingAnimationMapping}},{key:"getCharacterIndex",value:function(){return this.characterIndex}},{key:"setStandingFrameDuringWalk",value:function(e){this.isCurrentFrameStanding(e)||(this.lastFootLeft=!this.lastFootLeft),this._setStandingFrame(e)}},{key:"setWalkingFrame",value:function(e){var t=this.framesOfDirection(e);this.sprite.setFrame(this.lastFootLeft?t.rightFoot:t.leftFoot)}},{key:"_setStandingFrame",value:function(e){this.sprite.setFrame(this.framesOfDirection(e).standing)}},{key:"isCurrentFrameStanding",value:function(e){return Number(this.sprite.frame.name)==this.framesOfDirection(e).standing}},{key:"framesOfDirection",value:function(e){return this.walkingAnimationMapping?this.getFramesForAnimationMapping(e):this.getFramesForCharIndex(e)}},{key:"getFramesForAnimationMapping",value:function(e){return this.walkingAnimationMapping[e]||this.walkingAnimationMapping[this.fallbackDirection(e)]}},{key:"fallbackDirection",value:function(e){switch(e){case"down-left":return"left";case"down-right":return"right";case"up-left":return"left";case"up-right":return"right"}return e}},{key:"getFramesForCharIndex",value:function(t){var n=this.sprite.texture.source[0].width/this.sprite.width/e.FRAMES_CHAR_ROW,i=Math.floor(this.characterIndex/n),r=this.characterIndex%n,o=n*e.FRAMES_CHAR_ROW,a=e.FRAMES_CHAR_ROW*r+(this.directionToFrameRow[t]+i*e.FRAMES_CHAR_COL)*o;return{rightFoot:a,standing:a+1,leftFoot:a+2}}}]),e}();bt.FRAMES_CHAR_ROW=3,bt.FRAMES_CHAR_COL=4;var _t=function(){function e(){Object(a.a)(this,e)}return Object(s.a)(e,null,[{key:"shiftPad",value:function(e,t){var n=Math.floor(e),i="".concat(n).padStart(t,"0").length;return n/Math.pow(10,i)}}]),e}(),wt=function(){function e(){Object(a.a)(this,e)}return Object(s.a)(e,null,[{key:"copyOverImportantProperties",value:function(e,t){t.x=e.x,t.y=e.y,t.tint=e.tint,t.alpha=e.alpha,t.scale=e.scale,t.setFrame(e.frame.name),t.active=e.active,t.alphaBottomLeft=e.alphaBottomLeft,t.alphaBottomRight=e.alphaBottomRight,t.alphaTopLeft=e.alphaTopLeft,t.alphaTopRight=e.alphaTopRight,t.angle=e.angle}}]),e}(),xt=function(){function e(t,n){Object(a.a)(this,e),this.id=t,this.movementDirection="none",this.tileSizePixelsWalked=Ze.ZERO,this._nextTilePos={position:new Ze(0,0),layer:void 0},this._tilePos={position:new Ze(0,0),layer:void 0},this.movementStarted$=new Ve,this.movementStopped$=new Ve,this.directionChanged$=new Ve,this.positionChangeStarted$=new Ve,this.positionChangeFinished$=new Ve,this.tilePositionSet$=new Ve,this.autoMovementSet$=new Ve,this.lastMovementImpulse="none",this.facingDirection="down",this.characterIndex=-1,"number"==typeof n.walkingAnimationMapping?this.characterIndex=n.walkingAnimationMapping:this.walkingAnimationMapping=n.walkingAnimationMapping,this.container=n.container,this.tilemap=n.tilemap,this.speed=n.speed,this.collidesWithTilesInternal=n.collidesWithTiles,this.customOffset=new Ze(n.offsetX||0,n.offsetY||0),this._tilePos.layer=n.charLayer,this.sprite=n.sprite,this.layerOverlaySprite=n.layerOverlaySprite,this.collisionGroups=new Set(n.collisionGroups||[]),this.layerOverlaySprite&&this.initLayerOverlaySprite(),this._setSprite(this.sprite)}return Object(s.a)(e,[{key:"getId",value:function(){return this.id}},{key:"getSpeed",value:function(){return this.speed}},{key:"setSpeed",value:function(e){this.speed=e}},{key:"getSprite",value:function(){return this.sprite}},{key:"setSprite",value:function(e){this._setSprite(e)}},{key:"setMovement",value:function(e){this.autoMovementSet$.next(e),this.movement=e}},{key:"getMovement",value:function(){return this.movement}},{key:"collidesWithTiles",value:function(){return this.collidesWithTilesInternal}},{key:"setWalkingAnimationMapping",value:function(e){"number"==typeof e?this.animation.setCharacterIndex(e):this.animation.setWalkingAnimationMapping(e)}},{key:"setTilePosition",value:function(e){this.isMoving()&&this.movementStopped$.next(this.movementDirection),this.tilePositionSet$.next(k({},e)),this.nextTilePos=e,this.fire(this.positionChangeStarted$,this.tilePos,this.nextTilePos),this.fire(this.positionChangeFinished$,this.tilePos,this.nextTilePos),this.movementDirection="none",this.lastMovementImpulse="none",this.tilePos=e,this.setPosition(this.tilemap.tilePosToPixelPos(e.position).add(this.getOffset()).add(this.customOffset)),this.updateZindex()}},{key:"getTilePos",value:function(){return this.tilePos}},{key:"getNextTilePos",value:function(){return this.nextTilePos}},{key:"move",value:function(e){this.lastMovementImpulse=e,"none"!=e&&(this.isMoving()||(this.isBlockingDirection(e)?(this.facingDirection=e,this.animation.setStandingFrame(e),this.directionChanged$.next(e)):this.startMoving(e)))}},{key:"update",value:function(e){var t,n,i;null==(t=this.movement)||t.update(e),this.isMoving()&&(this.updateCharacterPosition(e),this.updateZindex()),this.lastMovementImpulse="none",this.layerOverlaySprite&&(wt.copyOverImportantProperties(this.sprite,this.layerOverlaySprite),this.layerOverlaySprite.x=this.sprite.x+((null==(n=this.container)?void 0:n.x)||0),this.layerOverlaySprite.y=this.sprite.y+((null==(i=this.container)?void 0:i.y)||0))}},{key:"getMovementDirection",value:function(){return this.movementDirection}},{key:"isBlockingDirection",value:function(e){if("none"==e)return!1;var t=this.tilePosInDirection(e),n=this.tilemap.getTransition(t,this.nextTilePos.layer)||this.nextTilePos.layer;return!(!this.collidesWithTilesInternal||!this.tilemap.hasBlockingTile(n,t,function(e){var t;return(t={},Object(o.a)(t,"up","down"),Object(o.a)(t,"down","up"),Object(o.a)(t,"left","right"),Object(o.a)(t,"right","left"),Object(o.a)(t,"none","none"),Object(o.a)(t,"up-left","down-right"),Object(o.a)(t,"up-right","down-left"),Object(o.a)(t,"down-right","up-left"),Object(o.a)(t,"down-left","up-right"),t)[e]}(e)))||this.tilemap.hasBlockingChar(t,n,this.getCollisionGroups())}},{key:"isMoving",value:function(){return"none"!=this.movementDirection}},{key:"turnTowards",value:function(e){this.isMoving()||"none"!=e&&(this.facingDirection=e,this.animation.setStandingFrame(e))}},{key:"getFacingDirection",value:function(){return this.facingDirection}},{key:"getFacingPosition",value:function(){return this._tilePos.position.add(nt(this.facingDirection))}},{key:"addCollisionGroup",value:function(e){this.collisionGroups.add(e)}},{key:"setCollisionGroups",value:function(e){this.collisionGroups=new Set(e)}},{key:"getCollisionGroups",value:function(){return Array.from(this.collisionGroups)}},{key:"hasCollisionGroup",value:function(e){return this.collisionGroups.has(e)}},{key:"removeCollisionGroup",value:function(e){this.collisionGroups.delete(e)}},{key:"removeAllCollisionGroups",value:function(){this.collisionGroups.clear()}},{key:"movementStarted",value:function(){return this.movementStarted$}},{key:"movementStopped",value:function(){return this.movementStopped$}},{key:"directionChanged",value:function(){return this.directionChanged$}},{key:"tilePositionSet",value:function(){return this.tilePositionSet$}},{key:"positionChangeStarted",value:function(){return this.positionChangeStarted$}},{key:"positionChangeFinished",value:function(){return this.positionChangeFinished$}},{key:"autoMovementSet",value:function(){return this.autoMovementSet$}},{key:"_setSprite",value:function(e){e.setOrigin(0,0),e.x=this.sprite.x,e.y=this.sprite.y,this.sprite=e,this.animation=new bt(this.sprite,this.walkingAnimationMapping,this.characterIndex),this.animation.setIsEnabled(void 0!==this.walkingAnimationMapping||-1!==this.characterIndex),this.animation.setStandingFrame("down"),this.updateZindex()}},{key:"getOffset",value:function(){var e=this.tilemap.getTileWidth()/2-Math.floor(this.sprite.displayWidth/2),t=-this.sprite.displayHeight+this.tilemap.getTileHeight();return new Ze(e,t)}},{key:"updateCharacterPosition",value:function(e){var t=this.getSpeedPerDelta(e),n=this.getDistToNextTile(),i=n.length()<=t.length(),r=i?n:t;this.moveCharacterSprite(r),i&&(this.shouldContinueMoving()?(this.fire(this.positionChangeFinished$,this.tilePos,this.nextTilePos),this.startMoving(this.lastMovementImpulse),this.updateCharacterPosition(e*this.getProportionWalked(t,n))):this.stopMoving())}},{key:"speedPixelsPerSecond",value:function(e){return nt(e).abs().multiply(this.tilemap.getTileDistance(e)).scalarMult(this.speed)}},{key:"nextTilePos",get:function(){return{position:this._nextTilePos.position.clone(),layer:this._nextTilePos.layer}},set:function(e){gt.copyOver(e,this._nextTilePos)}},{key:"tilePos",get:function(){return gt.clone(this._tilePos)},set:function(e){gt.copyOver(e,this._tilePos)}},{key:"gameObject",value:function(){return this.container||this.sprite}},{key:"updateZindex",value:function(){if(this.setDepth(this.gameObject(),this.nextTilePos),this.layerOverlaySprite){var e=new Ze(E(k({},this.nextTilePos.position),{y:this.nextTilePos.position.y-1}));this.setDepth(this.layerOverlaySprite,{position:e,layer:this.nextTilePos.layer})}}},{key:"setDepth",value:function(e,t){e.setDepth(this.tilemap.getDepthOfCharLayer(this.getTransitionLayer(t))+this.getPaddedPixelDepth())}},{key:"getPaddedPixelDepth",value:function(){return _t.shiftPad(this.gameObject().y+this.gameObject().displayHeight,7)}},{key:"getTransitionLayer",value:function(e){return this.tilemap.getTransition(e.position,e.layer)||e.layer}},{key:"setPosition",value:function(e){this.gameObject().x=e.x,this.gameObject().y=e.y}},{key:"getPosition",value:function(){return new Ze(this.gameObject().x,this.gameObject().y)}},{key:"startMoving",value:function(e){"none"!==e&&(e!=this.movementDirection&&this.movementStarted$.next(e),this.movementDirection=e,this.facingDirection=e,this.updateTilePos())}},{key:"updateTilePos",value:function(){this.tilePos=this.nextTilePos;var e=this.tilePosInDirection(this.movementDirection),t=this.tilemap.getTransition(e,this.tilePos.layer)||this.tilePos.layer;this.nextTilePos={position:e,layer:t},this.fire(this.positionChangeStarted$,this.tilePos,this.nextTilePos)}},{key:"tilePosInDirection",value:function(e){return this.nextTilePos.position.add(nt(this.tilemap.toMapDirection(e)))}},{key:"getDistToNextTile",value:function(){return this.tilemap.getTileDistance(this.movementDirection).subtract(this.tileSizePixelsWalked).multiply(nt(this.movementDirection))}},{key:"getProportionWalked",value:function(e,t){var n=e.subtract(t).divide(e);return isNaN(n.x)&&(n.x=0),Math.max(Math.abs(n.x),Math.abs(n.y))}},{key:"shouldContinueMoving",value:function(){return"none"!==this.lastMovementImpulse&&!this.isBlockingDirection(this.lastMovementImpulse)}},{key:"getSpeedPerDelta",value:function(e){var t=e/1e3;return this.speedPixelsPerSecond(this.movementDirection).scalarMult(t).multiply(nt(this.movementDirection))}},{key:"moveCharacterSprite",value:function(e){var t=this.getPosition().add(e);this.setPosition(t),this.tileSizePixelsWalked=this.tileSizePixelsWalked.add(e.abs()),this.animation.updateCharacterFrame(this.movementDirection,this.hasWalkedHalfATile()),this.tileSizePixelsWalked=this.tileSizePixelsWalked.modulo(this.tilemap.getTileDistance(this.movementDirection))}},{key:"stopMoving",value:function(){if("none"!==this.movementDirection){var e=this.tilePos,t=this.nextTilePos,n=this.movementDirection;this.tilePos=this.nextTilePos,this.movementDirection="none",this.movementStopped$.next(n),this.fire(this.positionChangeFinished$,e,t)}}},{key:"hasWalkedHalfATile",value:function(){return this.tileSizePixelsWalked.x>this.tilemap.getTileDistance(this.movementDirection).x/2||this.tileSizePixelsWalked.y>this.tilemap.getTileDistance(this.movementDirection).y/2}},{key:"fire",value:function(e,t,n){var i=t.position,r=t.layer,o=n.position,a=n.layer;e.next({exitTile:i,enterTile:o,exitLayer:r,enterLayer:a})}},{key:"initLayerOverlaySprite",value:function(){this.layerOverlaySprite.scale=this.sprite.scale;var e=this.tilemap.getTileHeight()/this.layerOverlaySprite.scale;this.layerOverlaySprite.setCrop(0,0,this.layerOverlaySprite.displayWidth,this.sprite.height-e),this.layerOverlaySprite.setOrigin(0,0)}}]),e}(),Ot=function(){function e(){Object(a.a)(this,e),this.tilePosToCharacters=new Map,this.positionChangeStartedSubs=new Map,this.tilePosSetSubs=new Map,this.positionChangeFinishedSubs=new Map}return Object(s.a)(e,[{key:"isCharBlockingAt",value:function(e,t,n){var i=this.posToString(e,t);return this.tilePosToCharacters.has(i)&&this.tilePosToCharacters.get(i).size>0&&Object(r.a)(this.tilePosToCharacters.get(i)).some((function(e){return e.getCollisionGroups().some((function(e){return n.includes(e)}))}))}},{key:"addCharacter",value:function(e){this.add(this.posToString(e.getTilePos().position,e.getTilePos().layer),e),this.add(this.posToString(e.getNextTilePos().position,e.getNextTilePos().layer),e),this.addPositionChangeSub(e),this.addPositionChangeFinishedSub(e),this.addTilePosSetSub(e)}},{key:"removeCharacter",value:function(e){var t=e.getId();this.positionChangeStartedSubs.get(t).unsubscribe(),this.positionChangeFinishedSubs.get(t).unsubscribe(),this.tilePosSetSubs.get(t).unsubscribe(),this.tilePosToCharacters.get(this.posToString(e.getTilePos().position,e.getTilePos().layer)).delete(e),this.tilePosToCharacters.get(this.posToString(e.getNextTilePos().position,e.getNextTilePos().layer)).delete(e)}},{key:"add",value:function(e,t){this.tilePosToCharacters.has(e)||this.tilePosToCharacters.set(e,new Set),this.tilePosToCharacters.get(e).add(t)}},{key:"addTilePosSetSub",value:function(e){var t=this,n=e.tilePositionSet().subscribe((function(n){t.tilePosToCharacters.get(t.posToString(e.getNextTilePos().position,e.getNextTilePos().layer)).delete(e)}));this.tilePosSetSubs.set(e.getId(),n)}},{key:"addPositionChangeSub",value:function(e){var t=this,n=e.positionChangeStarted().subscribe((function(n){"BLOCK_ONE_TILE_AHEAD"===C.get().characterCollisionStrategy&&t.tilePosToCharacters.get(t.posToString(n.exitTile,n.exitLayer)).delete(e),t.add(t.posToString(n.enterTile,n.enterLayer),e)}));this.positionChangeStartedSubs.set(e.getId(),n)}},{key:"addPositionChangeFinishedSub",value:function(e){var t=this,n=e.positionChangeFinished().subscribe((function(n){t.tilePosToCharacters.get(t.posToString(n.exitTile,n.exitLayer)).delete(e)}));this.positionChangeFinishedSubs.set(e.getId(),n)}},{key:"posToString",value:function(e,t){return"".concat(e.x,"#").concat(e.y,"#").concat(t)}}]),e}(),kt=function(){function e(t,n,i,r){Object(a.a)(this,e),this.x=t,this.y=n,this.width=i,this.height=r}return Object(s.a)(e,[{key:"getX",value:function(){return this.x}},{key:"getY",value:function(){return this.y}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"isInRange",value:function(e){return e.x>=this.x&&e.x<this.x+this.width&&e.y>=this.y&&e.y<this.y+this.height}}]),e}(),Et=function(){function e(t){Object(a.a)(this,e),this.tilemap=t,this.characters=new Map,this.charBlockCache=new Ot,this.charLayerDepths=new Map,this.transitions=new Map,this.setLayerDepths()}return Object(s.a)(e,[{key:"addCharacter",value:function(e){this.characters.set(e.getId(),e),void 0===e.getNextTilePos().layer&&e.setTilePosition(E(k({},e.getNextTilePos()),{layer:this.getLowestCharLayer()})),this.charBlockCache.addCharacter(e)}},{key:"removeCharacter",value:function(e){this.charBlockCache.removeCharacter(this.characters.get(e)),this.characters.delete(e)}},{key:"getCharacters",value:function(){return Object(r.a)(this.characters.values())}},{key:"isBlocking",value:function(e,t,n,i){return this.hasNoTile(t,e)||this.hasBlockingTile(e,t,i)||this.hasBlockingChar(t,e,n)}},{key:"hasBlockingTile",value:function(e,t,n){var i=this;return!!this.hasNoTile(t,e)||this.getCollisionRelevantLayers(e).some((function(e){return i.isLayerBlockingAt(e,t,n)}))}},{key:"getTransition",value:function(e,t){var n=this.transitions.get(e.toString());if(n)return n.get(t)}},{key:"setTransition",value:function(e,t,n){this.transitions.has(e.toString())||this.transitions.set(e.toString(),new Map),this.transitions.get(e.toString()).set(t,n)}},{key:"getTransitions",value:function(){return new Map(Object(r.a)(this.transitions).map((function(e){var t=Object(i.a)(e,2),n=t[0],r=t[1];return[n,new Map(r)]})))}},{key:"hasNoTile",value:function(e,t){var n=this;return!this.getCollisionRelevantLayers(t).some((function(t){return n.tilemap.hasTileAt(e.x,e.y,t.name)}))}},{key:"hasBlockingChar",value:function(e,t,n){return this.charBlockCache.isCharBlockingAt(e,t,n)}},{key:"getTileWidth",value:function(){var e=this.tilemap.layers[0].tilemapLayer.scale;return this.tilemap.tileWidth*e}},{key:"getTileHeight",value:function(){var e=this.tilemap.layers[0].tilemapLayer.scale;return this.tilemap.tileHeight*e}},{key:"getDepthOfCharLayer",value:function(e){return this.charLayerDepths.get(e)||0}},{key:"isInRange",value:function(e){return new kt(0,0,this.tilemap.width,this.tilemap.height).isInRange(e)}},{key:"getTileSize",value:function(){return new Ze(this.getTileWidth(),this.getTileHeight())}},{key:"tilePosToPixelPos",value:function(e){return this.isIsometric()?ct.scalarMult(this.getTileSize(),.5).multiply(new Ze(e.x-e.y,e.x+e.y)):e.clone().multiply(this.getTileSize())}},{key:"getTileDistance",value:function(e){if(this.isIsometric())switch(e){case"down-left":case"down-right":case"up-left":case"up-right":return ct.scalarMult(this.getTileSize(),.5);default:return this.getTileSize()}return this.getTileSize()}},{key:"toMapDirection",value:function(e){return this.isIsometric()?function(e){var t;return(t={},Object(o.a)(t,"left","down-left"),Object(o.a)(t,"up-left","left"),Object(o.a)(t,"up","up-left"),Object(o.a)(t,"up-right","up"),Object(o.a)(t,"right","up-right"),Object(o.a)(t,"down-right","right"),Object(o.a)(t,"down","down-right"),Object(o.a)(t,"down-left","down"),Object(o.a)(t,"none","none"),t)[e]}(e):e}},{key:"isIsometric",value:function(){return this.tilemap.orientation==Phaser.Tilemaps.Orientation.ISOMETRIC.toString()}},{key:"isLayerBlockingAt",value:function(t,n,i){var r=e.ONE_WAY_COLLIDE_PROP_PREFIX+i,o=this.tilemap.getTileAt(n.x,n.y,!1,t.name);return Boolean((null==o?void 0:o.properties)&&(o.properties[C.get().collisionTilePropertyName]||o.properties[r]))}},{key:"getCharLayerIndexes",value:function(){var e=this;return this.tilemap.layers.map((function(e,t){return{layer:e,index:t}})).filter((function(t){var n=t.layer;return e.isCharLayer(n)})).map((function(e){return e.index}))}},{key:"findPrevAndCharLayer",value:function(t){var n=this,i=this.getCharLayerIndexes(),r=i.findIndex((function(i){return n.getLayerProp(n.tilemap.layers[i],e.CHAR_LAYER_PROP_NAME)==t}));return 0==r?{prevIndex:-1,charLayerIndex:i[r]}:{prevIndex:i[r-1],charLayerIndex:i[r]}}},{key:"getCollisionRelevantLayers",value:function(e){if(!e)return this.tilemap.layers;var t=this.findPrevAndCharLayer(e),n=t.prevIndex,i=t.charLayerIndex;return this.tilemap.layers.slice(n+1,i+1)}},{key:"getLowestCharLayer",value:function(){var t=this,n=this.tilemap.layers.find((function(n){return t.hasLayerProp(n,e.CHAR_LAYER_PROP_NAME)}));if(n)return this.getLayerProp(n,e.CHAR_LAYER_PROP_NAME)}},{key:"getLayerProp",value:function(e,t){var n=e.properties.find((function(e){return e.name==t}));return null==n?void 0:n.value}},{key:"hasLayerProp",value:function(e,t){return null!=this.getLayerProp(e,t)}},{key:"isLayerAlwaysOnTop",value:function(t){return this.hasLayerProp(t,e.ALWAYS_TOP_PROP_NAME)}},{key:"isCharLayer",value:function(t){return this.hasLayerProp(t,e.CHAR_LAYER_PROP_NAME)}},{key:"setLayerDepths",value:function(){var t=this,n=[],i=-1,r=this.tilemap.layers.filter((function(e){return t.isLayerAlwaysOnTop(e)})),o=this.tilemap.layers.filter((function(e){return!t.isLayerAlwaysOnTop(e)}));o.forEach((function(r){t.hasLayerProp(r,e.HEIGHT_SHIFT_PROP_NAME)?(t.createHeightShiftLayers(r,i),n.push(r.tilemapLayer)):t.setDepth(r,++i)})),o.forEach((function(e){t.isCharLayer(e)||t.charLayerDepths.set(void 0,i)})),r.forEach((function(e,t){e.tilemapLayer.setDepth(t+1+i)})),n.forEach((function(e){return e.destroy()}))}},{key:"setDepth",value:function(t,n){t.tilemapLayer.setDepth(n),this.isCharLayer(t)&&this.charLayerDepths.set(this.getLayerProp(t,e.CHAR_LAYER_PROP_NAME),n)}},{key:"createHeightShiftLayers",value:function(t,n){for(var i=this.getLayerProp(t,e.HEIGHT_SHIFT_PROP_NAME),r=0;r<t.height;r++){var o=this.copyLayer(t,r);o.scale=t.tilemapLayer.scale,o.setDepth(n+_t.shiftPad((r+i)*this.getTileHeight()+1,e.Z_INDEX_PADDING))}}},{key:"copyLayer",value:function(e,t){for(var n=this.tilemap.createBlankLayer("".concat(e.name,"#").concat(t),e.tilemapLayer.tileset),i=0;i<e.width;i++)n.putTileAt(e.data[t][i],i,t);return n}}]),e}();Et.ALWAYS_TOP_PROP_NAME="ge_alwaysTop",Et.CHAR_LAYER_PROP_NAME="ge_charLayer",Et.HEIGHT_SHIFT_PROP_NAME="ge_heightShift",Et.ONE_WAY_COLLIDE_PROP_PREFIX="ge_collide_",Et.Z_INDEX_PADDING=7;var St=function(){function e(){Object(a.a)(this,e)}return Object(s.a)(e,null,[{key:"getRandomInt",value:function(e){return Math.floor(Math.random()*Math.floor(e))}}]),e}(),Ct=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;Object(a.a)(this,e),this.character=t,this.delay=r,this.radius=o,this.delayLeft=this.delay,this.initialRow=t.getNextTilePos().position.y,this.initialCol=t.getNextTilePos().position.x,this.randomizeStepSize(),this.stepsWalked=0,this.currentMovementDirection="none",this.character.positionChangeStarted().pipe(Je(this.character.autoMovementSet())).subscribe((function(){n.stepsWalked++})),this.distanceUtils=dt.create(i)}return Object(s.a)(e,[{key:"update",value:function(e){if(this.shouldContinueWalkingCurrentDirection())this.character.move(this.currentMovementDirection);else if(this.delayLeft-=e,this.delayLeft<=0){this.delayLeft=this.delay;var t=this.getFreeRandomDirection();this.stepsWalked=0,this.character.move(t),this.currentMovementDirection=t,this.randomizeStepSize()}}},{key:"shouldContinueWalkingCurrentDirection",value:function(){return this.stepsWalked<this.stepSize&&"none"!==this.currentMovementDirection&&!this.character.isBlockingDirection(this.currentMovementDirection)&&this.isWithinRadius(this.currentMovementDirection)}},{key:"getFreeDirections",value:function(){var e=this;return this.distanceUtils.getDirections().filter((function(t){return!e.character.isBlockingDirection(t)})).filter((function(t){return e.isWithinRadius(t)}))}},{key:"isWithinRadius",value:function(e){return-1==this.radius||this.getDist(e)<=this.radius}},{key:"getDist",value:function(e){return this.distanceUtils.distance(this.character.getNextTilePos().position.add(nt(e)),new Ze(this.initialCol,this.initialRow))}},{key:"getFreeRandomDirection",value:function(){var e=this.getFreeDirections();return 0==e.length?"none":e[St.getRandomInt(e.length)]}},{key:"randomizeStepSize",value:function(){this.stepSize=St.getRandomInt(this.radius)+1}}]),e}(),Tt=function(e){return e.REMOVED="REMOVED",e.ADDED="ADDED",e}(Tt||{}),Pt=function(){function e(t){Object(a.a)(this,e),this.scene=t,this.isCreated=!1,this.scene.sys.events.once("boot",this.boot,this)}return Object(s.a)(e,[{key:"boot",value:function(){this.scene.sys.events.on("update",this.update,this),this.scene.sys.events.on("destroy",this.destroy,this)}},{key:"destroy",value:function(){this.scene=void 0,this.gridCharacters=void 0,this.gridTilemap=void 0,this.movementStarted$=void 0,this.movementStopped$=void 0,this.directionChanged$=void 0,this.positionChangeStarted$=void 0,this.positionChangeFinished$=void 0,this.charRemoved$=void 0,this.charAdded$=void 0}},{key:"getCharLayer",value:function(e){return this.initGuard(),this.unknownCharGuard(e),this.gridCharacters.get(e).getTilePos().layer}},{key:"getTransition",value:function(e,t){return this.initGuard(),this.gridTilemap.getTransition(new Ze(e),t)}},{key:"setTransition",value:function(e,t,n){return this.initGuard(),this.gridTilemap.setTransition(new Ze(e),t,n)}},{key:"create",value:function(e,t){this.isCreated=!0,this.gridCharacters=new Map;var n=this.setConfigDefaults(t);C.set(n),this.movementStopped$=new Ve,this.movementStarted$=new Ve,this.directionChanged$=new Ve,this.positionChangeStarted$=new Ve,this.positionChangeFinished$=new Ve,this.charRemoved$=new Ve,this.charAdded$=new Ve,this.gridTilemap=new Et(e),this.addCharacters()}},{key:"getPosition",value:function(e){return this.initGuard(),this.unknownCharGuard(e),this.gridCharacters.get(e).getTilePos().position}},{key:"move",value:function(e,t){this.moveChar(e,t)}},{key:"moveRandomly",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;this.initGuard(),this.unknownCharGuard(e);var i=new Ct(this.gridCharacters.get(e),C.get().numberOfDirections,t,n);this.gridCharacters.get(e).setMovement(i)}},{key:"moveTo",value:function(e,t,n){var i=this.assembleMoveToConfig(n);this.initGuard(),this.unknownCharGuard(e);var r=new mt(this.gridCharacters.get(e),this.gridTilemap,{position:new Ze(t),layer:(null==n?void 0:n.targetLayer)||this.gridCharacters.get(e).getNextTilePos().layer},C.get().numberOfDirections,0,i);return this.gridCharacters.get(e).setMovement(r),r.finishedObs().pipe(Ye(1),Be((function(t){return{charId:e,position:t.position,result:t.result,description:t.description,layer:t.layer}})))}},{key:"stopMovement",value:function(e){this.initGuard(),this.unknownCharGuard(e),this.gridCharacters.get(e).setMovement(void 0)}},{key:"setSpeed",value:function(e,t){this.initGuard(),this.unknownCharGuard(e),this.gridCharacters.get(e).setSpeed(t)}},{key:"setWalkingAnimationMapping",value:function(e,t){this.initGuard(),this.unknownCharGuard(e),this.gridCharacters.get(e).setWalkingAnimationMapping(t)}},{key:"update",value:function(e,t){if(this.isCreated&&this.gridCharacters){var n,r=c(this.gridCharacters);try{for(r.s();!(n=r.n()).done;){var o=Object(i.a)(n.value,2);o[0];o[1].update(t)}}catch(a){r.e(a)}finally{r.f()}}}},{key:"addCharacter",value:function(e){var t=this;this.initGuard();var n=C.get().layerOverlay?this.scene.add.sprite(0,0,e.sprite.texture):void 0,i={sprite:e.sprite,layerOverlaySprite:n,speed:e.speed||4,tilemap:this.gridTilemap,walkingAnimationMapping:e.walkingAnimationMapping,container:e.container,offsetX:e.offsetX,offsetY:e.offsetY,collidesWithTiles:!0,collisionGroups:["geDefault"],charLayer:e.charLayer};"boolean"==typeof e.collides?!1===e.collides&&(i.collidesWithTiles=!1,i.collisionGroups=[]):void 0!==e.collides&&(!1===e.collides.collidesWithTiles&&(i.collidesWithTiles=!1),e.collides.collisionGroups&&(i.collisionGroups=e.collides.collisionGroups));var r=this.createCharacter(e.id,i);e.facingDirection&&r.turnTowards(e.facingDirection),this.gridCharacters.set(e.id,r);var o=e.startPosition?new Ze(e.startPosition):new Ze(0,0);r.setTilePosition({position:o,layer:r.getTilePos().layer}),this.gridTilemap.addCharacter(r),r.movementStopped().pipe(this.takeUntilCharRemoved(r.getId())).subscribe((function(e){t.movementStopped$.next({charId:r.getId(),direction:e})})),r.movementStarted().pipe(this.takeUntilCharRemoved(r.getId())).subscribe((function(e){t.movementStarted$.next({charId:r.getId(),direction:e})})),r.directionChanged().pipe(this.takeUntilCharRemoved(r.getId())).subscribe((function(e){t.directionChanged$.next({charId:r.getId(),direction:e})})),r.positionChangeStarted().pipe(this.takeUntilCharRemoved(r.getId())).subscribe((function(e){t.positionChangeStarted$.next(k({charId:r.getId()},e))})),r.positionChangeFinished().pipe(this.takeUntilCharRemoved(r.getId())).subscribe((function(e){t.positionChangeFinished$.next(k({charId:r.getId()},e))})),this.charAdded$.next(e.id)}},{key:"hasCharacter",value:function(e){return this.initGuard(),this.gridCharacters.has(e)}},{key:"removeCharacter",value:function(e){this.initGuard(),this.unknownCharGuard(e),this.gridTilemap.removeCharacter(e),this.gridCharacters.delete(e),this.charRemoved$.next(e)}},{key:"removeAllCharacters",value:function(){this.initGuard();var e,t=c(this.gridCharacters.keys());try{for(t.s();!(e=t.n()).done;){var n=e.value;this.removeCharacter(n)}}catch(i){t.e(i)}finally{t.f()}}},{key:"getAllCharacters",value:function(){return this.initGuard(),Object(r.a)(this.gridCharacters.keys())}},{key:"follow",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.initGuard(),this.unknownCharGuard(e),this.unknownCharGuard(t);var r=new vt(this.gridCharacters.get(e),this.gridTilemap,this.gridCharacters.get(t),C.get().numberOfDirections,n,i?"CLOSEST_REACHABLE":"STOP");this.gridCharacters.get(e).setMovement(r)}},{key:"isMoving",value:function(e){return this.initGuard(),this.unknownCharGuard(e),this.gridCharacters.get(e).isMoving()}},{key:"getFacingDirection",value:function(e){return this.initGuard(),this.unknownCharGuard(e),this.gridCharacters.get(e).getFacingDirection()}},{key:"getFacingPosition",value:function(e){this.initGuard(),this.unknownCharGuard(e);var t=this.gridCharacters.get(e).getFacingPosition();return{x:t.x,y:t.y}}},{key:"turnTowards",value:function(e,t){return this.initGuard(),this.unknownCharGuard(e),this.gridCharacters.get(e).turnTowards(t)}},{key:"setPosition",value:function(e,t,n){this.initGuard(),this.unknownCharGuard(e),n||this.gridCharacters.get(e).setTilePosition({position:new Ze(t),layer:this.gridCharacters.get(e).getTilePos().layer}),this.gridCharacters.get(e).setTilePosition({position:new Ze(t),layer:n})}},{key:"getSprite",value:function(e){return this.initGuard(),this.unknownCharGuard(e),this.gridCharacters.get(e).getSprite()}},{key:"setSprite",value:function(e,t){this.initGuard(),this.unknownCharGuard(e),t.setOrigin(0,0),this.gridCharacters.get(e).setSprite(t)}},{key:"isBlocked",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["geDefault"];return this.initGuard(),this.gridTilemap.isBlocking(t,new Ze(e),n)}},{key:"isTileBlocked",value:function(e,t){return this.initGuard(),this.gridTilemap.hasBlockingTile(t,new Ze(e))}},{key:"getCollisionGroups",value:function(e){return this.initGuard(),this.unknownCharGuard(e),this.gridCharacters.get(e).getCollisionGroups()}},{key:"setCollisionGroups",value:function(e,t){this.initGuard(),this.unknownCharGuard(e),this.gridCharacters.get(e).setCollisionGroups(t)}},{key:"steppedOn",value:function(e,t,n){return this.positionChangeFinished().pipe(qe((function(i){return e.includes(i.charId)&&t.some((function(e){return e.x===i.enterTile.x&&e.y===i.enterTile.y}))&&(void 0===n||n.includes(i.enterLayer))})))}},{key:"characterShifted",value:function(){return this.charAdded$.pipe(Be((function(e){return{charId:e,action:"ADDED"}})),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return $e.apply(void 0,F([],N(e),!1))}(this.charRemoved$.pipe(Be((function(e){return{charId:e,action:"REMOVED"}})))))}},{key:"movementStarted",value:function(){return this.movementStarted$}},{key:"movementStopped",value:function(){return this.movementStopped$}},{key:"directionChanged",value:function(){return this.directionChanged$}},{key:"positionChangeStarted",value:function(){return this.positionChangeStarted$}},{key:"positionChangeFinished",value:function(){return this.positionChangeFinished$}},{key:"setConfigDefaults",value:function(e){return k({collisionTilePropertyName:"ge_collide",numberOfDirections:4,characterCollisionStrategy:"BLOCK_TWO_TILES",layerOverlay:!1},e)}},{key:"takeUntilCharRemoved",value:function(e){return Je(this.charRemoved$.pipe(qe((function(t){return t==e}))))}},{key:"initGuard",value:function(){if(!this.isCreated)throw new Error("Plugin not initialized. You need to call create() first.")}},{key:"unknownCharGuard",value:function(e){if(!this.gridCharacters.has(e))throw new Error("Character unknown: ".concat(e))}},{key:"createCharacter",value:function(e,t){return new xt(e,t)}},{key:"addCharacters",value:function(){var e=this;C.get().characters.forEach((function(t){return e.addCharacter(t)}))}},{key:"moveChar",value:function(e,t){if(this.initGuard(),this.unknownCharGuard(e),4===C.get().numberOfDirections){if(!this.gridTilemap.isIsometric()&&tt(t))return void console.warn("GridEngine: Character '".concat(e,"' can't be moved '").concat(t,"' in 4 direction mode."));if(this.gridTilemap.isIsometric()&&!tt(t))return void console.warn("GridEngine: Character '".concat(e,"' can't be moved '").concat(t,"' in 4 direction isometric mode."))}this.gridCharacters.get(e).move(t)}},{key:"assembleMoveToConfig",value:function(e){var t=E(k({},e),{noPathFoundStrategy:"STOP",pathBlockedStrategy:"WAIT"});return null!=e&&e.noPathFoundStrategy&&(Object.values(st).includes(e.noPathFoundStrategy)?t.noPathFoundStrategy=e.noPathFoundStrategy:console.warn("GridEngine: Unknown NoPathFoundStrategy '".concat(e.noPathFoundStrategy,"'. Falling back to '","STOP","'"))),null!=e&&e.pathBlockedStrategy&&(Object.values(pt).includes(e.pathBlockedStrategy)?t.pathBlockedStrategy=e.pathBlockedStrategy:console.warn("GridEngine: Unknown PathBlockedStrategy '".concat(e.pathBlockedStrategy,"'. Falling back to '","WAIT","'"))),t}}]),e}()}).call(this,n("yLpj"))},"0vxD":function(e,t,n){"use strict";e.exports=n("DUzY")},"1OyB":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return i}))},"33Wh":function(e,t,n){var i=n("yoRg"),r=n("eDl+");e.exports=Object.keys||function(e){return i(e,r)}},"6LWA":function(e,t,n){var i=n("xrYK");e.exports=Array.isArray||function(e){return"Array"==i(e)}},"7W2i":function(e,t,n){var i=n("SksO");e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}},"7tvU":function(e,t,n){var i;n("XbcX"),n("c9m3"),i=function(e,t,n){return function(){"use strict";var i={"./src/Xarrow/utils/buzzier.js":function(e,t,n){n.r(t),n.d(t,{bzFunction:function(){return i},buzzierMinSols:function(){return r}});var i=function(e,t,n,i){return function(r){return Math.pow(1-r,3)*e+3*Math.pow(1-r,2)*r*t+3*(1-r)*Math.pow(r,2)*n+Math.pow(r,3)*i}},r=function(e,t,n,r){var o=i(e,t,n,r),a=-6*e+12*t-6*n,s=Math.pow(-6*e+12*t-6*n,2)-4*(3*t-3*e)*(-3*e+9*t-9*n+3*r),c=2*(-3*e+9*t-9*n+3*r);return[o((a+Math.sqrt(s))/c),o((a-Math.sqrt(s))/c)]}},"./src/Xarrow/Xarrow.tsx":function(e,t,n){var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},s=this&&this.__spreadArray||function(e,t){for(var n=0,i=t.length,r=e.length;n<i;n++,r++)e[r]=t[n];return e},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=a(n("react")),u=c(n("./src/Xarrow/useXarrowProps.ts")),d=n("./src/Xwrapper.tsx"),f=c(n("./src/Xarrow/propTypes.ts")),h=n("./src/Xarrow/utils/GetPosition.tsx"),p=(console.log,function(e){var t,n=l.useRef({svgRef:l.useRef(null),lineRef:l.useRef(null),headRef:l.useRef(null),tailRef:l.useRef(null),lineDrawAnimRef:l.useRef(null),lineDashAnimRef:l.useRef(null),headOpacityAnimRef:l.useRef(null)}),r=n.current,o=r.svgRef,a=r.lineRef,c=r.headRef,f=(r.tailRef,r.lineDrawAnimRef),p=r.lineDashAnimRef,y=r.headOpacityAnimRef;l.useContext(d.XarrowContext);var m=u.default(e,n.current),v=m[0],g=v.labels,b=v.lineColor,_=v.headColor,w=v.tailColor,x=v.strokeWidth,O=v.showHead,k=v.showTail,E=v.dashness,S=v.headShape,C=v.tailShape,T=v.showXarrow,P=v.animateDrawing,j=v.zIndex,D=v.passProps,A=v.arrowBodyProps,I=v.arrowHeadProps,M=v.arrowTailProps,L=v.SVGcanvasProps,N=v.divContainerProps,F=v.divContainerStyle,R=v.SVGcanvasStyle,B=v._debug,H=v.shouldUpdatePosition;P=e.animateDrawing;var W=l.useState(!P),z=W[0],G=W[1],U=l.useState({})[1],V=function(){return U({})},X=l.useState({cx0:0,cy0:0,cw:0,ch:0,x1:0,y1:0,x2:0,y2:0,dx:0,dy:0,absDx:0,absDy:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,headOrient:0,tailOrient:0,arrowHeadOffset:{x:0,y:0},arrowTailOffset:{x:0,y:0},headOffset:0,excRight:0,excLeft:0,excUp:0,excDown:0,startPoints:[],endPoints:[],mainDivPos:{x:0,y:0},xSign:1,ySign:1,lineLength:0,fHeadSize:1,fTailSize:1,arrowPath:"",labelStartPos:{x:0,y:0},labelMiddlePos:{x:0,y:0},labelEndPos:{x:0,y:0}}),K=X[0],Y=X[1];l.useLayoutEffect((function(){if(H.current){var e=h.getPosition(m,n);Y(e),H.current=!1}}));var q=K.x2-K.arrowHeadOffset.x,$=K.y2-K.arrowHeadOffset.y,J=K.x1-K.arrowTailOffset.x,Q=K.y1-K.arrowTailOffset.y,Z=E.strokeLen+E.nonStrokeLen,ee=1;E.animation<0&&(E.animation*=-1,ee=-1);var te,ne,ie,re,oe=0;return P&&0==z?("boolean"==typeof P&&(P=1),ne=P+"s",te=K.lineLength,re=K.lineLength,ie=1,P<0&&(re=(t=[oe,re])[0],oe=t[1],ne=-1*P+"s")):(te=E.strokeLen+" "+E.nonStrokeLen,ne=1/E.animation+"s",re=Z*ee,ie="indefinite",oe=0),l.useLayoutEffect((function(){a.current&&Y((function(e){var t,n;return i(i({},e),{lineLength:null!==(n=null===(t=a.current)||void 0===t?void 0:t.getTotalLength())&&void 0!==n?n:0})}))}),[a.current]),l.useEffect((function(){var e=function(){window.addEventListener("resize",V);var e=function(){var e,t;G(!0),null===(e=y.current)||void 0===e||e.beginElement(),null===(t=p.current)||void 0===t||t.beginElement()},t=function(){return c.current.style.opacity="0"};return f.current&&c.current&&(f.current.addEventListener("endEvent",e),f.current.addEventListener("beginEvent",t)),function(){window.removeEventListener("resize",V),f.current&&(f.current.removeEventListener("endEvent",e),c.current&&f.current.removeEventListener("beginEvent",t))}}();return function(){G(!1),e()}}),[T]),l.default.createElement("div",i({},N,{style:i({position:"absolute",zIndex:j},F)}),T?l.default.createElement(l.default.Fragment,null,l.default.createElement("svg",i({ref:o,width:K.cw,height:K.ch,style:i({position:"absolute",left:K.cx0,top:K.cy0,pointerEvents:"none",border:B?"1px dashed yellow":null},R),overflow:"auto"},L),l.default.createElement("path",i({ref:a,d:K.arrowPath,stroke:b,strokeDasharray:te,strokeWidth:x,fill:"transparent",pointerEvents:"visibleStroke"},D,A),l.default.createElement(l.default.Fragment,null,z?l.default.createElement(l.default.Fragment,null,E.animation?l.default.createElement("animate",{ref:p,attributeName:"stroke-dashoffset",values:Z*ee+";0",dur:1/E.animation+"s",repeatCount:"indefinite"}):null):l.default.createElement(l.default.Fragment,null,P?l.default.createElement("animate",{ref:f,id:"svgEndAnimate",attributeName:"stroke-dashoffset",values:re+";"+oe,dur:ne,repeatCount:ie}):null))),k?l.default.createElement("g",i({fill:w,pointerEvents:"auto",transform:"translate("+J+","+Q+") rotate("+K.tailOrient+") scale("+K.fTailSize+")"},D,M),C.svgElem):null,O?l.default.createElement("g",i({ref:c,fill:_,pointerEvents:"auto",transform:"translate("+q+","+$+") rotate("+K.headOrient+") scale("+K.fHeadSize+")",opacity:P&&!z?0:1},D,I),l.default.createElement("animate",{ref:y,dur:"0.4",attributeName:"opacity",from:"0",to:"1",begin:"indefinite",repeatCount:"0",fill:"freeze"}),S.svgElem):null,B?l.default.createElement(l.default.Fragment,null,l.default.createElement("circle",{r:"5",cx:K.cpx1,cy:K.cpy1,fill:"green"}),l.default.createElement("circle",{r:"5",cx:K.cpx2,cy:K.cpy2,fill:"blue"}),l.default.createElement("rect",{x:K.excLeft,y:K.excUp,width:K.absDx,height:K.absDy,fill:"none",stroke:"pink",strokeWidth:"2px"})):null),g.start?l.default.createElement("div",{style:{transform:K.dx<0?"translate(-100% , -50%)":"translate(-0% , -50%)",width:"max-content",position:"absolute",left:K.cx0+K.labelStartPos.x,top:K.cy0+K.labelStartPos.y-x-5}},g.start):null,g.middle?l.default.createElement("div",{style:{display:"table",width:"max-content",transform:"translate(-50% , -50%)",position:"absolute",left:K.cx0+K.labelMiddlePos.x,top:K.cy0+K.labelMiddlePos.y}},g.middle):null,g.end?l.default.createElement("div",{style:{transform:K.dx>0?"translate(-100% , -50%)":"translate(-0% , -50%)",width:"max-content",position:"absolute",left:K.cx0+K.labelEndPos.x,top:K.cy0+K.labelEndPos.y+x+5}},g.end):null,B?l.default.createElement(l.default.Fragment,null,s(s([],K.startPoints),K.endPoints).map((function(e,t){return l.default.createElement("div",{key:t,style:{background:"gray",opacity:.5,borderRadius:"50%",transform:"translate(-50%, -50%)",height:5,width:5,position:"absolute",left:e.x-K.mainDivPos.x,top:e.y-K.mainDivPos.y}})}))):null):null)});p.propTypes=f.default,t.default=p},"./src/Xarrow/anchors.ts":function(e,t,n){e=n.nmd(e),Object.defineProperty(t,"__esModule",{value:!0}),t.calcAnchors=void 0,t.calcAnchors=function(e,t){return e.map((function(e){var n,i,r=(n=t.right-t.x,i=t.bottom-t.y,{middle:{x:.5*n,y:.5*i},left:{x:0,y:.5*i},right:{x:n,y:.5*i},top:{x:.5*n,y:0},bottom:{x:.5*n,y:i}})[e.position],o=r.x,a=r.y;return{x:t.x+o+e.offset.x,y:t.y+a+e.offset.y,anchor:e}}))},n.c[n.s]},"./src/Xarrow/propTypes.ts":function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=i(n("prop-types")),o=n("./src/constants.tsx"),a=r.default.oneOf(o.cAnchorEdge),s=r.default.exact({position:a.isRequired,offset:r.default.exact({x:r.default.number,y:r.default.number}).isRequired}),c=r.default.oneOfType([a,s]),l=r.default.oneOfType([c,r.default.arrayOf(c)]),u=r.default.oneOfType([r.default.string,r.default.exact({current:r.default.any})]),d=r.default.oneOfType([r.default.element,r.default.string]),f=r.default.exact({start:d,middle:d,end:d}),h=r.default.oneOf(Object.keys(o.arrowShapes)),p=r.default.any,y=r.default.oneOfType([h,r.default.exact({svgElem:p,offsetForward:r.default.number}).isRequired]),m={start:u.isRequired,end:u.isRequired,startAnchor:l,endAnchor:l,labels:r.default.oneOfType([d,f]),color:r.default.string,lineColor:r.default.string,showHead:r.default.bool,headColor:r.default.string,headSize:r.default.number,tailSize:r.default.number,tailColor:r.default.string,strokeWidth:r.default.number,showTail:r.default.bool,path:r.default.oneOf(o.cPaths),showXarrow:r.default.bool,curveness:r.default.number,gridBreak:r.default.string,dashness:r.default.oneOfType([r.default.bool,r.default.object]),headShape:y,tailShape:y,animateDrawing:r.default.oneOfType([r.default.bool,r.default.number]),zIndex:r.default.number,passProps:r.default.object,arrowBodyProps:r.default.object,arrowHeadProps:r.default.object,arrowTailProps:r.default.object,SVGcanvasProps:r.default.object,divContainerProps:r.default.object,_extendSVGcanvas:r.default.number,_debug:r.default.bool,_cpx1Offset:r.default.number,_cpy1Offset:r.default.number,_cpx2Offset:r.default.number,_cpy2Offset:r.default.number};t.default=m},"./src/Xarrow/useXarrowProps.ts":function(e,t,n){var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=a(n("react")),l=n("./src/Xarrow/utils/index.ts"),u=s(n("lodash")),d=n("./src/constants.tsx"),f=function(e){var t=(Array.isArray(e)?e:[e]).map((function(e){return"string"==typeof e?{position:e}:e}));0==(t=t.filter((function(e){return d.cAnchorEdge.includes(e.position)}))).length&&(t=[{position:"auto"}]);var n=t.filter((function(e){return"auto"===e.position}));return n.length>0&&(t=t.filter((function(e){return"auto"!==e.position}))).push.apply(t,n.flatMap((function(e){return["left","right","top","bottom"].map((function(t){return i(i({},e),{position:t})}))}))),t.map((function(e){if("object"==typeof e){var t=e;return t.position||(t.position="auto"),t.offset||(t.offset={x:0,y:0}),t.offset.y||(t.offset.y=0),t.offset.x||(t.offset.x=0),t=t}return e}))},h=function(e){return"string"==typeof e&&(e in d.arrowShapes?e=d.arrowShapes[e]:(console.warn("'"+e+"' is not supported arrow shape. the supported arrow shapes is one of "+d.cArrowShapes+".\n           reverting to default shape."),e=d.arrowShapes.arrow1)),void 0===(null==(e=e)?void 0:e.offsetForward)&&(e.offsetForward=.25),void 0===(null==e?void 0:e.svgElem)&&(e.svgElem="path"),e},p=function(e,t){return t&&(t.current=!0),e},y=function(e){return e},m=function(e,t,n){return p(e,n)},v=function(e,t,n){return p(Number(e),n)},g={start:function(e){return l.getElementByPropGiven(e)},end:function(e){return l.getElementByPropGiven(e)},startAnchor:function(e,t,n){return p(f(e),n)},endAnchor:function(e,t,n){return p(f(e),n)},labels:function(e){return function(e){var t={start:null,middle:null,end:null};if(e)if("string"==typeof e||c.default.isValidElement(e))t.middle=e;else for(var n in e)t[n]=e[n];return t}(e)},color:y,lineColor:function(e,t){return e||t.color},headColor:function(e,t){return e||t.color},tailColor:function(e,t){return e||t.color},strokeWidth:v,showHead:m,headSize:v,showTail:m,tailSize:v,path:m,curveness:v,gridBreak:function(e,t,n){return p(function(e){var t=l.xStr2absRelative(e);return t||(t={relative:.5,abs:0}),t}(e),n)},dashness:function(e,t){return function(e,t){var n,i=0,r=0;return"object"==typeof e?(i=e.strokeLen||2*t.strokeWidth,r=e.strokeLen?e.nonStrokeLen:t.strokeWidth,n=e.animation?e.animation:null):"boolean"==typeof e&&e&&(i=2*t.strokeWidth,r=t.strokeWidth,n=null),{strokeLen:i,nonStrokeLen:r,animation:n,animDirection:1}}(e,t)},headShape:function(e){return h(e)},tailShape:function(e){return h(e)},showXarrow:y,animateDrawing:y,zIndex:function(e){return Number(e)},passProps:y,arrowBodyProps:m,arrowHeadProps:m,arrowTailProps:m,SVGcanvasProps:m,divContainerProps:m,divContainerStyle:m,SVGcanvasStyle:m,_extendSVGcanvas:m,_debug:m,_cpx1Offset:m,_cpy1Offset:m,_cpx2Offset:m,_cpy2Offset:m},b={};for(var _ in g)b[_]=[_];for(var w=0,x=["lineColor","headColor","tailColor"];w<x.length;w++)b[_=x[w]].push("color");var O={start:null,end:null,startAnchor:"auto",endAnchor:"auto",labels:null,color:"CornflowerBlue",lineColor:null,headColor:null,tailColor:null,strokeWidth:4,showHead:!0,headSize:6,showTail:!1,tailSize:6,path:"smooth",curveness:.8,gridBreak:"50%",dashness:!1,headShape:"arrow1",tailShape:"arrow1",showXarrow:!0,animateDrawing:!1,zIndex:0,passProps:{},arrowBodyProps:{},arrowHeadProps:{},arrowTailProps:{},SVGcanvasProps:{},divContainerProps:{},divContainerStyle:{},SVGcanvasStyle:{},_extendSVGcanvas:0,_debug:!1,_cpx1Offset:0,_cpy1Offset:0,_cpx2Offset:0,_cpy2Offset:0},k={};k=function(e,t){for(var n,i=0,r=Object.entries(e);i<r.length;i++){var o=r[i],a=o[0],s=o[1];t[a]=null===(n=null==g?void 0:g[a])||void 0===n?void 0:n.call(g,s,t)}return t}(O,k);var E={startPos:{x:0,y:0,right:0,bottom:0},endPos:{x:0,y:0,right:0,bottom:0}};function S(e){var t,n,i=c.useRef();return t=e,n=i.current,u.default.isEqual(t,n)||(i.current=e),i.current}function C(e,t){c.useLayoutEffect(e,t.map(S))}t.default=function(e,t){var n=c.useState(k),r=n[0],o=n[1],a=c.useRef(!1);r.shouldUpdatePosition=a;var s=i(i({},O),e),u=function(t){c.useLayoutEffect((function(){var e;r[t]=null===(e=null==g?void 0:g[t])||void 0===e?void 0:e.call(g,s[t],r,a),o(i({},r))}),b[t].map((function(t){return e[t]})))};for(var d in O)u(d);var f=c.useState(E),h=f[0],p=f[1],y=l.getElemPos(r.start);C((function(){h.startPos=y,a.current=!0,p(i({},h))}),[y]);var m=l.getElemPos(r.end);return C((function(){h.endPos=m,a.current=!0,p(i({},h))}),[m]),c.useLayoutEffect((function(){a.current=!0,p(i({},h))}),[r.headShape.svgElem,r.tailShape.svgElem]),[r,h]}},"./src/Xarrow/utils/GetPosition.tsx":function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getPosition=void 0;var r=n("./src/Xarrow/anchors.ts"),o=n("./src/Xarrow/utils/index.ts"),a=i(n("lodash")),s=n("./src/constants.tsx"),c=n("./src/Xarrow/utils/buzzier.js");t.getPosition=function(e,t){var n,i,l,u,d=e[0],f=e[1],h=d.startAnchor,p=d.endAnchor,y=d.strokeWidth,m=d.showHead,v=d.headSize,g=d.showTail,b=d.tailSize,_=d.path,w=d.curveness,x=d.gridBreak,O=d.headShape,k=d.tailShape,E=d._extendSVGcanvas,S=d._cpx1Offset,C=d._cpy1Offset,T=d._cpx2Offset,P=d._cpy2Offset,j=f.startPos,D=f.endPos,A=t.current,I=A.svgRef,M=A.lineRef,L=0,N=0,F=r.calcAnchors(h,j),R=r.calcAnchors(p,D),B=o.getShortestLine(F,R),H=B.chosenStart,W=B.chosenEnd,z=H.anchor.position,G=W.anchor.position,U=a.default.pick(H,["x","y"]),V=a.default.pick(W,["x","y"]),X=o.getSvgPos(I),K=Math.min(U.x,V.x)-X.x,Y=Math.min(U.y,V.y)-X.y,q=V.x-U.x,$=V.y-U.y,J=Math.abs(V.x-U.x),Q=Math.abs(V.y-U.y),Z=q>0?1:-1,ee=$>0?1:-1,te=[O.offsetForward,k.offsetForward],ne=te[0],ie=te[1],re=v*y,oe=b*y,ae=0,se=0,ce=0,le=0,ue=re*ne,de=oe*ie,fe=Number(w);s.cPaths.includes(_)||(_="smooth"),"straight"===_&&(fe=0,_="smooth");var he=y+y*(v>b?v:b)/2,pe=he,ye=he,me=he,ve=he;ye+=Number(E),pe+=Number(E),me+=Number(E),ve+=Number(E);var ge=0,be=J,_e=0,we=Q;if(q<0&&(ge=(n=[be,ge])[0],be=n[1]),$<0&&(_e=(i=[we,_e])[0],we=i[1]),0===fe){var xe=Math.atan(Q/J);m&&(be-=re*(1-ne)*Z*Math.cos(xe),we-=re*(1-ne)*ee*Math.sin(xe),xe*=ee,Z<0&&(xe=(Math.PI-xe*Z)*Z),ae=Math.cos(xe)*ue-Math.sin(xe)*re/2,se=Math.cos(xe)*re/2+Math.sin(xe)*ue,L=180*xe/Math.PI);var Oe=Math.atan(Q/J);g&&(ge+=oe*(1-ie)*Z*Math.cos(Oe),_e+=oe*(1-ie)*ee*Math.sin(Oe),Oe*=-ee,Z>0&&(Oe=(Math.PI-Oe*Z)*Z),ce=Math.cos(Oe)*de-Math.sin(Oe)*oe/2,le=Math.cos(Oe)*oe/2+Math.sin(Oe)*de,N=180*Oe/Math.PI)}else"middle"===G&&(G=J>Q?Z?"left":"right":ee?"top":"bottom"),m&&(["left","right"].includes(G)?(ae+=ue*Z,be-=re*(1-ne)*Z,se+=re*Z/2,"left"===G?(L=0,Z<0&&(L+=180)):(L=180,Z>0&&(L+=180))):["top","bottom"].includes(G)&&(ae+=re*-ee/2,we-=re*ee-(se+=ue*ee),"top"===G?(L=270,ee>0&&(L+=180)):(L=90,ee<0&&(L+=180))));g&&0!==fe&&(["left","right"].includes(z)?(ge+=oe*Z+(ce+=de*-Z),le+=-oe*Z/2,"left"===z?(N=180,Z<0&&(N+=180)):(N=0,Z>0&&(N+=180))):["top","bottom"].includes(z)&&(_e+=oe*ee+(le+=de*-ee),ce+=oe*ee/2,"top"===z?(N=90,ee>0&&(N+=180)):(N=270,ee<0&&(N+=180))));var ke={x:ae,y:se},Ee={x:ce,y:le},Se=ge,Ce=_e,Te=be,Pe=we,je={};"smooth"===_?je={hh:function(){Se+=J*fe*Z,Te-=J*fe*Z},vv:function(){Ce+=Q*fe*ee,Pe-=Q*fe*ee},hv:function(){Se+=J*fe*Z,Pe-=Q*fe*ee},vh:function(){Ce+=Q*fe*ee,Te-=J*fe*Z}}:"grid"===_&&(je={hh:function(){Se+=(J*x.relative+x.abs)*Z,Te-=(J*(1-x.relative)-x.abs)*Z,m&&(Se-=re*(1-ne)/2*Z,Te+=re*(1-ne)/2*Z),g&&(Se-=oe*(1-ie)/2*Z,Te+=oe*(1-ie)/2*Z)},vv:function(){Ce+=(Q*x.relative+x.abs)*ee,Pe-=(Q*(1-x.relative)-x.abs)*ee,m&&(Ce-=re*(1-ne)/2*ee,Pe+=re*(1-ne)/2*ee),g&&(Ce-=oe*(1-ie)/2*ee,Pe+=oe*(1-ie)/2*ee)},hv:function(){Se=be},vh:function(){Ce=we}});var De="";["left","right"].includes(z)?De+="h":["bottom","top"].includes(z)?De+="v":"middle"===z&&(De+="m"),["left","right"].includes(G)?De+="h":["bottom","top"].includes(G)?De+="v":"middle"===G&&(De+="m"),je[De=J>Q?De.replace(/m/g,"h"):De.replace(/m/g,"v")](),Se+=S,Ce+=C,Te+=T,Pe+=P;var Ae=c.buzzierMinSols(ge,Se,Te,be),Ie=Ae[0],Me=Ae[1],Le=c.buzzierMinSols(_e,Ce,Pe,we),Ne=Le[0],Fe=Le[1];Ie<0&&(ye+=-Ie),Me>J&&(pe+=Me-J),Ne<0&&(me+=-Ne),Fe>Q&&(ve+=Fe-Q),"grid"===_&&(ye+=he,pe+=he,me+=he,ve+=he),ge+=ye,be+=ye,_e+=me,we+=me,Se+=ye,Te+=ye,Ce+=me,Pe+=me;var Re=J+ye+pe,Be=Q+me+ve;K-=ye,Y-=me;var He,We=c.bzFunction(ge,Se,Te,be),ze=c.bzFunction(_e,Ce,Pe,we),Ge={x:We(.01),y:ze(.01)},Ue={x:We(.5),y:ze(.5)},Ve={x:We(.99),y:ze(.99)};return"grid"===_?He="M "+ge+" "+_e+" L  "+Se+" "+Ce+" L "+Te+" "+Pe+" "+be+" "+we:"smooth"===_&&(He="M "+ge+" "+_e+" C "+Se+" "+Ce+", "+Te+" "+Pe+", "+be+" "+we),{cx0:K,cy0:Y,x1:ge,x2:be,y1:_e,y2:we,cw:Re,ch:Be,cpx1:Se,cpy1:Ce,cpx2:Te,cpy2:Pe,dx:q,dy:$,absDx:J,absDy:Q,headOrient:L,tailOrient:N,labelStartPos:Ge,labelMiddlePos:Ue,labelEndPos:Ve,excLeft:ye,excRight:pe,excUp:me,excDown:ve,headOffset:ue,arrowHeadOffset:ke,arrowTailOffset:Ee,startPoints:F,endPoints:R,mainDivPos:X,xSign:Z,ySign:ee,lineLength:null!==(u=null===(l=M.current)||void 0===l?void 0:l.getTotalLength())&&void 0!==u?u:0,fHeadSize:re,fTailSize:oe,arrowPath:He}}},"./src/Xarrow/utils/index.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getSvgPos=t.getElemPos=t.getShortestLine=t.xStr2absRelative=t.factorDpathStr=t.getElementByPropGiven=void 0,t.getElementByPropGiven=function(e){return"string"==typeof e?document.getElementById(e):null==e?void 0:e.current},t.factorDpathStr=function(e,t){var n=e.split(/(\d+(?:\.\d+)?)/);return(n=n.map((function(e){return Number(e)?(Number(e)*t).toString():e}))).join("")},t.xStr2absRelative=function(e){if("string"!=typeof e)return{abs:0,relative:.5};var t=e.split("%"),n=0,i=0;if(1==t.length){var r=parseFloat(t[0]);if(!isNaN(r))return{abs:n=r,relative:0}}else if(2==t.length){var o=[parseFloat(t[0]),parseFloat(t[1])],a=o[0],s=o[1];if(isNaN(a)||(i=a/100),isNaN(s)||(n=s),!isNaN(a)||!isNaN(s))return{abs:n,relative:i}}},t.getShortestLine=function(e,t){var n,i=1/0,r=1/0;return e.forEach((function(e){t.forEach((function(t){var o,a;o=e,a=t,(r=Math.sqrt(Math.pow(o.x-a.x,2)+Math.pow(o.y-a.y,2)))<i&&(i=r,n={chosenStart:e,chosenEnd:t})}))})),n},t.getElemPos=function(e){if(!e)return{x:0,y:0,right:0,bottom:0};var t=e.getBoundingClientRect();return{x:t.left,y:t.top,right:t.right,bottom:t.bottom}},t.getSvgPos=function(e){if(!e.current)return{x:0,y:0};var t=e.current.getBoundingClientRect(),n=t.left,i=t.top,r=getComputedStyle(e.current);return{x:n-Number(r.left.slice(0,-2)),y:i-Number(r.top.slice(0,-2))}}},"./src/Xwrapper.tsx":function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.XarrowContext=t.XelemContext=void 0;var a=o(n("react"));t.XelemContext=a.default.createContext(null),t.XarrowContext=a.default.createContext(null);var s={},c=0,l=(console.log,function(e){var n=e.children,i=e.instanceCount;return a.default.createElement(t.XelemContext.Provider,{value:s[i.current]},n)});t.default=function(e){var n=e.children,i=a.useRef(c),r=a.useState({})[1];return a.useEffect((function(){return c++,r({}),function(){delete s[i.current]}}),[]),a.default.createElement(l,{instanceCount:i},a.default.createElement((console.log,function(e){var n=e.children,i=e.instanceCount,r=a.useState({})[1],o=function(){return r({})};return a.useEffect((function(){i.current=c,s[i.current]=o}),[]),a.default.createElement(t.XarrowContext.Provider,{value:o},n)}),{instanceCount:i},n))}},"./src/constants.tsx":function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.cArrowShapes=t.arrowShapes=t.cSvgElems=t.cPaths=t.cAnchorEdge=void 0;var r=i(n("react"));t.cAnchorEdge=["middle","left","right","top","bottom","auto"],t.cPaths=["smooth","grid","straight"],t.cSvgElems=["circle","ellipse","line","path","polygon","polyline","rect"],t.arrowShapes={arrow1:{svgElem:r.default.createElement("path",{d:"M 0 0 L 1 0.5 L 0 1 L 0.25 0.5 z"}),offsetForward:.25},heart:{svgElem:r.default.createElement("path",{d:"M 0,0.25 A 0.125,0.125 0,0,1 0.5,0.25 A 0.125,0.125 0,0,1 1,0.25 Q 1,0.625 0.5,1 Q 0,0.625 0,0.25 z"}),offsetForward:.1},circle:{svgElem:r.default.createElement("circle",{r:.5,cx:.5,cy:.5}),offsetForward:0}},t.cArrowShapes=Object.keys(t.arrowShapes)},"./src/index.tsx":function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useXarrow=t.Xwrapper=t.default=void 0;var a=n("./src/Xarrow/Xarrow.tsx");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(a).default}}),r(n("./src/types.ts"),t),r(n("./src/constants.tsx"),t);var s=n("./src/Xwrapper.tsx");Object.defineProperty(t,"Xwrapper",{enumerable:!0,get:function(){return o(s).default}});var c=n("./src/useXarrow.tsx");Object.defineProperty(t,"useXarrow",{enumerable:!0,get:function(){return o(c).default}})},"./src/types.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},"./src/useXarrow.tsx":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("react"),r=n("./src/Xwrapper.tsx");t.default=function(){var e=i.useState({})[1],t=i.useContext(r.XelemContext);return t||(t=function(){}),i.useLayoutEffect((function(){t()})),function(){return e({})}}},lodash:function(e){e.exports=t},"prop-types":function(e){e.exports=n},react:function(t){t.exports=e}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={id:e,loaded:!1,exports:{}};return i[e].call(n.exports,n,n.exports,o),n.loaded=!0,n.exports}return o.c=r,o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},o(o.s="./src/index.tsx")}()},e.exports=i(n("q1tI"),n("LvDl"),n("17x9"))},"8GlL":function(e,t,n){"use strict";var i=n("HAuM"),r=function(e){var t,n;this.promise=new e((function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i})),this.resolve=i(t),this.reject=i(n)};e.exports.f=function(e){return new r(e)}},A2ZE:function(e,t,n){var i=n("HAuM");e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},CVNw:function(e,t,n){e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t){e.exports=n("17x9")},function(e,t){e.exports=n("q1tI")},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(0),o=function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},a=0,s=i.forwardRef((function(e,t){var n=e.title,r=void 0===n?null:n,s=e.description,c=void 0===s?null:s,l=e.size,u=void 0===l?null:l,d=e.color,f=void 0===d?"currentColor":d,h=e.horizontal,p=void 0===h?null:h,y=e.vertical,m=void 0===y?null:y,v=e.rotate,g=void 0===v?null:v,b=e.spin,_=void 0===b?null:b,w=e.style,x=void 0===w?{}:w,O=e.children,k=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["title","description","size","color","horizontal","vertical","rotate","spin","style","children"]);a++;var E,S=null!==_&&_,C=i.Children.map(O,(function(e){var t=e;!0!==S&&(S=!0===(null===_?t.props.spin:_));var n=t.props.size;"number"==typeof u&&"number"==typeof t.props.size&&(n=t.props.size/u);var r={size:n,color:null===f?t.props.color:f,horizontal:null===p?t.props.horizontal:p,vertical:null===m?t.props.vertical:m,rotate:null===g?t.props.rotate:g,spin:null===_?t.props.spin:_,inStack:!0};return i.cloneElement(t,r)}));null!==u&&(x.width="string"==typeof u?u:1.5*u+"rem");var T,P="stack_labelledby_"+a,j="stack_describedby_"+a;if(r)E=c?P+" "+j:P;else if(T="presentation",c)throw new Error("title attribute required when description is set");return i.createElement("svg",o({ref:t,viewBox:"0 0 24 24",style:x,role:T,"aria-labelledby":E},k),r&&i.createElement("title",{id:P},r),c&&i.createElement("desc",{id:j},c),S&&i.createElement("style",null,"@keyframes spin { to { transform: rotate(360deg) } }","@keyframes spin-inverse { to { transform: rotate(-360deg) } }"),C)}));s.displayName="Stack",s.propTypes={size:r.oneOfType([r.number,r.string]),color:r.string,horizontal:r.bool,vertical:r.bool,rotate:r.number,spin:r.oneOfType([r.bool,r.number]),children:r.oneOfType([r.arrayOf(r.node),r.node]).isRequired,className:r.string,style:r.object},s.defaultProps={size:null,color:null,horizontal:null,vertical:null,rotate:null,spin:null};var c=s;n.d(t,"Icon",(function(){return d})),n.d(t,"Stack",(function(){return c}));var l=function(){return(l=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},u=0,d=i.forwardRef((function(e,t){var n=e.path,r=e.id,o=void 0===r?++u:r,a=e.title,s=void 0===a?null:a,c=e.description,d=void 0===c?null:c,f=e.size,h=void 0===f?null:f,p=e.color,y=void 0===p?"currentColor":p,m=e.horizontal,v=void 0!==m&&m,g=e.vertical,b=void 0!==g&&g,_=e.rotate,w=void 0===_?0:_,x=e.spin,O=void 0!==x&&x,k=e.style,E=void 0===k?{}:k,S=e.inStack,C=void 0!==S&&S,T=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["path","id","title","description","size","color","horizontal","vertical","rotate","spin","style","inStack"]),P={},j=[];null!==h&&(C?j.push("scale("+h+")"):(E.width="string"==typeof h?h:1.5*h+"rem",E.height=E.width)),v&&j.push("scaleX(-1)"),b&&j.push("scaleY(-1)"),0!==w&&j.push("rotate("+w+"deg)"),null!==y&&(P.fill=y);var D=i.createElement("path",l({d:n,style:P},C?T:{})),A=D;j.length>0&&(E.transform=j.join(" "),E.transformOrigin="center",C&&(A=i.createElement("g",{style:E},D,i.createElement("rect",{width:"24",height:"24",fill:"transparent"}))));var I,M=A,L=!0===O||"number"!=typeof O?2:O,N=!C&&(v||b);if(L<0&&(N=!N),O&&(M=i.createElement("g",{style:{animation:"spin"+(N?"-inverse":"")+" linear "+Math.abs(L)+"s infinite",transformOrigin:"center"}},A,!(v||b||0!==w)&&i.createElement("rect",{width:"24",height:"24",fill:"transparent"}))),C)return M;var F,R="icon_labelledby_"+o,B="icon_describedby_"+o;if(s)I=d?R+" "+B:R;else if(F="presentation",d)throw new Error("title attribute required when description is set");return i.createElement("svg",l({ref:t,viewBox:"0 0 24 24",style:E,role:F,"aria-labelledby":I},T),s&&i.createElement("title",{id:R},s),d&&i.createElement("desc",{id:B},d),!C&&O&&(N?i.createElement("style",null,"@keyframes spin-inverse { to { transform: rotate(-360deg) } }"):i.createElement("style",null,"@keyframes spin { to { transform: rotate(360deg) } }")),M)}));d.displayName="Icon",d.propTypes={path:r.string.isRequired,size:r.oneOfType([r.number,r.string]),color:r.string,horizontal:r.bool,vertical:r.bool,rotate:r.number,spin:r.oneOfType([r.bool,r.number]),style:r.object,inStack:r.bool,className:r.string},d.defaultProps={size:null,color:"currentColor",horizontal:!1,vertical:!1,rotate:0,spin:!1},t.default=d}])},DUzY:function(e,t,n){"use strict";var i=60103,r=60106,o=60107,a=60108,s=60114,c=60109,l=60110,u=60112,d=60113,f=60120,h=60115,p=60116,y=60121,m=60122,v=60117,g=60129,b=60131;if("function"==typeof Symbol&&Symbol.for){var _=Symbol.for;i=_("react.element"),r=_("react.portal"),o=_("react.fragment"),a=_("react.strict_mode"),s=_("react.profiler"),c=_("react.provider"),l=_("react.context"),u=_("react.forward_ref"),d=_("react.suspense"),f=_("react.suspense_list"),h=_("react.memo"),p=_("react.lazy"),y=_("react.block"),m=_("react.server.block"),v=_("react.fundamental"),g=_("react.debug_trace_mode"),b=_("react.legacy_hidden")}function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case o:case s:case a:case d:case f:return e;default:switch(e=e&&e.$$typeof){case l:case u:case p:case h:case c:return e;default:return t}}case r:return t}}}var x=c,O=i,k=u,E=o,S=p,C=h,T=r,P=s,j=a,D=d;t.ContextConsumer=l,t.ContextProvider=x,t.Element=O,t.ForwardRef=k,t.Fragment=E,t.Lazy=S,t.Memo=C,t.Portal=T,t.Profiler=P,t.StrictMode=j,t.Suspense=D,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return w(e)===l},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return w(e)===u},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===p},t.isMemo=function(e){return w(e)===h},t.isPortal=function(e){return w(e)===r},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===s||e===g||e===a||e===d||e===f||e===b||"object"==typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===h||e.$$typeof===c||e.$$typeof===l||e.$$typeof===u||e.$$typeof===v||e.$$typeof===y||e[0]===m)},t.typeOf=w},"G+Rx":function(e,t,n){var i=n("0GbY");e.exports=i("document","documentElement")},Jupt:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var i="Thank you for playing my game. I hope you learned something about me and had some fun along the way.",r=[{name:"I made a top-down game version of my blog with Phaser and React",link:"https://pablo.gg/en/blog/coding/i-made-a-top-down-game-version-of-my-blog-with-phaser-and-react/"},{name:"Grid-Based Movement in a Top-Down 2D RPG With Phaser 3",link:"https://medium.com/swlh/grid-based-movement-in-a-top-down-2d-rpg-with-phaser-3-e3a3486eb2fd"},{name:"How to Make a Mario-style Platformer with Phaser 3",link:"https://gamedevacademy.org/how-to-make-a-mario-style-platformer-with-phaser-3/?a=13"},{name:"Phaser 3 and Tiled: Building a Platformer",link:"https://stackabuse.com/phaser-3-and-tiled-building-a-platformer/"}],o=[{name:"RPG Nature Tileset",link:"https://stealthix.itch.io/rpg-nature-tileset"},{name:"Serene Village Revamped",link:"https://limezu.itch.io/serenevillagerevamped"},{name:"Sci-Fi Facility Asset Pack",link:"https://murphysdad.itch.io/sci-fi-facility"},{name:"PIPOYA FREE RPG Character Sprites 32x32",link:"https://pipoya.itch.io/pipoya-free-rpg-character-sprites-32x32"},{name:"Modern Interiors",link:"https://limezu.itch.io/moderninteriors"},{name:"Pixel art top down basic",link:"https://cainos.itch.io/pixel-art-top-down-basic"},{name:"Fire Animation - Pixel Art FX Sprites ",link:"https://brullov.itch.io/fire-animation"},{name:"Treasure+",link:"https://ninjikin.itch.io/treasure"},{name:"Rogue fantasy catacombs",link:"https://szadiart.itch.io/rogue-fantasy-catacombs"},{name:"Magic orb effects",link:"https://obipandawan.itch.io/free-orb-spell-2d-animation"},{name:"Magical Items & Potions tileset",link:"https://heyitswidmo.itch.io/magical-potions-items-tileset"},{name:"Fire Column Pixel Art Effect",link:"https://sanctumpixel.itch.io/fire-column-pixel-art-effect"},{name:"Pixel Art Fire Effect - FX018",link:"https://nyknck.itch.io/pixelartfireeffectfx018"},{name:"Flame Animated",link:"https://lelex-game-and-art-maker.itch.io/fire-animated"},{name:"Pipoya free rpg character sprites",link:"https://pipoya.itch.io/pipoya-free-rpg-character-sprites-nekonin"},{name:"Shikashis fantasy icons pack",link:"https://cheekyinkling.itch.io/shikashis-fantasy-icons-pack"},{name:"Animated Potion Assets Pack",link:"https://flippurgatory.itch.io/animated-potion-assets-pack-free"},{name:"F2D Pixel Art Portal Sprites",link:"https://elthen.itch.io/2d-pixel-art-portal-sprites"},{name:"Wood Set",link:"https://nyknck.itch.io/wood-set"},{name:"Insect enemy assets",link:"https://jeevo.itch.io/insect-enemies"},{name:"Enemy galore",link:"https://admurin.itch.io/enemy-galore-1"},{name:"Pixel tilemap platformer",link:"https://blackdragon1727.itch.io/pixel-tilemap-platformer"}]},LiDt:function(e,t,n){},"N+g0":function(e,t,n){var i=n("g6v/"),r=n("m/L8"),o=n("glrk"),a=n("33Wh");e.exports=i?Object.defineProperties:function(e,t){o(e);for(var n,i=a(t),s=i.length,c=0;s>c;)r.f(e,n=i[c++],t[n]);return e}},Nsbk:function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},ODXe:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("BsWD");function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(c){r=!0,o=c}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}(e,t)||Object(i.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},PDX0:function(e,t){(function(t){e.exports=t}).call(this,{})},RNIs:function(e,t,n){var i=n("tiKp"),r=n("fHMY"),o=n("m/L8"),a=i("unscopables"),s=Array.prototype;null==s[a]&&o.f(s,a,{configurable:!0,value:r(null)}),e.exports=function(e){s[a][e]=!0}},SEBh:function(e,t,n){var i=n("glrk"),r=n("HAuM"),o=n("tiKp")("species");e.exports=function(e,t){var n,a=i(e).constructor;return void 0===a||null==(n=i(a)[o])?t:r(n)}},STAE:function(e,t,n){var i=n("0Dky");e.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())}))},TSYQ:function(e,t,n){var i;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var o=typeof i;if("string"===o||"number"===o)e.push(i);else if(Array.isArray(i)){if(i.length){var a=r.apply(null,i);a&&e.push(a)}}else if("object"===o)if(i.toString===Object.prototype.toString)for(var s in i)n.call(i,s)&&i[s]&&e.push(s);else e.push(i.toString())}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(i=function(){return r}.apply(t,[]))||(e.exports=i)}()},W8MJ:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}},XV8S:function(e,t,n){var i=n("lwsE"),r=n("W8MJ"),o=n("PJYZ"),a=n("7W2i"),s=n("a1gu"),c=n("Nsbk");function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return s(this,n)}}var u=function(e){"use strict";a(n,e);var t=l(n);function n(e,r){var a;return i(this,n),(a=t.call(this,e,r)).map=null,a.animatedTiles=[],a.rate=1,a.active=!1,a.activeLayer=[],a.followTimeScale=!0,e.sys.settings.isBooted||e.sys.events.once("boot",a.boot,o(a)),a}return r(n,[{key:"boot",value:function(){var e=this.systems.events;e.on("postupdate",this.postUpdate,this),e.on("shutdown",this.shutdown,this),e.on("destroy",this.destroy,this)}},{key:"init",value:function(e){var t={map:e,animatedTiles:this.getAnimatedTiles(e),active:!0,rate:1,activeLayer:[]};e.layers.forEach((function(){return t.activeLayer.push(!0)})),this.animatedTiles.push(t),1===this.animatedTiles.length&&(this.active=!0)}},{key:"setRate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null===t)null===n?this.rate=e:this.animatedTiles[n].rate=e;else{var i=function(n){n.forEach((function(n){n.index===t&&(n.rate=e)}))};null===n?this.animatedTiles.forEach((function(e){i(e.animatedTiles)})):i(this.animatedTiles[n].animatedTiles)}}},{key:"resetRates",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===e?(this.rate=1,this.animatedTiles.forEach((function(e){e.rate=1,e.animatedTiles.forEach((function(e){e.rate=1}))}))):(this.animatedTiles[e].rate=1,this.animatedTiles[e].animatedTiles.forEach((function(e){e.rate=1})))}},{key:"resume",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=null===n?this:this.animatedTiles[n];null===t?i.active=!0:(i.activeLayer[t]=!0,i.animatedTiles.forEach((function(n){e.updateLayer(n,n.tiles[t])})))}},{key:"pause",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null===t?this:this.animatedTiles[t];null===e?n.active=!1:n.activeLayer[e]=!1}},{key:"postUpdate",value:function(e,t){var n=this;if(this.active){var i=t*this.rate*(this.followTimeScale?this.scene.time.timeScale:1);this.animatedTiles.forEach((function(e){if(e.active){var t=i*e.rate;e.animatedTiles.forEach((function(i){if(i.next-=t*i.rate,i.next<0){var r=i.currentFrame,o=i.frames[r].tileid,a=r+1;a>i.frames.length-1&&(a=0),i.next=i.frames[a].duration,i.currentFrame=a,i.tiles.forEach((function(t,r){e.activeLayer[r]&&n.updateLayer(i,t,o)}))}}))}}))}}},{key:"updateLayer",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,i=[],r=e.frames[e.currentFrame].tileid;t.forEach((function(e){n>-1&&(null===e||e.index!==n)?i.push(e):e.index=r})),i.forEach((function(e){var n=t.indexOf(e);n>-1?t.splice(n,1):console.error("This shouldn't happen. Not at all. Blame Phaser Animated Tiles plugin. You'll be fine though.")}))}},{key:"shutdown",value:function(){this.animatedTiles.length=0}},{key:"destroy",value:function(){this.shutdown(),this.scene=void 0}},{key:"getAnimatedTiles",value:function(e){var t=this,n=[];return e.tilesets.forEach((function(t){var i=t.tileData;Object.keys(i).forEach((function(r){if(r=parseInt(r),i[r].hasOwnProperty("animation")){var o={index:r+t.firstgid,frames:[],currentFrame:0,tiles:[],rate:1};i[r].animation.forEach((function(e){var n={duration:e.duration,tileid:e.tileid+t.firstgid};o.frames.push(n)})),o.next=o.frames[0].duration,o.currentFrame=o.frames.findIndex((function(e){return e.tileid===r+t.firstgid})),e.layers.forEach((function(e){if(e.tilemapLayer&&e.tilemapLayer.type&&"StaticTilemapLayer"===e.tilemapLayer.type)o.tiles.push([]);else{var n=[];e.data.forEach((function(e){e.forEach((function(e){e&&e.index-t.firstgid===r&&n.push(e)}))})),o.tiles.push(n)}})),n.push(o)}}))})),e.layers.forEach((function(e,n){t.activeLayer[n]=!0})),n}},{key:"putTileAt",value:function(e,t,n,i){}},{key:"updateAnimatedTiles",value:function(){var e=null;null===e&&(e=[],this.animatedTiles.forEach((function(t){e.push(t)}))),e.forEach((function(e){e.animatedTiles.forEach((function(t){t.tiles.forEach((function(n,i){var r=e.map.layers[i];if(!r.type||"StaticTilemapLayer"!==r.type)for(var o=0;o<10;o++)for(var a=0;a<10;a++){var s=e.map.layers[i].data[o][a];s.index==t.index&&(-1===n.indexOf(s)&&n.push(s),s.index=t.frames[t.currentFrame].tileid)}}))}))}))}}]),n}(Phaser.Plugins.ScenePlugin);u.register=function(e){e.register("AnimatedTiles",u,"animatedTiles")},e.exports=u},XbcX:function(e,t,n){"use strict";var i=n("I+eb"),r=n("or9q"),o=n("ewvW"),a=n("UMSQ"),s=n("HAuM"),c=n("ZfDv");i({target:"Array",proto:!0},{flatMap:function(e){var t,n=o(this),i=a(n.length);return s(e),(t=c(n,0)).length=r(t,n,n,i,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},YuTi:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},ZfDv:function(e,t,n){var i=n("hh1v"),r=n("6LWA"),o=n("tiKp")("species");e.exports=function(e,t){var n;return r(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!r(n.prototype)?i(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},a1gu:function(e,t,n){var i=n("cDf5"),r=n("PJYZ");e.exports=function(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?r(e):t}},c9m3:function(e,t,n){n("RNIs")("flatMap")},dBwK:function(e,t,n){},fHMY:function(e,t,n){var i,r=n("glrk"),o=n("N+g0"),a=n("eDl+"),s=n("0BK2"),c=n("G+Rx"),l=n("zBJ4"),u=n("93I0"),d=u("IE_PROTO"),f=function(){},h=function(e){return"<script>"+e+"<\/script>"},p=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(r){}var e,t;p=i?function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t}(i):((t=l("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F);for(var n=a.length;n--;)delete p.prototype[a[n]];return p()};s[d]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(f.prototype=r(e),n=new f,f.prototype=null,n[d]=e):n=p(),void 0===t?n:o(n,t)}},lSNA:function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},lwsE:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},mONp:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("nKUr"),r=n("q1tI"),o=function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};!function(e,t){void 0===t&&(t={});var n=t.insertAt;if("undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}(".styles-module_blinkingCursor__288eE{-webkit-animation-duration:.8s;animation-duration:.8s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-name:styles-module_blink__dHnpo;animation-name:styles-module_blink__dHnpo;color:inherit;font:inherit;left:3px;line-height:inherit;opacity:1;position:relative;top:0}@-webkit-keyframes styles-module_blink__dHnpo{0%{opacity:1}to{opacity:0}}@keyframes styles-module_blink__dHnpo{0%{opacity:1}to{opacity:0}}");var a=function(e){var t=e.cursorStyle,n=void 0===t?"|":t;return i.jsx("span",o({className:"styles-module_blinkingCursor__288eE"},{children:n}),void 0)};function s(e,t){switch(t.type){case"speed":return o(o({},e),{mainSpeed:t.payload});case"type":return{mainSpeed:t.speed,text:t.payload.substring(0,e.text.length+1)};case"delete":return o(o({},e),{mainSpeed:t.speed,text:t.payload.substring(0,e.text.length-1)});default:return e}}var c=function(e){var t=e.words,n=void 0===t?["Hello","World","This","is","Typewriter","Hook"]:t,i=e.loop,o=void 0===i?1:i,a=e.typeSpeed,c=void 0===a?80:a,l=e.deleteSpeed,u=void 0===l?50:l,d=e.delaySpeed,f=void 0===d?1500:d,h=e.onLoopDone,p=e.onType,y=r.useReducer(s,{mainSpeed:0,text:""}),m=y[0],v=m.mainSpeed,g=m.text,b=y[1],_=r.useRef(0),w=r.useRef(0),x=r.useRef(!1),O=r.useRef(!1),k=r.useCallback((function(){var e=_.current%n.length,t=n[e];b({type:"speed",payload:c}),x.current?(b({type:"delete",payload:t,speed:u}),""===g&&(x.current=!1,_.current+=1)):(b({type:"type",payload:t,speed:c}),p&&p(_.current),g===t&&(b({type:"speed",payload:f}),x.current=!0,o>0&&(w.current+=1,w.current/n.length===o&&(O.current=!0))))}),[f,u,o,c,n,g,p]);return r.useEffect((function(){var e=setTimeout(k,v);return O.current&&(clearTimeout(e),h&&h()),function(){return clearTimeout(e)}}),[k,v,h]),{text:g,count:_.current}};t.Cursor=a,t.Typewriter=function(e){var t=e.words,n=void 0===t?["Hello","World","This","is","Typewriter","Component"]:t,r=e.loop,o=void 0===r?1:r,s=e.typeSpeed,l=void 0===s?90:s,u=e.deleteSpeed,d=void 0===u?50:u,f=e.delaySpeed,h=void 0===f?1500:f,p=e.onLoopDone,y=e.onType,m=e.cursor,v=void 0!==m&&m,g=e.cursorStyle,b=void 0===g?".":g,_=c({words:n,loop:o,typeSpeed:l,deleteSpeed:d,delaySpeed:h,onLoopDone:p,onType:y}).text;return i.jsxs(i.Fragment,{children:[i.jsx("span",{children:_},void 0),v&&i.jsx(a,{cursorStyle:b},void 0)]},void 0)},t.useTypewriter=c},oqs6:function(e,t,n){"use strict";n.r(t);var i={};n.r(i),n.d(i,"hideLoading",(function(){return $s})),n.d(i,"disableLoading",(function(){return $s})),n.d(i,"getInput",(function(){return Qs})),n.d(i,"close",(function(){return pc})),n.d(i,"isAwaitingPromise",(function(){return yc})),n.d(i,"rejectPromise",(function(){return vc})),n.d(i,"handleAwaitingPromise",(function(){return gc})),n.d(i,"closePopup",(function(){return pc})),n.d(i,"closeModal",(function(){return pc})),n.d(i,"closeToast",(function(){return pc})),n.d(i,"enableButtons",(function(){return Ec})),n.d(i,"disableButtons",(function(){return Sc})),n.d(i,"enableInput",(function(){return Cc})),n.d(i,"disableInput",(function(){return Tc})),n.d(i,"showValidationMessage",(function(){return Pc})),n.d(i,"resetValidationMessage",(function(){return jc})),n.d(i,"getProgressSteps",(function(){return Dc})),n.d(i,"update",(function(){return Ac})),n.d(i,"_destroy",(function(){return Mc}));var r={};n.r(r),n.d(r,"argsToParams",(function(){return Jc})),n.d(r,"getContainer",(function(){return Yo})),n.d(r,"getPopup",(function(){return Jo})),n.d(r,"getTitle",(function(){return Zo})),n.d(r,"getHtmlContainer",(function(){return ea})),n.d(r,"getImage",(function(){return ta})),n.d(r,"getIcon",(function(){return Qo})),n.d(r,"getInputLabel",(function(){return aa})),n.d(r,"getCloseButton",(function(){return fa})),n.d(r,"getActions",(function(){return la})),n.d(r,"getConfirmButton",(function(){return ra})),n.d(r,"getDenyButton",(function(){return oa})),n.d(r,"getCancelButton",(function(){return ca})),n.d(r,"getLoader",(function(){return sa})),n.d(r,"getFooter",(function(){return ua})),n.d(r,"getTimerProgressBar",(function(){return da})),n.d(r,"getFocusableElements",(function(){return ha})),n.d(r,"getValidationMessage",(function(){return ia})),n.d(r,"isLoading",(function(){return ma})),n.d(r,"isVisible",(function(){return ec})),n.d(r,"clickConfirm",(function(){return tc})),n.d(r,"clickDeny",(function(){return nc})),n.d(r,"clickCancel",(function(){return ic})),n.d(r,"fire",(function(){return tl})),n.d(r,"mixin",(function(){return sl})),n.d(r,"showLoading",(function(){return Hs})),n.d(r,"enableLoading",(function(){return Hs})),n.d(r,"getTimerLeft",(function(){return cl})),n.d(r,"stopTimer",(function(){return ll})),n.d(r,"resumeTimer",(function(){return ul})),n.d(r,"toggleTimer",(function(){return dl})),n.d(r,"increaseTimer",(function(){return fl})),n.d(r,"isTimerRunning",(function(){return hl})),n.d(r,"bindClickHandler",(function(){return ml})),n.d(r,"isValidParameter",(function(){return Fo})),n.d(r,"isUpdatableParameter",(function(){return Ro})),n.d(r,"isDeprecatedParameter",(function(){return Bo}));n("zoW8");var o=n("q1tI"),a=n.n(o),s=function(){this.aboutContent=null,this.technologyContent=null,this.technologyTree=null,this.experiencesContent=null,this.featuredContent=null,this.otherContent=null},c="B".toLocaleLowerCase(),l="L".toLocaleLowerCase(),u="N".toLocaleLowerCase(),d=["gridEngine","dialog","animatedTiles","mcDialog","phaserTooltip"],f="The portal hums with magical energy as you approach...";n("E9XD");function h(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function p(e){return!!e&&!!e[ie]}function y(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===re}(e)||Array.isArray(e)||!!e[ne]||!!e.constructor[ne]||x(e)||O(e))}function m(e,t,n){void 0===n&&(n=!1),0===v(e)?(n?Object.keys:oe)(e).forEach((function(i){n&&"symbol"==typeof i||t(i,e[i],e)})):e.forEach((function(n,i){return t(i,n,e)}))}function v(e){var t=e[ie];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:x(e)?2:O(e)?3:0}function g(e,t){return 2===v(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function b(e,t){return 2===v(e)?e.get(t):e[t]}function _(e,t,n){var i=v(e);2===i?e.set(t,n):3===i?(e.delete(t),e.add(n)):e[t]=n}function w(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function x(e){return Q&&e instanceof Map}function O(e){return Z&&e instanceof Set}function k(e){return e.o||e.t}function E(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=ae(e);delete t[ie];for(var n=oe(t),i=0;i<n.length;i++){var r=n[i],o=t[r];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[r]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[r]})}return Object.create(Object.getPrototypeOf(e),t)}function S(e,t){return void 0===t&&(t=!1),T(e)||p(e)||!y(e)||(v(e)>1&&(e.set=e.add=e.clear=e.delete=C),Object.freeze(e),t&&m(e,(function(e,t){return S(t,!0)}),!0)),e}function C(){h(2)}function T(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function P(e){var t=se[e];return t||h(18,e),t}function j(e,t){se[e]||(se[e]=t)}function D(){return $}function A(e,t){t&&(P("Patches"),e.u=[],e.s=[],e.v=t)}function I(e){M(e),e.p.forEach(N),e.p=null}function M(e){e===$&&($=e.l)}function L(e){return $={p:[],l:$,h:e,m:!0,_:0}}function N(e){var t=e[ie];0===t.i||1===t.i?t.j():t.O=!0}function F(e,t){t._=t.p.length;var n=t.p[0],i=void 0!==e&&e!==n;return t.h.g||P("ES5").S(t,e,i),i?(n[ie].P&&(I(t),h(4)),y(e)&&(e=R(t,e),t.l||H(t,e)),t.u&&P("Patches").M(n[ie].t,e,t.u,t.s)):e=R(t,n,[]),I(t),t.u&&t.v(t.u,t.s),e!==te?e:void 0}function R(e,t,n){if(T(t))return t;var i=t[ie];if(!i)return m(t,(function(r,o){return B(e,i,t,r,o,n)}),!0),t;if(i.A!==e)return t;if(!i.P)return H(e,i.t,!0),i.t;if(!i.I){i.I=!0,i.A._--;var r=4===i.i||5===i.i?i.o=E(i.k):i.o;m(3===i.i?new Set(r):r,(function(t,o){return B(e,i,r,t,o,n)})),H(e,r,!1),n&&e.u&&P("Patches").R(i,n,e.u,e.s)}return i.o}function B(e,t,n,i,r,o){if(p(r)){var a=R(e,r,o&&t&&3!==t.i&&!g(t.D,i)?o.concat(i):void 0);if(_(n,i,a),!p(a))return;e.m=!1}if(y(r)&&!T(r)){if(!e.h.F&&e._<1)return;R(e,r),t&&t.A.l||H(e,r)}}function H(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&S(t,n)}function W(e,t){var n=e[ie];return(n?k(n):e)[t]}function z(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var i=Object.getOwnPropertyDescriptor(n,t);if(i)return i;n=Object.getPrototypeOf(n)}}function G(e){e.P||(e.P=!0,e.l&&G(e.l))}function U(e){e.o||(e.o=E(e.t))}function V(e,t,n){var i=x(t)?P("MapSet").N(t,n):O(t)?P("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),i={i:n?1:0,A:t?t.A:D(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},r=i,o=ce;n&&(r=[i],o=le);var a=Proxy.revocable(r,o),s=a.revoke,c=a.proxy;return i.k=c,i.j=s,c}(t,n):P("ES5").J(t,n);return(n?n.A:D()).p.push(i),i}function X(e){return p(e)||h(22,e),function e(t){if(!y(t))return t;var n,i=t[ie],r=v(t);if(i){if(!i.P&&(i.i<4||!P("ES5").K(i)))return i.t;i.I=!0,n=K(t,r),i.I=!1}else n=K(t,r);return m(n,(function(t,r){i&&b(i.t,t)===r||_(n,t,e(r))})),3===r?new Set(n):n}(e)}function K(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return E(e)}function Y(){function e(e,t){var n=r[e];return n?n.enumerable=t:r[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[ie];return ce.get(t,e)},set:function(t){var n=this[ie];ce.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var r=e[t][ie];if(!r.P)switch(r.i){case 5:i(r)&&G(r);break;case 4:n(r)&&G(r)}}}function n(e){for(var t=e.t,n=e.k,i=oe(n),r=i.length-1;r>=0;r--){var o=i[r];if(o!==ie){var a=t[o];if(void 0===a&&!g(t,o))return!0;var s=n[o],c=s&&s[ie];if(c?c.t!==a:!w(s,a))return!0}}var l=!!t[ie];return i.length!==oe(t).length+(l?0:1)}function i(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var i=0;i<t.length;i++)if(!t.hasOwnProperty(i))return!0;return!1}var r={};j("ES5",{J:function(t,n){var i=Array.isArray(t),r=function(t,n){if(t){for(var i=Array(n.length),r=0;r<n.length;r++)Object.defineProperty(i,""+r,e(r,!0));return i}var o=ae(n);delete o[ie];for(var a=oe(o),s=0;s<a.length;s++){var c=a[s];o[c]=e(c,t||!!o[c].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(i,t),o={i:i?5:4,A:n?n.A:D(),P:!1,I:!1,D:{},l:n,t:t,k:r,o:null,O:!1,C:!1};return Object.defineProperty(r,ie,{value:o,writable:!0}),r},S:function(e,n,r){r?p(n)&&n[ie].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[ie];if(n){var r=n.t,o=n.k,a=n.D,s=n.i;if(4===s)m(o,(function(t){t!==ie&&(void 0!==r[t]||g(r,t)?a[t]||e(o[t]):(a[t]=!0,G(n)))})),m(r,(function(e){void 0!==o[e]||g(o,e)||(a[e]=!1,G(n))}));else if(5===s){if(i(n)&&(G(n),a.length=!0),o.length<r.length)for(var c=o.length;c<r.length;c++)a[c]=!1;else for(var l=r.length;l<o.length;l++)a[l]=!0;for(var u=Math.min(o.length,r.length),d=0;d<u;d++)o.hasOwnProperty(d)||(a[d]=!0),void 0===a[d]&&e(o[d])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):i(e)}})}var q,$,J="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Q="undefined"!=typeof Map,Z="undefined"!=typeof Set,ee="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,te=J?Symbol.for("immer-nothing"):((q={})["immer-nothing"]=!0,q),ne=J?Symbol.for("immer-draftable"):"__$immer_draftable",ie=J?Symbol.for("immer-state"):"__$immer_state",re=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),oe="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ae=Object.getOwnPropertyDescriptors||function(e){var t={};return oe(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},se={},ce={get:function(e,t){if(t===ie)return e;var n=k(e);if(!g(n,t))return function(e,t,n){var i,r=z(t,n);return r?"value"in r?r.value:null===(i=r.get)||void 0===i?void 0:i.call(e.k):void 0}(e,n,t);var i=n[t];return e.I||!y(i)?i:i===W(e.t,t)?(U(e),e.o[t]=V(e.A.h,i,e)):i},has:function(e,t){return t in k(e)},ownKeys:function(e){return Reflect.ownKeys(k(e))},set:function(e,t,n){var i=z(k(e),t);if(null==i?void 0:i.set)return i.set.call(e.k,n),!0;if(!e.P){var r=W(k(e),t),o=null==r?void 0:r[ie];if(o&&o.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(w(n,r)&&(void 0!==n||g(e.t,t)))return!0;U(e),G(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==W(e.t,t)||t in e.t?(e.D[t]=!1,U(e),G(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=k(e),i=Reflect.getOwnPropertyDescriptor(n,t);return i?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:i.enumerable,value:n[t]}:i},defineProperty:function(){h(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){h(12)}},le={};m(ce,(function(e,t){le[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),le.deleteProperty=function(e,t){return le.set.call(this,e,t,void 0)},le.set=function(e,t,n){return ce.set.call(this,e[0],t,n,e[0])};var ue=new(function(){function e(e){var t=this;this.g=ee,this.F=!0,this.produce=function(e,n,i){if("function"==typeof e&&"function"!=typeof n){var r=n;n=e;var o=t;return function(e){var t=this;void 0===e&&(e=r);for(var i=arguments.length,a=Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];return o.produce(e,(function(e){var i;return(i=n).call.apply(i,[t,e].concat(a))}))}}var a;if("function"!=typeof n&&h(6),void 0!==i&&"function"!=typeof i&&h(7),y(e)){var s=L(t),c=V(t,e,void 0),l=!0;try{a=n(c),l=!1}finally{l?I(s):M(s)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return A(s,i),F(e,s)}),(function(e){throw I(s),e})):(A(s,i),F(a,s))}if(!e||"object"!=typeof e){if(void 0===(a=n(e))&&(a=e),a===te&&(a=void 0),t.F&&S(a,!0),i){var u=[],d=[];P("Patches").M(e,a,u,d),i(u,d)}return a}h(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var i=arguments.length,r=Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(r))}))};var i,r,o=t.produce(e,n,(function(e,t){i=e,r=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,i,r]})):[o,i,r]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){y(e)||h(8),p(e)&&(e=X(e));var t=L(this),n=V(this,e,void 0);return n[ie].C=!0,M(t),n},t.finishDraft=function(e,t){var n=(e&&e[ie]).A;return A(n,t),F(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!ee&&h(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var i=t[n];if(0===i.path.length&&"replace"===i.op){e=i.value;break}}n>-1&&(t=t.slice(n+1));var r=P("Patches").$;return p(e)?r(e,t):this.produce(e,(function(e){return r(e,t)}))},e}()),de=ue.produce,fe=(ue.produceWithPatches.bind(ue),ue.setAutoFreeze.bind(ue),ue.setUseProxies.bind(ue),ue.applyPatches.bind(ue),ue.createDraft.bind(ue),ue.finishDraft.bind(ue),de);var he=n("rePB");function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){Object(he.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function me(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var ve="function"==typeof Symbol&&Symbol.observable||"@@observable",ge=function(){return Math.random().toString(36).substring(7).split("").join(".")},be={INIT:"@@redux/INIT"+ge(),REPLACE:"@@redux/REPLACE"+ge(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ge()}};function _e(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function we(e,t,n){var i;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(me(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(me(1));return n(we)(e,t)}if("function"!=typeof e)throw new Error(me(2));var r=e,o=t,a=[],s=a,c=!1;function l(){s===a&&(s=a.slice())}function u(){if(c)throw new Error(me(3));return o}function d(e){if("function"!=typeof e)throw new Error(me(4));if(c)throw new Error(me(5));var t=!0;return l(),s.push(e),function(){if(t){if(c)throw new Error(me(6));t=!1,l();var n=s.indexOf(e);s.splice(n,1),a=null}}}function f(e){if(!_e(e))throw new Error(me(7));if(void 0===e.type)throw new Error(me(8));if(c)throw new Error(me(9));try{c=!0,o=r(o,e)}finally{c=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}function h(e){if("function"!=typeof e)throw new Error(me(10));r=e,f({type:be.REPLACE})}function p(){var e,t=d;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(me(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[ve]=function(){return this},e}return f({type:be.INIT}),(i={dispatch:f,subscribe:d,getState:u,replaceReducer:h})[ve]=p,i}function xe(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++){var r=t[i];0,"function"==typeof e[r]&&(n[r]=e[r])}var o,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:be.INIT}))throw new Error(me(12));if(void 0===n(void 0,{type:be.PROBE_UNKNOWN_ACTION()}))throw new Error(me(13))}))}(n)}catch(s){o=s}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var i=!1,r={},s=0;s<a.length;s++){var c=a[s],l=n[c],u=e[c],d=l(u,t);if(void 0===d){t&&t.type;throw new Error(me(14))}r[c]=d,i=i||d!==u}return(i=i||a.length!==Object.keys(e).length)?r:e}}function Oe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function ke(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),i=function(){throw new Error(me(15))},r={getState:n.getState,dispatch:function(){return i.apply(void 0,arguments)}},o=t.map((function(e){return e(r)}));return i=Oe.apply(void 0,o)(n.dispatch),ye(ye({},n),{},{dispatch:i})}}}function Ee(e){return function(t){var n=t.dispatch,i=t.getState;return function(t){return function(r){return"function"==typeof r?r(n,i,e):t(r)}}}}var Se=Ee();Se.withExtraArgument=Ee;var Ce,Te=Se,Pe=(Ce=function(e,t){return(Ce=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Ce(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),je=function(e,t){for(var n=0,i=t.length,r=e.length;n<i;n++,r++)e[r]=t[n];return e},De=Object.defineProperty,Ae=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),Ie=Object.prototype.hasOwnProperty,Me=Object.prototype.propertyIsEnumerable,Le=function(e,t,n){return t in e?De(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Ne=function(e,t){for(var n in t||(t={}))Ie.call(t,n)&&Le(e,n,t[n]);if(Ae)for(var i=0,r=Ae(t);i<r.length;i++){n=r[i];Me.call(t,n)&&Le(e,n,t[n])}return e},Fe="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?Oe:Oe.apply(null,arguments)};"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Re(e){if("object"!=typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var Be=function(e){function t(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=e.apply(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return Pe(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,je([void 0],e[0].concat(this)))):new(t.bind.apply(t,je([void 0],e.concat(this))))},t}(Array);function He(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,i=(e.immutableCheck,e.serializableCheck,new Be);n&&("boolean"==typeof n?i.push(Te):i.push(Te.withExtraArgument(n.extraArgument)));0;return i}(e)}}function We(e,t){function n(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(t){var r=t.apply(void 0,n);if(!r)throw new Error("prepareAction did not return an object");return Ne(Ne({type:e,payload:r.payload},"meta"in r&&{meta:r.meta}),"error"in r&&{error:r.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function ze(e){var t,n={},i=[],r={addCase:function(e,t){var i="string"==typeof e?e:e.type;if(i in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[i]=t,r},addMatcher:function(e,t){return i.push({matcher:e,reducer:t}),r},addDefaultCase:function(e){return t=e,r}};return e(r),[n,i,t]}function Ge(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,i="function"==typeof e.initialState?e.initialState:fe(e.initialState,(function(){})),r=e.reducers||{},o=Object.keys(r),a={},s={},c={};function l(){var t="function"==typeof e.extraReducers?ze(e.extraReducers):[e.extraReducers],n=t[0],r=void 0===n?{}:n,o=t[1],a=void 0===o?[]:o,c=t[2],l=void 0===c?void 0:c,u=Ne(Ne({},r),s);return function(e,t,n,i){void 0===n&&(n=[]);var r,o="function"==typeof t?ze(t):[t,n,i],a=o[0],s=o[1],c=o[2];if("function"==typeof e)r=function(){return fe(e(),(function(){}))};else{var l=fe(e,(function(){}));r=function(){return l}}function u(e,t){void 0===e&&(e=r());var n=je([a[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[c]),n.reduce((function(e,n){if(n){var i;if(p(e))return void 0===(i=n(e,t))?e:i;if(y(e))return fe(e,(function(e){return n(e,t)}));if(void 0===(i=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return i}return e}),e)}return u.getInitialState=r,u}(i,u,a,l)}return o.forEach((function(e){var n,i,o=r[e],l=t+"/"+e;"reducer"in o?(n=o.reducer,i=o.prepare):n=o,a[e]=n,s[l]=n,c[e]=i?We(l,i):We(l)})),{name:t,reducer:function(e,t){return n||(n=l()),n(e,t)},actions:c,caseReducers:a,getInitialState:function(){return n||(n=l()),n.getInitialState()}}}Object.assign;var Ue="listenerMiddleware";We(Ue+"/add"),We(Ue+"/removeAll"),We(Ue+"/remove");Y();var Ve={open:!1,contentKey:null,pausedScene:null,unlockedFeatures:{inventory:!1,questLog:!1,talentTree:!1}},Xe=Ge({name:"overlay",initialState:Ve,reducers:{overlayOpened:function(e,t){var n=t.payload,i=n.contentKey,r=n.pausedScene;return Object.assign({},e,{contentKey:i,open:!0,pausedScene:r})},overlayClosed:function(e){return Object.assign({},e,{open:Ve.open,contentKey:Ve.contentKey,pausedScene:Ve.pausedScene})},updateUnlockedFeatures:function(e,t){return Object.assign({},e,{unlockedFeatures:t.payload})}}}),Ke=Xe.actions,Ye=Xe.reducer,qe=Ke,$e=Ye,Je=function(e){return e.overlay},Qe=Je,Ze=function(e){return Je(e).open},et=function(e){return Je(e).contentKey},tt=function(e){return Je(e).unlockedFeatures},nt=a.a.createContext(null);var it=function(e){e()};function rt(){var e=it,t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var i=!0,r=n={callback:e,next:null,prev:n};return r.prev?r.prev.next=r:t=r,function(){i&&null!==t&&(i=!1,r.next?r.next.prev=r.prev:n=r.prev,r.prev?r.prev.next=r.next:t=r.next)}}}}var ot={notify:function(){},get:function(){return[]}};function at(e,t){var n,i=ot;function r(){a.onStateChange&&a.onStateChange()}function o(){n||(n=t?t.addNestedSub(r):e.subscribe(r),i=rt())}var a={addNestedSub:function(e){return o(),i.subscribe(e)},notifyNestedSubs:function(){i.notify()},handleChangeWrapper:r,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,i.clear(),i=ot)},getListeners:function(){return i}};return a}var st="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?o.useLayoutEffect:o.useEffect;var ct=function(e){var t=e.store,n=e.context,i=e.children,r=Object(o.useMemo)((function(){var e=at(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),s=Object(o.useMemo)((function(){return t.getState()}),[t]);st((function(){var e=r.subscription;return e.trySubscribe(),s!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[r,s]);var c=n||nt;return a.a.createElement(c.Provider,{value:r},i)},lt=(n("wx14"),n("zLVn"));n("2mql"),n("0vxD");function ut(){return Object(o.useContext)(nt)}function dt(e){void 0===e&&(e=nt);var t=e===nt?ut:function(){return Object(o.useContext)(e)};return function(){return t().store}}var ft=dt();function ht(e){void 0===e&&(e=nt);var t=e===nt?ft:dt(e);return function(){return t().dispatch}}var pt=ht(),yt=function(e,t){return e===t};function mt(e){void 0===e&&(e=nt);var t=e===nt?ut:function(){return Object(o.useContext)(e)};return function(e,n){void 0===n&&(n=yt);var i=t(),r=function(e,t,n,i){var r,a=Object(o.useReducer)((function(e){return e+1}),0)[1],s=Object(o.useMemo)((function(){return at(n,i)}),[n,i]),c=Object(o.useRef)(),l=Object(o.useRef)(),u=Object(o.useRef)(),d=Object(o.useRef)(),f=n.getState();try{if(e!==l.current||f!==u.current||c.current){var h=e(f);r=void 0!==d.current&&t(h,d.current)?d.current:h}else r=d.current}catch(p){throw c.current&&(p.message+="\nThe error may be correlated with this previous error:\n"+c.current.stack+"\n\n"),p}return st((function(){l.current=e,u.current=f,d.current=r,c.current=void 0})),st((function(){function e(){try{var e=n.getState();if(e===u.current)return;var i=l.current(e);if(t(i,d.current))return;d.current=i,u.current=e}catch(p){c.current=p}a()}return s.onStateChange=e,s.trySubscribe(),e(),function(){return s.tryUnsubscribe()}}),[n,s]),r}(e,n,i.store,i.subscription);return Object(o.useDebugValue)(r),r}}var vt,gt=mt(),bt=n("i8i4");vt=bt.unstable_batchedUpdates,it=vt;var _t,wt=n("CVNw"),xt=n.n(wt),Ot=n("mONp"),kt=n("TSYQ"),Et=n.n(kt),St=function(e,t){return e+"-"+t},Ct=n("zT9C"),Tt=n.n(Ct),Pt={data:null,selectedTalentTree:0,selectedQuestTab:0,selectedQuest:0,selectedProject:null},jt=Ge({name:"gameCms",initialState:Pt,reducers:{dataLoaded:function(e,t){return Object.assign({},e,{data:Tt()(Object.assign({},t.payload))})},selectedTalentTreeChanged:function(e,t){return Object.assign({},e,{selectedTalentTree:t.payload})},selectedQuestTabChanged:function(e,t){return Object.assign({},e,{selectedQuestTab:t.payload})},selectedQuestChanged:function(e,t){return Object.assign({},e,{selectedQuest:t.payload})},selectedProjectChanged:function(e,t){return Object.assign({},e,{selectedProject:e.selectedProject&&t.payload&&t.payload.title===e.selectedProject.title?null:t.payload})},reset:function(e){return Object.assign({},Pt,{data:e.data})}}}),Dt=jt.actions,At=jt.reducer,It=function(e){return e.gameCms},Mt=function(e){return It(e).data},Lt=Dt,Nt=At,Ft=Mt,Rt=function(e){return Mt(e).aboutContent},Bt=function(e){return It(e).selectedTalentTree},Ht=function(e){return It(e).data.experiencesContent},Wt=function(e){return It(e).selectedQuestTab},zt=function(e){return It(e).selectedQuest},Gt=function(e){return It(e).data.featuredContent},Ut=function(e){return It(e).data.otherContent},Vt=function(e){return It(e).selectedProject},Xt=n("lO2I");!function(e){e[e.SKILLS=0]="SKILLS",e[e.UF=1]="UF",e[e.UNF=2]="UNF",e[e.BIO=3]="BIO",e[e.EXPERIENCES=4]="EXPERIENCES",e[e.PROJECTS=5]="PROJECTS"}(_t||(_t={}));var Kt,Yt=function(e){var t=Object(o.useState)(!1),n=t[0],i=t[1];return Object(o.useEffect)((function(){var t=setTimeout((function(){return i(!0)}),e);return function(){return clearTimeout(t)}}),[]),n},qt=((Kt={})[_t.UF]={type:"Arts",school:"University of Florida",degree:"Anthropology",year:"2018"},Kt[_t.UNF]={type:"Science",school:"University of North Florida",degree:"Computing and Information Sciences",year:"2020"},Kt),$t=St("diploma","container"),Jt=St($t,"visible"),Qt=St("diploma","image"),Zt=St("diploma","content"),en=St(Zt,"school"),tn=St(Zt,"type"),nn=St(Zt,"degree"),rn=St(Zt,"year"),on=function(){var e,t=Yt(2e3),n=gt(et),i=qt[null!=n?n:""],r=i.type,o=i.school,s=i.degree,c=i.year;return a.a.createElement("div",{className:Et()("game-overlay-message-component-container",$t,(e={},e[Jt]=t,e))},a.a.createElement("img",{src:"/assets/game/images/paper_scroll.png",className:Qt}),a.a.createElement("div",{className:Zt},a.a.createElement("h1",{className:en},o),a.a.createElement("p",{className:tn},"Bachelor of ",r),a.a.createElement("p",{className:nn},s),a.a.createElement("p",{className:rn},c)))},an=n("KQm4"),sn=(n("dBwK"),n("IujW")),cn=n.n(sn),ln=St("inventory-item-display","container"),un=St("inventory-item-display","title"),dn=St(un,"container"),fn=St(un,"text"),hn=St(un,"button"),pn=St("inventory-item-display","content"),yn=St("inventory-item-display","tags"),mn=function(){var e,t,n=pt(),i=gt(Vt),r=Object(o.useCallback)((function(){return n(Lt.selectedProjectChanged(null))}),[]),s="featured"===(null==i?void 0:i.type);return a.a.createElement("div",{className:ln,onClick:function(e){return e.stopPropagation()}},a.a.createElement("div",{className:dn},a.a.createElement("h1",{className:fn},null==i?void 0:i.title),a.a.createElement("span",{className:Et()("icon",hn),onClick:r},a.a.createElement("i",{className:"fa-solid fa-xmark"}))),a.a.createElement("div",null,a.a.createElement("h2",null,"Binds when ",s?"picked up":"equipped")),a.a.createElement("div",null,a.a.createElement("h2",{className:Et()((e={},e["epic-item"]=s,e["rare-item"]=!s,e))},s?"Epic":"Rare"," Item")),a.a.createElement("div",{className:yn},(null!==(t=null==i?void 0:i.techTags)&&void 0!==t?t:[]).map((function(e,t){return a.a.createElement("span",{key:t},s?"+10":"+5"," ",e)}))),a.a.createElement("div",{className:pn},a.a.createElement(cn.a,null,i.content)))},vn=St("inventory-item-tooltip","children"),gn=St("inventory-item-tooltip","container"),bn=function(e){var t=e.item,n=e.hidden,i=e.children,r=Object(o.useState)(!1),s=r[0],c=r[1],l=Object(o.useCallback)((function(e){return function(){c(e)}}),[]),u=Object(o.useCallback)((function(){return c(!1)}),[]);return a.a.createElement("div",{className:vn,onMouseOver:l(!0),onMouseLeave:l(!1),onClick:u},i,!n&&s&&a.a.createElement("div",{className:gn},t.title))},_n=St("inventory-item","rare"),wn=St("inventory-item","epic"),xn=St("inventory-item","occupied"),On=function(e){var t,n=e.item,i=gt(Vt),r=pt(),s=Object(o.useCallback)((function(e){e.stopPropagation(),r(Lt.selectedProjectChanged(n))}),[]),c=i&&n&&i.title===n.title;return a.a.createElement("div",{className:Et()("inventory-item",(t={},t[xn]=!!n,t[wn]="featured"===(null==n?void 0:n.type),t[_n]="other"===(null==n?void 0:n.type),t)),onClick:n?s:void 0},n&&a.a.createElement(a.a.Fragment,null,a.a.createElement(bn,{item:n,hidden:!!i},a.a.createElement("span",{className:"icon",style:{color:n.iconColor}},a.a.createElement("i",{className:n.iconName}))),c&&a.a.createElement(mn,null)))};function kn(e){return e&&0!==e.length?e[Math.floor(Math.random()*e.length)]:null}function En(e){for(var t=Object(an.a)(e),n=t.length-1;n>0;n--){var i=Math.floor(Math.random()*(n+1)),r=[t[i],t[n]];t[n]=r[0],t[i]=r[1]}return t}var Sn,Cn,Tn,Pn,jn=St("inventory","container"),Dn=St(jn,"inner"),An=St("inventory","items-container"),In=function(){var e=pt(),t=gt(Gt),n=gt(Ut),i=Object(o.useMemo)((function(){var e=function(e,t){if(0===e.length&&0===t.length)return[];var n=[];return e.forEach((function(e){var t=e.title,i=e.titleUrl,r=e.techTags,o=e.content,a=e.iconName,s=e.iconColor;n.push({title:t,url:i,techTags:Object(an.a)(r.items),content:o,type:"featured",iconName:a,iconColor:s})})),t.forEach((function(e){var t=e.title,i=e.repositoryUrl,r=e.techTags,o=e.content,a=e.iconName,s=e.iconColor;n.push({title:t,url:i,techTags:Object(an.a)(r.items),content:o,type:"other",iconName:a,iconColor:s})})),En(n)}(t,n);return 30===e.length?e:Object(an.a)(Array(30)).map((function(t,n){var i;return null!==(i=e[n])&&void 0!==i?i:null}))}),[t,n]),r=Object(o.useCallback)((function(){e(Lt.selectedProjectChanged(null))}),[]);return a.a.createElement("div",{className:jn,onClick:r},a.a.createElement("div",{className:Dn},a.a.createElement("h1",null,"Inventory"),a.a.createElement("div",{className:An},(null!=i?i:[]).map((function(e,t){return a.a.createElement(On,{key:t,item:e})})))))},Mn=(n("LiDt"),St("quest-log","detail")),Ln=St(Mn,"item"),Nn=St(Ln,"subtitle"),Fn=St(Ln,"employer"),Rn=St(Ln,"objectives-container"),Bn=St(Rn,"title"),Hn=St(Rn,"items"),Wn=St(Ln,"divider"),zn=St(Ln,"rewards-container"),Gn=St(zn,"title"),Un=St(Mn,"empty"),Vn=function(e){var t=e.item;return t?a.a.createElement("div",{className:Mn},a.a.createElement("div",{className:Ln},a.a.createElement("h1",null,t.title),a.a.createElement("h2",{className:Nn},t.subtitle),a.a.createElement("h2",{className:Fn},t.employer),a.a.createElement("div",{className:Rn},a.a.createElement("h2",{className:Bn},"Objectives"),a.a.createElement("hr",{className:Wn}),a.a.createElement("ul",{className:Hn},t.content.items.map((function(e,t){return a.a.createElement("li",{key:t},e)})))),a.a.createElement("div",{className:zn},a.a.createElement("h2",{className:Gn},"Rewards"),a.a.createElement("hr",{className:Wn}),"+",function(e){var t=new Date(e.startDate),n=((e.isActive?new Date:new Date(e.endDate)).getTime()-t.getTime())/1e3;return Math.abs(Math.round(n/2419200))}(t)," XP"))):a.a.createElement("div",{className:Mn},a.a.createElement("div",{className:Un},a.a.createElement("h1",null,"Select a quest")))},Xn=St("quest-log","list"),Kn=St(Xn,"item"),Yn=St(Kn,"active"),qn=function(e){var t=e.items,n=pt(),i=gt(zt),r=gt(zt),s=Object(o.useCallback)((function(e){return function(){return n(Lt.selectedQuestChanged(e))}}),[r]);return a.a.createElement("div",{className:Xn},t.map((function(e,t){var n;return a.a.createElement("div",{key:t,className:Et()(Kn,(n={},n[Yn]=i===e.id,n)),onClick:s(e.id)},e.title)})))},$n=St("quest-log","container"),Jn=St("quest-log","header"),Qn=St(Jn,"item"),Zn=St(Qn,"active"),ei=St("quest-log","pane-container"),ti=function(e){var t,n=e.active,i=e.onClick,r=e.content;return a.a.createElement("h1",{className:Et()(Qn,(t={},t[Zn]=n,t)),onClick:i},r)},ni=function(){var e=pt(),t=gt(Wt),n=gt(zt),i=gt(Ht),r=Object(o.useState)([]),s=r[0],c=r[1],l=Object(o.useMemo)((function(){return i.map((function(e,t){return Object.assign({},e,{id:t})}))}),[i]);Object(o.useEffect)((function(){return c(function(e,t){var n;switch(t){case 0:n=function(){return!0};break;case 1:n=function(e){return e.isActive};break;case 2:n=function(e){return!e.isActive}}return e.filter(n)}(l,t))}),[t]),Object(o.useEffect)((function(){s.length>0&&e(Lt.selectedQuestChanged(s[0].id))}),[s]);var u=Object(o.useCallback)((function(n){return function(){n!==t&&e(Lt.selectedQuestTabChanged(n))}}),[t]);return a.a.createElement("div",{className:$n},a.a.createElement("div",{className:Jn},a.a.createElement(ti,{active:0===t,onClick:u(0),content:"All"}),a.a.createElement(ti,{active:1===t,onClick:u(1),content:"Active"}),a.a.createElement(ti,{active:2===t,onClick:u(2),content:"Completed"})),a.a.createElement("div",{className:ei},a.a.createElement(qn,{items:s}),a.a.createElement(Vn,{item:s.find((function(e){return e.id===n}))})))},ii=((Sn={})[_t.BIO]=Rt,Sn),ri=St("simple-text","container"),oi=St(ri,"visible"),ai=St("simple-text","content"),si=function(){var e,t,n=Yt(2e3),i=null!==(e=gt(et))&&void 0!==e?e:"",r=gt(ii[i]);return a.a.createElement("div",{className:Et()("game-overlay-message-component-container",ri,(t={},t[oi]=n,t))},a.a.createElement("div",{className:ai},r))},ci=n("7tvU"),li=n.n(ci),ui=St("talent-tree","row-node"),di=St(ui,"active"),fi=St(di,"selected"),hi=St(ui,"selected"),pi=St("talent-tree","points"),yi=function(e){var t,n=e.onClick,i=e.selected,r=Object(lt.a)(e,["onClick","selected"]),o=r.points>0;return a.a.createElement("div",{id:r.id,className:Et()(ui,(t={},t[di]=o,t[fi]=o&&i,t[hi]=!o&&i,t)),onClick:n},a.a.createElement("span",{className:"icon"},a.a.createElement("i",{className:r.code})),a.a.createElement("div",{className:pi},r.points,"/",r.total))},mi=St("talent-tree","container"),vi=St(mi,"shifted"),gi=St(mi,"visible"),bi=St("talent-tree","selector"),_i=St(bi,"next"),wi=St("talent-tree","row"),xi=St("talent-tree","info"),Oi=St(xi,"visible"),ki=St(xi,"header"),Ei=St(ki,"title"),Si=St(ki,"points"),Ci=St(xi,"content"),Ti=function(){var e,t,n,i=pt(),r=gt(Ft).technologyTree,s=gt(Bt),c=gt(tt).talentTree,l=Object(o.useState)(null),u=l[0],d=l[1],f=Yt(c?0:2e3),h=Object(o.useState)(!1),p=h[0],y=h[1],m=Object(o.useMemo)((function(){return function(e){var t=Tt()(e).items,n={0:{content:"root",id:"0",code:"",points:1,total:1,title:"root",children:[]}};t.forEach((function(e){n[e.id]=e})),t.forEach((function(e){var t,i,r=void 0===e.parent?"0":e.parent;n[r].children=[].concat(Object(an.a)(null!==(t=null===(i=n[r])||void 0===i?void 0:i.children)&&void 0!==t?t:[]),[e])}));return function e(t){var i,r;n[t.id].children&&(null!==(i=n[t.id].children)&&void 0!==i?i:[]).length>0&&(null!==(r=n[t.id].children)&&void 0!==r?r:[]).forEach((function(t){return e(t)}));return t}(n[0])}(Object.assign({},r))}),[r]),v=(null!==(e=null==m?void 0:m.children)&&void 0!==e?e:[]).map((function(e){return function(e){var t=Object.assign({},e),n=[];return function e(t,i){n[i]?n[i].push(t):n[i]=[t],t.children&&t.children.forEach((function(t){return e(t,i+1)}))}(t,0),n}(e)})),g=Object(o.useCallback)((function(){s!==v.length-1&&i(Lt.selectedTalentTreeChanged(s+1))}),[v]),b=Object(o.useCallback)((function(){0!==s&&i(Lt.selectedTalentTreeChanged(s-1))}),[v]);Object(o.useEffect)((function(){d(null)}),[s]);var _=Object(o.useCallback)((function(e){return d(e)}),[]);return Object(o.useEffect)((function(){y(null!==u)}),[u]),a.a.createElement("div",{className:Et()("game-overlay-message-component-container","talent-tree")},a.a.createElement("div",{className:Et()(mi,(t={},t[vi]=null!==u,t[gi]=f,t))},a.a.createElement("div",{className:bi},a.a.createElement("button",{className:"button is-small",disabled:0===s,onClick:b},a.a.createElement(xt.a,{path:Xt.a,size:1})),a.a.createElement("button",{className:Et()("button is-small",_i),disabled:s===v.length-1,onClick:g},a.a.createElement(xt.a,{path:Xt.b,size:1}))),v[s].map((function(e,t){return a.a.createElement("div",{className:wi,key:t},e.map((function(e){var t,n=u&&u.id===e.id,i=Object.assign({},e,{selected:!0===n,onClick:function(){return _(n?null:e)}});return t=e.points>0?n?"#fff":"#b0b0b0":n?"#ebaa02":"#976f08",a.a.createElement(ci.Xwrapper,{key:e.id},a.a.createElement(yi,i),void 0!==e.parent&&a.a.createElement(li.a,{key:e.id+"-"+n,start:e.id,end:e.parent,curveness:0,showTail:!1,showHead:!1,animateDrawing:!1,color:t,endAnchor:"bottom",startAnchor:"top"}))})))}))),u&&a.a.createElement("div",{className:Et()(xi,(n={},n[Oi]=p,n))},a.a.createElement("div",{className:ki},a.a.createElement("p",{className:Ei},u.title),a.a.createElement("p",{className:Si},u.points,"/",u.total)),a.a.createElement("p",{className:Ci},u.content)))},Pi=((Cn={})[_t.UF]={lead:"You find a scroll hidden behind the trophy...",component:a.a.createElement(on,null)},Cn[_t.UNF]={lead:"You find a scroll hidden behind the medal...",component:a.a.createElement(on,null)},Cn[_t.SKILLS]={lead:"The PC battlestation turns on, accessing Greg's secret RPG talent trees...",component:a.a.createElement(Ti,null),unlockedKey:"talentTree"},Cn[_t.BIO]={lead:"You seem to have stumbled across an autobiography of sorts...",component:a.a.createElement(si,null)},Cn[_t.EXPERIENCES]={lead:"Inside the chest is Greg's quest log...",component:a.a.createElement(ni,null),unlockedKey:"questLog"},Cn[_t.PROJECTS]={lead:"The chest gives you access to Greg's inventory...",component:a.a.createElement(In,null),unlockedKey:"inventory"},Cn),ji=n("1O+K"),Di=n.n(ji),Ai=n("XV8S"),Ii=n.n(Ai),Mi=n("JX7q"),Li=n("dI71"),Ni=function(){this._createProgress=function(){return{completed:!1}},this[1]=this._createProgress(),this[2]=this._createProgress(),this[3]=this._createProgress()};!function(e){e[e.GREEN=0]="GREEN",e[e.BLUE=1]="BLUE",e[e.WHITE=2]="WHITE",e[e.PURPLE=3]="PURPLE"}(Tn||(Tn={})),function(e){e[e.ONE=0]="ONE",e[e.TWO=1]="TWO",e[e.THREE=2]="THREE",e[e.FOUR=3]="FOUR"}(Pn||(Pn={}));var Fi,Ri,Bi,Hi=function(){this._createFire=function(){var e;return{active:void 0,fires:(e={},e[Tn.GREEN]={sprite:null,animation:null,characterId:null},e[Tn.BLUE]={sprite:null,animation:null,characterId:null},e[Tn.WHITE]={sprite:null,animation:null,characterId:null},e[Tn.PURPLE]={sprite:null,animation:null,characterId:null},e)}},this[Pn.ONE]=this._createFire(),this[Pn.TWO]=this._createFire(),this[Pn.THREE]=this._createFire(),this[Pn.FOUR]=this._createFire()},Wi=function(e){var t;switch(e){case Tn.BLUE:t="blue";break;case Tn.GREEN:t="green";break;case Tn.WHITE:t="white";break;case Tn.PURPLE:t="purple"}return t},zi=function(e){return"tiles/"+e},Gi=function(e){return zi(e+".json")},Ui=function(e){return zi(e+".png")},Vi=function(e){return"sprites/"+e+".png"},Xi=function(e){return"images/"+e+".png"},Ki=function(e){return{key:"player-"+e,source:Vi(e+"_spritesheet"),frameWidth:32,frameHeight:32,walkingAnimationMapping:0,scale:3,infoKey:e}},Yi=((Fi={xion:Ki("xion"),irabel:Ki("irabel"),zaya:Ki("zaya"),orryn:Ki("orryn")}).happy_cat=Ki("happy_cat"),Fi.wizard_cat=Ki("wizard_cat"),Fi),qi=((Ri={xion:{name:"Xion",description:"A force to be reckoned with that always does what he feels is right"},irabel:{name:"Irabel",description:"A wise woman whose knowledge of the dark arts is well-known across the lands"},zaya:{name:"Zaya",description:"The princess of Varrock, Zaya's impressive regality is only matched by her skill in combat"},orryn:{name:"Orryn",description:"A hardened warrior and veteran of the Second War"}}).happy_cat={name:"Happy Cat",description:"The embodiment of cuteness, Happy Cat's purr is said to shake mountains"},Ri.wizard_cat={name:"Wizard Cat",description:"A scientific experiment gone wrong. Wizard Cat was created with sugar, spice, everything nice, and a wizard hat"},Ri),$i={key:"greg",source:Vi("greg_spritesheet"),frameWidth:64,frameHeight:64,walkingAnimationMapping:0,scale:2},Ji={key:"grey-cat",source:Vi("grey_cat_spritesheet"),frameWidth:32,frameHeight:32,walkingAnimationMapping:0,scale:2},Qi={key:"white-cat",source:Vi("white_cat_spritesheet"),frameWidth:32,frameHeight:32,walkingAnimationMapping:0,scale:2},Zi={key:"skeleton-one",source:Vi("skeleton_one_spritesheet"),frameWidth:32,frameHeight:32,walkingAnimationMapping:0,scale:3},er={key:"skeleton-two",source:Vi("skeleton_two_spritesheet"),frameWidth:32,frameHeight:32,walkingAnimationMapping:0,scale:3},tr={key:"goblin",source:Vi("goblin_spritesheet"),frameWidth:32,frameHeight:32,walkingAnimationMapping:0,scale:3},nr={key:"soldier",source:Vi("soldier_spritesheet"),frameWidth:32,frameHeight:32,walkingAnimationMapping:0,scale:3},ir={key:"beetle",source:Vi("beetle_spritesheet"),frameWidth:32,frameHeight:32,walkingAnimationMapping:0,scale:3},rr={key:"acid-blob",source:Vi("acid_blob_spritesheet"),frameWidth:32,frameHeight:32,walkingAnimationMapping:0,scale:3},or={key:"slime",source:Vi("slime_spritesheet"),frameWidth:32,frameHeight:32,walkingAnimationMapping:0,scale:3},ar={key:"purple-portal",source:Vi("purple_portal_spritesheet"),frameWidth:64,frameHeight:64,walkingAnimationMapping:0,scale:3},sr={key:"fantasy-icons",source:Vi("fantasy_icons"),frameWidth:32,frameHeight:32,walkingAnimationMapping:0,scale:1},cr=function(e){return{key:Wi(e)+"-fire",source:Vi(Wi(e)+"_fire_spritesheet"),frameWidth:24,frameHeight:32,scale:3,color:e}},lr=[cr(Tn.BLUE),cr(Tn.GREEN),cr(Tn.PURPLE),cr(Tn.WHITE)],ur={key:"level-three-fire-column",source:Vi("level_three_fire_column_spritesheet"),frameWidth:45,frameHeight:90,scale:2,frameCount:14,frameRate:4},dr={key:"level-three-fire-explosion",source:Vi("level_three_fire_explosion_spritesheet"),frameWidth:32,frameHeight:32,scale:2,frameCount:4,frameRate:3},fr={key:"level-three-fire-barrier",source:Vi("orange_fire_spritesheet"),frameWidth:20,frameHeight:24,scale:3,frameCount:8,frameRate:4,offsetY:-20},hr=function(e,t){this.uiEmitter=e,this.characterSelector=t},pr=function(e){function t(){var t;return(t=e.call(this,"character-select")||this)._options=[],t._selectedIndex=null,t._characterSprite=null,t._characterTitleText=null,t._characterDescriptionText=null,t.create=function(e){var n=e.uiEmitter,i=e.characterSelector;t._characterSelector=i,t._uiEmitter=n,t._setHeaderContainer(),t._setAvatarContainers(),t._setButtons()},t._setHeaderContainer=function(){var e=t.cameras.main.width-30,n=t.add.text(e/2,37.5,"Choose your character",{fontFamily:"Monospace",fontSize:"45px"}).setOrigin(.5);t.add.container(15,15,n)},t._setAvatarContainers=function(){for(var e=t.cameras.main.width,n=Object.values(Yi),i=e/n.length*2,r=0,o=0;o<2;o++)for(var a=function(e){var a=r,s=n[a],c=i-30,l=t.add.graphics();l.lineStyle(2,1252712,1).strokeRect(0,0,c,75);var u=t.add.text(c/2,37.5,qi[s.infoKey].name,{fontFamily:"Monospace",fontSize:"15px"}).setOrigin(.5),d=t.add.container(e*i+15,105+90*o,[l,u]);t._options.push({definition:s,container:d,graphics:l}),u.setInteractive({useHandCursor:!0}).on("pointerdown",(function(){return t._handleOptionSelect(a,c,75)}),Object(Mi.a)(t)),r++},s=0;s<n.length/2;s++)a(s)},t._handleOptionSelect=function(e,n,i){null!==t._selectedIndex&&t._options[t._selectedIndex].graphics.lineStyle(2,1252712,1).strokeRect(0,0,n,i),t._options[e].graphics.lineStyle(2,15444482,1).strokeRect(0,0,n,i),t._selectedIndex=e,t._confirmButton.setVisible(!0),t._setCharacterTitle(),t._setCharacterSprite(),t._setCharacterDescription()},t._setButtons=function(){var e=t.cameras.main.height,n=t.cameras.main.width,i=t.add.text(e/2,0,"Random character",{fontFamily:"Monospace",fontSize:"15px"}).setInteractive({useHandCursor:!0}).setOrigin(.5).on("pointerdown",t._handleRandomClick,Object(Mi.a)(t));t._confirmButton=t.add.text(n/2,-45,"Select this character",{fontFamily:"Monospace",fontSize:"15px"}).setInteractive({useHandCursor:!0}).setOrigin(.5).on("pointerdown",t._handleConfirmClick,Object(Mi.a)(t)).setVisible(!1),t.add.container(15,e-30,[t._confirmButton,i])},t._setCharacterTitle=function(){if(null!==t._selectedIndex){var e=t.cameras.main.width,n=t._options[t._selectedIndex].definition.infoKey;t._characterTitleText&&t._characterTitleText.destroy(),t._characterTitleText=t.add.text(e/2,300,qi[n].name,{fontFamily:"Monospace",fontSize:"30px"}).setOrigin(.5)}},t._setCharacterDescription=function(){if(null!==t._selectedIndex){var e=t.cameras.main.width,n=t._options[t._selectedIndex].definition.infoKey;t._characterDescriptionText&&t._characterDescriptionText.destroy(),t._characterDescriptionText=t.add.text(e/2,345,qi[n].description,{fontFamily:"Monospace",fontSize:"15px",wordWrap:{width:e-30},align:"center"}).setOrigin(.5)}},t._setCharacterSprite=function(){if(null!==t._selectedIndex){var e=t.cameras.main.width,n=t._options[t._selectedIndex].definition.key;t._characterSprite&&t._characterSprite.destroy(),t._characterSprite=t.add.sprite(e/2,465,n,1).setScale(3).setDisplaySize(150,150).setOrigin(.5)}},t._handleConfirmClick=function(){null!==t._selectedIndex&&t._makeCharacterSelection(t._options[t._selectedIndex].definition)},t._handleRandomClick=function(){t._makeCharacterSelection()},t._makeCharacterSelection=function(e){t._characterSelector.setPlayerDefinition(e),t.scene.start("level-one",new hr(t._uiEmitter,t._characterSelector))},t}return Object(Li.a)(t,e),t}(Phaser.Scene),yr=n("Jupt"),mr=function(e){function t(){var t;return(t=e.call(this,"credits")||this)._showScrollingText=!1,t._scrollingPaused=!1,t.create=function(){t._setScrollingTextContainer(),t._setIntroText(),t._setLinks(),t.time.delayedCall(5e3,t._startTextScroll,[],Object(Mi.a)(t))},t.update=function(){t._showScrollingText&&t._moveScrollingText()},t._setScrollingTextContainer=function(){var e=t._getScreenDimension(),n=t._createCreditsText();t._scrollingTextContainer=t.add.container(e,3*e,n).setVisible(!1)},t._setIntroText=function(){var e=t._getScreenDimension();t._introText=t.add.text(e,e,yr.c,{fontFamily:"Monospace",fontSize:"45px",wordWrap:{width:e-50},align:"center"}).setOrigin(.5)},t._setLinks=function(){t.add.text(15,15,"Restart game",{fontFamily:"Monospace",fontSize:"15px"}).setInteractive({useHandCursor:!0}).on("pointerdown",(function(){return t._handleRestartGameClick()})),t.add.text(15,45,"Go home",{fontFamily:"Monospace",fontSize:"15px"}).setInteractive({useHandCursor:!0}).on("pointerdown",(function(){return t._handleGoHomeClick()})),t.add.text(15,75,"Go to credits page",{fontFamily:"Monospace",fontSize:"15px"}).setInteractive({useHandCursor:!0}).on("pointerdown",(function(){return t._handleGoToCreditsClick()}))},t._startTextScroll=function(){t._introText.destroy(),t._scrollingTextContainer.setVisible(!0),t._showScrollingText=!0},t._moveScrollingText=function(){t._scrollingPaused||t._scrollingTextContainer.setY(t._scrollingTextContainer.y-.75)},t._handleCreditsHover=function(e){t._scrollingPaused=e},t._handleRestartGameClick=function(){window&&window.location.reload()},t._handleGoHomeClick=function(){window&&(window.location.href=window.location.origin)},t._handleGoToCreditsClick=function(){window&&(window.location.href=window.location.origin+"/gameCredits")},t._createCreditsText=function(){var e="Guides\n\n\n";return e+=t._getGuideCredits(),e+="\n\n\nAssets\n\n\n",e+=t._getAssetCredits(),t.add.text(0,0,e,{fontSize:"15px",fontFamily:"Monospace",align:"center"}).setOrigin(.5).setInteractive().on("pointerover",(function(){return t._handleCreditsHover(!0)})).on("pointerout",(function(){return t._handleCreditsHover(!1)}))},t._getGuideCredits=function(){return yr.b.map((function(e){return e.name})).join("\n\n")},t._getAssetCredits=function(){return yr.a.map((function(e){return e.name})).join("\n\n")},t._getScreenDimension=function(){return t.cameras.main.width/2},t}return Object(Li.a)(t,e),t}(Phaser.Scene),vr=function(e){var t=e.sys.game.config.width;return"number"==typeof t?t:parseInt(t)},gr=function(e){var t=e.sys.game.config.height;return"number"==typeof t?t:parseInt(t)},br=function(e,t,n){if(e===t&&e%n==0)return e;var i;for(i=Math.max(e,t)===e?t:e;i%n!=0;)i--;return i},_r=function(e){function t(t,n){var i;return(i=e.call(this,t,n,"dialog")||this).config={borderThickness:3,borderColor:9924360,borderAlpha:1,windowAlpha:.9,windowColor:330283,windowHeight:150,padding:32,depth:50,closeBtnColor:"#976f08",closeBtnFontSize:24,fontSize:20,speed:5},i.eventCounter=0,i.visible=!1,i.scaledTextSize=i.config.fontSize,i.init=function(e){e||(e={}),i.setOptions(e)._createWindow().updateDimensions()},i.setOptions=function(e){return Object.keys(i.config).forEach((function(t){var n;i.config[t]=null!==(n=(null!=e?e:{})[t])&&void 0!==n?n:i.config[t]})),Object(Mi.a)(i)},i.toggleWindow=function(e,t){void 0===e&&(e=!i.visible),i.visible=e,i.text&&i.text.setVisible(i.visible),i.graphics&&i.graphics.setVisible(i.visible),i.closeBtn&&(i.closeBtn.visible=i.visible),e||void 0===i._onClose||(i._onClose(),i._onClose=void 0),e&&t&&(i._onClose=t)},i.setText=function(e,t){void 0===t&&(t=!0),i.eventCounter=0,i.dialog=e.split(""),i.timedEvent&&i.timedEvent.remove();var n,r=t?"":e;(i._setText(r),t)&&(i.timedEvent=i.scene.time.addEvent({delay:150-30*(null!==(n=i.config.speed)&&void 0!==n?n:1),callback:i._animateText,callbackScope:Object(Mi.a)(i),loop:!0}));return Object(Mi.a)(i)},i.updateDimensions=function(e){var t,n=e?e.width:i._getGameWidth();t=n<=400?.6:n<=600?.8:1,i.scaledTextSize=i.config.fontSize*t},i._getGameWidth=function(){return vr(i.scene)},i._getGameHeight=function(){return gr(i.scene)},i._calculateWindowDimensions=function(e,t){return{x:i.config.padding,y:t-i.config.windowHeight-i.config.padding,rectWidth:e-2*i.config.padding,rectHeight:i.config.windowHeight}},i._createInnerWindow=function(e,t,n,r){return i.graphics.fillStyle(i.config.windowColor,i.config.windowAlpha).fillRect(e+1,t+1,n-1,r-1),Object(Mi.a)(i)},i._createOuterWindow=function(e,t,n,r){return i.graphics.lineStyle(i.config.borderThickness,i.config.borderColor,i.config.borderAlpha).strokeRect(e,t,n,r),Object(Mi.a)(i)},i._createCloseModalButton=function(){var e=i.scene.make.text({x:i._getGameWidth()-i.config.padding-i.config.closeBtnFontSize,y:i._getGameHeight()-i.config.windowHeight-i.config.padding+3,text:"X",style:{font:"bold "+i.config.closeBtnFontSize+"px Monospace",color:i.config.closeBtnColor},depth:i.config.depth+1,scrollFactor:0});return e.setInteractive(),e.on("pointerover",(function(){return e.setColor("#fff")})),e.on("pointerout",(function(){return e.setColor(i.config.closeBtnColor)})),e.on("pointerdown",(function(){i.toggleWindow(),i.timedEvent&&i.timedEvent.remove(),i.text&&i.text.destroy()})),i.closeBtn=e,Object(Mi.a)(i)},i._createCloseModalButtonBorder=function(){var e=i.config.closeBtnFontSize+8,t=i._getGameWidth()-i.config.padding-e,n=i._getGameHeight()-i.config.windowHeight-i.config.padding;i.graphics.strokeRect(t,n,e,e)},i._setText=function(e){i.text&&i.text.destroy();var t=i.config.padding+10,n=i._getGameHeight()-i.config.windowHeight-i.config.padding+10;i.text=i.scene.make.text({x:t,y:n,text:e,style:{wordWrap:{width:i._getGameWidth()-2*i.config.padding-50,useAdvancedWrap:!0},color:"#fff",fontSize:i.scaledTextSize+"px",fontFamily:"Monospace"},depth:i.config.depth,scrollFactor:0})},i._animateText=function(){i.eventCounter++,i.text.setText(i.text.text+i.dialog[i.eventCounter-1]),i.eventCounter===i.dialog.length&&i.timedEvent.remove()},i._createWindow=function(){var e=i._getGameWidth(),t=i._getGameHeight(),n=i._calculateWindowDimensions(e,t),r=n.x,o=n.y,a=n.rectWidth,s=n.rectHeight;return i.graphics=i.scene.add.graphics().setDepth(i.config.depth).setScrollFactor(0),i._createOuterWindow(r,o,a,s)._createInnerWindow(r,o,a,s)._createCloseModalButton()._createCloseModalButtonBorder(),i.graphics&&i.graphics.setVisible(i.visible),i.text&&i.text.setVisible(i.visible),i.closeBtn&&i.closeBtn.setVisible(i.visible),Object(Mi.a)(i)},i.scene=t,i}Object(Li.a)(t,e);var n=t.prototype;return n.boot=function(){var e=this.systems.events;e.on("shutdown",this.shutdown,this),e.on("destroy",this.destroy,this)},n.shutdown=function(){this.timedEvent&&this.timedEvent.remove(),this.text&&this.text.destroy()},n.destroy=function(){this.shutdown()},t}(Di.a.Plugins.ScenePlugin),wr=n("0Hit"),xr=new Uint8Array(16);function Or(){if(!Bi&&!(Bi="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Bi(xr)}var kr=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Er=function(e){return"string"==typeof e&&kr.test(e)},Sr=[],Cr=0;Cr<256;++Cr)Sr.push((Cr+256).toString(16).substr(1));var Tr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Sr[e[t+0]]+Sr[e[t+1]]+Sr[e[t+2]]+Sr[e[t+3]]+"-"+Sr[e[t+4]]+Sr[e[t+5]]+"-"+Sr[e[t+6]]+Sr[e[t+7]]+"-"+Sr[e[t+8]]+Sr[e[t+9]]+"-"+Sr[e[t+10]]+Sr[e[t+11]]+Sr[e[t+12]]+Sr[e[t+13]]+Sr[e[t+14]]+Sr[e[t+15]]).toLowerCase();if(!Er(n))throw TypeError("Stringified UUID is invalid");return n};var Pr,jr,Dr,Ar,Ir,Mr=function(e,t,n){var i=(e=e||{}).random||(e.rng||Or)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(var r=0;r<16;++r)t[n+r]=i[r];return t}return Tr(i)},Lr=((Pr={}).ground={configure:function(e,t){var n;e.setCollisionByExclusion([-1]),t.physics.world.bounds.width=e.width,t.physics.world.bounds.height=e.height,t.physics.add.collider(e,t.player),Object.keys(t.enemies).forEach((function(n){t.enemies[n]&&t.enemies[n].container&&t.physics.add.collider(e,t.enemies[n].container)})),Object.keys(t.food).forEach((function(n){t.food[n]&&t.food[n].container&&t.physics.add.collider(e,t.food[n].container)})),Object.keys(t.objectives).forEach((function(n){t.objectives[n]&&t.objectives[n].container&&t.physics.add.collider(e,t.objectives[n].container)})),(null!==(n=t.invisibleInteractions)&&void 0!==n?n:[]).forEach((function(n){n.rectangle&&t.physics.add.collider(e,n.rectangle)})),t.exitPortal&&t.physics.add.collider(e,t.exitPortal)}},Pr.lava={configure:function(e,t){e.setCollisionByExclusion([-1]),t.physics.add.collider(e,t.player,t.handleLavaCollision,void 0,void 0)}},Pr.bg_parallax_upper={depth:5},Pr.bg_parallax_lower={depth:5},Pr.bg_static={depth:5},Pr.water={depth:16},Pr),Nr={name:"feature creep",textureKey:"slime",damage:15},Fr={name:"bug",textureKey:"beetle",damage:20},Rr={name:"code smell",textureKey:"acid-blob",damage:10},Br=function(e){var t;return(t={})[e]={walk:{key:"player-walk",frames:[6,7,8],frameRate:6,repeat:-1},idle:{key:"player-idle",frames:[7]}},t[Fr.textureKey]={walk:{key:"beetle-walk",frames:[4,5,6,7],frameRate:6,repeat:-1},idle:{key:"beetle-idle",frames:[1]}},t[Rr.textureKey]={walk:{key:"acid-blob-walk",frames:[0,1,2,3,4,5,6],frameRate:6,repeat:-1},idle:{key:"acid-blob-idle",frames:[1]}},t[Nr.textureKey]={walk:{key:"slime-walk",frames:[0,1,2,3],frameRate:6,repeat:-1},idle:{key:"slime-idle",frames:[1]}},t},Hr=function(){return"enemy-"+Mr()},Wr=[Object.assign({id:Hr(),startPos:{x:15,y:52},bounds:{left:15,right:20}},Nr),Object.assign({id:Hr(),startPos:{x:14,y:22},bounds:{left:14,right:28}},Fr),Object.assign({id:Hr(),startPos:{x:33,y:22},bounds:{left:33,right:49}},Rr),Object.assign({id:Hr(),startPos:{x:52,y:36},bounds:{left:52,right:65}},Nr),Object.assign({id:Hr(),startPos:{x:59,y:22},bounds:{left:59,right:70}},Rr),Object.assign({id:Hr(),startPos:{x:82,y:16},bounds:{left:82,right:94}},Fr),Object.assign({id:Hr(),startPos:{x:85,y:52},bounds:{left:85,right:96}},Fr),Object.assign({id:Hr(),startPos:{x:122,y:49},bounds:{left:122,right:132}},Nr)],zr=[{id:Mr(),position:{x:12,y:34},textureKey:"coffee-cup-image",name:"coffee",value:10},{id:Mr(),position:{x:13,y:40},textureKey:"tuna-roll-image",name:"sushi",value:20},{id:Mr(),position:{x:10,y:8},textureKey:"pizza-party-image",name:"pizza party (invulnerability)",value:0},{id:Mr(),position:{x:64,y:36},textureKey:"tuna-roll-image",name:"sushi",value:20},{id:Mr(),position:{x:71,y:49},textureKey:"coffee-cup-image",name:"coffee",value:10},{id:Mr(),position:{x:122,y:49},textureKey:"coffee-cup-image",name:"coffee",value:10}],Gr=[{id:Mr(),position:{x:2,y:51},name:"",textureKey:"javascript-pixel-image"},{id:Mr(),position:{x:2,y:25},name:"",textureKey:"javascript-pixel-image"},{id:Mr(),position:{x:64,y:29},name:"",textureKey:"javascript-pixel-image"},{id:Mr(),position:{x:86,y:40},name:"",textureKey:"javascript-pixel-image"},{id:Mr(),position:{x:133,y:51},name:"",textureKey:"javascript-pixel-image"},{id:Mr(),position:{x:126,y:40},name:"",textureKey:"javascript-pixel-image"}],Ur=[{position:{x:109,y:35},width:16,height:16,handlerKey:"ladder",payload:{position:{x:108,y:8}}}],Vr={x:149,y:38},Xr={key:"purple-portal-animation",frames:[0,1,2,3,4,5,6,7],frameRate:6,repeat:-1};!function(e){e[e.MINI_HEALTH=0]="MINI_HEALTH",e[e.HEALTH=1]="HEALTH",e[e.SPEED=2]="SPEED"}(jr||(jr={})),function(e){e[e.EASY=0]="EASY",e[e.NORMAL=1]="NORMAL",e[e.HEROIC=2]="HEROIC",e[e.LEGENDARY=3]="LEGENDARY",e[e.NIGHTMARE=4]="NIGHTMARE"}(Dr||(Dr={})),function(e){e[e.COLUMN=0]="COLUMN",e[e.EXPLOSION=1]="EXPLOSION"}(Ar||(Ar={}));var Kr={orbs:{1:!1,2:!1,3:!1},health:100,difficulty:Dr.EASY,activeFires:(Ir={},Ir[Ar.COLUMN]=!1,Ir[Ar.EXPLOSION]=!1,Ir),standingInFire:void 0,playerIsDead:!1,lastDamageTimestamp:void 0,enemies:[]},Yr=Ge({name:"levelThree",initialState:Kr,reducers:{healthChanged:function(e,t){return Object.assign({},e,{health:so(e.health,t.payload),lastDamageTimestamp:t.payload<0?(new Date).toString():e.lastDamageTimestamp})},orbCollected:function(e,t){var n;return Object.assign({},e,{orbs:Object.assign({},e.orbs,(n={},n[t.payload]=!0,n))})},activeFiresChanged:function(e,t){var n;return Object.assign({},e,{activeFires:Object.assign({},e.activeFires,(n={},n[t.payload.type]=t.payload.active,n))})},standingInFireChanged:function(e,t){return Object.assign({},e,{standingInFire:t.payload?Object.assign({},e.standingInFire,t.payload):void 0})},levelRestarted:function(e){return Object.assign({},Kr,{difficulty:e.difficulty})},enemiesChanged:function(e,t){return Object.assign({},e,{enemies:t.payload})},difficultyChanged:function(e,t){return Object.assign({},Kr,{difficulty:t.payload})}}}),qr=Yr.actions,$r=Yr.reducer,Jr=function(e){return e.levelThree},Qr=qr,Zr=function(e){return Jr(e).health},eo=function(e){return Jr(e).difficulty},to=function(e){return Jr(e).orbs},no=function(e){return Jr(e).standingInFire},io=function(e){return Jr(e).activeFires},ro=function(e){return Jr(e).playerIsDead},oo=function(e){return Jr(e).lastDamageTimestamp},ao=function(e){return Jr(e).enemies},so=function(e,t){var n=e+t;return n>=100?100:n<=0?0:n},co=function(e){var t,n=He(),i=e||{},r=i.reducer,o=void 0===r?void 0:r,a=i.middleware,s=void 0===a?n():a,c=i.devTools,l=void 0===c||c,u=i.preloadedState,d=void 0===u?void 0:u,f=i.enhancers,h=void 0===f?void 0:f;if("function"==typeof o)t=o;else{if(!Re(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=xe(o)}var p=s;"function"==typeof p&&(p=p(n));var y=ke.apply(void 0,p),m=Oe;l&&(m=Fe(Ne({trace:!1},"object"==typeof l&&l)));var v=[y];return Array.isArray(h)?v=je([y],h):"function"==typeof h&&(v=h(v)),we(t,d,m.apply(void 0,v))}({reducer:{overlay:$e,gameCms:Nt,levelThree:$r}}),lo=co.dispatch,uo=function(e,t,n){if(e){var i=t.key,r=t.frames,o=t.frameRate,a=t.repeat;e.anims.create({key:i,frames:e.anims.generateFrameNumbers(n,{frames:r}),frameRate:o,repeat:a})}},fo=["Ego","Jagged","Work","Elegance","Enthuse","Wit","Imagine","Ability","Omen","Reason","Move","Wish"],ho=function(){var e=[];return function t(){if(6!==e.length){var n=fo[Math.floor(Math.random()*fo.length)]+"JS";e.includes(n)||e.push(n),t()}}(),e},po={key:"level-one-map",source:Gi("level_one"),animatedLayer:["animated"],tilesets:[{name:"nature tileset",key:"nature-tiles",source:Ui("nature_tileset")},{name:"serene_village_tileset",key:"serene-village-tiles",source:Ui("serene_village_tileset")},{name:"portal_tileset",key:"portal-tiles",source:Ui("portal_spritesheet")},{name:"interiors_tileset",key:"interiors-tiles",source:Ui("interiors_tileset")},{name:"rooms_tileset",key:"room-builder-tiles",source:Ui("room_builder_tileset")},{name:"coffee_tileset",key:"coffee-tiles",source:Ui("coffee_spritesheet")},{name:"fishtank_spritesheet",key:"fishtank-tiles",source:Ui("fishtank_spritesheet")}]},yo={key:"level-two-map",source:Gi("level_two"),animatedLayer:["animated","active-portal","treasure2"],tilesets:[{name:"simple_pixel_grass_tileset",key:"simple-pixel-grass-tiles",source:Ui("simple_pixel_grass_tileset")},{name:"simple_pixel_plants_tileset",key:"simple-pixel-plants-tiles",source:Ui("simple_pixel_plants_tileset")},{name:"simple_pixel_props_tileset",key:"simple-pixel-props-tiles",source:Ui("simple_pixel_props_tileset")},{name:"simple_pixel_stone_tileset",key:"simple-pixel-stone-tiles",source:Ui("simple_pixel_stone_tileset")},{name:"simple_pixel_structures_tileset",key:"simple-pixel-structures-tiles",source:Ui("simple_pixel_structures_tileset")},{name:"simple_pixel_wall_tileset",key:"simple-pixel-wall-tiles",source:Ui("simple_pixel_wall_tileset")},{name:"interiors_tileset",key:"interiors-tiles",source:Ui("interiors_tileset")},{name:"portal_tileset",key:"portal-tiles",source:Ui("portal_spritesheet")},{name:"treasure_spritesheet",key:"treasure-tiles",source:Ui("treasure_spritesheet")},{name:"treasure_shine_tileset",key:"treasure-shine-tiles",source:Ui("treasure_shine_tileset")}],characterLayer:{lower:"ground",upper:"platform",transitions:[{x:33,y:42,toUpper:!0},{x:34,y:42,toUpper:!0},{x:33,y:43,toUpper:!1},{x:34,y:43,toUpper:!1},{x:9,y:15,toUpper:!0},{x:10,y:15,toUpper:!0},{x:9,y:16,toUpper:!1},{x:10,y:16,toUpper:!1}]}},mo={key:"level-three-map",source:Gi("level_three"),animatedLayer:["orbs","animated","potions"],tilesets:[{name:"catacomb_base_tileset",key:"catacomb-base-tiles",source:Ui("catacomb_base_tileset")},{name:"catacomb_decorations_tileset",key:"catacomb-decorations-tiles",source:Ui("catacomb_decorations_tileset")},{name:"torch_tileset",key:"torch-tileset",source:Ui("torch_tileset")},{name:"green_orb_tileset",key:"green-orb-tileset",source:Ui("green_orb_tileset")},{name:"orange_orb_tileset",key:"orange-orb-tileset",source:Ui("orange_orb_tileset")},{name:"magical_items_tileset",key:"magical-items-tileset",source:Ui("magical_items_tileset")},{name:"portal_tileset",key:"portal-tiles",source:Ui("portal_spritesheet")},{name:"treasure_spritesheet",key:"treasure-tiles",source:Ui("treasure_spritesheet")},{name:"treasure_shine_tileset",key:"treasure-shine-tiles",source:Ui("treasure_shine_tileset")},{name:"half_potion_tileset",key:"half-potion-tiles",source:Ui("half_potion_tileset")},{name:"full_potion_tileset",key:"full-potion-tiles",source:Ui("full_potion_tileset")},{name:"speed_potion_tileset",key:"speed-potion-tiles",source:Ui("speed_potion_tileset")}],characterLayer:{lower:"ground",upper:"overhead",transitions:[]}},vo={key:"level-four-map",source:Gi("level_four"),animatedLayer:["lava"],tilesets:[{name:"simple_tileset",key:"simple-tiles",source:Ui("simple_tileset")},{name:"lava_tileset",key:"lava-tiles",source:Ui("lava_tileset")},{name:"brick_bg_tileset",key:"brick-bg-tiles",source:Ui("brick_bg_tileset")},{name:"hill_one_bg_tileset",key:"hill-one-bg-tiles",source:Ui("hill_one_bg_tileset")},{name:"hill_two_bg_tileset",key:"hill-two-bg-tiles",source:Ui("hill_two_bg_tileset")},{name:"sky_bg_tileset",key:"sky-bg-tiles",source:Ui("sky_bg_tileset")},{name:"space_bg_tileset",key:"space-bg-tiles",source:Ui("space_bg_tileset")},{name:"cloud_bg_tileset",key:"cloud-bg-tiles",source:Ui("cloud_bg_tileset")},{name:"trees_tileset",key:"trees-tiles",source:Ui("trees_tileset")},{name:"water_tileset",key:"water-tiles",source:Ui("water_tileset")},{name:"ladder_tileset",key:"ladder-tiles",source:Ui("ladder_tileset")}]},go=function(){var e=localStorage.getItem("gmurray-game");return e?JSON.parse(e):null};var bo=function(e){var t,n=null!==(t=go())&&void 0!==t?t:{},i=Object.assign({},n,{unlockedFeatures:Object.assign({},n.unlockedFeatures,e)});localStorage.setItem("gmurray-game",JSON.stringify(i))},_o=function(){var e;return(null!==(e=go())&&void 0!==e?e:{}).unlockedFeatures},wo=(n("p532"),n("1OyB")),xo=n("vuIU"),Oo=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},ko=function(e){return Array.prototype.slice.call(e)},Eo=function(e){console.warn("".concat("SweetAlert2:"," ").concat("object"==typeof e?e.join(" "):e))},So=function(e){console.error("".concat("SweetAlert2:"," ").concat(e))},Co=[],To=function(e,t){var n;n='"'.concat(e,'" is deprecated and will be removed in the next major release. Please use "').concat(t,'" instead.'),Co.includes(n)||(Co.push(n),Eo(n))},Po=function(e){return"function"==typeof e?e():e},jo=function(e){return e&&"function"==typeof e.toPromise},Do=function(e){return jo(e)?e.toPromise():Promise.resolve(e)},Ao=function(e){return e&&Promise.resolve(e)===e},Io={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Mo=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Lo={},No=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Fo=function(e){return Object.prototype.hasOwnProperty.call(Io,e)},Ro=function(e){return-1!==Mo.indexOf(e)},Bo=function(e){return Lo[e]},Ho=function(e){Fo(e)||Eo('Unknown parameter "'.concat(e,'"'))},Wo=function(e){No.includes(e)&&Eo('The parameter "'.concat(e,'" is incompatible with toasts'))},zo=function(e){Bo(e)&&To(e,Bo(e))},Go=function(e){for(var t in!e.backdrop&&e.allowOutsideClick&&Eo('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),e)Ho(t),e.toast&&Wo(t),zo(t)},Uo=Io,Vo=function(e){var t={};for(var n in e)t[e[n]]="swal2-"+e[n];return t},Xo=Vo(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","no-war"]),Ko=Vo(["success","warning","info","question","error"]),Yo=function(){return document.body.querySelector(".".concat(Xo.container))},qo=function(e){var t=Yo();return t?t.querySelector(e):null},$o=function(e){return qo(".".concat(e))},Jo=function(){return $o(Xo.popup)},Qo=function(){return $o(Xo.icon)},Zo=function(){return $o(Xo.title)},ea=function(){return $o(Xo["html-container"])},ta=function(){return $o(Xo.image)},na=function(){return $o(Xo["progress-steps"])},ia=function(){return $o(Xo["validation-message"])},ra=function(){return qo(".".concat(Xo.actions," .").concat(Xo.confirm))},oa=function(){return qo(".".concat(Xo.actions," .").concat(Xo.deny))},aa=function(){return $o(Xo["input-label"])},sa=function(){return qo(".".concat(Xo.loader))},ca=function(){return qo(".".concat(Xo.actions," .").concat(Xo.cancel))},la=function(){return $o(Xo.actions)},ua=function(){return $o(Xo.footer)},da=function(){return $o(Xo["timer-progress-bar"])},fa=function(){return $o(Xo.close)},ha=function(){var e=ko(Jo().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((function(e,t){var n=parseInt(e.getAttribute("tabindex")),i=parseInt(t.getAttribute("tabindex"));return n>i?1:n<i?-1:0})),t=ko(Jo().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter((function(e){return"-1"!==e.getAttribute("tabindex")}));return function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(e.concat(t)).filter((function(e){return Aa(e)}))},pa=function(){return ba(document.body,Xo.shown)&&!ba(document.body,Xo["toast-shown"])&&!ba(document.body,Xo["no-backdrop"])},ya=function(){return Jo()&&ba(Jo(),Xo.toast)},ma=function(){return Jo().hasAttribute("data-loading")},va={previousBodyPadding:null},ga=function(e,t){if(e.textContent="",t){var n=(new DOMParser).parseFromString(t,"text/html");ko(n.querySelector("head").childNodes).forEach((function(t){e.appendChild(t)})),ko(n.querySelector("body").childNodes).forEach((function(t){e.appendChild(t)}))}},ba=function(e,t){if(!t)return!1;for(var n=t.split(/\s+/),i=0;i<n.length;i++)if(!e.classList.contains(n[i]))return!1;return!0},_a=function(e,t,n){if(function(e,t){ko(e.classList).forEach((function(n){Object.values(Xo).includes(n)||Object.values(Ko).includes(n)||Object.values(t.showClass).includes(n)||e.classList.remove(n)}))}(e,t),t.customClass&&t.customClass[n]){if("string"!=typeof t.customClass[n]&&!t.customClass[n].forEach)return Eo("Invalid type of customClass.".concat(n,'! Expected string or iterable object, got "').concat(typeof t.customClass[n],'"'));ka(e,t.customClass[n])}},wa=function(e,t){if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(".".concat(Xo.popup," > .").concat(Xo[t]));case"checkbox":return e.querySelector(".".concat(Xo.popup," > .").concat(Xo.checkbox," input"));case"radio":return e.querySelector(".".concat(Xo.popup," > .").concat(Xo.radio," input:checked"))||e.querySelector(".".concat(Xo.popup," > .").concat(Xo.radio," input:first-child"));case"range":return e.querySelector(".".concat(Xo.popup," > .").concat(Xo.range," input"));default:return e.querySelector(".".concat(Xo.popup," > .").concat(Xo.input))}},xa=function(e){if(e.focus(),"file"!==e.type){var t=e.value;e.value="",e.value=t}},Oa=function(e,t,n){e&&t&&("string"==typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach((function(t){Array.isArray(e)?e.forEach((function(e){n?e.classList.add(t):e.classList.remove(t)})):n?e.classList.add(t):e.classList.remove(t)})))},ka=function(e,t){Oa(e,t,!0)},Ea=function(e,t){Oa(e,t,!1)},Sa=function(e,t){for(var n=ko(e.childNodes),i=0;i<n.length;i++)if(ba(n[i],t))return n[i]},Ca=function(e,t,n){n==="".concat(parseInt(n))&&(n=parseInt(n)),n||0===parseInt(n)?e.style[t]="number"==typeof n?"".concat(n,"px"):n:e.style.removeProperty(t)},Ta=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";e.style.display=t},Pa=function(e){e.style.display="none"},ja=function(e,t,n,i){var r=e.querySelector(t);r&&(r.style[n]=i)},Da=function(e,t,n){t?Ta(e,n):Pa(e)},Aa=function(e){return!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length))},Ia=function(e){return!!(e.scrollHeight>e.clientHeight)},Ma=function(e){var t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),i=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||i>0},La=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=da();Aa(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout((function(){n.style.transition="width ".concat(e/1e3,"s linear"),n.style.width="0%"}),10))},Na=function(){return"undefined"==typeof window||"undefined"==typeof document},Fa={},Ra=Fa,Ba=function(e){return new Promise((function(t){if(!e)return t();var n=window.scrollX,i=window.scrollY;Fa.restoreFocusTimeout=setTimeout((function(){Fa.previousActiveElement&&Fa.previousActiveElement.focus?(Fa.previousActiveElement.focus(),Fa.previousActiveElement=null):document.body&&document.body.focus(),t()}),100),window.scrollTo(n,i)}))},Ha='\n <div aria-labelledby="'.concat(Xo.title,'" aria-describedby="').concat(Xo["html-container"],'" class="').concat(Xo.popup,'" tabindex="-1">\n   <button type="button" class="').concat(Xo.close,'"></button>\n   <ul class="').concat(Xo["progress-steps"],'"></ul>\n   <div class="').concat(Xo.icon,'"></div>\n   <img class="').concat(Xo.image,'" />\n   <h2 class="').concat(Xo.title,'" id="').concat(Xo.title,'"></h2>\n   <div class="').concat(Xo["html-container"],'" id="').concat(Xo["html-container"],'"></div>\n   <input class="').concat(Xo.input,'" />\n   <input type="file" class="').concat(Xo.file,'" />\n   <div class="').concat(Xo.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(Xo.select,'"></select>\n   <div class="').concat(Xo.radio,'"></div>\n   <label for="').concat(Xo.checkbox,'" class="').concat(Xo.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(Xo.label,'"></span>\n   </label>\n   <textarea class="').concat(Xo.textarea,'"></textarea>\n   <div class="').concat(Xo["validation-message"],'" id="').concat(Xo["validation-message"],'"></div>\n   <div class="').concat(Xo.actions,'">\n     <div class="').concat(Xo.loader,'"></div>\n     <button type="button" class="').concat(Xo.confirm,'"></button>\n     <button type="button" class="').concat(Xo.deny,'"></button>\n     <button type="button" class="').concat(Xo.cancel,'"></button>\n   </div>\n   <div class="').concat(Xo.footer,'"></div>\n   <div class="').concat(Xo["timer-progress-bar-container"],'">\n     <div class="').concat(Xo["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),Wa=function(){Ra.currentInstance.resetValidationMessage()},za=function(e){var t,n=!!(t=Yo())&&(t.remove(),Ea([document.documentElement,document.body],[Xo["no-backdrop"],Xo["toast-shown"],Xo["has-column"]]),!0);if(Na())So("SweetAlert2 requires document to initialize");else{var i=document.createElement("div");i.className=Xo.container,n&&ka(i,Xo["no-transition"]),ga(i,Ha);var r,o,a,s,c,l,u,d,f,h="string"==typeof(r=e.target)?document.querySelector(r):r;h.appendChild(i),function(e){var t=Jo();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")}(e),function(e){"rtl"===window.getComputedStyle(e).direction&&ka(Yo(),Xo.rtl)}(h),o=Jo(),a=Sa(o,Xo.input),s=Sa(o,Xo.file),c=o.querySelector(".".concat(Xo.range," input")),l=o.querySelector(".".concat(Xo.range," output")),u=Sa(o,Xo.select),d=o.querySelector(".".concat(Xo.checkbox," input")),f=Sa(o,Xo.textarea),a.oninput=Wa,s.onchange=Wa,u.onchange=Wa,d.onchange=Wa,f.oninput=Wa,c.oninput=function(){Wa(),l.value=c.value},c.onchange=function(){Wa(),c.nextSibling.value=c.value},Ga(i,e)}},Ga=function(e,t){if(!t.toast){var n,i=(n=[{text:"  <br>     ",youtubeId:"fWClXZd9c78"},{text:"  <br>    ",youtubeId:"_RjBNkn88yA"},{text:"   <br>    ",youtubeId:"yUmzQT4C8JY"},{text:"   <br>  -  ",youtubeId:"hkCYb6edUrQ"}])[Math.floor(Math.random()*n.length)];if("ru"===navigator.language&&location.host.match(/\.(ru|su|xn--p1ai)$/)){var r=document.createElement("div");r.className=Xo["no-war"],ga(r,'<a href="https://www.youtube.com/watch?v='.concat(i.youtubeId,'" target="_blank">').concat(i.text,"</a>")),e.appendChild(r),e.style.paddingTop="4em"}}},Ua=function(e,t){e instanceof HTMLElement?t.appendChild(e):"object"==typeof e?Va(e,t):e&&ga(t,e)},Va=function(e,t){e.jquery?Xa(t,e):ga(t,e.toString())},Xa=function(e,t){if(e.textContent="",0 in t)for(var n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},Ka=function(){if(Na())return!1;var e=document.createElement("div"),t={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&void 0!==e.style[n])return t[n];return!1}(),Ya=function(e,t){var n=la(),i=sa();t.showConfirmButton||t.showDenyButton||t.showCancelButton?Ta(n):Pa(n),_a(n,t,"actions"),function(e,t,n){var i=ra(),r=oa(),o=ca();qa(i,"confirm",n),qa(r,"deny",n),qa(o,"cancel",n),function(e,t,n,i){if(!i.buttonsStyling)return Ea([e,t,n],Xo.styled);ka([e,t,n],Xo.styled),i.confirmButtonColor&&(e.style.backgroundColor=i.confirmButtonColor,ka(e,Xo["default-outline"]));i.denyButtonColor&&(t.style.backgroundColor=i.denyButtonColor,ka(t,Xo["default-outline"]));i.cancelButtonColor&&(n.style.backgroundColor=i.cancelButtonColor,ka(n,Xo["default-outline"]))}(i,r,o,n),n.reverseButtons&&(n.toast?(e.insertBefore(o,i),e.insertBefore(r,i)):(e.insertBefore(o,t),e.insertBefore(r,t),e.insertBefore(i,t)))}(n,i,t),ga(i,t.loaderHtml),_a(i,t,"loader")};function qa(e,t,n){Da(e,n["show".concat(Oo(t),"Button")],"inline-block"),ga(e,n["".concat(t,"ButtonText")]),e.setAttribute("aria-label",n["".concat(t,"ButtonAriaLabel")]),e.className=Xo[t],_a(e,n,"".concat(t,"Button")),ka(e,n["".concat(t,"ButtonClass")])}var $a=function(e,t){var n=Yo();n&&(!function(e,t){"string"==typeof t?e.style.background=t:t||ka([document.documentElement,document.body],Xo["no-backdrop"])}(n,t.backdrop),function(e,t){t in Xo?ka(e,Xo[t]):(Eo('The "position" parameter is not valid, defaulting to "center"'),ka(e,Xo.center))}(n,t.position),function(e,t){if(t&&"string"==typeof t){var n="grow-".concat(t);n in Xo&&ka(e,Xo[n])}}(n,t.grow),_a(n,t,"container"))},Ja={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap},Qa=["input","file","range","select","radio","checkbox","textarea"],Za=function(e){if(!os[e.input])return So('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(e.input,'"'));var t=rs(e.input),n=os[e.input](t,e);Ta(n),setTimeout((function(){xa(n)}))},es=function(e,t){var n=wa(Jo(),e);if(n)for(var i in function(e){for(var t=0;t<e.attributes.length;t++){var n=e.attributes[t].name;["type","value","style"].includes(n)||e.removeAttribute(n)}}(n),t)n.setAttribute(i,t[i])},ts=function(e){var t=rs(e.input);e.customClass&&ka(t,e.customClass.input)},ns=function(e,t){e.placeholder&&!t.inputPlaceholder||(e.placeholder=t.inputPlaceholder)},is=function(e,t,n){if(n.inputLabel){e.id=Xo.input;var i=document.createElement("label"),r=Xo["input-label"];i.setAttribute("for",e.id),i.className=r,ka(i,n.customClass.inputLabel),i.innerText=n.inputLabel,t.insertAdjacentElement("beforebegin",i)}},rs=function(e){var t=Xo[e]?Xo[e]:Xo.input;return Sa(Jo(),t)},os={};os.text=os.email=os.password=os.number=os.tel=os.url=function(e,t){return"string"==typeof t.inputValue||"number"==typeof t.inputValue?e.value=t.inputValue:Ao(t.inputValue)||Eo('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof t.inputValue,'"')),is(e,e,t),ns(e,t),e.type=t.input,e},os.file=function(e,t){return is(e,e,t),ns(e,t),e},os.range=function(e,t){var n=e.querySelector("input"),i=e.querySelector("output");return n.value=t.inputValue,n.type=t.input,i.value=t.inputValue,is(n,e,t),e},os.select=function(e,t){if(e.textContent="",t.inputPlaceholder){var n=document.createElement("option");ga(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return is(e,e,t),e},os.radio=function(e){return e.textContent="",e},os.checkbox=function(e,t){var n=wa(Jo(),"checkbox");n.value="1",n.id=Xo.checkbox,n.checked=Boolean(t.inputValue);var i=e.querySelector("span");return ga(i,t.inputPlaceholder),e},os.textarea=function(e,t){e.value=t.inputValue,ns(e,t),is(e,e,t);return setTimeout((function(){if("MutationObserver"in window){var t=parseInt(window.getComputedStyle(Jo()).width);new MutationObserver((function(){var n,i=e.offsetWidth+(n=e,parseInt(window.getComputedStyle(n).marginLeft)+parseInt(window.getComputedStyle(n).marginRight));Jo().style.width=i>t?"".concat(i,"px"):null})).observe(e,{attributes:!0,attributeFilter:["style"]})}})),e};var as=function(e,t){var n=ea();_a(n,t,"htmlContainer"),t.html?(Ua(t.html,n),Ta(n,"block")):t.text?(n.textContent=t.text,Ta(n,"block")):Pa(n),function(e,t){var n=Jo(),i=Ja.innerParams.get(e),r=!i||t.input!==i.input;Qa.forEach((function(e){var i=Xo[e],o=Sa(n,i);es(e,t.inputAttributes),o.className=i,r&&Pa(o)})),t.input&&(r&&Za(t),ts(t))}(e,t)},ss=function(e,t){for(var n in Ko)t.icon!==n&&Ea(e,Ko[n]);ka(e,Ko[t.icon]),us(e,t),cs(),_a(e,t,"icon")},cs=function(){for(var e=Jo(),t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),i=0;i<n.length;i++)n[i].style.backgroundColor=t},ls=function(e,t){if(e.textContent="",t.iconHtml)ga(e,ds(t.iconHtml));else if("success"===t.icon)ga(e,'\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n');else if("error"===t.icon)ga(e,'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n');else{ga(e,ds({question:"?",warning:"!",info:"i"}[t.icon]))}},us=function(e,t){if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(var n=0,i=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];n<i.length;n++){ja(e,i[n],"backgroundColor",t.iconColor)}ja(e,".swal2-success-ring","borderColor",t.iconColor)}},ds=function(e){return'<div class="'.concat(Xo["icon-content"],'">').concat(e,"</div>")},fs=function(e,t){var n=na();if(!t.progressSteps||0===t.progressSteps.length)return Pa(n);Ta(n),n.textContent="",t.currentProgressStep>=t.progressSteps.length&&Eo("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),t.progressSteps.forEach((function(e,i){var r=function(e){var t=document.createElement("li");return ka(t,Xo["progress-step"]),ga(t,e),t}(e);if(n.appendChild(r),i===t.currentProgressStep&&ka(r,Xo["active-progress-step"]),i!==t.progressSteps.length-1){var o=function(e){var t=document.createElement("li");return ka(t,Xo["progress-step-line"]),e.progressStepsDistance&&(t.style.width=e.progressStepsDistance),t}(t);n.appendChild(o)}}))},hs=function(e,t){e.className="".concat(Xo.popup," ").concat(Aa(e)?t.showClass.popup:""),t.toast?(ka([document.documentElement,document.body],Xo["toast-shown"]),ka(e,Xo.toast)):ka(e,Xo.modal),_a(e,t,"popup"),"string"==typeof t.customClass&&ka(e,t.customClass),t.icon&&ka(e,Xo["icon-".concat(t.icon)])},ps=function(e,t){!function(e,t){var n=Yo(),i=Jo();t.toast?(Ca(n,"width",t.width),i.style.width="100%",i.insertBefore(sa(),Qo())):Ca(i,"width",t.width),Ca(i,"padding",t.padding),t.color&&(i.style.color=t.color),t.background&&(i.style.background=t.background),Pa(ia()),hs(i,t)}(0,t),$a(0,t),fs(0,t),function(e,t){var n=Ja.innerParams.get(e),i=Qo();n&&t.icon===n.icon?(ls(i,t),ss(i,t)):t.icon||t.iconHtml?t.icon&&-1===Object.keys(Ko).indexOf(t.icon)?(So('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(t.icon,'"')),Pa(i)):(Ta(i),ls(i,t),ss(i,t),ka(i,t.showClass.icon)):Pa(i)}(e,t),function(e,t){var n=ta();if(!t.imageUrl)return Pa(n);Ta(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt),Ca(n,"width",t.imageWidth),Ca(n,"height",t.imageHeight),n.className=Xo.image,_a(n,t,"image")}(0,t),function(e,t){var n=Zo();Da(n,t.title||t.titleText,"block"),t.title&&Ua(t.title,n),t.titleText&&(n.innerText=t.titleText),_a(n,t,"title")}(0,t),function(e,t){var n=fa();ga(n,t.closeButtonHtml),_a(n,t,"closeButton"),Da(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel)}(0,t),as(e,t),Ya(0,t),function(e,t){var n=ua();Da(n,t.footer),t.footer&&Ua(t.footer,n),_a(n,t,"footer")}(0,t),"function"==typeof t.didRender&&t.didRender(Jo())},ys=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),ms=function(){ko(document.body.children).forEach((function(e){e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")}))},vs=["swal-title","swal-html","swal-footer"],gs=function(e){var t={};return ko(e.querySelectorAll("swal-param")).forEach((function(e){Es(e,["name","value"]);var n=e.getAttribute("name"),i=e.getAttribute("value");"boolean"==typeof Uo[n]&&"false"===i&&(t[n]=!1),"object"==typeof Uo[n]&&(t[n]=JSON.parse(i))})),t},bs=function(e){var t={};return ko(e.querySelectorAll("swal-button")).forEach((function(e){Es(e,["type","color","aria-label"]);var n=e.getAttribute("type");t["".concat(n,"ButtonText")]=e.innerHTML,t["show".concat(Oo(n),"Button")]=!0,e.hasAttribute("color")&&(t["".concat(n,"ButtonColor")]=e.getAttribute("color")),e.hasAttribute("aria-label")&&(t["".concat(n,"ButtonAriaLabel")]=e.getAttribute("aria-label"))})),t},_s=function(e){var t={},n=e.querySelector("swal-image");return n&&(Es(n,["src","width","height","alt"]),n.hasAttribute("src")&&(t.imageUrl=n.getAttribute("src")),n.hasAttribute("width")&&(t.imageWidth=n.getAttribute("width")),n.hasAttribute("height")&&(t.imageHeight=n.getAttribute("height")),n.hasAttribute("alt")&&(t.imageAlt=n.getAttribute("alt"))),t},ws=function(e){var t={},n=e.querySelector("swal-icon");return n&&(Es(n,["type","color"]),n.hasAttribute("type")&&(t.icon=n.getAttribute("type")),n.hasAttribute("color")&&(t.iconColor=n.getAttribute("color")),t.iconHtml=n.innerHTML),t},xs=function(e){var t={},n=e.querySelector("swal-input");n&&(Es(n,["type","label","placeholder","value"]),t.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(t.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(t.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(t.inputValue=n.getAttribute("value")));var i=e.querySelectorAll("swal-input-option");return i.length&&(t.inputOptions={},ko(i).forEach((function(e){Es(e,["value"]);var n=e.getAttribute("value"),i=e.innerHTML;t.inputOptions[n]=i}))),t},Os=function(e,t){var n={};for(var i in t){var r=t[i],o=e.querySelector(r);o&&(Es(o,[]),n[r.replace(/^swal-/,"")]=o.innerHTML.trim())}return n},ks=function(e){var t=vs.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);ko(e.children).forEach((function(e){var n=e.tagName.toLowerCase();-1===t.indexOf(n)&&Eo("Unrecognized element <".concat(n,">"))}))},Es=function(e,t){ko(e.attributes).forEach((function(n){-1===t.indexOf(n.name)&&Eo(['Unrecognized attribute "'.concat(n.name,'" on <').concat(e.tagName.toLowerCase(),">."),"".concat(t.length?"Allowed attributes are: ".concat(t.join(", ")):"To set the value, use HTML within the element.")])}))},Ss={email:function(e,t){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address")},url:function(e,t){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")}};function Cs(e){!function(e){e.inputValidator||Object.keys(Ss).forEach((function(t){e.input===t&&(e.inputValidator=Ss[t])}))}(e),e.showLoaderOnConfirm&&!e.preConfirm&&Eo("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function(e){(!e.target||"string"==typeof e.target&&!document.querySelector(e.target)||"string"!=typeof e.target&&!e.target.appendChild)&&(Eo('Target parameter is not valid, defaulting to "body"'),e.target="body")}(e),"string"==typeof e.title&&(e.title=e.title.split("\n").join("<br />")),za(e)}var Ts=function(){function e(t,n){Object(wo.a)(this,e),this.callback=t,this.remaining=n,this.running=!1,this.start()}return Object(xo.a)(e,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(e){var t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),e}(),Ps=function(){null===va.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(va.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(va.previousBodyPadding+function(){var e=document.createElement("div");e.className=Xo["scrollbar-measure"],document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t}(),"px"))},js=function(){var e=navigator.userAgent,t=!!e.match(/iPad/i)||!!e.match(/iPhone/i),n=!!e.match(/WebKit/i);if(t&&n&&!e.match(/CriOS/i)){Jo().scrollHeight>window.innerHeight-44&&(Yo().style.paddingBottom="".concat(44,"px"))}},Ds=function(){var e,t=Yo();t.ontouchstart=function(t){e=As(t)},t.ontouchmove=function(t){e&&(t.preventDefault(),t.stopPropagation())}},As=function(e){var t=e.target,n=Yo();return!Is(e)&&!Ms(e)&&(t===n||!(Ia(n)||"INPUT"===t.tagName||"TEXTAREA"===t.tagName||Ia(ea())&&ea().contains(t)))},Is=function(e){return e.touches&&e.touches.length&&"stylus"===e.touches[0].touchType},Ms=function(e){return e.touches&&e.touches.length>1},Ls=function(e){var t=Yo(),n=Jo();"function"==typeof e.willOpen&&e.willOpen(n);var i=window.getComputedStyle(document.body).overflowY;Bs(t,n,e),setTimeout((function(){Fs(t,n)}),10),pa()&&(Rs(t,e.scrollbarPadding,i),ko(document.body.children).forEach((function(e){e===Yo()||e.contains(Yo())||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}))),ya()||Ra.previousActiveElement||(Ra.previousActiveElement=document.activeElement),"function"==typeof e.didOpen&&setTimeout((function(){return e.didOpen(n)})),Ea(t,Xo["no-transition"])},Ns=function e(t){var n=Jo();if(t.target===n){var i=Yo();n.removeEventListener(Ka,e),i.style.overflowY="auto"}},Fs=function(e,t){Ka&&Ma(t)?(e.style.overflowY="hidden",t.addEventListener(Ka,Ns)):e.style.overflowY="auto"},Rs=function(e,t,n){!function(){if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!ba(document.body,Xo.iosfix)){var e=document.body.scrollTop;document.body.style.top="".concat(-1*e,"px"),ka(document.body,Xo.iosfix),Ds(),js()}}(),t&&"hidden"!==n&&Ps(),setTimeout((function(){e.scrollTop=0}))},Bs=function(e,t,n){ka(e,n.showClass.backdrop),t.style.setProperty("opacity","0","important"),Ta(t,"grid"),setTimeout((function(){ka(t,n.showClass.popup),t.style.removeProperty("opacity")}),10),ka([document.documentElement,document.body],Xo.shown),n.heightAuto&&n.backdrop&&!n.toast&&ka([document.documentElement,document.body],Xo["height-auto"])},Hs=function(e){var t=Jo();t||new Pl,t=Jo();var n=sa();ya()?Pa(Qo()):Ws(t,e),Ta(n),t.setAttribute("data-loading",!0),t.setAttribute("aria-busy",!0),t.focus()},Ws=function(e,t){var n=la(),i=sa();!t&&Aa(ra())&&(t=ra()),Ta(n),t&&(Pa(t),i.setAttribute("data-button-to-replace",t.className)),i.parentNode.insertBefore(i,t),ka([e,n],Xo.loading)},zs=function(e){return e.checked?1:0},Gs=function(e){return e.checked?e.value:null},Us=function(e){return e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null},Vs=function(e,t){var n=Jo(),i=function(e){return Ks[t.input](n,Ys(e),t)};jo(t.inputOptions)||Ao(t.inputOptions)?(Hs(ra()),Do(t.inputOptions).then((function(t){e.hideLoading(),i(t)}))):"object"==typeof t.inputOptions?i(t.inputOptions):So("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof t.inputOptions))},Xs=function(e,t){var n=e.getInput();Pa(n),Do(t.inputValue).then((function(i){n.value="number"===t.input?parseFloat(i)||0:"".concat(i),Ta(n),n.focus(),e.hideLoading()})).catch((function(t){So("Error in inputValue promise: ".concat(t)),n.value="",Ta(n),n.focus(),e.hideLoading()}))},Ks={select:function(e,t,n){var i=Sa(e,Xo.select),r=function(e,t,i){var r=document.createElement("option");r.value=i,ga(r,t),r.selected=qs(i,n.inputValue),e.appendChild(r)};t.forEach((function(e){var t=e[0],n=e[1];if(Array.isArray(n)){var o=document.createElement("optgroup");o.label=t,o.disabled=!1,i.appendChild(o),n.forEach((function(e){return r(o,e[1],e[0])}))}else r(i,n,t)})),i.focus()},radio:function(e,t,n){var i=Sa(e,Xo.radio);t.forEach((function(e){var t=e[0],r=e[1],o=document.createElement("input"),a=document.createElement("label");o.type="radio",o.name=Xo.radio,o.value=t,qs(t,n.inputValue)&&(o.checked=!0);var s=document.createElement("span");ga(s,r),s.className=Xo.label,a.appendChild(o),a.appendChild(s),i.appendChild(a)}));var r=i.querySelectorAll("input");r.length&&r[0].focus()}},Ys=function e(t){var n=[];return"undefined"!=typeof Map&&t instanceof Map?t.forEach((function(t,i){var r=t;"object"==typeof r&&(r=e(r)),n.push([i,r])})):Object.keys(t).forEach((function(i){var r=t[i];"object"==typeof r&&(r=e(r)),n.push([i,r])})),n},qs=function(e,t){return t&&t.toString()===e.toString()};function $s(){var e=Ja.innerParams.get(this);if(e){var t=Ja.domCache.get(this);Pa(t.loader),ya()?e.icon&&Ta(Qo()):Js(t),Ea([t.popup,t.actions],Xo.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}}var Js=function(e){var t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?Ta(t[0],"inline-block"):Aa(ra())||Aa(oa())||Aa(ca())||Pa(e.actions)};function Qs(e){var t=Ja.innerParams.get(e||this),n=Ja.domCache.get(e||this);return n?wa(n.popup,t.input):null}var Zs={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},ec=function(){return Aa(Jo())},tc=function(){return ra()&&ra().click()},nc=function(){return oa()&&oa().click()},ic=function(){return ca()&&ca().click()},rc=function(e){e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},oc=function(e,t,n){var i=ha();if(i.length)return(t+=n)===i.length?t=0:-1===t&&(t=i.length-1),i[t].focus();Jo().focus()},ac=["ArrowRight","ArrowDown"],sc=["ArrowLeft","ArrowUp"],cc=function(e,t,n){var i=Ja.innerParams.get(e);i&&(t.isComposing||229===t.keyCode||(i.stopKeydownPropagation&&t.stopPropagation(),"Enter"===t.key?lc(e,t,i):"Tab"===t.key?uc(t,i):[].concat(ac,sc).includes(t.key)?dc(t.key):"Escape"===t.key&&fc(t,i,n)))},lc=function(e,t,n){if(Po(n.allowEnterKey)&&t.target&&e.getInput()&&t.target.outerHTML===e.getInput().outerHTML){if(["textarea","file"].includes(n.input))return;tc(),t.preventDefault()}},uc=function(e,t){for(var n=e.target,i=ha(),r=-1,o=0;o<i.length;o++)if(n===i[o]){r=o;break}e.shiftKey?oc(0,r,-1):oc(0,r,1),e.stopPropagation(),e.preventDefault()},dc=function(e){if([ra(),oa(),ca()].includes(document.activeElement)){for(var t=ac.includes(e)?"nextElementSibling":"previousElementSibling",n=document.activeElement,i=0;i<la().children.length;i++){if(!(n=n[t]))return;if(Aa(n)&&n instanceof HTMLButtonElement)break}n instanceof HTMLButtonElement&&n.focus()}},fc=function(e,t,n){Po(t.allowEscapeKey)&&(e.preventDefault(),n(ys.esc))};function hc(e,t,n,i){ya()?xc(e,i):(Ba(n).then((function(){return xc(e,i)})),rc(Ra)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),pa()&&(null!==va.previousBodyPadding&&(document.body.style.paddingRight="".concat(va.previousBodyPadding,"px"),va.previousBodyPadding=null),function(){if(ba(document.body,Xo.iosfix)){var e=parseInt(document.body.style.top,10);Ea(document.body,Xo.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}}(),ms()),Ea([document.documentElement,document.body],[Xo.shown,Xo["height-auto"],Xo["no-backdrop"],Xo["toast-shown"]])}function pc(e){e=bc(e);var t=Zs.swalPromiseResolve.get(this),n=mc(this);this.isAwaitingPromise()?e.isDismissed||(gc(this),t(e)):n&&t(e)}function yc(){return!!Ja.awaitingPromise.get(this)}var mc=function(e){var t=Jo();if(!t)return!1;var n=Ja.innerParams.get(e);if(!n||ba(t,n.hideClass.popup))return!1;Ea(t,n.showClass.popup),ka(t,n.hideClass.popup);var i=Yo();return Ea(i,n.showClass.backdrop),ka(i,n.hideClass.backdrop),_c(e,t,n),!0};function vc(e){var t=Zs.swalPromiseReject.get(this);gc(this),t&&t(e)}var gc=function(e){e.isAwaitingPromise()&&(Ja.awaitingPromise.delete(e),Ja.innerParams.get(e)||e._destroy())},bc=function(e){return void 0===e?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e)},_c=function(e,t,n){var i=Yo(),r=Ka&&Ma(t);"function"==typeof n.willClose&&n.willClose(t),r?wc(e,t,i,n.returnFocus,n.didClose):hc(e,i,n.returnFocus,n.didClose)},wc=function(e,t,n,i,r){Ra.swalCloseEventFinishedCallback=hc.bind(null,e,n,i,r),t.addEventListener(Ka,(function(e){e.target===t&&(Ra.swalCloseEventFinishedCallback(),delete Ra.swalCloseEventFinishedCallback)}))},xc=function(e,t){setTimeout((function(){"function"==typeof t&&t.bind(e.params)(),e._destroy()}))};function Oc(e,t,n){var i=Ja.domCache.get(e);t.forEach((function(e){i[e].disabled=n}))}function kc(e,t){if(!e)return!1;if("radio"===e.type)for(var n=e.parentNode.parentNode.querySelectorAll("input"),i=0;i<n.length;i++)n[i].disabled=t;else e.disabled=t}function Ec(){Oc(this,["confirmButton","denyButton","cancelButton"],!1)}function Sc(){Oc(this,["confirmButton","denyButton","cancelButton"],!0)}function Cc(){return kc(this.getInput(),!1)}function Tc(){return kc(this.getInput(),!0)}function Pc(e){var t=Ja.domCache.get(this),n=Ja.innerParams.get(this);ga(t.validationMessage,e),t.validationMessage.className=Xo["validation-message"],n.customClass&&n.customClass.validationMessage&&ka(t.validationMessage,n.customClass.validationMessage),Ta(t.validationMessage);var i=this.getInput();i&&(i.setAttribute("aria-invalid",!0),i.setAttribute("aria-describedby",Xo["validation-message"]),xa(i),ka(i,Xo.inputerror))}function jc(){var e=Ja.domCache.get(this);e.validationMessage&&Pa(e.validationMessage);var t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),Ea(t,Xo.inputerror))}function Dc(){return Ja.domCache.get(this).progressSteps}function Ac(e){var t=Jo(),n=Ja.innerParams.get(this);if(!t||ba(t,n.hideClass.popup))return Eo("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");var i=Ic(e),r=Object.assign({},n,i);ps(this,r),Ja.innerParams.set(this,r),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}var Ic=function(e){var t={};return Object.keys(e).forEach((function(n){Ro(n)?t[n]=e[n]:Eo('Invalid parameter to update: "'.concat(n,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))})),t};function Mc(){var e=Ja.domCache.get(this),t=Ja.innerParams.get(this);t?(e.popup&&Ra.swalCloseEventFinishedCallback&&(Ra.swalCloseEventFinishedCallback(),delete Ra.swalCloseEventFinishedCallback),Ra.deferDisposalTimer&&(clearTimeout(Ra.deferDisposalTimer),delete Ra.deferDisposalTimer),"function"==typeof t.didDestroy&&t.didDestroy(),Lc(this)):Nc(this)}var Lc=function(e){Nc(e),delete e.params,delete Ra.keydownHandler,delete Ra.keydownTarget,delete Ra.currentInstance},Nc=function(e){e.isAwaitingPromise()?(Fc(Ja,e),Ja.awaitingPromise.set(e,!0)):(Fc(Zs,e),Fc(Ja,e))},Fc=function(e,t){for(var n in e)e[n].delete(t)},Rc=function(e,t){var n=Ja.innerParams.get(e);if(!n.input)return So('The "input" parameter is needed to be set when using returnInputValueOn'.concat(Oo(t)));var i=function(e,t){var n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return zs(n);case"radio":return Gs(n);case"file":return Us(n);default:return t.inputAutoTrim?n.value.trim():n.value}}(e,n);n.inputValidator?Bc(e,i,t):e.getInput().checkValidity()?"deny"===t?Hc(e,i):Gc(e,i):(e.enableButtons(),e.showValidationMessage(n.validationMessage))},Bc=function(e,t,n){var i=Ja.innerParams.get(e);e.disableInput(),Promise.resolve().then((function(){return Do(i.inputValidator(t,i.validationMessage))})).then((function(i){e.enableButtons(),e.enableInput(),i?e.showValidationMessage(i):"deny"===n?Hc(e,t):Gc(e,t)}))},Hc=function(e,t){var n=Ja.innerParams.get(e||void 0);(n.showLoaderOnDeny&&Hs(oa()),n.preDeny)?(Ja.awaitingPromise.set(e||void 0,!0),Promise.resolve().then((function(){return Do(n.preDeny(t,n.validationMessage))})).then((function(n){!1===n?(e.hideLoading(),gc(e)):e.closePopup({isDenied:!0,value:void 0===n?t:n})})).catch((function(t){return zc(e||void 0,t)}))):e.closePopup({isDenied:!0,value:t})},Wc=function(e,t){e.closePopup({isConfirmed:!0,value:t})},zc=function(e,t){e.rejectPromise(t)},Gc=function(e,t){var n=Ja.innerParams.get(e||void 0);(n.showLoaderOnConfirm&&Hs(),n.preConfirm)?(e.resetValidationMessage(),Ja.awaitingPromise.set(e||void 0,!0),Promise.resolve().then((function(){return Do(n.preConfirm(t,n.validationMessage))})).then((function(n){Aa(ia())||!1===n?(e.hideLoading(),gc(e)):Wc(e,void 0===n?t:n)})).catch((function(t){return zc(e||void 0,t)}))):Wc(e,t)},Uc=function(e,t,n){t.popup.onclick=function(){var t=Ja.innerParams.get(e);t&&(Vc(t)||t.timer||t.input)||n(ys.close)}},Vc=function(e){return e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton},Xc=!1,Kc=function(e){e.popup.onmousedown=function(){e.container.onmouseup=function(t){e.container.onmouseup=void 0,t.target===e.container&&(Xc=!0)}}},Yc=function(e){e.container.onmousedown=function(){e.popup.onmouseup=function(t){e.popup.onmouseup=void 0,(t.target===e.popup||e.popup.contains(t.target))&&(Xc=!0)}}},qc=function(e,t,n){t.container.onclick=function(i){var r=Ja.innerParams.get(e);Xc?Xc=!1:i.target===t.container&&Po(r.allowOutsideClick)&&n(ys.backdrop)}},$c=function(e){return e instanceof Element||function(e){return"object"==typeof e&&e.jquery}(e)},Jc=function(e){var t={};return"object"!=typeof e[0]||$c(e[0])?["title","html","icon"].forEach((function(n,i){var r=e[i];"string"==typeof r||$c(r)?t[n]=r:void 0!==r&&So("Unexpected type of ".concat(n,'! Expected "string" or "Element", got ').concat(typeof r))})):Object.assign(t,e[0]),t},Qc=n("s4An");function Zc(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function el(e,t,n){return(el=Zc()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&Object(Qc.a)(r,n.prototype),r}).apply(null,arguments)}function tl(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return el(e,n)}function nl(e){return(nl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function il(e,t,n){return(il="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=nl(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function rl(e){return(rl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ol(e,t){return!t||"object"!==rl(t)&&"function"!=typeof t?Object(Mi.a)(e):t}function al(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=nl(e);if(t){var r=nl(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return ol(this,n)}}function sl(e){return function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(Qc.a)(e,t)}(i,t);var n=al(i);function i(){return Object(wo.a)(this,i),n.apply(this,arguments)}return Object(xo.a)(i,[{key:"_main",value:function(t,n){return il(nl(i.prototype),"_main",this).call(this,t,Object.assign({},e,n))}}]),i}(this)}var cl=function(){return Ra.timeout&&Ra.timeout.getTimerLeft()},ll=function(){if(Ra.timeout)return function(){var e=da(),t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";var n=t/parseInt(window.getComputedStyle(e).width)*100;e.style.removeProperty("transition"),e.style.width="".concat(n,"%")}(),Ra.timeout.stop()},ul=function(){if(Ra.timeout){var e=Ra.timeout.start();return La(e),e}},dl=function(){var e=Ra.timeout;return e&&(e.running?ll():ul())},fl=function(e){if(Ra.timeout){var t=Ra.timeout.increase(e);return La(t,!0),t}},hl=function(){return Ra.timeout&&Ra.timeout.isRunning()},pl=!1,yl={};function ml(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template";yl[e]=this,pl||(document.body.addEventListener("click",gl),pl=!0)}var vl,gl=function(e){for(var t=e.target;t&&t!==document;t=t.parentNode)for(var n in yl){var i=t.getAttribute(n);if(i)return void yl[n].fire({template:i})}},bl=function(){function e(){if(Object(wo.a)(this,e),"undefined"!=typeof window){vl=this;for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=Object.freeze(this.constructor.argsToParams(n));Object.defineProperties(this,{params:{value:r,writable:!1,enumerable:!0,configurable:!0}});var o=this._main(this.params);Ja.promise.set(this,o)}}return Object(xo.a)(e,[{key:"_main",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Go(Object.assign({},t,e)),Ra.currentInstance&&(Ra.currentInstance._destroy(),pa()&&ms()),Ra.currentInstance=this;var n=wl(e,t);Cs(n),Object.freeze(n),Ra.timeout&&(Ra.timeout.stop(),delete Ra.timeout),clearTimeout(Ra.restoreFocusTimeout);var i=xl(this);return ps(this,n),Ja.innerParams.set(this,n),_l(this,i,n)}},{key:"then",value:function(e){return Ja.promise.get(this).then(e)}},{key:"finally",value:function(e){return Ja.promise.get(this).finally(e)}}]),e}(),_l=function(e,t,n){return new Promise((function(i,r){var o=function(t){e.closePopup({isDismissed:!0,dismiss:t})};Zs.swalPromiseResolve.set(e,i),Zs.swalPromiseReject.set(e,r),t.confirmButton.onclick=function(){return function(e){var t=Ja.innerParams.get(e);e.disableButtons(),t.input?Rc(e,"confirm"):Gc(e,!0)}(e)},t.denyButton.onclick=function(){return function(e){var t=Ja.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?Rc(e,"deny"):Hc(e,!1)}(e)},t.cancelButton.onclick=function(){return function(e,t){e.disableButtons(),t(ys.cancel)}(e,o)},t.closeButton.onclick=function(){return o(ys.close)},function(e,t,n){Ja.innerParams.get(e).toast?Uc(e,t,n):(Kc(t),Yc(t),qc(e,t,n))}(e,t,o),function(e,t,n,i){rc(t),n.toast||(t.keydownHandler=function(t){return cc(e,t,i)},t.keydownTarget=n.keydownListenerCapture?window:Jo(),t.keydownListenerCapture=n.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)}(e,Ra,n,o),function(e,t){"select"===t.input||"radio"===t.input?Vs(e,t):["text","email","number","tel","textarea"].includes(t.input)&&(jo(t.inputValue)||Ao(t.inputValue))&&(Hs(ra()),Xs(e,t))}(e,n),Ls(n),Ol(Ra,n,o),kl(t,n),setTimeout((function(){t.container.scrollTop=0}))}))},wl=function(e,t){var n=function(e){var t="string"==typeof e.template?document.querySelector(e.template):e.template;if(!t)return{};var n=t.content;return ks(n),Object.assign(gs(n),bs(n),_s(n),ws(n),xs(n),Os(n,vs))}(e),i=Object.assign({},Uo,t,n,e);return i.showClass=Object.assign({},Uo.showClass,i.showClass),i.hideClass=Object.assign({},Uo.hideClass,i.hideClass),i},xl=function(e){var t={popup:Jo(),container:Yo(),actions:la(),confirmButton:ra(),denyButton:oa(),cancelButton:ca(),loader:sa(),closeButton:fa(),validationMessage:ia(),progressSteps:na()};return Ja.domCache.set(e,t),t},Ol=function(e,t,n){var i=da();Pa(i),t.timer&&(e.timeout=new Ts((function(){n("timer"),delete e.timeout}),t.timer),t.timerProgressBar&&(Ta(i),_a(i,t,"timerProgressBar"),setTimeout((function(){e.timeout&&e.timeout.running&&La(t.timer)}))))},kl=function(e,t){if(!t.toast)return Po(t.allowEnterKey)?void(El(e,t)||oc(0,-1,1)):Sl()},El=function(e,t){return t.focusDeny&&Aa(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&Aa(e.cancelButton)?(e.cancelButton.focus(),!0):!(!t.focusConfirm||!Aa(e.confirmButton))&&(e.confirmButton.focus(),!0)},Sl=function(){document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};Object.assign(bl.prototype,i),Object.assign(bl,r),Object.keys(i).forEach((function(e){bl[e]=function(){var t;if(vl)return(t=vl)[e].apply(t,arguments)}})),bl.DismissReason=ys,bl.version="11.4.9";var Cl=bl;Cl.default=Cl;var Tl,Pl=Cl,jl={allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1},Dl=function(e,t,n){return void 0===n&&(n=void 0),Pl.fire(Object.assign({title:e,text:t},jl)).then((function(){n&&n()}))},Al=function(e,t,n){return void 0===n&&(n=void 0),Pl.fire(Object.assign({title:"Are you sure?",text:e,confirmButtonText:"Yes",showCancelButton:!0,cancelButtonText:"No"},jl)).then((function(e){n&&n(),e.isConfirmed&&t()}))},Il=function(e){function t(){var t;return(t=e.call(this,"level-four")||this)._map=null,t._playerHealth=100,t._invulnerable=!1,t._damageOverride=!1,t._introMessageOverride=!1,t._centerMessageVisible=!1,t._completedObjectiveCount=0,t._completedObjectiveOverride=!1,t.create=function(e){var n=e.uiEmitter,i=e.characterSelector;t.uiEventEmitter=n,t.characterSelector=i,t._setMap()._setPlayer(),t._setExitPortal(),t._setEnemies(),t._setFood(),t._setObjectives(),t._setInvisibleInteractions();var r=t._addMapTilesets();t._createMapLayers(r),t._setCursors(),t._setWasd(),t._setUIKeybinds(),t._setCamera(),t._createAnimations(),t._initializeHUD(),t._showIntroText()},t.update=function(){t._handlePlayerMovement(),Object.keys(t.enemies).forEach((function(e){return t._moveEnemy(e)}))},t._initializeHUD=function(){t.time.delayedCall(100,(function(){var e=t._loadUnlockedFeatures();t.uiEventEmitter.emit("hud-initialized",!0,!0,!0,!0),t.uiEventEmitter.emit("update-health",100),t.uiEventEmitter.emit("update-top-left-text",t._getObjectiveText()),t.uiEventEmitter.emit("update-unlocked-features",e,{inventory:function(){return t.createOverlay(_t.PROJECTS)},quests:function(){return t.createOverlay(_t.EXPERIENCES)},talents:function(){return t.createOverlay(_t.SKILLS)}})}),[],Object(Mi.a)(t))},t._setMap=function(){return t._map=t.make.tilemap({key:t._mapDefinition.key,tileWidth:16,tileHeight:16}),t.animatedTiles.init(t._map),Object(Mi.a)(t)},t._setPlayer=function(){if(t._map){var e=t._map.tileToWorldXY(0,34);return t.player=t.physics.add.sprite(e.x,e.y,t.characterSelector.getPlayerDefinition().key).setCollideWorldBounds(!0).setDepth(15),t.player.body.setSize(.8*t.player.width,t.player.height,!0),Object(Mi.a)(t)}},t._setExitPortal=function(){if(t._map){var e=t._map.tileToWorldXY(Vr.x,Vr.y);t.exitPortal=t.physics.add.sprite(e.x,e.y,ar.key).setDepth(15).setImmovable(!0),t.exitPortal.setFlipX(!0).setSize(16,t.exitPortal.height),uo(Object(Mi.a)(t),Object.assign({},Xr),ar.key),t.exitPortal.setVisible(!1)}},t._setEnemies=function(){if(t._map)return t.enemies||(t.enemies={}),Wr.forEach((function(e){var n=t._map.tileToWorldXY(e.startPos.x,e.startPos.y),i=t.add.sprite(0,0,e.textureKey),r=t.add.text(0,-20,e.name,{fontSize:"1rem",fontFamily:"Monospace"}).setScale(.5).setOrigin(.5),o=t.add.container(n.x,n.y,[i,r]).setDepth(15);"slime"===e.textureKey?o.setSize(.8*i.width,.6*i.height):o.setSize(.8*i.width,i.height).setScale(.8),t.physics.world.enable(o),o.body.setCollideWorldBounds(!0).setImmovable(!0),t.enemies[e.id]={container:o,sprite:i,definition:e,mapBounds:{left:t._map.tileToWorldX(e.bounds.left),right:t._map.tileToWorldX(e.bounds.right)}},t.physics.add.collider(t.enemies[e.id].container,t.player,(function(){return t.dealDamage(e.damage)}))})),Object(Mi.a)(t)},t._setFood=function(){if(t._map)return t.food||(t.food={}),zr.forEach((function(e){var n=t._map.tileToWorldXY(e.position.x,e.position.y),i=t.add.image(0,0,e.textureKey),r=t.add.text(0,-15,e.name,{fontSize:"1.5rem",fontFamily:"Monospace"}).setScale(.5).setOrigin(.5),o=t.add.container(n.x,n.y,[i,r]).setDepth(15).setScale(.6).setSize(i.width,i.height);t.physics.world.enable(o),o.body.setCollideWorldBounds(!0).setImmovable(!0),t.food[e.id]={container:o,definition:e},t.physics.add.collider(t.food[e.id].container,t.player,(function(){0===e.value?t._handleStarModeFoodCollision(e.id):t._handleHealingFoodCollision(e.id,e.value)}))})),Object(Mi.a)(t)},t._setObjectives=function(){if(t._map){t.objectives||(t.objectives={});var e=ho();return Gr.forEach((function(n,i){n.name=e[i];var r=t._map.tileToWorldXY(n.position.x,n.position.y),o=t.add.image(0,0,n.textureKey).setScale(.05),a=t.add.text(0,-15,n.name,{fontSize:"1.5rem",fontFamily:"Monospace"}).setScale(.3).setOrigin(.5),s=t.add.container(r.x,r.y,[o,a]).setDepth(15).setSize(.05*o.width,.05*o.height);t.physics.world.enable(s),s.body.setCollideWorldBounds(!0).setImmovable(!0),t.objectives[n.id]={container:s,definition:n},t.physics.add.collider(t.objectives[n.id].container,t.player,(function(){return t._handleObjectiveCollision(n.id)}))})),Object(Mi.a)(t)}},t._setInvisibleInteractions=function(){t._map&&(t.invisibleInteractions||(t.invisibleInteractions=[]),Ur.forEach((function(e,n){var i=t._map.tileToWorldXY(e.position.x,e.position.y),r=t.add.rectangle(i.x,i.y,e.width,e.height);t.physics.world.enable(r),r.body.setCollideWorldBounds(!0).setImmovable(!0),t.physics.add.collider(r,t.player,(function(){return t._handleInvisibleInteraction(e)})),t.invisibleInteractions.push({defintion:e,rectangle:r})})))},t._addMapTilesets=function(){var e=[];return t._mapDefinition.tilesets.forEach((function(n){var i;null===(i=t._map)||void 0===i||i.addTilesetImage(n.name,n.key),e.push(n.name)})),e},t._createMapLayers=function(e){if(t._map&&t.player)return t._map.layers.forEach((function(n,i){var r,o=null===(r=t._map)||void 0===r?void 0:r.createLayer(i,e,0,0).setDepth(10),a=Lr[n.name];if(a&&o){var s=a.depth,c=a.configure;s&&o.setDepth(s),c&&c(o,Object(Mi.a)(t))}})),Object(Mi.a)(t)},t._setCursors=function(){return t._cursors=t.input.keyboard.createCursorKeys(),Object(Mi.a)(t)},t._setWasd=function(){return t._wasd=t.input.keyboard.addKeys("W,A,S,D"),Object(Mi.a)(t)},t._setUIKeybinds=function(){return t.input.keyboard.on("keydown",(function(e){var n,i=null!==(n=t._unlockedFeatures)&&void 0!==n?n:{},r=i.inventory,o=i.questLog,a=i.talentTree;e.key===c&&r&&t.createOverlay(_t.PROJECTS),e.key===l&&o&&t.createOverlay(_t.EXPERIENCES),e.key===u&&a&&t.createOverlay(_t.SKILLS)}),Object(Mi.a)(t)),Object(Mi.a)(t)},t._setCamera=function(){if(t._map&&t.player)return t.cameras.main.setBounds(0,0,t._map.widthInPixels,t._map.heightInPixels).startFollow(t.player).setZoom(2.5),Object(Mi.a)(t)},t._createAnimations=function(){var e=t.characterSelector.getPlayerDefinition().key,n=Br(e);return Object.keys(n).forEach((function(e){Object.keys(n[e]).forEach((function(i){uo(Object(Mi.a)(t),n[e][i],e)}))})),Object(Mi.a)(t)},t._handlePlayerMovement=function(){if(t.player){var e=t.characterSelector.getPlayerDefinition().key,n=Br(e);t._cursors.left.isDown||t._wasd.A.isDown?(t.player.body.setVelocityX(-100),t.player.anims.play(n[e].walk.key,!0),t.player.flipX=!0):t._cursors.right.isDown||t._wasd.D.isDown?(t.player.body.setVelocityX(100),t.player.anims.play(n[e].walk.key,!0),t.player.flipX=!1):(t.player.body.setVelocityX(0),t.player.anims.play(n[e].idle.key)),(t._cursors.up.isDown||t._wasd.W.isDown)&&t.player.body.onFloor()&&t.player.body.setVelocityY(-300),t.player.body.onFloor()||t.player.anims.pause()}},t._moveEnemy=function(e){if(t._map&&t.enemies[e]){var n=t.characterSelector.getPlayerDefinition().key,i=Br(n);t.enemies[e].container.x<=t.enemies[e].mapBounds.left?(t.enemies[e].container.body.setVelocityX(25),i[t.enemies[e].definition.textureKey]&&(t.enemies[e].sprite.anims.play(i[t.enemies[e].definition.textureKey].walk.key,!0),t.enemies[e].sprite.flipX=!0)):t.enemies[e].container.x>=t.enemies[e].mapBounds.right&&(t.enemies[e].container.body.setVelocityX(-25),i[t.enemies[e].definition.textureKey]&&(t.enemies[e].sprite.anims.play(i[t.enemies[e].definition.textureKey].walk.key,!0),t.enemies[e].sprite.flipX=!1))}},t.handleLavaCollision=function(){t.player.body.setVelocityY(-300),t.dealDamage(10)},t._loadUnlockedFeatures=function(){var e=_o();return e&&(t._unlockedFeatures=Object.assign({},e),lo(qe.updateUnlockedFeatures(e))),t._unlockedFeatures},t.createOverlay=function(e){return t.scene.pause(),co.dispatch(qe.overlayOpened({contentKey:e,pausedScene:t.scene.key})),Object(Mi.a)(t)},t.dealDamage=function(e){t._invulnerable||t._damageOverride||(t.uiEventEmitter.emit("add-debuff","-"+e+" hp",2e3),t._changeHealth(-e),t._invulnerable=!0,t.time.delayedCall(500,(function(){t._invulnerable=!1}),[],Object(Mi.a)(t)))},t.restoreHealth=function(e){100!==t._playerHealth&&(t.uiEventEmitter.emit("add-buff","+"+e+" hp",2e3),t._changeHealth(e))},t._changeHealth=function(e){var n=t._playerHealth+e;n<0&&(n=0),n>100&&(n=100),t._playerHealth=n,t.uiEventEmitter.emit("update-health",t._playerHealth),t._playerHealth<=0&&t._handleDeath()},t._handleDeath=function(){t.cameras.main.setAlpha(.5),t.scene.pause(),t.uiEventEmitter.emit("update-center-text","You failed!"),setTimeout((function(){t.scene.restart(),t._playerHealth=100,t._invulnerable=!1,t._completedObjectiveCount=0,t.uiEventEmitter.emit("hud-shutdown"),t._initializeHUD()}),2500)},t._toggleStarMode=function(){t.player.setImmovable(!0),t._invulnerable=!0,t.uiEventEmitter.emit("add-buff","flow state achieved",2e3),t.time.delayedCall(1e4,(function(){t._invulnerable=!1,t.player.setImmovable(!1),t.uiEventEmitter.emit("add-debuff","context switching",2e3)}),[],Object(Mi.a)(t))},t._removeFood=function(e){t.food[e].container.destroy(),delete t.food[e]},t._removeObjective=function(e){t.objectives[e].container.destroy(),delete t.objectives[e]},t._handleHealingFoodCollision=function(e,n){if(t._playerHealth<100)return t.restoreHealth(n),void t._removeFood(e);t._centerMessageVisible||(t._centerMessageVisible=!0,t.uiEventEmitter.emit("update-bottom-center-text","You already have full health!"),t.time.delayedCall(3e3,(function(){t.uiEventEmitter.emit("update-bottom-center-text",""),t._centerMessageVisible=!1}),[],Object(Mi.a)(t)))},t._handleStarModeFoodCollision=function(e){t._toggleStarMode(),t._removeFood(e)},t._handleObjectiveCollision=function(e){var n;t._completedObjectiveCount++,t.uiEventEmitter.emit("update-top-left-text",t._getObjectiveText()),t._completedObjectiveCount===Gr.length||t._completedObjectiveOverride?(n="You've learned enough to escape this place.",t._enableExitPortal()):n="You mastered "+t.objectives[e].definition.name+" in "+Math.floor(7*Math.random())+" day(s)!",t.uiEventEmitter.emit("update-center-text",n),t.time.delayedCall(3e3,(function(){return t.uiEventEmitter.emit("update-center-text","")}),[],Object(Mi.a)(t)),t._removeObjective(e)},t._getObjectiveText=function(){return"Javascript Frameworks Mastered: "+t._completedObjectiveCount+"/"+Gr.length},t._handleInvisibleInteraction=function(e){return"ladder"===e.handlerKey&&t._handleLadderCollision(e.payload.position),Object(Mi.a)(t)},t._handleLadderCollision=function(e){if(t._map){var n=t._map.tileToWorldXY(e.x,e.y);t._movePlayer(n)}},t._movePlayer=function(e){t.player&&t.player.setX(e.x).setY(e.y)},t._showIntroText=function(){t._introMessageOverride||(t.scene.pause(),Dl("Welcome","You must prove your worth as a high quality developer by mastering the latest flavor of the month JavaScript frameworks as soon as possible. You will encounter the same challenges that all developers face but if you are resourceful you may find ways to endure.",(function(){t.scene.resume()})))},t._enableExitPortal=function(){t.exitPortal.setVisible(!0),t.exitPortal.anims.play(Xr.key,!0),t.physics.add.collider(t.exitPortal,t.player,t._handleLevelComplete)},t._handleLevelComplete=function(){t.time.delayedCall(1e3,(function(){t.cameras.main.fade(2500,0,0,0)}),[],Object(Mi.a)(t)),setTimeout((function(){t.scene.start("credits"),t.uiEventEmitter.emit("hud-shutdown")}),3500)},t._mapDefinition=vo,t}return Object(Li.a)(t,e),t}(ji.Scene);!function(e){e[e.SCENE=0]="SCENE",e[e.COORDINATE=1]="COORDINATE"}(Tl||(Tl={}));var Ml,Ll,Nl=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).dialogDisabled=!1,t.playerCharacter=void 0,t.characters=[],t.facingCharacter=void 0,t.cast=void 0,t.map=null,t.mapDefinition=null,t.levelNumber=0,t.doors=[],t.facingDoor=void 0,t.portals=[],t.facingPortal=void 0,t.items=[],t.facingItem=void 0,t.isDev=!1,t.isMovementPaused=!1,t.speedModifier=1,t.setCharacters=function(){if(!t.cast)return Object(Mi.a)(t);var e=t._createPlayerCharacter(t.cast.player),n=t._createNpcCharacters(t.cast.npcs);return t.playerCharacter=e,t.characters=[e].concat(Object(an.a)(n)),Object(Mi.a)(t)},t.setCamera=function(){var e=Object(Mi.a)(t).playerCharacter,n=(e=void 0===e?{}:e).sprite,i=void 0===n?void 0:n;if(i)return t.cameras.main.startFollow(i,!0).setFollowOffset(-i.width,-i.height).setZoom(1).setRoundPixels(!0),Object(Mi.a)(t)},t.setItems=function(){if(!t.cast)return Object(Mi.a)(t);var e=t._createItems(t.cast.items);return t.items=Object(an.a)(e),Object(Mi.a)(t)},t.setPortals=function(){return t.cast?(t.portals=t.cast.portals,Object(Mi.a)(t)):Object(Mi.a)(t)},t.setDoors=function(){return t.cast?(t.doors=t.cast.doors,Object(Mi.a)(t)):Object(Mi.a)(t)},t.setMap=function(){if(!t.mapDefinition)throw new Error("no tilemap defined");var e=t.make.tilemap({key:t.mapDefinition.key}),n=[];t.mapDefinition.tilesets.forEach((function(t){e.addTilesetImage(t.name,t.key),n.push(t.name)}));for(var i=0;i<e.layers.length;i++){e.createLayer(i,n,0,0).scale=3}return e.layers.some((function(e){var n;return null===(n=t.mapDefinition)||void 0===n?void 0:n.animatedLayer.includes(e.name)}))&&t.animatedTiles.init(e),t.map=e,t._setGridEngineMap(),Object(Mi.a)(t)},t.setCharacterLayerTransitions=function(){var e;if(null===(e=t.mapDefinition)||void 0===e||!e.characterLayer||!t.gridEngine)return Object(Mi.a)(t);var n=t.mapDefinition.characterLayer,i=n.lower,r=n.upper;return n.transitions.forEach((function(e){var n,o,a=e.x,s=e.y;e.toUpper?(n=i,o=r):(n=r,o=i),t.gridEngine.setTransition({x:a,y:s},n,o)})),Object(Mi.a)(t)},t.useGridPlayerControls=function(){if(!t.playerCharacter)return Object(Mi.a)(t);if(t.dialog.visible||t.isMovementPaused)return Object(Mi.a)(t);var e=t.input.keyboard.createCursorKeys(),n=t.input.keyboard.addKeys("W,A,S,D"),i=t.playerCharacter.definition.key;e.shift.isDown?t.gridEngine.setSpeed(t.playerCharacter.definition.key,2*t.playerCharacter.startingSpeed*t.speedModifier):t.gridEngine.setSpeed(t.playerCharacter.definition.key,t.playerCharacter.startingSpeed*t.speedModifier);var r=!1;return e.left.isDown||n.A.isDown?(t.gridEngine.move(i,wr.a.LEFT),r=!0):e.right.isDown||n.D.isDown?(t.gridEngine.move(i,wr.a.RIGHT),r=!0):e.up.isDown||n.W.isDown?(t.gridEngine.move(i,wr.a.UP),r=!0):(e.down.isDown||n.S.isDown)&&(t.gridEngine.move(i,wr.a.DOWN),r=!0),r&&t.events.emit("player_moved_event"),!t.gridEngine.isMoving(i)&&t.doors.length>0&&t._handleDoorCollision(),!t.gridEngine.isMoving(i)&&t.portals.length>0&&t._handlePortalCollision(),Object(Mi.a)(t)},t.setFacing=function(){if(t.playerCharacter){t.facingCharacter=void 0,t.facingDoor=void 0,t.facingItem=void 0,t.facingPortal=void 0;var e=t.gridEngine.getFacingPosition(t.playerCharacter.definition.key),n=e.x,i=e.y,r=t._createTileRectangle(n,i),o=void 0;return t.facingItem=t.items.find((function(e){return ji.Geom.Intersects.RectangleToRectangle(e.sprite.getBounds(),r)})),t.facingItem?o=t.facingItem.friendlyName:t.facingCharacter=t.characters.filter((function(e){var n;return e.definition.key!==(null===(n=t.playerCharacter)||void 0===n?void 0:n.definition.key)})).find((function(e){return ji.Geom.Intersects.RectangleToRectangle(e.sprite.getBounds(),r)})),t.facingCharacter?o=t.facingCharacter.friendlyName:t.facingPortal=t.portals.find((function(e){return ji.Geom.Intersects.RectangleToRectangle(t._createTileRectangle(e.from.x,e.from.y),r)})),t.facingPortal?o=t.facingPortal.friendlyName:t.facingDoor=t.doors.find((function(e){return ji.Geom.Intersects.RectangleToRectangle(t._createTileRectangle(e.from[0].x,e.from[0].y),r)})),t.facingDoor&&(o=t.facingDoor.friendlyName),o&&!t.dialog.visible?t.addHudBottomCenterText(o):t.removeHudBottomCenterText(),Object(Mi.a)(t)}},t.attachKeyboardListener=function(){return t.input.keyboard.on("keydown",(function(e){t.handleInteraction(e).handleUIKeybinds(e)}),Object(Mi.a)(t)),Object(Mi.a)(t)},t.handleInteraction=function(e){return"Enter"!==e.key&&" "!==e.key||!t.facingItem&&!t.facingCharacter&&!t.dialog.visible||(t.facingCharacter?t._handleCharacterInteraction():t.facingItem?t._handleItemInteraction():t.handleCloseDialog()),Object(Mi.a)(t)},t.handleUIKeybinds=function(e){var n=t.unlockedFeatures,i=n.inventory,r=n.questLog,o=n.talentTree;return e.key===c&&i&&t.createOverlay(_t.PROJECTS),e.key===l&&r&&t.createOverlay(_t.EXPERIENCES),e.key===u&&o&&t.createOverlay(_t.SKILLS),Object(Mi.a)(t)},t.createNewDialog=function(e,n){t.dialog.setText(e),t.dialog.toggleWindow(!0,n),t.removeHudBottomCenterText()},t.handleCloseDialog=function(e){void 0===e&&(e=!1),t.dialogDisabled&&!e||t.dialog.toggleWindow(!1)},t.resumeMovement=function(e,n){void 0===n&&(n=30);var i=e.definition.key,r=e.radius;return void 0===r||t.gridEngine.isMoving(i)||t.time.delayedCall(1e3*n,(function(){t.dialog.visible||t.gridEngine.moveRandomly(i,2e3,r)}),[],Object(Mi.a)(t)),Object(Mi.a)(t)},t.pauseMovement=function(e){var n=e.definition.key;return t.gridEngine.isMoving(n)&&t.gridEngine.stopMovement(n),Object(Mi.a)(t)},t.turnCharacterTowardsPlayer=function(e){if(t.playerCharacter){var n,i=e.definition.key;if(t.gridEngine.isMoving(i))return t.time.delayedCall(50,(function(){return t.turnCharacterTowardsPlayer(e)}),[],Object(Mi.a)(t));switch(t.gridEngine.getFacingDirection(t.playerCharacter.definition.key)){case wr.a.DOWN:n=wr.a.UP;break;case wr.a.UP:n=wr.a.DOWN;break;case wr.a.LEFT:n=wr.a.RIGHT;break;case wr.a.RIGHT:n=wr.a.LEFT}return n&&t.gridEngine.turnTowards(i,n),Object(Mi.a)(t)}},t.addHudBottomCenterText=function(e){return t.uiEventEmitter&&t.uiEventEmitter.emit("update-bottom-center-text",e),Object(Mi.a)(t)},t.removeHudBottomCenterText=function(){return t.uiEventEmitter&&t.uiEventEmitter.emit("update-bottom-center-text"),Object(Mi.a)(t)},t._createPlayerCharacter=function(e){var n=e.definition,i=n.key,r=n.scale;return Object.assign({},e,{sprite:t.add.sprite(0,0,i).setScale(r)})},t._createNpcCharacters=function(e){return e.map((function(e){return Object.assign({},e,{sprite:t.add.sprite(0,0,e.definition.key).setScale(e.definition.scale)})}))},t._createItems=function(e){return e.map((function(e){return Object.assign({},e,{sprite:t.add.sprite(0,0,"").setScale(3).setVisible(!1)})}))},t._setGridEngineMap=function(){if(t.gridEngine&&t.map){var e=[].concat(Object(an.a)(t._createGridEngineCharacters()),Object(an.a)(t._createGridEngineItems()));t.gridEngine.create(t.map,{characters:e})}return Object(Mi.a)(t)},t._createGridEngineCharacters=function(){return t.characters.filter((function(e){return!!e.sprite})).map((function(e){var t=e.sprite,n=e.definition,i=n.key,r=n.walkingAnimationMapping;return{id:i,startPosition:{x:e.startingX,y:e.startingY},speed:e.startingSpeed,sprite:t,walkingAnimationMapping:r,facingDirection:e.facingDirection}}))},t._createGridEngineItems=function(){return t.items.filter((function(e){return!!e.sprite})).map((function(e){var n=e.x,i=e.y,r=e.sprite;return{id:t._getItemId(n,i),collides:!0,startPosition:{x:n,y:i},sprite:r}}))},t._handleCharacterInteraction=function(){return t.facingCharacter?t.dialog.visible?(t.resumeMovement(t.facingCharacter),t.handleCloseDialog(),Object(Mi.a)(t)):(t.pauseMovement(t.facingCharacter).turnCharacterTowardsPlayer(t.facingCharacter),t.facingCharacter.handler&&t.facingCharacter.handler(Object(Mi.a)(t)),Object(Mi.a)(t)):Object(Mi.a)(t)},t._handleItemInteraction=function(){return t.facingItem?t.dialog.visible?(t.handleCloseDialog(),Object(Mi.a)(t)):(t.facingItem&&t.facingItem.handler&&t.facingItem.handler(Object(Mi.a)(t)),Object(Mi.a)(t)):Object(Mi.a)(t)},t._handleDoorCollision=function(){if(t.playerCharacter){var e=t.gridEngine.getPosition(t.playerCharacter.definition.key),n=t.doors.find((function(t){return t.from.some((function(t){return t.x===e.x&&t.y===e.y}))}));return n&&(n.inactive?(n.inactiveDialog&&t.createNewDialog(n.inactiveDialog),n.inactiveMoveDir&&t.gridEngine.move(t.playerCharacter.definition.key,n.inactiveMoveDir)):(t.cameras.main.flash(750,0,0,0),t.gridEngine.setPosition(t.characterSelector.getPlayerDefinition().key,n.to,n.layer),n.face&&t.gridEngine.turnTowards(t.playerCharacter.definition.key,n.face))),Object(Mi.a)(t)}},t._handlePortalCollision=function(){if(t.playerCharacter){var e=t.gridEngine.getPosition(t.playerCharacter.definition.key),n=t.portals.find((function(t){return t.from.x===e.x&&t.from.y===e.y}));return n&&(n.dialog&&t.createNewDialog(n.dialog),n.type===Tl.SCENE&&"string"==typeof n.to?(t.dialogDisabled=!0,t.time.delayedCall(1e3,(function(){t.cameras.main.fade(2500,0,0,0)}),[],Object(Mi.a)(t)),setTimeout((function(){t.playerCharacter&&(t.handleCloseDialog(!0),t.scene.sleep(t.scene.key),t.scene.run(n.to,new hr(t.uiEventEmitter,t.characterSelector)),t.uiEventEmitter.emit("hud-shutdown"),t.cameras.main.resetFX(),t.gridEngine.setPosition(t.playerCharacter.definition.key,{x:t.playerCharacter.startingX,y:t.playerCharacter.startingY}),t.dialogDisabled=!1)}),3500)):n.type===Tl.COORDINATE&&"object"==typeof n.to&&(t.cameras.main.flash(1500,0,0,0),t.gridEngine.setPosition(t.playerCharacter.definition.key,n.to,n.layer),n.face&&t.gridEngine.turnTowards(t.playerCharacter.definition.key,n.face))),Object(Mi.a)(t)}},t._createTileRectangle=function(e,t){return new ji.Geom.Rectangle(48*e,48*t,48,48)},t.toggleMovement=function(){t.isMovementPaused=!t.isMovementPaused},t.loadAllSavedData=function(){return go()},t.updateUnlockedFeatures=function(e,n){var i;return t.unlockedFeatures=Object.assign({},t.unlockedFeatures,((i={})[e]=n,i)),lo(qe.updateUnlockedFeatures(t.unlockedFeatures)),bo(t.unlockedFeatures),t.updateHudUnlockedFeatures(),Object(Mi.a)(t)},t.loadUnlockedFeatures=function(){var e=_o();return e&&(t.unlockedFeatures=Object.assign({},e),lo(qe.updateUnlockedFeatures(t.unlockedFeatures)),t.updateHudUnlockedFeatures()),Object(Mi.a)(t)},t.updateHudUnlockedFeatures=function(){return t.uiEventEmitter.emit("update-unlocked-features",t.unlockedFeatures,{inventory:function(){return t.createOverlay(_t.PROJECTS)},quests:function(){return t.createOverlay(_t.EXPERIENCES)},talents:function(){return t.createOverlay(_t.SKILLS)}}),Object(Mi.a)(t)},t.removeItem=function(e){var n=t.items.findIndex((function(t){return t.x===e.x&&t.y===e.y}));if(-1!==n){var i=t.items[n];i&&(t.gridEngine.removeCharacter(t._getItemId(i.x,i.y)),i.sprite&&i.sprite.destroy(),t.items=t.items.filter((function(e,t){return t!==n})))}},t._getItemId=function(e,n){return"object_"+t.levelNumber+"_"+e+"_"+n},t.setSpeedModifier=function(e){t.speedModifier=e},t.resetBackgroundColor=function(){t.cameras.main.setBackgroundColor("#000")},t.createOverlay=function(e){return t.scene.pause(),co.dispatch(qe.overlayOpened({contentKey:e,pausedScene:t.scene.key})),Object(Mi.a)(t)},t}Object(Li.a)(t,e);var n=t.prototype;return n.loadLevelSavedData=function(){return e=this.scene.key,(t=go())&&t[e]?t[e]:null;var e,t},n.saveLevelData=function(e){return function(e,t){var n,i,r=null!==(n=go())&&void 0!==n?n:{},o=Object.assign({},r,((i={})[t]=Object.assign({},r[t],e),i));localStorage.setItem("gmurray-game",JSON.stringify(o))}(e,this.scene.key)},t}(ji.Scene),Fl={startingX:24,startingY:52,startingSpeed:4},Rl=function(e){e.createNewDialog("Meow meow!")},Bl=[{definition:$i,startingX:24,startingY:43,startingSpeed:4,friendlyName:"Greg",handler:function(e){e.createNewDialog("Hello and welcome to my game! I am Greg and I am here to help you explore this world. You've already learned how to interact with people and things (space or enter) and you can use the arrow keys to move. Feel free to explore the area but stop by my house before heading out of town!")},radius:4},{definition:Ji,startingX:7,startingY:93,startingSpeed:2,friendlyName:"Khufu",handler:function(e){return Rl(e)},radius:2},{definition:Qi,startingX:23,startingY:95,startingSpeed:2,friendlyName:"Dre",handler:function(e){return Rl(e)},radius:2}],Hl=[{x:7,y:91,handler:function(e){e.updateUnlockedFeatures("talentTree",!0).createOverlay(_t.SKILLS)},friendlyName:"Greg's battlestation"},{x:10,y:91,handler:function(e){return e.createOverlay(_t.UNF)},friendlyName:"Framed medal"},{x:12,y:90,handler:function(e){return e.createOverlay(_t.UF)},friendlyName:"Trophy"},{x:20,y:92,handler:function(e){return e.createOverlay(_t.BIO)},friendlyName:"Musings"},{x:23,y:92,handler:function(e){return e.createNewDialog("Sweet nectar of the gods!")},friendlyName:"Black gold"},{x:38,y:76,handler:function(e){return e.createNewDialog("You power on the Game Cube. What will you play today, Super Smash Bros: Melee or Mario Kart: Double Dash?")},friendlyName:"Game Cube"},{x:40,y:75,handler:function(e){return e.createNewDialog("A wild Magikarp appears!")},friendlyName:"Fish tank"},{x:44,y:78,handler:function(e){return e.createNewDialog("I can't even remember what I bought...")},friendlyName:"Packages"},{x:23,y:34,handler:function(e){return(0,e.createNewDialog)("LEFT: Greg's house. STRAIGHT: Portal Pond")},friendlyName:"Sign post"}],Wl=[{from:{x:16,y:9},type:Tl.SCENE,to:"level-two",dialog:f,friendlyName:"Mysterious Forest"},{from:{x:28,y:9},type:Tl.SCENE,to:"level-three",dialog:f,friendlyName:"Creepy Catacombs"},{from:{x:40,y:9},type:Tl.SCENE,to:"level-four",dialog:f,friendlyName:"rightmost portal"}],zl=[{from:[{x:19,y:29},{x:20,y:29}],to:{x:15,y:98},friendlyName:"Go inside"},{from:[{x:15,y:99}],to:{x:20,y:31},friendlyName:"Go outside"},{from:[{x:18,y:91}],to:{x:46,y:78},friendlyName:"Go upstairs",face:wr.a.DOWN},{from:[{x:46,y:77},{x:46,y:76}],to:{x:17,y:91},friendlyName:"Go downstairs",face:wr.a.LEFT}],Gl=function(e){function t(){var t;return(t=e.call(this,"level-one")||this).create=function(e){var n,i,r,o,a,s,c,l=e.uiEmitter,u=e.characterSelector;t.uiEventEmitter=l,t.characterSelector=u,t.cast=(c=t.characterSelector.getPlayerDefinition(),{npcs:Bl,items:Hl,portals:Wl,doors:zl,player:Object.assign({},Fl,{definition:c})}),null===(n=t.setCharacters())||void 0===n||null===(i=n.setItems())||void 0===i||null===(r=i.setPortals())||void 0===r||null===(o=r.setDoors())||void 0===o||null===(a=o.setCamera())||void 0===a||null===(s=a.setMap())||void 0===s||s.attachKeyboardListener(),t._initializeHUD(),t.dialog.init(),t.isDev||t.createNewDialog("hint: move using the arrow or WASD keys. interact using space or enter"),t.initialCharacterMovement(),t.scale.on("resize",(function(e){t.dialog.updateDimensions(e)}))},t.update=function(){t.useGridPlayerControls().setFacing()},t.shutdown=function(){t.uiEventEmitter.emit("hud-shutdown")},t.initialCharacterMovement=function(){var e=t.characters.find((function(e){return e.definition.key===$i.key})),n=t.characters.find((function(e){return e.definition.key===Ji.key})),i=t.characters.find((function(e){return e.definition.key===Qi.key}));e&&(t.gridEngine.moveTo(e.definition.key,{x:24,y:50}),t.gridEngine.setSpeed(e.definition.key,2)),n&&t.gridEngine.moveRandomly(n.definition.key,2e3,n.startingSpeed),i&&t.gridEngine.moveRandomly(i.definition.key,2200,i.startingSpeed)},t._initializeHUD=function(){t.time.delayedCall(100,(function(){t.uiEventEmitter.emit("hud-initialized",!0,!1,!0,!1),t.loadUnlockedFeatures()}),[],Object(Mi.a)(t))},t.levelNumber=1,t.mapDefinition=po,t}return Object(Li.a)(t,e),t}(Nl),Ul={1:{location:{primary:{x:5,y:10},all:[{x:4,y:10},{x:5,y:10},{x:6,y:10},{x:4,y:11},{x:5,y:11},{x:6,y:11}]}},2:{location:{primary:{x:86,y:16},all:[{x:85,y:16},{x:86,y:16},{x:87,y:16},{x:85,y:17},{x:86,y:17},{x:87,y:17}]}},3:{location:{primary:{x:65,y:32},all:[{x:64,y:32},{x:65,y:32},{x:66,y:32},{x:64,y:33},{x:65,y:33},{x:66,y:33}]}}},Vl={startingX:4,startingY:47,startingSpeed:4},Xl=[{definition:nr,startingX:2,startingY:46,startingSpeed:2,friendlyName:"Dungeon difficulty guide",handler:function(e){return e.handleGuideInteraction()},facingDirection:wr.a.RIGHT}],Kl=[{x:20,y:47,handler:function(e){return e.handlePotionConsume(jr.MINI_HEALTH,{x:20,y:47})},friendlyName:"Mini health potion"},{x:24,y:19,handler:function(e){return e.handlePotionConsume(jr.MINI_HEALTH,{x:24,y:19})},friendlyName:"Mini health potion"},{x:7,y:8,handler:function(e){return e.handlePotionConsume(jr.SPEED,{x:7,y:8})},friendlyName:"Speed potion"},{x:94,y:9,handler:function(e){return e.handlePotionConsume(jr.HEALTH,{x:94,y:9})},friendlyName:"Big health potion"},{x:81,y:12,handler:function(e){return e.handlePotionConsume(jr.MINI_HEALTH,{x:81,y:12})},friendlyName:"Hidden mini health potion"},{x:80,y:31,handler:function(e){return e.handlePotionConsume(jr.MINI_HEALTH,{x:80,y:31})},friendlyName:"Mini health potion"},{x:80,y:23,handler:function(e){return e.handlePotionConsume(jr.SPEED,{x:80,y:23})},friendlyName:"Speed potion"},{x:50,y:77,handler:function(e){return e.handlePotionConsume(jr.MINI_HEALTH,{x:50,y:77})},friendlyName:"Mini health potion"},{x:43,y:82,handler:function(e){return e.handlePotionConsume(jr.MINI_HEALTH,{x:43,y:82})},friendlyName:"Mini health potion"},{x:Ul[1].location.primary.x,y:Ul[1].location.primary.y,handler:function(e){return e.handleOrbCollection(1)},friendlyName:"First orb"},{x:Ul[2].location.primary.x,y:Ul[2].location.primary.y,handler:function(e){return e.handleOrbCollection(2)},friendlyName:"Second orb"},{x:Ul[3].location.primary.x,y:Ul[3].location.primary.y,handler:function(e){return e.handleOrbCollection(3)},friendlyName:"Third orb"},{x:82,y:83,handler:function(e){e.updateUnlockedFeatures("inventory",!0).createOverlay(_t.PROJECTS)},friendlyName:"Treasure"},{x:85,y:86,handler:function(e){return e.createNewDialog("Looks like enough gold to buy a rune scimmy on the GE")},friendlyName:"25k gold"},{x:3,y:40,handler:function(e){return e.handleLevelSkip()},friendlyName:"Old key"}],Yl=[{from:{x:48,y:89},type:Tl.COORDINATE,to:{x:82,y:86},dialog:f,friendlyName:"treasure",layer:"ground",face:wr.a.UP},{from:{x:82,y:81},type:Tl.SCENE,to:"level-one",dialog:f,friendlyName:"Back to beginning"}],ql=[{from:[{x:38,y:29},{x:38,y:30}],to:{x:53,y:9},friendlyName:"Descend",face:wr.a.DOWN,layer:"ground",inactive:!0,inactiveDialog:"You must gather this floors orbs before descending",inactiveMoveDir:wr.a.RIGHT},{from:[{x:59,y:43},{x:60,y:43},{x:61,y:43}],to:{x:47,y:63},friendlyName:"Descend",face:wr.a.DOWN,layer:"ground",inactive:!0,inactiveDialog:"You must gather this floors orbs before descending",inactiveMoveDir:wr.a.DOWN},{from:[{x:53,y:6},{x:54,y:6}],to:{x:39,y:31},friendlyName:"Ascend",face:wr.a.DOWN,layer:"ground"},{from:[{x:46,y:60},{x:47,y:60},{x:48,y:60}],to:{x:60,y:46},friendlyName:"Ascend",face:wr.a.DOWN,layer:"ground"}],$l=((Ml={})[Dr.EASY]={friendlyName:"Easy",message:"I can't blame you, nightmare is pretty hard",healthPotions:{mini:20,normal:50},player:{speedMod:1.5,speedDuration:5e3},enemy:{damageMod:1,critsEnabled:!1,speedMod:1,followEnabled:!1},fire:{speedModifier:1,damageModifier:1}},Ml[Dr.NORMAL]={friendlyName:"Normal",message:"You want a bit more of a challenge? I respect that.",healthPotions:{mini:20,normal:50},player:{speedMod:1.5,speedDuration:6e3},enemy:{damageMod:2,critsEnabled:!1,speedMod:1,followEnabled:!1},fire:{speedModifier:.8,damageModifier:1.5}},Ml[Dr.HEROIC]={friendlyName:"Heroic",message:"Finally, someone who wants a real challenge.",healthPotions:{mini:15,normal:50},player:{speedMod:1.5,speedDuration:7e3},enemy:{damageMod:2,critsEnabled:!0,speedMod:1,followEnabled:!1},fire:{speedModifier:.6,damageModifier:2}},Ml[Dr.LEGENDARY]={friendlyName:"Legendary",message:"This is going to be legend - wait for it - dary.",healthPotions:{mini:10,normal:50},player:{speedMod:1.5,speedDuration:8e3},enemy:{damageMod:2,critsEnabled:!0,speedMod:2,followEnabled:!1},fire:{speedModifier:.5,damageModifier:3}},Ml[Dr.NIGHTMARE]={friendlyName:"Nightmare",message:"Now your nightmare comes to life.",healthPotions:{mini:10,normal:50},player:{speedMod:1.5,speedDuration:1e4},enemy:{damageMod:2,critsEnabled:!0,speedMod:2,followEnabled:!0},fire:{speedModifier:.4,damageModifier:4}},Ml),Jl=[{x:46,y:78},{x:46,y:79},{x:46,y:80},{x:49,y:75},{x:50,y:75},{x:51,y:75},{x:44,y:82},{x:44,y:83},{x:48,y:85},{x:48,y:86},{x:52,y:85},{x:52,y:86},{x:52,y:88},{x:52,y:89},{x:51,y:88},{x:51,y:89}],Ql=[{x:43,y:78},{x:43,y:79},{x:43,y:80},{x:50,y:85},{x:50,y:86}],Zl=[{x:40,y:77},{x:41,y:77},{x:48,y:77},{x:48,y:76},{x:48,y:75},{x:49,y:74},{x:49,y:73},{x:50,y:73},{x:50,y:72},{x:51,y:72},{x:52,y:72},{x:52,y:73},{x:52,y:75},{x:52,y:76},{x:52,y:77},{x:51,y:84},{x:50,y:84},{x:49,y:84},{x:48,y:84},{x:48,y:83},{x:47,y:82},{x:46,y:81},{x:45,y:81},{x:44,y:81},{x:43,y:81},{x:42,y:81},{x:42,y:82},{x:42,y:83},{x:52,y:87},{x:51,y:87},{x:50,y:87},{x:49,y:87},{x:48,y:87},{x:47,y:87},{x:47,y:88},{x:47,y:89}],eu={options:[tr,Zi,er],locations:[{x:17,y:41},{x:20,y:41},{x:24,y:41},{x:15,y:28},{x:15,y:22},{x:25,y:28},{x:25,y:22},{x:5,y:20},{x:38,y:37},{x:65,y:10},{x:72,y:10},{x:85,y:11},{x:81,y:16},{x:86,y:21},{x:92,y:17},{x:93,y:33},{x:73,y:32},{x:79,y:40},{x:70,y:46}],startingSpeed:2,radius:4},tu=function(e){function t(){var t;return(t=e.call(this,"level-three")||this)._justHitByEnemy=!1,t.create=function(e){var n,i=e.uiEmitter,r=e.characterSelector;t.uiEventEmitter=i,t.characterSelector=r,t.cast=(n=t.characterSelector.getPlayerDefinition(),{player:Object.assign({},Vl,{definition:n}),npcs:Xl,items:Kl,portals:Yl,doors:ql}),t.setCharacters().setItems().setPortals().setDoors().setCamera().setMap().setPortals().setCharacterLayerTransitions()._setBackground()._setFireBarriers()._setFireColumns()._setFireExplosions()._setFireCollisionListeners()._initializeEnemyCharacters().attachKeyboardListener(),t._initializeHUD(),t.dialog.init(),t.handleCloseDialog(),t.scale.on("resize",(function(e){t.dialog.updateDimensions(e)})),t._showStarterDialog()},t.update=function(){var e,n;null===(e=t.useGridPlayerControls())||void 0===e||null===(n=e.setFacing())||void 0===n||n._handlePlayerEnemyMovement()},t.shutdown=function(){t.uiEventEmitter.emit("hud-shutdown")},t.handlePotionConsume=function(e,n){var i,r=!1;switch(e){case jr.MINI_HEALTH:case jr.HEALTH:r=t._takeHealthPotion(e);break;case jr.SPEED:r=t._takeSpeedPotion()}r&&(null===(i=t.map)||void 0===i||i.removeTileAt(n.x,n.y,!0,!0,"potions"),t.removeItem(n))},t.handleOrbCollection=function(e){t.createNewDialog("You absorb the power of the magical orb...");var n=Ul[e].location,i=n.primary;n.all.forEach((function(e){var n;return null===(n=t.map)||void 0===n?void 0:n.removeTileAt(e.x,e.y,!0,!0,"orbs")})),t.removeItem(i),lo(Qr.orbCollected(e)),t._updateOrbText(),t._unlockStairs()},t._takeHealthPotion=function(e){var n=eo(co.getState()),i=$l[n].healthPotions;if(100===Zr(co.getState()))return t.uiEventEmitter.emit("update-top-center-text","You already have full health!"),t.time.delayedCall(2e3,(function(){return t.uiEventEmitter.emit("update-top-center-text")}),[],Object(Mi.a)(t)),!1;var r=e===jr.MINI_HEALTH?i.mini:i.normal;t._displayBuff("+"+r+" hp"),lo(Qr.healthChanged(r));var o=Zr(co.getState());return t.uiEventEmitter.emit("update-health",o),!0},t._takeSpeedPotion=function(){var e=eo(co.getState()),n=$l[e].player,i=n.speedMod,r=n.speedDuration;return t.setSpeedModifier(i),t._displayBuff(i+"x speed for "+r/1e3+" seconds"),t.time.delayedCall(r,(function(){t.setSpeedModifier(1),t._displayDebuff("-speed buff")}),[],Object(Mi.a)(t)),!0},t._displayBuff=function(e){t.uiEventEmitter.emit("add-buff",e,3e3)},t._displayDebuff=function(e){t.uiEventEmitter.emit("add-debuff",e,3e3)},t._unlockStairs=function(){var e=to(co.getState()),n=e[1],i=e[2]&&e[2],r=Object(an.a)(t.doors);n&&(r[0].inactive=!1),i&&(r[1].inactive=!1),t.doors=Object(an.a)(r),t.setDoors()},t._setBackground=function(){return t.cameras.main.setBackgroundColor("#070707"),Object(Mi.a)(t)},t._setFireColumns=function(){var e=ur.key,n=ur.scale,i=ur.frameCount,r=ur.frameRate,o=e+"-animation";return Jl.forEach((function(a){var s=t.add.sprite(0,0,e).setScale(n).setVisible(!0);t._createDamagingFireAnimation(e,o,r,{end:i-1});var c=i/r*1e3;s.on("animationstart",(function(){return t._onFireAnimationStart(s,c,Ar.COLUMN)})).on("animationrepeat",(function(){return t._onFireAnimationRepeat(s,c,a,Ar.COLUMN)})).play(o),t.gridEngine.addCharacter({id:e,startPosition:a,sprite:s,collides:!1})})),Object(Mi.a)(t)},t._setFireExplosions=function(){var e=dr.key,n=dr.scale,i=dr.frameCount,r=dr.frameRate,o=e+"-animation";return Ql.forEach((function(a){var s=t.add.sprite(0,0,e).setScale(n).setVisible(!0);t._createDamagingFireAnimation(e,o,r,{frames:[0,2,3,5]});var c=i/r*1e3;s.on("animationstart",(function(){return t._onFireAnimationStart(s,c,Ar.EXPLOSION)})).on("animationrepeat",(function(){return t._onFireAnimationRepeat(s,c,a,Ar.EXPLOSION)})).play(o),t.gridEngine.addCharacter({id:e,startPosition:a,sprite:s,collides:!1})})),Object(Mi.a)(t)},t._setFireBarriers=function(){var e=fr.key,n=fr.scale,i=fr.frameCount,r=fr.frameRate,o=fr.offsetY,a=e+"-animation";return Zl.forEach((function(s){var c=t.add.sprite(0,0,e).setScale(n).setVisible(!0);t._createPassiveFireAnimation(e,a,r,{end:i-1}),c.play(a),t.gridEngine.addCharacter({id:e,startPosition:s,sprite:c,collides:!0,offsetY:o})})),Object(Mi.a)(t)},t._onFireAnimationStart=function(e,n,i){e.setVisible(!0),lo(Qr.activeFiresChanged({type:i,active:!0})),t.time.delayedCall(n,(function(){return e.setVisible(!1)}),[],Object(Mi.a)(t))},t._onFireAnimationRepeat=function(e,n,i,r){lo(Qr.activeFiresChanged({type:r,active:!0})),e.setVisible(!0),t._isStandingInActiveFire(i,r)&&t._dealFireDamage();var o=t.time.addEvent({loop:!0,delay:1e3,callbackScope:Object(Mi.a)(t),callback:function(){t._isStandingInActiveFire(i,r)&&t._dealFireDamage()}});t.time.delayedCall(n,(function(){o.remove(),lo(Qr.activeFiresChanged({type:r,active:!1})),e.setVisible(!1)}),[],Object(Mi.a)(t))},t._createDamagingFireAnimation=function(e,n,i,r){var o=eo(co.getState()),a=$l[o].fire.speedModifier;return t.anims.create({key:n,frameRate:i,frames:t.anims.generateFrameNumbers(e,r),repeat:-1,repeatDelay:2e3*a}),Object(Mi.a)(t)},t._createPassiveFireAnimation=function(e,n,i,r){return t.anims.create({key:n,frameRate:i,frames:t.anims.generateFrameNumbers(e,r),repeat:-1}),Object(Mi.a)(t)},t._dealFireDamage=function(){var e=eo(co.getState()),n=$l[e].fire.damageModifier;t._dealDamage(10*n)},t._dealDamage=function(e,n){void 0===n&&(n=!1);var i=new Date,r=oo(co.getState());if(!(i.getTime()-new Date(r).getTime()<1e3)){t._displayDebuff("-"+e+"hp"+(n?" (critical hit)":"")),lo(Qr.healthChanged(-e));var o=Zr(co.getState());t.uiEventEmitter.emit("update-health",o),o<=0&&t._handleDeath(),t.time.delayedCall(1e3,(function(){return t._justHitByEnemy=!1}),[],Object(Mi.a)(t))}},t._setFireCollisionListeners=function(){if(t.playerCharacter)return t.gridEngine.steppedOn([t.playerCharacter.definition.key],Jl).subscribe((function(e){var n=e.enterTile;lo(Qr.standingInFireChanged({x:n.x,y:n.y})),io(co.getState())[Ar.COLUMN]&&t._dealFireDamage()})),t.gridEngine.steppedOn([t.playerCharacter.definition.key],Ql).subscribe((function(e){var n=e.enterTile;lo(Qr.standingInFireChanged(Object.assign({},n))),io(co.getState())[Ar.EXPLOSION]&&t._dealFireDamage()})),t.gridEngine.positionChangeStarted().subscribe((function(e){var n=e.charId;t.playerCharacter&&n===t.playerCharacter.definition.key&&lo(Qr.standingInFireChanged(void 0))})),Object(Mi.a)(t)},t._isStandingInActiveFire=function(e,t){var n=io(co.getState()),i=no(co.getState());return n[t]&&i&&i.x===e.x&&i.y===e.y},t._handleDeath=function(){t.uiEventEmitter.emit("update-center-text","You died!"),ro(co.getState())||(lo(Qr.levelRestarted()),t._restartLevel())},t._initializeEnemyCharacters=function(){var e=t._createEnemyGridEngineCharacters(eu),n=[];return e.forEach((function(e){t.gridEngine.addCharacter(e),t.gridEngine.moveRandomly(e.id,1e3+1e3*Math.random()*1,4),n.push(e.id)})),lo(Qr.enemiesChanged(n)),Object(Mi.a)(t)},t._createEnemyGridEngineCharacters=function(e){var n=e.options,i=e.startingSpeed,r=e.locations,o=eo(co.getState()),a=$l[o].enemy;return r.map((function(e){var r=Math.floor(Math.random()*n.length),o=n[r],s=t.add.sprite(0,0,o.key).setScale(o.scale);return{id:Mr(),startPosition:{x:e.x,y:e.y},speed:i*a.speedMod,sprite:s,walkingAnimationMapping:o.walkingAnimationMapping}}))},t._handlePlayerEnemyMovement=function(){if(!t._justHitByEnemy&&t.playerCharacter){var e=t.playerCharacter.definition,n=ao(co.getState());if(0!==(null!=n?n:[]).length){var i=n.map((function(e){return{id:e,pos:t.gridEngine.getPosition(e)}})),r=t.gridEngine.getPosition(e.key);if(i.some((function(e){return t._isCharacterAdjacent(r,e.pos)}))){var o=eo(co.getState()),a=$l[o].enemy,s=10*a.damageMod,c=!1;if(a.critsEnabled)100*Math.random()<=5&&(s*=1.5,c=!0);t._dealDamage(s,c),t._justHitByEnemy=!0}return Object(Mi.a)(t)}}},t._isCharacterAdjacent=function(e,t){var n=e.x===t.x&&e.y===t.y+1,i=e.x===t.x&&e.y===t.y-1,r=e.x===t.x-1&&e.y===t.y,o=e.x===t.x+1&&e.y===t.y;return n||i||r||o},t.handleLevelSkip=function(){t.scene.pause(),Al("Collecting this key will skip all the fun stuff on this level and take you straight to the treasure room.",t._onConfirmSkip,(function(){return t.scene.resume()}))},t._onConfirmSkip=function(){t.playerCharacter&&(t.createNewDialog("You pick up the old key..."),t.cameras.main.flash(2500,0,0,0),t.gridEngine.setPosition(t.playerCharacter.definition.key,{x:82,y:86},"ground"))},t.handleGuideInteraction=function(){var e,n=eo(co.getState());e=n===Dr.NIGHTMARE?Dr.EASY:n+1,t.scene.pause(),Al("This will increase the level difficulty and restart the level",(function(){return t._onDifficultyChangeConfirmed(e)}),(function(){return t.scene.resume()}))},t._onDifficultyChangeConfirmed=function(e){t.createNewDialog($l[e].message,(function(){t.uiEventEmitter.emit("update-center-text",$l[e].friendlyName+" difficulty selected"),lo(Qr.difficultyChanged(e)),t._restartLevel()}))},t._restartLevel=function(){t.isMovementPaused=!0,setTimeout((function(){t.cameras.main.fade(2500,0,0,0)}),1e3),setTimeout((function(){t.scene.restart(),t.uiEventEmitter.emit("hud-shutdown"),t.isMovementPaused=!1}),3500)},t._showDifficultyText=function(){var e=eo(co.getState()),n=""+$l[e].friendlyName;return t.uiEventEmitter.emit("update-top-left-text",n),Object(Mi.a)(t)},t._updateOrbText=function(){var e=to(co.getState()),n=Object.keys(e).reduce((function(t,n){return e[n]?t+1:t}),0);return t.uiEventEmitter.emit("update-top-center-text",n+"/3 orbs"),Object(Mi.a)(t)},t._showStarterDialog=function(){if(!t.isDev){return t.createNewDialog("Welcome to the Creepy Catacombs. Your goal here is simple: survive. To escape you will need to collect the three orbs scattered throughout this cursed place. But beware: there are rumors of skeletons who cause harm just by being in their presence..."),Object(Mi.a)(t)}},t._initializeHUD=function(){t.time.delayedCall(100,(function(){t.uiEventEmitter.emit("hud-initialized",!0,!0,!0,!0),t.loadUnlockedFeatures(),t.uiEventEmitter.emit("update-health",100),t._showDifficultyText()._updateOrbText()}),[],Object(Mi.a)(t))},t.levelNumber=3,t.mapDefinition=mo,t}return Object(Li.a)(t,e),t}(Nl),nu={startingX:23,startingY:31,startingSpeed:4},iu=[{definition:$i,startingX:20,startingY:12,startingSpeed:2,friendlyName:"Greg",handler:function(e){return e.handleGregInteraction()}}],ru=[{x:24,y:27,handler:function(e){return e.handleAngelInteraction()},friendlyName:"Guide"},{x:40,y:10,handler:function(e){return e.showNextFire(Pn.ONE)},friendlyName:"First fire",pillar:3},{x:43,y:13,handler:function(e){return e.showNextFire(Pn.TWO)},friendlyName:"Second fire",pillar:3},{x:40,y:16,handler:function(e){return e.showNextFire(Pn.THREE)},friendlyName:"Third fire",pillar:3},{x:37,y:13,handler:function(e){return e.showNextFire(Pn.FOUR)},friendlyName:"Fourth fire",pillar:3},{x:37,y:30,handler:function(e){return e.handlePillarThreeInteraction()},friendlyName:"Pillar of Matching"},{x:2,y:41,handler:function(e){return e.handlePillarOneInteraction()},friendlyName:"Monolith of Exploration"},{x:7,y:10,handler:function(e){return e.handlePillarTwoInteraction()},friendlyName:"Column of Choice"},{x:2,y:30,handler:function(e){return e.handlePillarOneItemInteraction("Barrel")},friendlyName:"Barrel",pillar:1,hint:"Don't confuse me for a keg"},{x:36,y:43,handler:function(e){return e.handlePillarOneItemInteraction("Small urn")},friendlyName:"Small urn",pillar:1,hint:"I may remind you of a vase but just know that I am small"},{x:39,y:43,handler:function(e){return e.handlePillarOneItemInteraction("Bowl")},friendlyName:"Bowl",pillar:1,hint:"Do you put milk or cereal first?"},{x:21,y:23,handler:function(e){return e.handlePillarOneItemInteraction("Crate")},friendlyName:"Crate",pillar:1,hint:"You can use me to transport all of your stuff"},{x:5,y:16,handler:function(e){return e.handlePillarOneItemInteraction("Chest")},friendlyName:"Chest",pillar:1,hint:"Pirates are currently looking for me"},{x:1,y:13,handler:function(e){return e.handlePillarOneItemInteraction("Large urn")},friendlyName:"Large urn",pillar:1,hint:"I may remind you of a vase but just know that I am large"},{x:32,y:25,handler:function(e){return e.createNewDialog("Confused? Try speaking with your guide (the angel over there) to get started. Each pillar will give you a hint to help you solve its mystery.")},friendlyName:"Help"},{x:7,y:25,handler:function(e){return e.handleSkipButton()},friendlyName:"Strange button (skip level)"},{x:19,y:64,handler:function(e){e.updateUnlockedFeatures("questLog",!0).createOverlay(_t.EXPERIENCES)},friendlyName:"Treasure"}],ou=[{from:{x:18,y:27},type:Tl.COORDINATE,to:{x:19,y:67},dialog:"The portal has taken you to a mysterious area...",friendlyName:"Escape portal",layer:"ground"},{from:{x:19,y:61},type:Tl.SCENE,to:"level-one",dialog:f,friendlyName:"Back to beginning"}],au=((Ll={})[Pn.ONE]={x:40,y:10},Ll[Pn.TWO]={x:43,y:13},Ll[Pn.THREE]={x:40,y:16},Ll[Pn.FOUR]={x:37,y:13},Ll),su=[{question:"Here's your question: what is Greg's favorite animal?",options:[{id:1,text:"Baluga whale"},{id:2,text:"Poison dart frog"},{id:3,text:"Siamese cat"},{id:4,text:"Cardigan welsh corgi"}],answer:2,hint:"Frogs...why'd it have to be frogs?!"},{question:"Get to the bottom of this: on a warm summer day, what is Greg's favorite drink?",options:[{id:1,text:"Coca-Cola"},{id:2,text:"Barq's Root Beer"},{id:3,text:"Orange Crush"},{id:4,text:"Spring Water"}],answer:2,hint:"Let's just get to the root of the problem."},{question:"Can you solve this? What is Greg's favorite fantasy/fiction world?",options:[{id:1,text:"Lord of the Rings"},{id:2,text:"Star Wars"},{id:3,text:"Star Trek"},{id:4,text:"Harry Potter"}],answer:2,hint:"I can't talk right now, I'm listening to Duel of the Fates."},{question:"Something simple for you. What is Greg's favorite Marvel character",options:[{id:1,text:"Thor"},{id:2,text:"Thanos"},{id:3,text:"Spider Man"},{id:4,text:"Black Panther"}],answer:4,hint:"Has anyone seen any vibranium lately? I need to find some."}],cu={0:"Hello traveler. You seem lost, did you just arrive here? To go back you will need to use the portal just over there but, unfortunately, it is broken! To fix it you will need to activate the three pillars scattered across this area. Solve each pillar's mystery to obtain its power.",1:"Well done, you've successfully gained the power of one obelisk thus far. Keep up the good work and you'll be out of here in no time.",2:"Two pillars unlocked! Very good. You got this, just one more!",3:"Congratulations! The portal is open! Go through it to earn your reward and travel back to where you came from."},lu=function(e){return new Date(1e3*e).toISOString().substring(14,19)};var uu=function(e){function t(){var t;return(t=e.call(this,"level-two")||this)._timerElapsed=0,t.create=function(e){var n,i,r,o,a,s,c,l,u,d,f,h,p,y=e.uiEmitter,m=e.characterSelector;t.uiEventEmitter=y,t.characterSelector=m,t.cast=(p=t.characterSelector.getPlayerDefinition(),{player:Object.assign({},nu,{definition:p}),npcs:iu,items:ru,portals:ou,doors:[]}),null===(n=t.setCharacters())||void 0===n||null===(i=n.setItems())||void 0===i||null===(r=i.setPortals())||void 0===r||null===(o=r.setDoors())||void 0===o||null===(a=o.setCamera())||void 0===a||null===(s=a.setMap())||void 0===s||null===(c=s.setCharacterLayerTransitions())||void 0===c||null===(l=c.attachKeyboardListener())||void 0===l||null===(u=l._initializeFireState())||void 0===u||null===(d=u._createPillarOneSolution())||void 0===d||null===(f=d._createPillarTwoSolution())||void 0===f||f._createPillarThreeSolution(),t._initializeHUD(),t.dialog.init(),t.mcDialog.init(),t.handleCloseDialog(),t._initializeCharacterMovement(),t._timerInterval=null!==(h=t._timerInterval)&&void 0!==h?h:t._addTimerInterval(),t.scale.on("resize",(function(e){t.dialog.updateDimensions(e),t.mcDialog.updateDimensions(e)}))},t.update=function(){var e,n;null===(e=t.useGridPlayerControls())||void 0===e||null===(n=e.setFacing())||void 0===n||n._handleMcDialogStatus()},t._initializeFireState=function(){return[Pn.ONE,Pn.TWO,Pn.THREE,Pn.FOUR].forEach((function(e){t.puzzleFireState[e]=Object.assign({},t._makeFires(e)),t._changeActiveFire(e,Tn.WHITE)})),Object(Mi.a)(t)},t._makeFires=function(e){var n,i={active:void 0,fires:(n={},n[Tn.BLUE]=void 0,n[Tn.WHITE]=void 0,n[Tn.GREEN]=void 0,n[Tn.PURPLE]=void 0,n)};return lr.forEach((function(n){var r=n.key,o=r+"-"+e,a=o+"-flicker",s=t.add.sprite(0,0,r).setScale(n.scale).setVisible(!1),c=t.anims.create({key:a,frameRate:10,frames:t.anims.generateFrameNumbers(n.key,{start:0,end:7}),repeat:-1});s.play(a),i.fires[n.color]={sprite:s,animation:c,characterId:o}})),i},t._changeActiveFire=function(e,n){var i=t.puzzleFireState[e],r=i.active,o=i.fires[null!=r?r:""],a=i.fires[n];return void 0!==r&&(o.sprite.setVisible(!1),t.gridEngine.removeCharacter(o.characterId)),a.sprite.setVisible(!0),t.gridEngine.addCharacter({id:a.characterId,startPosition:au[e],sprite:a.sprite}),i.active=n,Object(Mi.a)(t)},t.showNextFire=function(e){if(t.progress[3].completed)return Object(Mi.a)(t);var n=void 0;switch(t.puzzleFireState[e].active){case Tn.WHITE:n=Tn.BLUE;break;case Tn.BLUE:n=Tn.GREEN;break;case Tn.GREEN:n=Tn.PURPLE;break;case Tn.PURPLE:n=Tn.WHITE}return void 0!==n&&t._changeActiveFire(e,n),Object(Mi.a)(t)},t.handlePillarThreeInteraction=function(){if(t._isPuzzleFireSolved())return t.createNewDialog("Well done, the power of this obelisk is yours"),void t._completePillar(3);var e=t.puzzleFireState.solution,n=Wi(e[Pn.ONE]),i=Wi(e[Pn.TWO]),r=Wi(e[Pn.THREE]),o=Wi(e[Pn.FOUR]);t.createNewDialog("To solve this puzzle you must master the fire. Here's a hint: first comes "+n+", then comes "+i+". Master these and you are halfway there. Next is "+r+" and finally there is "+o+". Start at 12 o'clock and you will unlock the power of this pillar.")},t._createPillarThreeSolution=function(){for(var e,n,i={},r=0;r<4;r++){var o=(e=Tn,n=void 0,(n=Object.keys(e).map((function(e){return Number.parseInt(e)})).filter((function(e){return!Number.isNaN(e)})))[Math.floor(Math.random()*n.length)]);i[r]=o}return t.puzzleFireState=Object.assign({},t.puzzleFireState,{solution:i}),t.isDev&&console.log(Object.values(i).map((function(e){return Wi(e)}))),Object(Mi.a)(t)},t._isPuzzleFireSolved=function(){var e=t.puzzleFireState.solution,n=t.puzzleFireState[Pn.ONE].active,i=t.puzzleFireState[Pn.TWO].active,r=t.puzzleFireState[Pn.THREE].active,o=t.puzzleFireState[Pn.FOUR].active;return e[Pn.ONE]===n&&e[Pn.TWO]===i&&e[Pn.THREE]===r&&e[Pn.FOUR]===o},t._activatePillar=function(e){var n;n=1===e?"active1":2===e?"active2":"active3";var i=t.children.list.filter((function(e){return"TilemapLayer"===e.type})).find((function(e){return e.layer.name===n}));return i&&t.time.addEvent({delay:200,callbackScope:Object(Mi.a)(t),repeat:10,callback:function(){i.setAlpha(i.alpha+.1)}}),Object(Mi.a)(t)},t._createPillarOneSolution=function(){var e=kn(t.cast.items.filter((function(e){return 1===e.pillar&&void 0!==e.hint})));if(!e)throw new Error("Unable to create pillar one solution");var n=e.friendlyName,i=e.hint;return t.pillarOneState={solution:{itemName:n,hint:i},isFound:!1},Object(Mi.a)(t)},t.handlePillarOneItemInteraction=function(e){e===t.pillarOneState.solution.itemName?(t.pillarOneState.isFound=!0,t.createNewDialog("You find a key in the "+e+"!")):t.createNewDialog("It appears to be a regular old "+e)},t.handlePillarOneInteraction=function(){if(t.pillarOneState.isFound)return t.createNewDialog("Well done, the power of this obelisk is yours"),void t._completePillar(1);t.createNewDialog("Unlocking this pillar is truly random, but here's a hint: "+t.pillarOneState.solution.hint)},t._completePillar=function(e,n){var i;return void 0===n&&(n=!1),t.progress=Object.assign({},t.progress,((i={})[e]=Object.assign({},t.progress[e],{completed:!0}),i)),t._activatePillar(e),!n&&t._isLevelComplete()&&t._completeLevel(),Object(Mi.a)(t)},t._isLevelComplete=function(){return 3===t._getNumCompletedPillars()},t._getNumCompletedPillars=function(){return[t.progress[1].completed,t.progress[2].completed,t.progress[3].completed].filter((function(e){return!!e})).length},t._completeLevel=function(e){(void 0===e&&(e=!1),t._timerInterval.remove(),e)?(t._timerElapsed=0,t._completePillar(1,!0)._completePillar(2,!0)._completePillar(3,!0)._addPillarTrackerHudText(t._getNumCompletedPillars())):t._saveTime()&&(t.scene.pause(),Dl("New record","Good job, this is your fastest clear of this level",(function(){t.scene.resume(),t._displayRecord(t._timerElapsed)})));t.createNewDialog("You hear the sound of a portal opening up nearby..."),t._activatePortal()},t.handleAngelInteraction=function(){var e=t._getNumCompletedPillars();t.createNewDialog(cu[e])},t.handlePillarTwoInteraction=function(){if(!t.mcDialog.visible)return t.pillarTwoState.isComplete?(t.createNewDialog("Well done, the power of this obelisk is yours"),void t._completePillar(2)):void t._createMultipleChoiceDialog()},t._createPillarTwoSolution=function(){var e=kn(su);return t.pillarTwoState={solution:Object.assign({},e,{options:En(e.options)}),isComplete:!1},Object(Mi.a)(t)},t.handlePillarTwoAnswerChoice=function(e){if(t._removeMultipleChoiceDialog(),e==t.pillarTwoState.solution.answer)return t.pillarTwoState=Object.assign({},t.pillarTwoState,{isComplete:!0}),t.handlePillarTwoInteraction();t.createNewDialog("Sorry, that is not the correct answer. Maybe Greg can help with the next one?"),t._createPillarTwoSolution()},t._createMultipleChoiceDialog=function(){var e=t.pillarTwoState.solution,n=e.question,i=e.options;t.mcDialog.setQuestionText(n),t.mcDialog.setOptionsText(i),t.mcDialog.setOnSelect(t.handlePillarTwoAnswerChoice),t.mcDialog.toggleWindow(!0),t.toggleMovement()},t._removeMultipleChoiceDialog=function(){t.toggleMovement(),t.mcDialog.toggleWindow(!1)},t.handleGregInteraction=function(){if(t.pillarTwoState.isComplete)return t.createNewDialog("Seems like you don't need help from me.");t.createNewDialog(t.pillarTwoState.solution.hint)},t._initializeCharacterMovement=function(){var e=t.characters.find((function(e){return e.definition.key===$i.key}));e&&t.gridEngine.moveRandomly(e.definition.key,2e3,e.startingSpeed+1)},t._handleMcDialogStatus=function(){!t.mcDialog.visible&&t.isMovementPaused&&t.toggleMovement()},t._addPillarTrackerHudText=function(e,n){void 0===e&&(e=0),void 0===n&&(n=0),t.uiEventEmitter.emit("update-top-left-text","Pillars unlocked: "+e+"/3","Time: "+lu(n))},t._addTimerInterval=function(){return t.time.addEvent({loop:!0,delay:1e3,callbackScope:Object(Mi.a)(t),callback:function(){var e=t._timerElapsed+1;t._addPillarTrackerHudText(t._getNumCompletedPillars(),e),t._timerElapsed=e}})},t._saveTime=function(){var e,n=(null!==(e=t.loadLevelSavedData())&&void 0!==e?e:{}).time;return(!n||t._timerElapsed<n)&&(t.saveLevelData({time:t._timerElapsed}),!0)},t._initializeCurrentRecord=function(){var e,n=(null!==(e=t.loadLevelSavedData())&&void 0!==e?e:{}).time;void 0!==n&&t._displayRecord(n)},t._displayRecord=function(e){return t.uiEventEmitter.emit("update-top-center-text","Record: "+lu(e))},t._activatePortal=function(){var e=t.children.list.filter((function(e){return"TilemapLayer"===e.type})).find((function(e){return"active-portal"===e.layer.name}));return e&&t.time.addEvent({repeat:10,delay:200,callbackScope:Object(Mi.a)(t),callback:function(){e.setAlpha(e.alpha+.1)}}),t.setPortals(),Object(Mi.a)(t)},t.handleSkipButton=function(){t.scene.pause(),Al("Pressing this button will skip all the fun stuff on this level and grant you access to the rewards and ability to leave this level",t._onSkip,(function(){return t.scene.resume()}))},t._onSkip=function(){t.createNewDialog("You press the strange button..."),t._completeLevel(!0)},t._initializeHUD=function(){t.time.delayedCall(100,(function(){t.uiEventEmitter.emit("hud-initialized",!0,!1,!0,!1),t._initializeCurrentRecord(),t.loadUnlockedFeatures(),t._addPillarTrackerHudText()}),[],Object(Mi.a)(t))},t.levelNumber=2,t.mapDefinition=yo,t.puzzleFireState=new Hi,t.progress=new Ni,t}return Object(Li.a)(t,e),t}(Nl),du={key:"coffee-cup-image",source:Xi("coffee_cup")},fu={key:"tuna-roll-image",source:Xi("tuna_roll")},hu={key:"pizza-party-image",source:Xi("pizza_party")},pu={key:"javascript-pixel-image",source:Xi("javascript_pixel")},yu=function(){var e=this;this._selectedPlayerDefinition=null,this._createDefaultCharacter=function(){var e=Object.values(Yi);return e[Math.floor(Math.random()*e.length)]},this.getPlayerDefinition=function(){var t;return null!==(t=e._selectedPlayerDefinition)&&void 0!==t?t:e._defaultPlayerDefinition},this.setPlayerDefinition=function(t){e._selectedPlayerDefinition=null!=t?t:null},this._defaultPlayerDefinition=this._createDefaultCharacter()};yu.getInstance=function(){return new yu};var mu=function(e){function t(){return e.call(this)||this}return Object(Li.a)(t,e),t}(Phaser.Events.EventEmitter);mu.getInstance=function(){return new mu};var vu=[].concat(Object(an.a)(Object.values(Yi)),[$i,Ji,Qi],Object(an.a)(lr),[ur,dr,fr,tr,Zi,er,nr,sr,ir,rr,or,ar]),gu=[po,yo,mo,vo],bu=[du,fu,hu,pu],_u=function(e){function t(){var t;return(t=e.call(this,"loading-scene")||this).isDev=!1,t.preload=function(){t._createProgress(),t.load.on("progress",t._updateProgress),t.load.on("complete",t._removeProgress),t._setBaseLoadUrl()._loadSprites()._loadTiles()._loadImages()},t.create=function(){t.isDev||t._showLogoIntro(),t._startFirstScene()},t._createProgress=function(){var e=t._getGameWidth()/2;return t.progressBox=t.add.graphics().fillStyle(9924360,1).fillRect(e-e/2,e,e,50).setScrollFactor(0).setDepth(1),t.progressText=t.make.text({x:e,y:e+25,text:"0%",style:{font:"20px monospace",color:"#fff"},scrollFactor:0,origin:.5,depth:3}),t.progressBar=t.add.graphics().setScrollFactor(0).setDepth(2),Object(Mi.a)(t)},t._updateProgress=function(e){if(t.progressBar){var n=t._getGameWidth()/2;t.progressBar.clear().fillStyle(15444482,1).fillRect(n-n/2+10,n+10,(n-15)*e,30),t.progressText&&t.progressText.setText(parseInt((100*e).toString())+"%")}},t._removeProgress=function(){t.progressBox&&t.progressBox.destroy(),t.progressText&&t.progressText.destroy(),t.progressBar&&t.progressBar.destroy()},t._setBaseLoadUrl=function(){return t.load.baseURL="assets/game/",Object(Mi.a)(t)},t._loadSprites=function(){return vu.forEach((function(e){var n=e.key,i=e.source,r=e.frameWidth,o=e.frameHeight;t.load.spritesheet(n,i,{frameWidth:r,frameHeight:o})})),Object(Mi.a)(t)},t._loadTiles=function(){return gu.forEach((function(e){var n=e.key,i=e.source,r=e.tilesets;t.load.tilemapTiledJSON(n,i),r.forEach((function(e){var n=e.key,i=e.source;t.load.image(n,i)}))})),Object(Mi.a)(t)},t._loadImages=function(){return t.load.image("logo","images/logo_transparent.png"),bu.forEach((function(e){var n=e.key,i=e.source;t.load.image(n,i)})),Object(Mi.a)(t)},t._showLogoIntro=function(){var e=t._getGameWidth()/2,n=t._getGameHeight()/2;return t.add.image(e,n,"logo").setScale(.25),Object(Mi.a)(t)},t._startFirstScene=function(){return t.time.delayedCall(t.isDev?0:2e3,(function(){t.scene.launch("ui-scene",t.uiEmitter),t.scene.start("character-select",new hr(t.uiEmitter,t.characterSelector))}),[],Object(Mi.a)(t)),Object(Mi.a)(t)},t._getGameWidth=function(){return vr(Object(Mi.a)(t))},t._getGameHeight=function(){return gr(Object(Mi.a)(t))},t.uiEmitter=mu.getInstance(),t.characterSelector=yu.getInstance(),t}return Object(Li.a)(t,e),t}(ji.Scene),wu={borderThickness:3,borderColor:9924360,borderAlpha:1,windowAlpha:.9,windowColor:330283,windowHeight:150,padding:32,depth:50,closeBtnColor:"#976f08",closeBtnFontSize:24,fontSize:20,speed:5,answerLimit:4,answerFontSize:16},xu=function(e){function t(t,n){var i;return(i=e.call(this,t,n,"mcDialog")||this).config=wu,i.eventCounter=0,i.visible=!1,i.optionsText={},i.optionsRect={},i.optionsRectIdLookup={},i._scaledTextSize=i.config.fontSize,i.boot=function(){var e=i.systems.events;e.on("shutdown",i.shutdown,Object(Mi.a)(i)),e.on("destroy",i.destroy,Object(Mi.a)(i))},i.shutdown=function(){i.timedEvent&&i.timedEvent.remove(),i.questionText&&i.questionText.destroy(),i.closeBtnText&&i.closeBtnText.destroy(),i.graphics&&i.graphics.destroy(),Object.keys(i.optionsText).forEach((function(e){i.optionsText[e]&&i.optionsText[e].destroy()}))},i.destroy=function(){i.shutdown()},i.init=function(e){e||(e={}),i.setConfig(e)._createWindow().updateDimensions()},i.setConfig=function(e){return Object.keys(i.config).forEach((function(t){var n;i.config[t]=null!==(n=(null!=e?e:{})[t])&&void 0!==n?n:i.config[t]})),Object(Mi.a)(i)},i.toggleWindow=function(e){void 0===e&&(e=!i.visible),i.visible=e,i._toggleVisibility(i.visible)},i.setQuestionText=function(e,t){void 0===t&&(t=!0),i.eventCounter=0,i.dialogText=e.split(""),i.timedEvent&&i.timedEvent.remove();var n=t?"":e;return i._setQuestionText(n),t&&(i.timedEvent=i.scene.time.addEvent({delay:150-30*i.config.speed,callback:i._animateText,callbackScope:Object(Mi.a)(i),loop:!0})),Object(Mi.a)(i)},i.setOptionsText=function(e){e.slice(0,i.config.answerLimit).forEach((function(e,t){var n=e.id,r=e.text;i.optionsText[n]=i._makeOptionsText(n,r,t)}))},i.updateDimensions=function(e){var t,n=e?e.width:i._getGameWidth();t=n<=400?.6:n<=600?.8:1,i._scaledTextSize=i.config.fontSize*t},i._setQuestionText=function(e){i.questionText&&i.questionText.destroy();var t=i.config.padding+10,n=i._getWindowYPosition()-i.config.padding+10;i.questionText=i.scene.make.text({x:t,y:n,text:e,style:{wordWrap:{width:i._getGameWidth()-2*i.config.padding-50,useAdvancedWrap:!0},color:"#fff",fontSize:i._scaledTextSize+"px",fontFamily:"Monospace"},depth:i.config.depth,scrollFactor:0})},i._animateText=function(){i.eventCounter++,i.questionText.setText(i.questionText.text+i.dialogText[i.eventCounter-1]),i.eventCounter===i.dialogText.length&&i.timedEvent.remove()},i._makeOptionsText=function(e,t,n){i.optionsText[e]&&i.optionsText[e].destroy();var r=i.optionsRect[n],o=i.optionsText[e]=i.scene.make.text({x:r.x+r.width/2,y:r.y+r.height/2,text:t,depth:i.config.depth,scrollFactor:0,style:{color:"#ebaa02",fontSize:i._scaledTextSize+"px",fontFamily:"Monospace"},origin:.5});return o.setInteractive().on("pointerover",(function(){return o.setColor("#fff")})).on("pointerout",(function(){return o.setColor("#ebaa02")})),o},i._getGameWidth=function(){return vr(i.scene)},i._getGameHeight=function(){return gr(i.scene)},i._createWindow=function(){var e=i._calculateWindowDimensions(),t=i._calculateOptionDimensions();return i.graphics=i.scene.add.graphics().setDepth(i.config.depth).setScrollFactor(0),i._createOuterWindow(e)._createInnerWindow(e)._createCloseModalButton()._createCloseModalButtonBorder(),t.forEach((function(e,t){var n,r;i.optionsRect=Object.assign({},null!==(n=i.optionsRect)&&void 0!==n?n:{},((r={})[t]=e,r)),i._createOptionWindow(e)})),i._toggleVisibility(i.visible),Object(Mi.a)(i)},i._calculateWindowDimensions=function(){var e=i._getGameWidth(),t=i._getGameHeight();return{x:i.config.padding,y:i._getWindowYPosition()-i.config.padding,width:e-2*i.config.padding,height:t/2}},i._createOuterWindow=function(e){var t=e.x,n=e.y,r=e.width,o=e.height;return i.graphics.lineStyle(i.config.borderThickness,i.config.borderColor,i.config.borderAlpha).strokeRect(t,n,r,o),Object(Mi.a)(i)},i._createInnerWindow=function(e){var t=e.x,n=e.y,r=e.width,o=e.height;return i.graphics.fillStyle(i.config.windowColor,i.config.windowAlpha).fillRect(t+1,n+1,r-1,o-1),Object(Mi.a)(i)},i._calculateOptionDimensions=function(){var e=i._getOptionWidth(),t=i._getOptionHeight(),n=2*i.config.padding,r=i._getGameWidth()-n-e,o=i._getWindowYPosition()+i.config.padding,a=o+t+i.config.padding;return[{x:n,y:o,width:e,height:t},{x:r,y:o,width:e,height:t},{x:n,y:a,width:e,height:t},{x:r,y:a,width:e,height:t}]},i._createOptionWindow=function(e){var t=e.x,n=e.y,r=e.width,o=e.height;i.graphics.lineStyle(i.config.borderThickness,i.config.borderColor,i.config.borderAlpha).strokeRect(t,n,r,o)},i._createCloseModalButton=function(){var e=i.scene.make.text({x:i._getGameWidth()-i.config.padding-i.config.closeBtnFontSize,y:i._getWindowYPosition()-i.config.padding+3,text:"X",style:{font:"bold "+i.config.closeBtnFontSize+"px Monospace",color:i.config.closeBtnColor},depth:i.config.depth+1,scrollFactor:0});return e.setInteractive(),e.on("pointerover",(function(){return e.setColor("#fff")})),e.on("pointerout",(function(){return e.setColor(i.config.closeBtnColor)})),e.on("pointerdown",(function(){i.toggleWindow(),i.timedEvent&&i.timedEvent.remove()})),i.closeBtnText=e,Object(Mi.a)(i)},i._createCloseModalButtonBorder=function(){var e=i.config.closeBtnFontSize+8,t=i._getGameWidth()-i.config.padding-e,n=i._getWindowYPosition()-i.config.padding;return i.graphics.strokeRect(t,n,e,e),Object(Mi.a)(i)},i._getWindowYPosition=function(){return i._getGameHeight()-i._getGameHeight()/2},i._toggleVisibility=function(e){i.questionText&&i.questionText.setVisible(e),i.graphics&&i.graphics.setVisible(e),i.closeBtnText&&i.closeBtnText.setVisible(e),i.optionsText&&Object.keys(i.optionsText).forEach((function(t){i.optionsText[t]&&i.optionsText[t].setVisible(e)}))},i.setOnSelect=function(e){Object.keys(i.optionsText).forEach((function(t){i.optionsText[t]&&i.optionsText[t].on("pointerdown",(function(){return e(t)}))}))},i._getOptionWidth=function(){return i._getGameWidth()/2-3*i.config.padding},i._getOptionHeight=function(){return i._getGameHeight()/4-2*i.config.padding},i.scene=t,i}return Object(Li.a)(t,e),t}(Di.a.Plugins.ScenePlugin),Ou=function(){function e(e,t){this.pluginManager=t,this.game=t.game,this.scene=e,this.systems=e.sys,this.sticks=null,this.buttons=null,this._pointerTotal=0,e.sys.events.once("boot",this.boot,this),this.tooltipCollection={},this.target=null}var t=e.prototype;return t.boot=function(){this.systems.events.once("destroy",this.destroy,this),this.systems.settings.active?this.start():this.systems.events.on("start",this.start,this)},t.start=function(){this.systems.events.on("update",this.update,this),this.systems.events.once("shutdown",this.shutdown,this)},t.update=function(e){},t.shutdown=function(){var e=this.systems.events;e.off("update",this.update,this),e.off("shutdown",this.shutdown,this)},t.destroy=function(){this.shutdown()},t.test=function(){},t.hideTooltip=function(e,t){t?(this.scene.tweens.isTweening(this.tooltipCollection[e].container)&&this.scene.tweens.killTweensOf(this.tooltipCollection[e].container),this.tween=this.scene.tweens.add({targets:this.tooltipCollection[e].container,alpha:0,ease:"Power1",duration:250,delay:0,onComplete:function(e){}})):this.tooltipCollection[e].container.visible=!1},t.showTooltip=function(e,t){t?(this.tooltipCollection[e].container.alpha=0,this.tooltipCollection[e].container.visible=!0,this.scene.children.bringToTop(this.tooltipCollection[e].container),this.scene.tweens.isTweening(this.tooltipCollection[e].container)&&this.scene.tweens.killTweensOf(this.tooltipCollection[e].container),this.tween=this.scene.tweens.add({targets:this.tooltipCollection[e].container,alpha:1,ease:"Power1",duration:250,delay:0,onComplete:function(e){}})):(this.tooltipCollection[e].container.visible=!0,this.scene.children.bringToTop(this.tooltipCollection[e].container))},t.createTooltip=function(e){var t,n,i=this.scene.add.container(0,0).setDepth(49).setScrollFactor(0);return void 0===e.content&&void 0!==e.text.text&&void 0===e.html?n=this.createLabel(i,0,0,e):void 0!==e.html?n=e.html:(n=e.content).x=n.displayWidth/2,i.width=n.displayWidth,i.height=n.displayHeight,e.hasBackground&&(t=this.createBackground(i,n,e.x,e.y,e.background.width,e.background.height,e),void 0===e.content&&void 0===e.html?(n.x=t.rect.centerX-.5*n.displayWidth,n.y=t.rect.centerY-.5*n.displayHeight):(n.x=t.rect.centerX,n.y=t.rect.centerY),i.width=t.rect.width,i.height=t.rect.height),i.add(n),i.x=e.x,i.y=e.y,this.tooltipCollection[e.id]={container:i,target:e.target,options:e},this.target=e.target,i},t.getTarget=function(e){return this.tooltipCollection[e].target},t.getHeight=function(e){return this.tooltipCollection[e].container.height},t.getPadding=function(e){var t=this.tooltipCollection[e].options.paddingTop||12,n=this.tooltipCollection[e].options.paddingBottom||12;return{paddingLeft:this.tooltipCollection[e].options.paddingLeft||16,paddingRight:this.tooltipCollection[e].options.paddingRight||16,paddingTop:t,paddingBottom:n}},t.createLabel=function(e,t,n,i){var r=this.scene.add.text(t,n,i.text.text,{fontFamily:i.text.fontFamily||"new_rockerregular",fontSize:i.text.fontSize||19,color:i.text.textColor||"#ffffff",fontStyle:i.text.fontStyle||"",align:i.text.align||"center"}).setDepth(99).setScrollFactor(0).setOrigin(.5);if(i.hasShadow){var o=i.text.shadowColor||"#1e1e1e",a=i.text.blur||1,s=i.text.shadowStroke||!1,c=i.text.shadowFill||!0;r.setShadow(0,0,o,a,s,c)}return r},t.createBackground=function(e,t,n,i,r,o,a){var s=a.paddingTop||12,c=a.paddingBottom||12,l=a.paddingLeft||16,u=a.paddingRight||16,d=a.background.lineStyle||{width:2,color:0,alpha:.9},f=a.background.fillStyle||{color:0,alpha:.9},h=this.scene.add.graphics({lineStyle:d,fillStyle:f}).setDepth(100).setScrollFactor(0),p=r>=t.displayWidth+l+u?r:t.displayWidth+l+u,y=o>=t.displayHeight+s+c?o:t.displayHeight+s+c,m=new Di.a.Geom.Rectangle(void 0===a.html?-p/2+e.width/2:-p/2,0,p,y);return m.width=p,m.height=y,h.fillRectShape(m),e.add(h),{rect:m,graphic:h}},t.showLabel=function(){},e}(),ku={margin:25,fontSize:18,fontFamily:"Monospace",fontColor:"#fff",depth:49},Eu=Object.assign({},ku,{padding:32}),Su=Object.assign({},ku,{fontSize:2*ku.fontSize,fontStyle:"bold",paddingX:16,paddingY:64}),Cu=Object.assign({},ku,{fontColor:"#228B22",paddingX:128,fontStyle:"bold",align:"left"}),Tu=Object.assign({},ku,{fontColor:"#C41E3A",paddingX:-128,fontStyle:"bold",align:"right"}),Pu=Object.assign({},ku,{getPaddingX:function(e){return 48*e+48},paddingY:36,text:"",align:"center",fontSize:14}),ju={getPaddingX:function(e){return 48*e+48},paddingY:48,width:48,height:48,spriteKey:sr.key,frame:15,hoverText:"",depth:49,scale:1.5},Du={backgroundColor:0,lowColor:12852794,mediumColor:16755740,highColor:2263842,barHeight:10,paddingX:32,paddingY:32},Au={texts:{bottomCenter:Object.assign({},ku),topLeft:Object.assign({},Eu),topCenter:Object.assign({},Eu),center:Object.assign({},Su),hp:{label:Object.assign({},Eu),value:Object.assign({},Eu)},buffs:Object.assign({},Cu),debuffs:Object.assign({},Tu),inventory:Object.assign({},Pu,{text:"B"}),quest:Object.assign({},Pu,{text:"L"}),talents:Object.assign({},Pu,{text:"N"})},bars:{hp:Object.assign({},Du)},sprites:{featured:{inventory:Object.assign({},ju,{frame:160,hoverText:"Inventory"}),quests:Object.assign({},ju,{frame:218,hoverText:"Quests"}),talents:Object.assign({},ju,{frame:53,hoverText:"Talents"})}},maxHealth:100},Iu={margin:25,fontSize:18,fontFamily:"Monospace",fontColor:"#fff",depth:30},Mu=Object.assign({},Iu,{padding:32}),Lu=Object.assign({},Iu,{fontSize:2*Iu.fontSize,fontStyle:"bold",paddingX:16,paddingY:64}),Nu={bottomCenter:Object.assign({},Iu),topLeft:Object.assign({},Mu),topCenter:Object.assign({},Mu),center:Object.assign({},Lu)};function Fu(e,t){return t?(Object.keys(t).forEach((function(e){void 0===t[e]&&delete t[e]})),Object.assign({},e,t)):e}var Ru=function(e,t){var n=this;this._texts={},this.shutdown=function(){n._texts.bottomCenter&&(n._texts.bottomCenter.destroy(),n._texts.bottomCenter=void 0),n._texts.topLeftPrimary&&(n._texts.topLeftPrimary.destroy(),n._texts.topLeftPrimary=void 0),n._texts.topLeftSecondary&&(n._texts.topLeftSecondary.destroy(),n._texts.topLeftSecondary=void 0),n._texts.topCenter&&(n._texts.topCenter.destroy(),n._texts.topCenter=void 0),n._texts.center&&(n._texts.center.destroy(),n._texts.center=void 0)},this.updateBottomCenterText=function(e){n._updateText("bottomCenter",e)},this.updateTopCenterText=function(e){n._updateText("topCenter",e)},this.updateCenterText=function(e){n._updateText("center",e)},this.updateTopLeftText=function(e,t){n._texts.topLeftPrimary&&(e?(n._updateText("topLeftPrimary",e),t?n._setTopLeftSecondaryText(t):n._removeTopLeftSecondaryText()):(n._removeTopLeftPrimaryText(),n._removeTopLeftSecondaryText()))},this._setTextDisplay=function(e,t){"bottomCenter"===e?n._setBottomCenterTextDisplay(t.bottomCenter):"center"===e?n._setCenterTextDisplay(t.center):"topCenter"===e?n._setTopCenterTextDisplay(t.topCenter):"topLeft"===e&&n._setTopLeftTextDisplay(t.topLeft)},this._setBottomCenterTextDisplay=function(e){n._texts.bottomCenter&&n._texts.bottomCenter.destroy();var t=e,i=t.fontSize,r=t.fontFamily,o=t.fontColor,a=t.depth,s=t.margin,c=n._getGameWidth()/2,l=n._getGameHeight()-s;return n._texts.bottomCenter=n._scene.make.text({x:c,y:l,depth:a,text:"",style:{color:o,fontFamily:r,fontSize:i+"px"},visible:!1,scrollFactor:0,origin:.5}),n},this._setCenterTextDisplay=function(e){n._texts.center&&n._texts.center.destroy();var t=e,i=t.fontSize,r=t.fontFamily,o=t.fontColor,a=t.depth,s=t.fontStyle,c=t.paddingX,l=t.paddingY,u=n._getGameHeight()/2,d=u+c,f=u-l;return n._texts.center=n._scene.make.text({x:d,y:f,depth:a,text:"",visible:!1,scrollFactor:0,origin:.5,style:{color:o,fontFamily:r,fontSize:i+"px",fontStyle:s}}),n},this._setTopCenterTextDisplay=function(e){n._texts.topCenter&&n._texts.topCenter.destroy();var t=e,i=t.fontSize,r=t.fontFamily,o=t.fontColor,a=t.depth,s=t.padding,c=n._getGameWidth()/2,l=s;return n._texts.topCenter=n._scene.make.text({x:c,y:l,depth:a,text:"",style:{color:o,fontFamily:r,fontSize:i+"px"},visible:!1,scrollFactor:0,origin:.5}),n},this._setTopLeftTextDisplay=function(e){n._texts.topLeftPrimary&&n._texts.topLeftPrimary.destroy(),n._texts.topLeftSecondary&&n._texts.topLeftSecondary.destroy();var t=e,i=t.fontSize,r=t.fontFamily,o=t.fontColor,a=t.depth,s=t.padding,c=s,l=s;return n._texts.topLeftPrimary=n._scene.make.text({x:c,y:l,depth:a,text:"",style:{color:o,fontFamily:r,fontSize:i+"px"},visible:!1,scrollFactor:0}),n._texts.topLeftSecondary=n._scene.make.text({x:c,y:l+i+10,depth:a,text:"",style:{color:o,fontFamily:r,fontSize:i+"px"},visible:!1,scrollFactor:0}),n},this._updateText=function(e,t){n._texts[e]&&(void 0!==t?n._setText(e,t):n._removeText(e))},this._setText=function(e,t){var i;null===(i=n._texts[e])||void 0===i||i.setText(t).setVisible(!0)},this._removeText=function(e){var t;null===(t=n._texts[e])||void 0===t||t.setText("").setVisible(!1)},this._setTopLeftSecondaryText=function(e){n._texts.topLeftPrimary&&n._texts.topLeftSecondary&&n._texts.topLeftSecondary.setText(e).setVisible(!0)},this._removeTopLeftPrimaryText=function(){n._texts.topLeftPrimary&&(n._texts.topLeftPrimary.setVisible(!1).setText(""),n._removeTopLeftSecondaryText())},this._removeTopLeftSecondaryText=function(){n._texts.topLeftPrimary&&n._texts.topLeftSecondary&&n._texts.topLeftSecondary.setVisible(!1).setText("")},this._getGameWidth=function(){return n._scene.cameras.main.worldView.width},this._getGameHeight=function(){return n._scene.cameras.main.worldView.height},this._config=Fu(Nu,t),this._scene=e,Object.keys(this._config).forEach((function(e){n._setTextDisplay(e,n._config)}))},Bu=Object.assign({},Iu,{fontColor:"#228B22",paddingX:128,fontStyle:"bold",align:"left"}),Hu=Object.assign({},Iu,{fontColor:"#C41E3A",paddingX:-128,fontStyle:"bold",align:"right"}),Wu={buffs:Object.assign({},Bu),debuffs:Object.assign({},Hu)},zu=function(e,t){var n=this;this.shutdown=function(){n._buffs&&n._buffs.forEach((function(e){return e.shutdown()})),n._debuffs&&n._debuffs.forEach((function(e){return e.shutdown()}))},this.addBuffText=function(e,t){n._addBuffDebuffText(e,t,"buffs",n._buffs)},this.addDebuffText=function(e,t){n._addBuffDebuffText(e,t,"debuffs",n._debuffs)},this._setDisplay=function(e,t){0},this._addBuffDebuffText=function(e,t,i,r){r||(r=[]);var o="buffs"===i?n._config.buffs:n._config.debuffs,a=n._createBuffDebuffTextDisplay(o,e),s=r.length;r.push(a),n._fadeScrollBuffDebuffText(a,t),n._scene.time.delayedCall(t,n._removeBuffDebuffText,[r,s],n)},this._createBuffDebuffTextDisplay=function(e,t){var i=e.fontSize,r=e.fontFamily,o=e.fontColor,a=e.depth,s=e.paddingX,c=e.fontStyle,l=e.align,u=n._getGameWidth()/2+s,d=n._getGameHeight()/2;return n._scene.make.text({x:u,y:d,depth:a,text:t,visible:!0,scrollFactor:0,origin:.5,style:{color:o,fontFamily:r,fontSize:i+"px",align:l,fontStyle:c}})},this._fadeScrollText=function(e,t,i){n._scene.time.delayedCall(t,(function(){n._fadeOutText(e,i)._scrollDownText(e,i)}),[],n)},this._fadeOutText=function(e,t){return n._scene.add.tween({targets:[e],duration:t,ease:"Linear",alpha:0}),n},this._scrollDownText=function(e,t){return n._scene.add.tween({targets:[e],duration:t,ease:"Linear",y:"+=100"}),n},this._fadeScrollBuffDebuffText=function(e,t){return n._fadeScrollText(e,0,t),n},this._removeBuffDebuffText=function(e,t){e.splice(t,1)},this._getGameWidth=function(){return n._scene.cameras.main.worldView.width},this._getGameHeight=function(){return n._scene.cameras.main.worldView.height},this._config=Fu(Wu,t),this._scene=e,Object.keys(this._config).forEach((function(e){n._setDisplay(e,n._config)}))},Gu={backgroundColor:0,lowColor:12852794,mediumColor:16755740,highColor:2263842,barHeight:10,paddingX:32,paddingY:32,maxHealth:100},Uu={label:Object.assign({},Mu),value:Object.assign({},Mu),bar:Object.assign({},Gu)},Vu=function(e,t){var n=this;this.shutdown=function(){n._label&&n._label.destroy(),n._value&&n._value.destroy(),n._barValue&&n._barValue.destroy(),n._barBackground&&n._barBackground.destroy()},this.updateBar=function(e){if(n._barBackground&&n._barValue)return n._setBarValue(e),n},this.updateValueText=function(e){return void 0!==e?n._setValueText(e):n._removeValueText(),n},this.updateHealth=function(e){var t;void 0!==e?null===(t=n.updateBar(e))||void 0===t||t.updateValueText(e):n.updateValueText()},this._setDisplay=function(e,t){"label"===e?n._setLabelDisplay(t.label,t.bar):"value"===e?n._setValueDisplay(t.value,t.bar):"bar"===e&&n._setBarDisplay(t.bar)},this._setLabelDisplay=function(e,t){n._label&&n._label.destroy();var i=e,r=i.fontSize,o=i.fontFamily,a=i.fontColor,s=i.depth,c=t,l=c.paddingX,u=c.paddingY,d=c.barHeight,f=n._getGameWidth(),h=f-f/4-l,p=u+2*d;return n._label=n._scene.make.text({x:h,y:p,depth:s,text:"HP",visible:!0,scrollFactor:0,style:{color:a,fontFamily:o,fontSize:r+"px"},origin:0}),n},this._setValueDisplay=function(e,t){n._value&&n._value.destroy();var i=e,r=i.fontSize,o=i.fontFamily,a=i.fontColor,s=i.depth,c=t,l=c.paddingX,u=c.paddingY,d=c.barHeight,f=n._getGameWidth()-l,h=u+2*d;return n._value=n._scene.make.text({x:f,y:h,depth:s,text:"",visible:!1,scrollFactor:0,style:{color:a,fontFamily:o,fontSize:r+"px"}}).setOrigin(1,0),n},this._setBarDisplay=function(e){n._setBarGraphics()._setBarBackground(e)},this._setBarGraphics=function(){return n._barValue=n._scene.add.graphics().setScrollFactor(0),n._barBackground=n._scene.add.graphics().setScrollFactor(0),n},this._setBarBackground=function(e){if(n._barBackground){var t=e,i=t.paddingX,r=t.paddingY,o=t.barHeight,a=t.backgroundColor,s=n._getGameWidth(),c=s/4;return n._barBackground.fillStyle(a,1).fillRect(s-c-i,r,c,o).setDepth(30),n}},this._setBarValue=function(e){if(n._barValue&&n._barValue){var t,i=n._config.bar,r=i.paddingX,o=i.paddingY,a=i.barHeight,s=i.lowColor,c=i.mediumColor,l=i.highColor,u=i.maxHealth,d=n._getGameWidth(),f=d/4;return t=e>30?l:e>=15?c:s,n._barValue.clear().fillStyle(t,1).fillRect(d-f-r,o,f*e/u,a).setDepth(31),n}},this._setValueText=function(e){if(n._value){var t=n._config.bar.maxHealth;n._value.setText(e+"/"+t).setVisible(!0)}},this._removeValueText=function(){n._value.text&&n._value.setVisible(!1).setText("")},this._getGameWidth=function(){return n._scene.cameras.main.worldView.width},this._getGameHeight=function(){return n._scene.cameras.main.worldView.height},this._config=Fu(Uu,t),this._scene=e,Object.keys(this._config).forEach((function(e){n._setDisplay(e,n._config)}))},Xu=function(){},Ku=Object.assign({},Iu,{getPaddingX:function(e){return 48*e+48},paddingY:36,text:"",align:"center",fontSize:14}),Yu={getPaddingX:function(e){return 48*e+48},paddingY:48,width:48,height:48,spriteKey:sr.key,frame:15,hoverText:"",depth:30,scale:1.5},qu={inventoryText:Object.assign({},Ku,{text:"B"}),inventorySprite:Object.assign({},Yu,{frame:160,hoverText:"Inventory"}),questsText:Object.assign({},Ku,{text:"L"}),questsSprite:Object.assign({},Yu,{frame:218,hoverText:"Quests"}),talentsText:Object.assign({},Ku,{text:"N"}),talentsSprite:Object.assign({},Yu,{frame:53,hoverText:"Talents"}),inactiveSpriteFrame:15},$u=function(e,t){var n=this;this._sprites={},this._texts={},this._callbacks={inventory:Xu,quests:Xu,talents:Xu},this.shutdown=function(){Object.keys(n._sprites).forEach((function(e){n._sprites[e]&&n._sprites[e].destroy()})),Object.keys(n._texts).forEach((function(e){n._texts[e]&&n._texts[e].destroy()})),Object.keys(n._callbacks).forEach((function(e){return n._callbacks[e]=Xu}))},this.update=function(e,t){return n._update(e,t)},this._setDisplay=function(e,t){"inventoryText"===e?n._setTextDisplay(t.inventoryText,0,"inventory"):"questsText"===e?n._setTextDisplay(t.questsText,1,"quests"):"talentsText"===e?n._setTextDisplay(t.talentsText,2,"talents"):"inventorySprite"===e?n._setSpriteDisplay(t.inventorySprite,0,"inventory","inventoryActive","inventoryInactive"):"questsSprite"===e?n._setSpriteDisplay(t.questsSprite,1,"quests","questsActive","questsInactive"):"talentsSprite"===e&&n._setSpriteDisplay(t.talentsSprite,2,"talents","talentsActive","talentsInactive")},this._setTextDisplay=function(e,t,i){n._texts[i]&&n._texts[i].destroy();var r=e.fontSize,o=e.fontFamily,a=e.fontColor,s=e.depth,c=e.getPaddingX,l=e.align,u=e.text,d=n._getGameWidth()-c(t),f=n._getGameHeight()-16;return n._texts[i]=n._scene.make.text({x:d,y:f,depth:s,text:u,visible:!1,scrollFactor:0,origin:.5,style:{color:a,fontFamily:o,fontSize:r+"px",align:l}}),n},this._setSpriteDisplay=function(e,t,i,r,o){n._sprites[r]&&n._sprites[r].destroy(),n._sprites[o]&&n._sprites[o].destroy();var a=e.spriteKey,s=e.getPaddingX,c=e.paddingY,l=e.frame,u=e.hoverText,d=e.depth,f=e.scale,h=n._getGameWidth()-s(t),p=n._getGameHeight()-c;return n._sprites[r]=n._scene.add.sprite(h,p,a,l).setScrollFactor(0).setDepth(d).setVisible(!1).setScale(f),n._sprites[o]=n._scene.add.sprite(h,p,a,n._config.inactiveSpriteFrame).setScrollFactor(0).setDepth(d).setVisible(!0).setScale(f),n._sprites[r].on("pointerdown",(function(){return n._callbacks[i]()})),n._addTooltip(h,p,r,u),n},this._addTooltip=function(e,t,i,r){var o=Mr();n._scene.phaserTooltip.createTooltip({x:e,y:t-50,hasBackground:!1,text:{text:r,fontFamily:"monospace",fontSize:16},id:o,target:n._sprites[i]}),n._scene.phaserTooltip.hideTooltip(o),n._sprites[i]&&(n._sprites[i].on("pointerover",(function(){n._scene.phaserTooltip.showTooltip(o,!0)}),n._scene),n._sprites[i].on("pointerout",(function(){return n._scene.phaserTooltip.hideTooltip(o,!0)}),n._scene))},this._update=function(e,t){var i=null!=e?e:{},r=i.inventory,o=i.questLog,a=i.talentTree,s=t.inventory,c=t.quests,l=t.talents,u=r?n._enableFeature:n._disableFeature,d=o?n._enableFeature:n._disableFeature,f=a?n._enableFeature:n._disableFeature;u("inventoryActive","inventoryInactive","inventory","inventory",s),d("questsActive","questsInactive","quests","quests",c),f("talentsActive","talentsInactive","talents","talents",l)},this._enableFeature=function(e,t,i,r,o){var a,s,c,l;null===(a=n._sprites[e])||void 0===a||null===(s=a.setVisible(!0))||void 0===s||s.setInteractive({useHandCursor:!0}),null===(c=n._sprites[t])||void 0===c||c.setVisible(!1),null===(l=n._texts[i])||void 0===l||l.setVisible(!0),n._callbacks[r]=o},this._disableFeature=function(e,t,i,r,o){var a,s,c,l;null===(a=n._sprites[e])||void 0===a||null===(s=a.setVisible(!1))||void 0===s||s.disableInteractive(),null===(c=n._sprites[t])||void 0===c||c.setVisible(!0),null===(l=n._texts[i])||void 0===l||l.setVisible(!1),n._callbacks[r]=Xu},this._getGameWidth=function(){return n._scene.cameras.main.worldView.width},this._getGameHeight=function(){return n._scene.cameras.main.worldView.height},this._config=Fu(qu,t),this._scene=e,Object.keys(this._config).forEach((function(e){n._setDisplay(e,n._config)}))},Ju=function(e){var t=this;this.config=Object.assign({},Au),this.shutdown=function(){var e,n,i,r;null===(e=t._basicText)||void 0===e||e.shutdown(),t._basicText=void 0,null===(n=t._healthBar)||void 0===n||n.shutdown(),t._healthBar=void 0,null===(i=t._unlockedFeatures)||void 0===i||i.shutdown(),t._unlockedFeatures=void 0,null===(r=t._battleText)||void 0===r||r.shutdown(),t._battleText=void 0},this.enableBasicText=function(){return t._basicText=new Ru(t._scene),t},this.disableBasicText=function(){return t._basicText&&t._basicText.shutdown(),t._basicText=void 0,t},this.enableHealthBar=function(){return t._healthBar=new Vu(t._scene),t},this.disableHealthBar=function(){return t._healthBar&&t._healthBar.shutdown(),t._healthBar=void 0,t},this.enableUnlockedFeatures=function(){return t._unlockedFeatures=new $u(t._scene),t},this.disableUnlockedFeatures=function(){return t._unlockedFeatures&&t._unlockedFeatures.shutdown(),t._unlockedFeatures=void 0,t},this.enableBattleText=function(){return t._battleText=new zu(t._scene),t},this.disableBattleText=function(){return t._battleText&&t._battleText.shutdown(),t._battleText=void 0,t},this.updateBottomCenterText=function(e){var n;null===(n=t._basicText)||void 0===n||n.updateBottomCenterText(e)},this.updateTopLeftText=function(e,n){var i;null===(i=t._basicText)||void 0===i||i.updateTopLeftText(e,n)},this.updateTopCenterText=function(e){var n;null===(n=t._basicText)||void 0===n||n.updateTopCenterText(e)},this.updateCenterText=function(e){var n;null===(n=t._basicText)||void 0===n||n.updateCenterText(e)},this.addBuffText=function(e,n){var i;null===(i=t._battleText)||void 0===i||i.addBuffText(e,n)},this.addDebuffText=function(e,n){var i;null===(i=t._battleText)||void 0===i||i.addDebuffText(e,n)},this.updateHealth=function(e){var n;null===(n=t._healthBar)||void 0===n||n.updateHealth(e)},this.updateUnlockedFeatures=function(e,n){var i;null===(i=t._unlockedFeatures)||void 0===i||i.update(e,n)},this._scene=e},Qu=function(e){function t(){var t;return(t=e.call(this,"ui-scene")||this).create=function(e){t._uiEventEmitter=e,t._registerEvents()},t._initializeHUDHandler=function(e,n,i,r){t.hud=new Ju(Object(Mi.a)(t)),e?t.hud.enableBasicText():t.hud.disableBasicText(),n?t.hud.enableHealthBar():t.hud.disableHealthBar(),i?t.hud.enableUnlockedFeatures():t.hud.disableUnlockedFeatures(),r?t.hud.enableBattleText():t.hud.disableBattleText()},t._shutdownHandler=function(){var e;null===(e=t.hud)||void 0===e||e.shutdown()},t._updateTopLeftText=function(e,n){var i;null===(i=t.hud)||void 0===i||i.updateTopLeftText(e,n)},t._updateTopCenterText=function(e){var n;null===(n=t.hud)||void 0===n||n.updateTopCenterText(e)},t._updateUnlockedFeaturesHandler=function(e,n){var i;null===(i=t.hud)||void 0===i||i.updateUnlockedFeatures(e,n)},t._updateHealth=function(e){var n;null===(n=t.hud)||void 0===n||n.updateHealth(e)},t._addBuffText=function(e,n){var i;null===(i=t.hud)||void 0===i||i.addBuffText(e,n)},t._addDebuffText=function(e,n){var i;null===(i=t.hud)||void 0===i||i.addDebuffText(e,n)},t._updateCenterText=function(e){var n;null===(n=t.hud)||void 0===n||n.updateCenterText(e)},t._updateBottomCenterText=function(e){var n;null===(n=t.hud)||void 0===n||n.updateBottomCenterText(e)},t._registerEvents=function(){t._uiEventEmitter.on("hud-initialized",t._initializeHUDHandler,Object(Mi.a)(t)),t._uiEventEmitter.on("hud-shutdown",t._shutdownHandler,Object(Mi.a)(t)),t._uiEventEmitter.on("update-top-left-text",t._updateTopLeftText,Object(Mi.a)(t)),t._uiEventEmitter.on("update-top-center-text",t._updateTopCenterText,Object(Mi.a)(t)),t._uiEventEmitter.on("update-health",t._updateHealth,Object(Mi.a)(t)),t._uiEventEmitter.on("update-unlocked-features",t._updateUnlockedFeaturesHandler,Object(Mi.a)(t)),t._uiEventEmitter.on("add-buff",t._addBuffText,Object(Mi.a)(t)),t._uiEventEmitter.on("add-debuff",t._addDebuffText,Object(Mi.a)(t)),t._uiEventEmitter.on("update-center-text",t._updateCenterText,Object(Mi.a)(t)),t._uiEventEmitter.on("update-bottom-center-text",t._updateBottomCenterText,Object(Mi.a)(t))},t}return Object(Li.a)(t,e),t}(ji.Scene),Zu=br(window.innerWidth,window.innerHeight,16),ed={title:"gmmurray-game",type:Di.a.CANVAS,parent:"game",physics:{default:"arcade",arcade:{debug:!1,gravity:{y:750}}},render:{antialiasGL:!1,pixelArt:!0},width:Zu,height:Zu,backgroundColor:"#000",autoFocus:!0,audio:{disableWebAudio:!1},scene:[_u,Gl,uu,tu,Il,Qu,mr,pr],plugins:{scene:[{key:"gridEngine",plugin:wr.b,mapping:"gridEngine"},{key:"dialog",plugin:_r,mapping:"dialog"},{key:"animatedTiles",plugin:Ii.a,mapping:"animatedTiles"},{key:"mcDialog",plugin:xu,mapping:"mcDialog"},{key:"phaserTooltip",plugin:Ou,mapping:"phaserTooltip"}]}},td=n("YwZP");var nd=Object(o.createContext)(null),id=function(){return Object(o.useContext)(nd)},rd=function(e){var t=e.children,n=(Object(td.useLocation)(),Object(o.useState)(null)),i=n[0],r=n[1],s=Object(o.useRef)(null),c=Object(o.useState)(0),l=c[0],u=c[1],f=function(){var e=Object(o.useState)({width:void 0,height:void 0}),t=e[0],n=e[1];return Object(o.useEffect)((function(){function e(){n({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),t}(),h=f.width,p=f.height;Object(o.useEffect)((function(){var e=new ji.Game(ed);return r(e),function(){d.forEach((function(t){e.plugins.removeScenePlugin(t)})),e.destroy(!1,!1)}}),[]);var y=Object(o.useCallback)((function(){if(i&&h&&p){var e=br(h,p,16);i.scale.resize(e,e);var t=s.current.children[0];t&&(t.style.width=e+"px",t.style.height=e+"px"),u(e)}}),[h,p,s]);Object(o.useEffect)((function(){y()}),[h,p]);var m={game:i,gameRef:s,dimension:l};return a.a.createElement(nd.Provider,{value:m},t)},od=St("game-overlay","container"),ad=St("game-overlay","backdrop"),sd=St("game-overlay","message"),cd=St(sd,"container"),ld=St(sd,"close-button"),ud=St(ld,"container"),dd=St(sd,"content-container"),fd=function(){var e,t=pt(),n=null!==(e=id())&&void 0!==e?e:{},i=n.dimension,r=n.game,s=gt(Qe),c=s.pausedScene,l=s.contentKey,u=gt(tt),d=Pi[null!=l?l:""],f=Object(o.useCallback)((function(){r&&(r.scene.resume(c),t(qe.overlayClosed()),t(Lt.reset()))}),[]),h=Object(o.useCallback)((function(e){e.stopPropagation()}),[]),p=Object(o.useCallback)((function(e){switch(e.code){case"Escape":case"Space":case"Enter":case"KeyB":case"KeyL":case"KeyN":f();break;default:return}}),[f]);Object(o.useEffect)((function(){return window.addEventListener("keydown",p),function(){return window.removeEventListener("keydown",p)}}),[]);var y=u&&u[d.unlockedKey];return a.a.createElement("div",{className:Et()("game-overlay",od)},a.a.createElement("div",{className:ad,style:{height:i,width:i}},a.a.createElement("div",{className:cd,onClick:f},a.a.createElement("div",{className:sd,onClick:h},a.a.createElement("div",{className:ud},a.a.createElement("button",{className:Et()("button is-small",ld),onClick:f},a.a.createElement(xt.a,{path:Xt.c,size:1}))),a.a.createElement("div",{className:dd},d.lead&&!y&&a.a.createElement("div",null,a.a.createElement(Ot.Typewriter,{words:[d.lead],typeSpeed:30})),d.component)))))},hd=function(){var e,t=gt(Ze),n=(null!==(e=id())&&void 0!==e?e:{}).gameRef;return a.a.createElement("div",{id:"game",className:"game-container",ref:n},t&&a.a.createElement(fd,null))};t.default=function(e){var t=e.cmsContent;return Object(o.useEffect)((function(){if(t){var e={};Object.keys(new s).forEach((function(n){e[n]=t[n]})),co.dispatch(Lt.dataLoaded(e))}}),[]),a.a.createElement(ct,{store:co},a.a.createElement(rd,null,a.a.createElement(hd,null)))}},or9q:function(e,t,n){"use strict";var i=n("6LWA"),r=n("UMSQ"),o=n("A2ZE"),a=function(e,t,n,s,c,l,u,d){for(var f,h=c,p=0,y=!!u&&o(u,d,3);p<s;){if(p in n){if(f=y?y(n[p],p,t):n[p],l>0&&i(f))h=a(e,t,f,r(f.length),h,l-1)-1;else{if(h>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[h]=f}h++}p++}return h};e.exports=a},p532:function(e,t,n){"use strict";var i=n("I+eb"),r=n("xDBR"),o=n("/qmn"),a=n("0Dky"),s=n("0GbY"),c=n("SEBh"),l=n("zfnd"),u=n("busE");i({target:"Promise",proto:!0,real:!0,forced:!!o&&a((function(){o.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=c(this,s("Promise")),n="function"==typeof e;return this.then(n?function(n){return l(t,e()).then((function(){return n}))}:e,n?function(n){return l(t,e()).then((function(){throw n}))}:e)}}),r||"function"!=typeof o||o.prototype.finally||u(o.prototype,"finally",s("Promise").prototype.finally)},rePB:function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return i}))},tiKp:function(e,t,n){var i=n("2oRo"),r=n("VpIT"),o=n("UTVS"),a=n("kOOl"),s=n("STAE"),c=n("/b8u"),l=r("wks"),u=i.Symbol,d=c?u:u&&u.withoutSetter||a;e.exports=function(e){return o(l,e)||(s&&o(u,e)?l[e]=u[e]:l[e]=d("Symbol."+e)),l[e]}},vuIU:function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}n.d(t,"a",(function(){return r}))},zT9C:function(e,t,n){(function(e,n){var i="[object Arguments]",r="[object Function]",o="[object GeneratorFunction]",a="[object Map]",s="[object Set]",c=/\w*$/,l=/^\[object .+?Constructor\]$/,u=/^(?:0|[1-9]\d*)$/,d={};d[i]=d["[object Array]"]=d["[object ArrayBuffer]"]=d["[object DataView]"]=d["[object Boolean]"]=d["[object Date]"]=d["[object Float32Array]"]=d["[object Float64Array]"]=d["[object Int8Array]"]=d["[object Int16Array]"]=d["[object Int32Array]"]=d[a]=d["[object Number]"]=d["[object Object]"]=d["[object RegExp]"]=d[s]=d["[object String]"]=d["[object Symbol]"]=d["[object Uint8Array]"]=d["[object Uint8ClampedArray]"]=d["[object Uint16Array]"]=d["[object Uint32Array]"]=!0,d["[object Error]"]=d[r]=d["[object WeakMap]"]=!1;var f="object"==typeof e&&e&&e.Object===Object&&e,h="object"==typeof self&&self&&self.Object===Object&&self,p=f||h||Function("return this")(),y=t&&!t.nodeType&&t,m=y&&"object"==typeof n&&n&&!n.nodeType&&n,v=m&&m.exports===y;function g(e,t){return e.set(t[0],t[1]),e}function b(e,t){return e.add(t),e}function _(e,t,n,i){var r=-1,o=e?e.length:0;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}function w(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function x(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function O(e,t){return function(n){return e(t(n))}}function k(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var E,S=Array.prototype,C=Function.prototype,T=Object.prototype,P=p["__core-js_shared__"],j=(E=/[^.]+$/.exec(P&&P.keys&&P.keys.IE_PROTO||""))?"Symbol(src)_1."+E:"",D=C.toString,A=T.hasOwnProperty,I=T.toString,M=RegExp("^"+D.call(A).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),L=v?p.Buffer:void 0,N=p.Symbol,F=p.Uint8Array,R=O(Object.getPrototypeOf,Object),B=Object.create,H=T.propertyIsEnumerable,W=S.splice,z=Object.getOwnPropertySymbols,G=L?L.isBuffer:void 0,U=O(Object.keys,Object),V=me(p,"DataView"),X=me(p,"Map"),K=me(p,"Promise"),Y=me(p,"Set"),q=me(p,"WeakMap"),$=me(Object,"create"),J=we(V),Q=we(X),Z=we(K),ee=we(Y),te=we(q),ne=N?N.prototype:void 0,ie=ne?ne.valueOf:void 0;function re(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function oe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ae(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function se(e){this.__data__=new oe(e)}function ce(e,t){var n=Oe(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&ke(e)}(e)&&A.call(e,"callee")&&(!H.call(e,"callee")||I.call(e)==i)}(e)?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],r=n.length,o=!!r;for(var a in e)!t&&!A.call(e,a)||o&&("length"==a||be(a,r))||n.push(a);return n}function le(e,t,n){var i=e[t];A.call(e,t)&&xe(i,n)&&(void 0!==n||t in e)||(e[t]=n)}function ue(e,t){for(var n=e.length;n--;)if(xe(e[n][0],t))return n;return-1}function de(e,t,n,l,u,f,h){var p;if(l&&(p=f?l(e,u,f,h):l(e)),void 0!==p)return p;if(!Ce(e))return e;var y=Oe(e);if(y){if(p=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&A.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return function(e,t){var n=-1,i=e.length;t||(t=Array(i));for(;++n<i;)t[n]=e[n];return t}(e,p)}else{var m=ge(e),v=m==r||m==o;if(Ee(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if("[object Object]"==m||m==i||v&&!f){if(w(e))return f?e:{};if(p=function(e){return"function"!=typeof e.constructor||_e(e)?{}:(t=R(e),Ce(t)?B(t):{});var t}(v?{}:e),!t)return function(e,t){return pe(e,ve(e),t)}(e,function(e,t){return e&&pe(t,Te(t),e)}(p,e))}else{if(!d[m])return f?e:{};p=function(e,t,n,i){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return he(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return function(e,t){var n=t?he(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,i);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var n=t?he(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,i);case a:return function(e,t,n){return _(t?n(x(e),!0):x(e),g,new e.constructor)}(e,i,n);case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return function(e){var t=new e.constructor(e.source,c.exec(e));return t.lastIndex=e.lastIndex,t}(e);case s:return function(e,t,n){return _(t?n(k(e),!0):k(e),b,new e.constructor)}(e,i,n);case"[object Symbol]":return o=e,ie?Object(ie.call(o)):{}}var o}(e,m,de,t)}}h||(h=new se);var O=h.get(e);if(O)return O;if(h.set(e,p),!y)var E=n?function(e){return function(e,t,n){var i=t(e);return Oe(e)?i:function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}(i,n(e))}(e,Te,ve)}(e):Te(e);return function(e,t){for(var n=-1,i=e?e.length:0;++n<i&&!1!==t(e[n],n,e););}(E||e,(function(i,r){E&&(i=e[r=i]),le(p,r,de(i,t,n,l,r,e,h))})),p}function fe(e){return!(!Ce(e)||(t=e,j&&j in t))&&(Se(e)||w(e)?M:l).test(we(e));var t}function he(e){var t=new e.constructor(e.byteLength);return new F(t).set(new F(e)),t}function pe(e,t,n,i){n||(n={});for(var r=-1,o=t.length;++r<o;){var a=t[r],s=i?i(n[a],e[a],a,n,e):void 0;le(n,a,void 0===s?e[a]:s)}return n}function ye(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function me(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return fe(n)?n:void 0}re.prototype.clear=function(){this.__data__=$?$(null):{}},re.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},re.prototype.get=function(e){var t=this.__data__;if($){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return A.call(t,e)?t[e]:void 0},re.prototype.has=function(e){var t=this.__data__;return $?void 0!==t[e]:A.call(t,e)},re.prototype.set=function(e,t){return this.__data__[e]=$&&void 0===t?"__lodash_hash_undefined__":t,this},oe.prototype.clear=function(){this.__data__=[]},oe.prototype.delete=function(e){var t=this.__data__,n=ue(t,e);return!(n<0)&&(n==t.length-1?t.pop():W.call(t,n,1),!0)},oe.prototype.get=function(e){var t=this.__data__,n=ue(t,e);return n<0?void 0:t[n][1]},oe.prototype.has=function(e){return ue(this.__data__,e)>-1},oe.prototype.set=function(e,t){var n=this.__data__,i=ue(n,e);return i<0?n.push([e,t]):n[i][1]=t,this},ae.prototype.clear=function(){this.__data__={hash:new re,map:new(X||oe),string:new re}},ae.prototype.delete=function(e){return ye(this,e).delete(e)},ae.prototype.get=function(e){return ye(this,e).get(e)},ae.prototype.has=function(e){return ye(this,e).has(e)},ae.prototype.set=function(e,t){return ye(this,e).set(e,t),this},se.prototype.clear=function(){this.__data__=new oe},se.prototype.delete=function(e){return this.__data__.delete(e)},se.prototype.get=function(e){return this.__data__.get(e)},se.prototype.has=function(e){return this.__data__.has(e)},se.prototype.set=function(e,t){var n=this.__data__;if(n instanceof oe){var i=n.__data__;if(!X||i.length<199)return i.push([e,t]),this;n=this.__data__=new ae(i)}return n.set(e,t),this};var ve=z?O(z,Object):function(){return[]},ge=function(e){return I.call(e)};function be(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||u.test(e))&&e>-1&&e%1==0&&e<t}function _e(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||T)}function we(e){if(null!=e){try{return D.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function xe(e,t){return e===t||e!=e&&t!=t}(V&&"[object DataView]"!=ge(new V(new ArrayBuffer(1)))||X&&ge(new X)!=a||K&&"[object Promise]"!=ge(K.resolve())||Y&&ge(new Y)!=s||q&&"[object WeakMap]"!=ge(new q))&&(ge=function(e){var t=I.call(e),n="[object Object]"==t?e.constructor:void 0,i=n?we(n):void 0;if(i)switch(i){case J:return"[object DataView]";case Q:return a;case Z:return"[object Promise]";case ee:return s;case te:return"[object WeakMap]"}return t});var Oe=Array.isArray;function ke(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!Se(e)}var Ee=G||function(){return!1};function Se(e){var t=Ce(e)?I.call(e):"";return t==r||t==o}function Ce(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Te(e){return ke(e)?ce(e):function(e){if(!_e(e))return U(e);var t=[];for(var n in Object(e))A.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}n.exports=function(e){return de(e,!0,!0)}}).call(this,n("yLpj"),n("YuTi")(e))},zfnd:function(e,t,n){var i=n("glrk"),r=n("hh1v"),o=n("8GlL");e.exports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}}}]);
//# sourceMappingURL=14-800b06cdc9b93428d4e6.js.map